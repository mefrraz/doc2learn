var Vs=Object.defineProperty;var rs=e=>{throw TypeError(e)};var Bs=(e,s,i)=>s in e?Vs(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var Vn=(e,s,i)=>Bs(e,typeof s!="symbol"?s+"":s,i),br=(e,s,i)=>s.has(e)||rs("Cannot "+i);var at=(e,s,i)=>(br(e,s,"read from private field"),i?i.call(e):s.get(e)),Kt=(e,s,i)=>s.has(e)?rs("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,i),Xt=(e,s,i,o)=>(br(e,s,"write to private field"),o?o.call(e,i):s.set(e,i),i),zt=(e,s,i)=>(br(e,s,"access private method"),i);var Jn=(e,s,i,o)=>({set _(a){Xt(e,s,a,i)},get _(){return at(e,s,o)}});function _mergeNamespaces(e,s){for(var i=0;i<s.length;i++){const o=s[i];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var i=function o(){return this instanceof o?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,i){var o,a={},c=null,d=null;if(s!=null)for(o in s.ref!==void 0&&(d=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,o)&&!L$1.hasOwnProperty(o)&&(a[o]=s[o]);var h=arguments.length-2;if(h===1)a.children=i;else if(1<h){for(var g=Array(h),b=0;b<h;b++)g[b]=arguments[b+2];a.children=g}if(e&&e.defaultProps)for(o in h=e.defaultProps,h)a[o]===void 0&&(a[o]=h[o]);return{$$typeof:l$1,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$2(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape$2(""+e.key):s.toString(36)}function R$1(e,s,i,o,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Q$1(d,0):o,I$1(a)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(a,s,i,"",function(b){return b})):a!=null&&(O$1(a)&&(a=N$1(a,i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),s.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var h=0;h<e.length;h++){c=e[h];var g=o+Q$1(c,h);d+=R$1(c,s,i,g,a)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),h=0;!(c=e.next()).done;)c=c.value,g=o+Q$1(c,h++),d+=R$1(c,s,i,g,a);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,s,i){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(c){return s.call(i,c,a++)}),o}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,d=K$1.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in s)J.call(s,g)&&!L$1.hasOwnProperty(g)&&(o[g]=s[g]===void 0&&h!==void 0?h[g]:s[g])}var g=arguments.length-2;if(g===1)o.children=i;else if(1<g){h=Array(g);for(var b=0;b<g;b++)h[b]=arguments[b+2];o.children=h}return{$$typeof:l$1,type:e.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var o,a={},c=null,d=null;i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(d=s.ref);for(o in s)m$1.call(s,o)&&!p$1.hasOwnProperty(o)&&(a[o]=s[o]);if(e&&e.defaultProps)for(o in s=e.defaultProps,s)a[o]===void 0&&(a[o]=s[o]);return{$$typeof:k,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(Tt,xt){var Rt=Tt.length;Tt.push(xt);e:for(;0<Rt;){var It=Rt-1>>>1,bt=Tt[It];if(0<a(bt,xt))Tt[It]=xt,Tt[Rt]=bt,Rt=It;else break e}}function i(Tt){return Tt.length===0?null:Tt[0]}function o(Tt){if(Tt.length===0)return null;var xt=Tt[0],Rt=Tt.pop();if(Rt!==xt){Tt[0]=Rt;e:for(var It=0,bt=Tt.length,pt=bt>>>1;It<pt;){var mt=2*(It+1)-1,vt=Tt[mt],At=mt+1,jt=Tt[At];if(0>a(vt,Rt))At<bt&&0>a(jt,vt)?(Tt[It]=jt,Tt[At]=Rt,It=At):(Tt[It]=vt,Tt[mt]=Rt,It=mt);else if(At<bt&&0>a(jt,Rt))Tt[It]=jt,Tt[At]=Rt,It=At;else break e}}return xt}function a(Tt,xt){var Rt=Tt.sortIndex-xt.sortIndex;return Rt!==0?Rt:Tt.id-xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],b=[],j=1,_=null,_e=3,tt=!1,rt=!1,st=!1,nt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Tt){for(var xt=i(b);xt!==null;){if(xt.callback===null)o(b);else if(xt.startTime<=Tt)o(b),xt.sortIndex=xt.expirationTime,s(g,xt);else break;xt=i(b)}}function lt(Tt){if(st=!1,ot(Tt),!rt)if(i(g)!==null)rt=!0,kt(it);else{var xt=i(b);xt!==null&&Ct(lt,xt.startTime-Tt)}}function it(Tt,xt){rt=!1,st&&(st=!1,et(ut),ut=-1),tt=!0;var Rt=_e;try{for(ot(xt),_=i(g);_!==null&&(!(_.expirationTime>xt)||Tt&&!ht());){var It=_.callback;if(typeof It=="function"){_.callback=null,_e=_.priorityLevel;var bt=It(_.expirationTime<=xt);xt=e.unstable_now(),typeof bt=="function"?_.callback=bt:_===i(g)&&o(g),ot(xt)}else o(g);_=i(g)}if(_!==null)var pt=!0;else{var mt=i(b);mt!==null&&Ct(lt,mt.startTime-xt),pt=!1}return pt}finally{_=null,_e=Rt,tt=!1}}var dt=!1,ct=null,ut=-1,ft=5,yt=-1;function ht(){return!(e.unstable_now()-yt<ft)}function gt(){if(ct!==null){var Tt=e.unstable_now();yt=Tt;var xt=!0;try{xt=ct(!0,Tt)}finally{xt?St():(dt=!1,ct=null)}}else dt=!1}var St;if(typeof $=="function")St=function(){$(gt)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,Lt=Nt.port2;Nt.port1.onmessage=gt,St=function(){Lt.postMessage(null)}}else St=function(){nt(gt,0)};function kt(Tt){ct=Tt,dt||(dt=!0,St())}function Ct(Tt,xt){ut=nt(function(){Tt(e.unstable_now())},xt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Tt){Tt.callback=null},e.unstable_continueExecution=function(){rt||tt||(rt=!0,kt(it))},e.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<Tt?Math.floor(1e3/Tt):5},e.unstable_getCurrentPriorityLevel=function(){return _e},e.unstable_getFirstCallbackNode=function(){return i(g)},e.unstable_next=function(Tt){switch(_e){case 1:case 2:case 3:var xt=3;break;default:xt=_e}var Rt=_e;_e=xt;try{return Tt()}finally{_e=Rt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Tt,xt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Rt=_e;_e=Tt;try{return xt()}finally{_e=Rt}},e.unstable_scheduleCallback=function(Tt,xt,Rt){var It=e.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?It+Rt:It):Rt=It,Tt){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=Rt+bt,Tt={id:j++,callback:xt,priorityLevel:Tt,startTime:Rt,expirationTime:bt,sortIndex:-1},Rt>It?(Tt.sortIndex=Rt,s(b,Tt),i(g)===null&&Tt===i(b)&&(st?(et(ut),ut=-1):st=!0,Ct(lt,Rt-It))):(Tt.sortIndex=bt,s(g,Tt),rt||tt||(rt=!0,kt(it))),Tt},e.unstable_shouldYield=ht,e.unstable_wrapCallback=function(Tt){var xt=_e;return function(){var Rt=_e;_e=xt;try{return Tt.apply(this,arguments)}finally{_e=Rt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,o){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,o){if(s===null||typeof s>"u"||pa(e,s,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,i,o,a,c,d){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,o){var a=z.hasOwnProperty(s)?z[s]:null;(a!==null?a.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,a,o)&&(i=null),o||a===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(s=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(s):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var o=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){o=b}e.call(s.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var a=b.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),o=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,c=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),o=s.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,o){if(e=e.options,s){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=s.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),o=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(s,i,o,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=rb(i,s[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var o=Db(i);if(o===null)return null;i=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,o,a,c,d,h,g){var b=Array.prototype.slice.call(arguments,3);try{s.apply(i,b)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,o,a,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,o,a,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var i=e,o=s;;){var a=i.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===i)return Xb(a),e;if(c===o)return Xb(a),s;c=c.sibling}throw Error(p(188))}if(i.return!==o.return)i=a,o=c;else{for(var d=!1,h=a.child;h;){if(h===i){d=!0,i=a,o=c;break}if(h===o){d=!0,o=a,i=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===i){d=!0,i=c,o=a;break}if(h===o){d=!0,o=c,i=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==o)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var h=d&~a;h!==0?o=tc(h):(c&=d,c!==0&&(o=tc(c)))}else d=i&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(s!==0&&s!==o&&!(s&a)&&(a=o&-o,c=s&-s,a>=c||a===16&&(c&4194240)!==0))return s;if(o&4&&(o|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=o;0<s;)i=31-oc(s),a=1<<i,o|=e[i],s&=~a;return o}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=a[d];g===-1?(!(h&i)||h&o)&&(a[d]=vc(h,s)):g<=s&&(e.expiredLanes|=h),c&=~h}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-oc(i),c=1<<a;s[a]=0,o[a]=-1,e[a]=-1,i&=~c}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var o=31-oc(i),a=1<<o;a&s|e[o]&s&&(e[o]|=s),i&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:i,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=o,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function Uc(e,s,i,o,a){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,i,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,i,o,a)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);wb=o,i.target.dispatchEvent(o),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var o=Kc[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)o=Qc[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,o)}finally{C=a,cd.transition=c}}function gd(e,s,i,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,o)}finally{C=a,cd.transition=c}}function fd(e,s,i,o){if(dd){var a=Yc(e,s,i,o);if(a===null)hd(e,s,o,id$2,i),Sc(e,o);else if(Uc(a,e,s,i,o))o.stopPropagation();else if(Sc(e,o),s&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,s,i,o),c===null&&hd(e,s,o,id$2,i),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(e,s,o,null,i)}}var id$2=null;function Yc(e,s,i,o){if(id$2=null,e=xb(o),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id$2=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<i&&s[e]===a[e];e++);var d=i-e;for(o=1;o<=d&&s[i-o]===a[c-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,o,a,c,d){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(i=e[h],this[h]=i?i(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,i,o){Eb(o),s=oe(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,o),e.push({event:i,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe=s,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),o=Object.keys(s);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!ja.call(s,a)||!He(e[a],s[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=s&&o>=s)return{node:i,offset:s-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,o=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(o!==null&&Ne(i)){if(s=o.start,e=o.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=Ke(i,c);var d=Ke(i,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(s),e.extend(d.node,d.offset)):(s.setEnd(d.node,d.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:o}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var o=e.type||"unknown-event";e.currentTarget=i,Ub(o,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var c=void 0;if(s)for(var d=o.length-1;0<=d;d--){var h=o[d],g=h.instance,b=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}else for(d=0;d<o.length;d++){if(h=o[d],g=h.instance,b=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var o=e+"__bubble";i.has(o)||(pf(s,e,2,!1),i.add(o))}function qf(e,s,i){var o=0;s&&(o|=4),pf(i,e,o,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,o){switch(jd(s)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}i=a.bind(null,s,i,e),a=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(s,i,{capture:!0,passive:a}):e.addEventListener(s,i,!0):a!==void 0?e.addEventListener(s,i,{passive:a}):e.addEventListener(s,i,!1)}function hd(e,s,i,o,a){var c=o;if(!(s&1)&&!(s&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var h=o.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}h=h.parentNode}}o=o.return}Jb(function(){var b=c,j=xb(i),_=[];e:{var _e=df.get(e);if(_e!==void 0){var tt=td,rt=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":tt=Rd;break;case"focusin":rt="focus",tt=Fd;break;case"focusout":rt="blur",tt=Fd;break;case"beforeblur":case"afterblur":tt=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case $e:case af:case bf:tt=Hd;break;case cf:tt=Xd;break;case"scroll":tt=vd;break;case"wheel":tt=Zd;break;case"copy":case"cut":case"paste":tt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Td}var st=(s&4)!==0,nt=!st&&e==="scroll",et=st?_e!==null?_e+"Capture":null:_e;st=[];for(var $=b,ot;$!==null;){ot=$;var lt=ot.stateNode;if(ot.tag===5&&lt!==null&&(ot=lt,et!==null&&(lt=Kb($,et),lt!=null&&st.push(tf($,lt,ot)))),nt)break;$=$.return}0<st.length&&(_e=new tt(_e,rt,null,i,j),_.push({event:_e,listeners:st}))}}if(!(s&7)){e:{if(_e=e==="mouseover"||e==="pointerover",tt=e==="mouseout"||e==="pointerout",_e&&i!==wb&&(rt=i.relatedTarget||i.fromElement)&&(Wc(rt)||rt[uf]))break e;if((tt||_e)&&(_e=j.window===j?j:(_e=j.ownerDocument)?_e.defaultView||_e.parentWindow:window,tt?(rt=i.relatedTarget||i.toElement,tt=b,rt=rt?Wc(rt):null,rt!==null&&(nt=Vb(rt),rt!==nt||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(tt=null,rt=b),tt!==rt)){if(st=Bd,lt="onMouseLeave",et="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(st=Td,lt="onPointerLeave",et="onPointerEnter",$="pointer"),nt=tt==null?_e:ue(tt),ot=rt==null?_e:ue(rt),_e=new st(lt,$+"leave",tt,i,j),_e.target=nt,_e.relatedTarget=ot,lt=null,Wc(j)===b&&(st=new st(et,$+"enter",rt,i,j),st.target=ot,st.relatedTarget=nt,lt=st),nt=lt,tt&&rt)t:{for(st=tt,et=rt,$=0,ot=st;ot;ot=vf(ot))$++;for(ot=0,lt=et;lt;lt=vf(lt))ot++;for(;0<$-ot;)st=vf(st),$--;for(;0<ot-$;)et=vf(et),ot--;for(;$--;){if(st===et||et!==null&&st===et.alternate)break t;st=vf(st),et=vf(et)}st=null}else st=null;tt!==null&&wf(_,_e,tt,st,!1),rt!==null&&nt!==null&&wf(_,nt,rt,st,!0)}}e:{if(_e=b?ue(b):window,tt=_e.nodeName&&_e.nodeName.toLowerCase(),tt==="select"||tt==="input"&&_e.type==="file")var it=ve;else if(me(_e))if(we)it=Fe;else{it=De;var dt=Ce}else(tt=_e.nodeName)&&tt.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(it=Ee);if(it&&(it=it(e,b))){ne(_,it,i,j);break e}dt&&dt(e,_e,b),e==="focusout"&&(dt=_e._wrapperState)&&dt.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(dt=b?ue(b):window,e){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_,i,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_,i,j)}var ct;if(ae)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ie?ge(e,i)&&(ut="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ut="onCompositionStart");ut&&(de&&i.locale!=="ko"&&(ie||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ie&&(ct=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(b,ut),0<dt.length&&(ut=new Ld(ut,e,null,i,j),_.push({event:ut,listeners:dt}),ct?ut.data=ct:(ct=he(i),ct!==null&&(ut.data=ct)))),(ct=ce?je(e,i):ke(e,i))&&(b=oe(b,"onBeforeInput"),0<b.length&&(j=new Ld("onBeforeInput","beforeinput",null,i,j),_.push({event:j,listeners:b}),j.data=ct))}se(_,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe(e,s){for(var i=s+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,i),c!=null&&o.unshift(tf(e,c,a)),c=Kb(e,s),c!=null&&o.push(tf(e,c,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,o,a){for(var c=s._reactName,d=[];i!==null&&i!==o;){var h=i,g=h.alternate,b=h.stateNode;if(g!==null&&g===o)break;h.tag===5&&b!==null&&(h=b,a?(g=Kb(i,c),g!=null&&d.unshift(tf(i,g,h))):a||(g=Kb(i,c),g!=null&&d.push(tf(i,g,h)))),i=i.return}d.length!==0&&e.push({event:s,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),bd(s);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in i)a[c]=s[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,i)}function bg(e,s,i){var o=e.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in s))throw Error(p(108,Ra(e)||"Unknown",a));return A({},i,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var o=e.stateNode;if(!o)throw Error(p(169));i?(e=bg(e,s,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),i+=1;var c=32-oc(s)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(s)+a|i<<a|o,sg=c+e}else rg=1<<c|i<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(i.nextSibling);var o=xg;s&&Cg(e,s)?Ag(o,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var o=i.stateNode}if(!o)throw Error(p(147,e));var a=o,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(d){var h=a.refs;d===null?delete h[c]:h[c]=d},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(et,$){if(e){var ot=et.deletions;ot===null?(et.deletions=[$],et.flags|=16):ot.push($)}}function i(et,$){if(!e)return null;for(;$!==null;)s(et,$),$=$.sibling;return null}function o(et,$){for(et=new Map;$!==null;)$.key!==null?et.set($.key,$):et.set($.index,$),$=$.sibling;return et}function a(et,$){return et=Pg(et,$),et.index=0,et.sibling=null,et}function c(et,$,ot){return et.index=ot,e?(ot=et.alternate,ot!==null?(ot=ot.index,ot<$?(et.flags|=2,$):ot):(et.flags|=2,$)):(et.flags|=1048576,$)}function d(et){return e&&et.alternate===null&&(et.flags|=2),et}function h(et,$,ot,lt){return $===null||$.tag!==6?($=Qg(ot,et.mode,lt),$.return=et,$):($=a($,ot),$.return=et,$)}function g(et,$,ot,lt){var it=ot.type;return it===ya?j(et,$,ot.props.children,lt,ot.key):$!==null&&($.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ha&&Ng(it)===$.type)?(lt=a($,ot.props),lt.ref=Lg(et,$,ot),lt.return=et,lt):(lt=Rg(ot.type,ot.key,ot.props,null,et.mode,lt),lt.ref=Lg(et,$,ot),lt.return=et,lt)}function b(et,$,ot,lt){return $===null||$.tag!==4||$.stateNode.containerInfo!==ot.containerInfo||$.stateNode.implementation!==ot.implementation?($=Sg(ot,et.mode,lt),$.return=et,$):($=a($,ot.children||[]),$.return=et,$)}function j(et,$,ot,lt,it){return $===null||$.tag!==7?($=Tg(ot,et.mode,lt,it),$.return=et,$):($=a($,ot),$.return=et,$)}function _(et,$,ot){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Qg(""+$,et.mode,ot),$.return=et,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case va:return ot=Rg($.type,$.key,$.props,null,et.mode,ot),ot.ref=Lg(et,null,$),ot.return=et,ot;case wa:return $=Sg($,et.mode,ot),$.return=et,$;case Ha:var lt=$._init;return _(et,lt($._payload),ot)}if(eb($)||Ka($))return $=Tg($,et.mode,ot,null),$.return=et,$;Mg(et,$)}return null}function _e(et,$,ot,lt){var it=$!==null?$.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return it!==null?null:h(et,$,""+ot,lt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===it?g(et,$,ot,lt):null;case wa:return ot.key===it?b(et,$,ot,lt):null;case Ha:return it=ot._init,_e(et,$,it(ot._payload),lt)}if(eb(ot)||Ka(ot))return it!==null?null:j(et,$,ot,lt,null);Mg(et,ot)}return null}function tt(et,$,ot,lt,it){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return et=et.get(ot)||null,h($,et,""+lt,it);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return et=et.get(lt.key===null?ot:lt.key)||null,g($,et,lt,it);case wa:return et=et.get(lt.key===null?ot:lt.key)||null,b($,et,lt,it);case Ha:var dt=lt._init;return tt(et,$,ot,dt(lt._payload),it)}if(eb(lt)||Ka(lt))return et=et.get(ot)||null,j($,et,lt,it,null);Mg($,lt)}return null}function rt(et,$,ot,lt){for(var it=null,dt=null,ct=$,ut=$=0,ft=null;ct!==null&&ut<ot.length;ut++){ct.index>ut?(ft=ct,ct=null):ft=ct.sibling;var yt=_e(et,ct,ot[ut],lt);if(yt===null){ct===null&&(ct=ft);break}e&&ct&&yt.alternate===null&&s(et,ct),$=c(yt,$,ut),dt===null?it=yt:dt.sibling=yt,dt=yt,ct=ft}if(ut===ot.length)return i(et,ct),I&&tg(et,ut),it;if(ct===null){for(;ut<ot.length;ut++)ct=_(et,ot[ut],lt),ct!==null&&($=c(ct,$,ut),dt===null?it=ct:dt.sibling=ct,dt=ct);return I&&tg(et,ut),it}for(ct=o(et,ct);ut<ot.length;ut++)ft=tt(ct,et,ut,ot[ut],lt),ft!==null&&(e&&ft.alternate!==null&&ct.delete(ft.key===null?ut:ft.key),$=c(ft,$,ut),dt===null?it=ft:dt.sibling=ft,dt=ft);return e&&ct.forEach(function(ht){return s(et,ht)}),I&&tg(et,ut),it}function st(et,$,ot,lt){var it=Ka(ot);if(typeof it!="function")throw Error(p(150));if(ot=it.call(ot),ot==null)throw Error(p(151));for(var dt=it=null,ct=$,ut=$=0,ft=null,yt=ot.next();ct!==null&&!yt.done;ut++,yt=ot.next()){ct.index>ut?(ft=ct,ct=null):ft=ct.sibling;var ht=_e(et,ct,yt.value,lt);if(ht===null){ct===null&&(ct=ft);break}e&&ct&&ht.alternate===null&&s(et,ct),$=c(ht,$,ut),dt===null?it=ht:dt.sibling=ht,dt=ht,ct=ft}if(yt.done)return i(et,ct),I&&tg(et,ut),it;if(ct===null){for(;!yt.done;ut++,yt=ot.next())yt=_(et,yt.value,lt),yt!==null&&($=c(yt,$,ut),dt===null?it=yt:dt.sibling=yt,dt=yt);return I&&tg(et,ut),it}for(ct=o(et,ct);!yt.done;ut++,yt=ot.next())yt=tt(ct,et,ut,yt.value,lt),yt!==null&&(e&&yt.alternate!==null&&ct.delete(yt.key===null?ut:yt.key),$=c(yt,$,ut),dt===null?it=yt:dt.sibling=yt,dt=yt);return e&&ct.forEach(function(gt){return s(et,gt)}),I&&tg(et,ut),it}function nt(et,$,ot,lt){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var it=ot.key,dt=$;dt!==null;){if(dt.key===it){if(it=ot.type,it===ya){if(dt.tag===7){i(et,dt.sibling),$=a(dt,ot.props.children),$.return=et,et=$;break e}}else if(dt.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ha&&Ng(it)===dt.type){i(et,dt.sibling),$=a(dt,ot.props),$.ref=Lg(et,dt,ot),$.return=et,et=$;break e}i(et,dt);break}else s(et,dt);dt=dt.sibling}ot.type===ya?($=Tg(ot.props.children,et.mode,lt,ot.key),$.return=et,et=$):(lt=Rg(ot.type,ot.key,ot.props,null,et.mode,lt),lt.ref=Lg(et,$,ot),lt.return=et,et=lt)}return d(et);case wa:e:{for(dt=ot.key;$!==null;){if($.key===dt)if($.tag===4&&$.stateNode.containerInfo===ot.containerInfo&&$.stateNode.implementation===ot.implementation){i(et,$.sibling),$=a($,ot.children||[]),$.return=et,et=$;break e}else{i(et,$);break}else s(et,$);$=$.sibling}$=Sg(ot,et.mode,lt),$.return=et,et=$}return d(et);case Ha:return dt=ot._init,nt(et,$,dt(ot._payload),lt)}if(eb(ot))return rt(et,$,ot,lt);if(Ka(ot))return st(et,$,ot,lt);Mg(et,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,$!==null&&$.tag===6?(i(et,$.sibling),$=a($,ot),$.return=et,et=$):(i(et,$),$=Qg(ot,et.mode,lt),$.return=et,et=$),d(et)):i(et,$)}return nt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),e===i)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,i,o){var a=s.interleaved;return a===null?(i.next=i,gh(s)):(i.next=a.next,a.next=i),s.interleaved=i,ih(e,o)}function ih(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),o.pending=s,ih(e,i)}return a=o.interleaved,a===null?(s.next=s,gh(o)):(s.next=a.next,a.next=s),o.interleaved=s,ih(e,i)}function oh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var o=s.lanes;o&=e.pendingLanes,i|=o,s.lanes=i,Cc(e,i)}}function ph(e,s){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?a=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?a=c=s:c=c.next=s}else a=c=s;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function qh(e,s,i,o){var a=e.updateQueue;jh=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,b=g.next;g.next=null,d===null?c=b:d.next=b,d=g;var j=e.alternate;j!==null&&(j=j.updateQueue,h=j.lastBaseUpdate,h!==d&&(h===null?j.firstBaseUpdate=b:h.next=b,j.lastBaseUpdate=g))}if(c!==null){var _=a.baseState;d=0,j=b=g=null,h=c;do{var _e=h.lane,tt=h.eventTime;if((o&_e)===_e){j!==null&&(j=j.next={eventTime:tt,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var rt=e,st=h;switch(_e=s,tt=i,st.tag){case 1:if(rt=st.payload,typeof rt=="function"){_=rt.call(tt,_,_e);break e}_=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=st.payload,_e=typeof rt=="function"?rt.call(tt,_,_e):rt,_e==null)break e;_=A({},_,_e);break e;case 2:jh=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,_e=a.effects,_e===null?a.effects=[h]:_e.push(h))}else tt={eventTime:tt,lane:_e,tag:h.tag,payload:h.payload,callback:h.callback,next:null},j===null?(b=j=tt,g=_):j=j.next=tt,d|=_e;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;_e=h,h=_e.next,_e.next=null,a.lastBaseUpdate=_e,a.shared.pending=null}}while(!0);if(j===null&&(g=_),a.baseState=g,a.firstBaseUpdate=b,a.lastBaseUpdate=j,s=a.shared.interleaved,s!==null){a=s;do d|=a.lane,a=a.next;while(a!==s)}else c===null&&(a.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=_}}function sh(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var o=e[s],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh$1,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),i=lb(s,e.type);s!==i&&(G(vh$1,e),G(uh,i))}function Bh(e){vh$1.current===e&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Nh(e,s,i,o,a,c){if(Hh=c,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(o,a),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=i(o,a)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var o=N,a=o.baseQueue,c=i.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,i.pending=null}if(a!==null){c=a.next,o=o.baseState;var h=d=null,g=null,b=c;do{var j=b.lane;if((Hh&j)===j)g!==null&&(g=g.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var _={lane:j,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};g===null?(h=g=_,d=o):g=g.next=_,M.lanes|=j,rh|=j}b=b.next}while(b!==null&&b!==c);g===null?d=o:g.next=h,He(o,s.memoizedState)||(dh=!0),s.memoizedState=o,s.baseState=d,s.baseQueue=g,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do c=a.lane,M.lanes|=c,rh|=c,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,c=s.memoizedState;if(a!==null){i.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),i.lastRenderedState=c}return[c,o]}function Yh(){}function Zh(e,s){var i=M,o=Uh(),a=s(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,dh=!0),o=o.queue,$h(ai.bind(null,i,o,e),[e]),o.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,o,a,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,s,a)}return a}function di(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function ci(e,s,i,o){s.value=i,s.getSnapshot=o,ei(s)&&fi(e)}function ai(e,s,i){return i(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M,e),[s.memoizedState,e]}function bi(e,s,i,o){return e={tag:e,create:s,destroy:i,deps:o,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,i,o){var a=Th();M.flags|=e,a.memoizedState=bi(1|s,i,void 0,o===void 0?null:o)}function li(e,s,i,o){var a=Uh();o=o===void 0?null:o;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,o!==null&&Mh(o,d.deps)){a.memoizedState=bi(s,i,c,o);return}}M.flags|=e,a.memoizedState=bi(1|s,i,c,o)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,s,e),i)}function ri(){}function si(e,s){var i=Uh();s=s===void 0?null:s;var o=i.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(i.memoizedState=[e,s],e)}function ti(e,s){var i=Uh();s=s===void 0?null:s;var o=i.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(e=e(),i.memoizedState=[e,s],e)}function ui(e,s,i){return Hh&21?(He(i,s)||(i=yc(),M.lanes|=i,rh|=i,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=i,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,s,i){var o=yi(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,i);else if(i=hh(e,s,i,o),i!==null){var a=R();gi(i,e,o,a),Bi(i,s,o)}}function ii(e,s,i){var o=yi(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var d=s.lastRenderedState,h=c(d,i);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var g=s.interleaved;g===null?(a.next=a,gh(s)):(a.next=g.next,g.next=a),s.interleaved=a;return}}catch{}finally{}i=hh(e,s,a,o),i!==null&&(a=R(),gi(i,e,o,a),Bi(i,s,o))}}function zi(e){var s=e.alternate;return e===M||s!==null&&s===M}function Ai(e,s){Jh=Ih=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Bi(e,s,i){if(i&4194240){var o=s.lanes;o&=e.pendingLanes,i|=o,s.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var i=Th();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var o=Th();return s=i!==void 0?i(s):s,o.memoizedState=o.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var o=M,a=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=s(),Q===null)throw Error(p(349));Hh&30||di(o,s,i)}a.memoizedState=i;var c={value:i,getSnapshot:s};return a.queue=c,mi(ai.bind(null,o,c,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,c,i,s),void 0,null),i},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var i=sg,o=rg;i=(o&~(1<<32-oc(o)-1)).toString(32)+i,s=":"+s+"R"+i,i=Kh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Lh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}function Di(e,s,i,o){s=e.memoizedState,i=i(o,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,a),s!==null&&(gi(s,e,a,o),oh(s,e,a))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.tag=1,c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,a),s!==null&&(gi(s,e,a,o),oh(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=R(),o=yi(e),a=mh(i,o);a.tag=2,s!=null&&(a.callback=s),s=nh(e,a,o),s!==null&&(gi(s,e,o,i),oh(s,e,o))}};function Fi(e,s,i,o,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,o)||!Ie(a,c):!0}function Gi(e,s,i){var o=!1,a=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(a=Zf(s)?Xf:H.current,o=s.contextTypes,c=(o=o!=null)?Yf(e,a):Vf),s=new s(i,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,i,o){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,o),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?a.context=eh(c):(c=Zf(s)?Xf:H.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,i),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var i="",o=s;do i+=Pa(o),o=o.return;while(o);var a=i}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:a,digest:null}}function Ki(e,s,i){return{value:e,source:null,stack:i??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var o=s.value;return i.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,s)},i}function Qi(e,s,i){i=mh(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=s.value;i.payload=function(){return o(a)},i.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,s),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=s.stack;this.componentDidCatch(s.value,{componentStack:d!==null?d:""})}),i}function Si(e,s,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var a=new Set;o.set(s,a)}else a=o.get(s),a===void 0&&(a=new Set,o.set(s,a));a.has(i)||(a.add(i),e=Ti.bind(null,e,s,i),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,i,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=mh(-1,1),s.tag=2,nh(i,s,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,i,o){s.child=e===null?Vg(s,null,i,o):Ug(s,e.child,i,o)}function Yi(e,s,i,o,a){i=i.render;var c=s.ref;return ch(s,a),o=Nh(e,s,i,o,c,a),i=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,Zi(e,s,a)):(I&&i&&vg(s),s.flags|=1,Xi(e,s,o,a),s.child)}function $i(e,s,i,o,a){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,o,a)):(e=Rg(i.type,null,o,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,o)&&e.ref===s.ref)return Zi(e,s,a)}return s.flags|=1,e=Pg(c,o),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,i,o,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===s.ref)if(dh=!1,s.pendingProps=o=c,(e.lanes&a)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,a)}return cj(e,s,i,o,a)}function dj(e,s,i){var o=s.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:i,G(ej,fj),fj|=o}else c!==null?(o=c.baseLanes|i,s.memoizedState=null):o=i,G(ej,fj),fj|=o;return Xi(e,s,a,i),s.child}function gj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,i,o,a){var c=Zf(i)?Xf:H.current;return c=Yf(s,c),ch(s,a),i=Nh(e,s,i,o,c,a),o=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,Zi(e,s,a)):(I&&o&&vg(s),s.flags|=1,Xi(e,s,i,a),s.child)}function hj(e,s,i,o,a){if(Zf(i)){var c=!0;cg(s)}else c=!1;if(ch(s,a),s.stateNode===null)ij(e,s),Gi(s,i,o),Ii(s,i,o,a),o=!0;else if(e===null){var d=s.stateNode,h=s.memoizedProps;d.props=h;var g=d.context,b=i.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(s,b));var j=i.getDerivedStateFromProps,_=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function";_||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==o||g!==b)&&Hi(s,d,o,b),jh=!1;var _e=s.memoizedState;d.state=_e,qh(s,o,d,a),g=s.memoizedState,h!==o||_e!==g||Wf.current||jh?(typeof j=="function"&&(Di(s,i,j,o),g=s.memoizedState),(h=jh||Fi(s,i,h,o,_e,g,b))?(_||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=g),d.props=o,d.state=g,d.context=b,o=h):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{d=s.stateNode,lh(e,s),h=s.memoizedProps,b=s.type===s.elementType?h:Ci(s.type,h),d.props=b,_=s.pendingProps,_e=d.context,g=i.contextType,typeof g=="object"&&g!==null?g=eh(g):(g=Zf(i)?Xf:H.current,g=Yf(s,g));var tt=i.getDerivedStateFromProps;(j=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==_||_e!==g)&&Hi(s,d,o,g),jh=!1,_e=s.memoizedState,d.state=_e,qh(s,o,d,a);var rt=s.memoizedState;h!==_||_e!==rt||Wf.current||jh?(typeof tt=="function"&&(Di(s,i,tt,o),rt=s.memoizedState),(b=jh||Fi(s,i,b,o,_e,rt,g)||!1)?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,rt,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,rt,g)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&_e===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_e===e.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=rt),d.props=o,d.state=rt,d.context=g,o=b):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&_e===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_e===e.memoizedState||(s.flags|=1024),o=!1)}return jj(e,s,i,o,c,a)}function jj(e,s,i,o,a,c){gj(e,s);var d=(s.flags&128)!==0;if(!o&&!d)return a&&dg(s,i,!1),Zi(e,s,c);o=s.stateNode,Wi.current=s;var h=d&&typeof i.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,e!==null&&d?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,h,c)):Xi(e,s,h,c),s.memoizedState=o.state,a&&dg(s,i,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,i,o,a){return Ig(),Jg(a),s.flags|=256,Xi(e,s,i,o),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,i){var o=s.pendingProps,a=L.current,c=!1,d=(s.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(a&2)!==0),h?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(L,a&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(d=o.children,e=o.fallback,c?(o=s.mode,c=s.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,o,0,null),e=Tg(e,o,i,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(i),s.memoizedState=mj,e):qj(s,d));if(a=e.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return rj(e,s,d,o,h,a,i);if(c){c=o.fallback,d=s.mode,a=e.child,h=a.sibling;var g={mode:"hidden",children:o.children};return!(d&1)&&s.child!==a?(o=s.child,o.childLanes=0,o.pendingProps=g,s.deletions=null):(o=Pg(a,g),o.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=Pg(h,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=s,o.return=s,o.sibling=c,s.child=o,o=c,c=s.child,d=e.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,s.memoizedState=mj,o}return c=e.child,e=c.sibling,o=Pg(c,{mode:"visible",children:o.children}),!(s.mode&1)&&(o.lanes=i),o.return=s,o.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=o,s.memoizedState=null,o}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,i,o){return o!==null&&Jg(o),Ug(s,e.child,null,i),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,i,o,a,c,d){if(i)return s.flags&256?(s.flags&=-257,o=Ki(Error(p(422))),sj(e,s,d,o)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=o.fallback,a=s.mode,o=pj({mode:"visible",children:o.children},a,0,null),c=Tg(c,a,d,null),c.flags|=2,o.return=s,c.return=s,o.sibling=c,s.child=o,s.mode&1&&Ug(s,e.child,null,d),s.child.memoizedState=nj(d),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var h=o.dgst;return o=h,c=Error(p(419)),o=Ki(c,o,void 0),sj(e,s,d,o)}if(h=(d&e.childLanes)!==0,dh||h){if(o=Q,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ih(e,a),gi(o,e,a,-1))}return tj(),o=Ki(Error(p(421))),sj(e,s,d,o)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),a._reactRetry=s,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,o.children),s.flags|=4096,s)}function vj(e,s,i){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s),bh(e.return,s,i)}function wj(e,s,i,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=i,c.tailMode=a)}function xj(e,s,i){var o=s.pendingProps,a=o.revealOrder,c=o.tail;if(Xi(e,s,o.children,i),o=L.current,o&2)o=o&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,s);else if(e.tag===19)vj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(i=s.child,a=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=s.child,s.child=null):(a=i.sibling,i.sibling=null),wj(s,!1,a,i,c);break;case"backwards":for(i=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){s.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}wj(s,!0,i,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(i&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,i=Pg(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function yj(e,s,i){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,a=s.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=a;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):i&s.child.childLanes?oj(e,s,i):(G(L,L.current&1),e=Zi(e,s,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(i&s.childLanes)!==0,e.flags&128){if(o)return xj(e,s,i);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,i)}return Zi(e,s,i)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,s,i,o){var a=e.memoizedProps;if(a!==o){e=s.stateNode,xh(uh.current);var c=null;switch(i){case"input":a=Ya(e,a),o=Ya(e,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),o=gb(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(i,o);var d;i=null;for(b in a)if(!o.hasOwnProperty(b)&&a.hasOwnProperty(b)&&a[b]!=null)if(b==="style"){var h=a[b];for(d in h)h.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in o){var g=o[b];if(h=a!=null?a[b]:void 0,o.hasOwnProperty(b)&&g!==h&&(g!=null||h!=null))if(b==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(i||(i={}),i[d]=g[d])}else i||(c||(c=[]),c.push(b,i)),i=g;else b==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(b,g)):b==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(b,""+g):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(g!=null&&b==="onScroll"&&D("scroll",e),c||h===g||(c=[])):(c=c||[]).push(b,g))}i&&(c=c||[]).push("style",i);var b=c;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(e,s,i,o){i!==o&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(s)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,s}function Ej(e,s,i){var o=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return o=s.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var a=xh(wh.current);if(i=s.type,e!==null&&s.stateNode!=null)Bj(e,s,i,o,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){o=s.stateNode,i=s.type;var c=s.memoizedProps;switch(o[Of]=s,o[Pf]=c,e=(s.mode&1)!==0,i){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(i,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?o.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",o)}switch(i){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,s.updateQueue=o,o!==null&&(s.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(i,{is:o.is}):(e=d.createElement(i),i==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,i),e[Of]=s,e[Pf]=o,zj(e,s,!1,!1),s.stateNode=e;e:{switch(d=vb(i,o),i){case"dialog":D("cancel",e),D("close",e),a=o;break;case"iframe":case"object":case"embed":D("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=o;break;case"source":D("error",e),a=o;break;case"img":case"image":case"link":D("error",e),D("load",e),a=o;break;case"details":D("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D("invalid",e);break;default:a=o}ub(i,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,d))}switch(i){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(s)){if(o=s.stateNode,i=s.memoizedProps,o[Of]=s,(c=o.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,i,(e.mode&1)!==0)}c&&(s.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Of]=s,s.stateNode=o}return S(s),null;case 13:if(E(L),o=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=i,s):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(o=(s.flags&128)!==0,d=c.rendering,d===null)if(o)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(d=Ch(e),d!==null){for(s.flags|=128,Dj(c,!1),o=d.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=i,i=s.child;i!==null;)c=i,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304)}else{if(!o)if(e=Ch(d),e!==null){if(s.flags|=128,o=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(i=c.last,i!==null?i.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,i=L.current,G(L,o?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Hj(),o=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(s.flags|=8192),o&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){W(e,s,o)}else i.current=null}function Mj(e,s,i){try{i()}catch(o){W(e,s,o)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,h=-1,g=-1,b=0,j=0,_=e,_e=null;t:for(;;){for(var tt;_!==i||a!==0&&_.nodeType!==3||(h=d+a),_!==c||o!==0&&_.nodeType!==3||(g=d+o),_.nodeType===3&&(d+=_.nodeValue.length),(tt=_.firstChild)!==null;)_e=_,_=tt;for(;;){if(_===e)break t;if(_e===i&&++b===a&&(h=d),_e===c&&++j===o&&(g=d),(tt=_.nextSibling)!==null)break;_=_e,_e=_.parentNode}_=tt}i=h===-1||g===-1?null:{start:h,end:g}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var rt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var st=rt.memoizedProps,nt=rt.memoizedState,et=s.stateNode,$=et.getSnapshotBeforeUpdate(s.elementType===s.type?st:Ci(s.type,st),nt);et.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var ot=s.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(lt){W(s,s.return,lt)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return rt=Nj,Nj=!1,rt}function Pj(e,s,i){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Mj(s,i,c)}a=a.next}while(a!==o)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==s)}}function Rj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,s,i),e=e.sibling;e!==null;)Vj(e,s,i),e=e.sibling}function Wj(e,s,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,i){for(i=i.child;i!==null;)Zj(e,s,i),i=i.sibling}function Zj(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,s);case 6:var o=X$1,a=Xj;X$1=null,Yj(e,s,i),X$1=o,Xj=a,X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X$1.removeChild(i.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X$1,i.stateNode));break;case 4:o=X$1,a=Xj,X$1=i.stateNode.containerInfo,Xj=!0,Yj(e,s,i),X$1=o,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,s,d),a=a.next}while(a!==o)}Yj(e,s,i);break;case 1:if(!U&&(Lj(i,s),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){W(i,s,h)}Yj(e,s,i);break;case 21:Yj(e,s,i);break;case 22:i.mode&1?(U=(o=U)||i.memoizedState!==null,Yj(e,s,i),U=o):Yj(e,s,i);break;default:Yj(e,s,i)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),s.forEach(function(o){var a=bk.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function ck(e,s){var i=s.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var c=e,d=s,h=d;e:for(;h!==null;){switch(h.tag){case 5:X$1=h.stateNode,Xj=!1;break e;case 3:X$1=h.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=h.stateNode.containerInfo,Xj=!0;break e}h=h.return}if(X$1===null)throw Error(p(160));Zj(c,d,a),X$1=null,Xj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(b){W(a,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(st){W(e,e.return,st)}try{Pj(5,e,e.return)}catch(st){W(e,e.return,st)}}break;case 1:ck(s,e),ek(e),o&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(s,e),ek(e),o&512&&i!==null&&Lj(i,i.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(st){W(e,e.return,st)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var b=vb(h,c);for(d=0;d<g.length;d+=2){var j=g[d],_=g[d+1];j==="style"?sb(a,_):j==="dangerouslySetInnerHTML"?nb(a,_):j==="children"?ob(a,_):ta(a,j,_,b)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var _e=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var tt=c.value;tt!=null?fb(a,!!c.multiple,tt,!1):_e!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(st){W(e,e.return,st)}}break;case 6:if(ck(s,e),ek(e),o&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(st){W(e,e.return,st)}}break;case 3:if(ck(s,e),ek(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(st){W(e,e.return,st)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if(j=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||j,ck(s,e),U=b):ck(s,e),ek(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!j&&e.mode&1)for(V=e,j=e.child;j!==null;){for(_=V=j;V!==null;){switch(_e=V,tt=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var rt=_e.stateNode;if(typeof rt.componentWillUnmount=="function"){o=_e,i=_e.return;try{s=o,rt.props=s.memoizedProps,rt.state=s.memoizedState,rt.componentWillUnmount()}catch(st){W(o,i,st)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk(_);continue}}tt!==null?(tt.return=_e,V=tt):gk(_)}j=j.sibling}e:for(j=null,_=e;;){if(_.tag===5){if(j===null){j=_;try{a=_.stateNode,b?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=_.stateNode,g=_.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(st){W(e,e.return,st)}}}else if(_.tag===6){if(j===null)try{_.stateNode.nodeValue=b?"":_.memoizedProps}catch(st){W(e,e.return,st)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;j===_&&(j=null),_=_.return}j===_&&(j=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ck(s,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var o=i;break e}i=i.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Uj(e);Wj(e,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,h=Uj(e);Vj(e,h,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,i){V=e,ik(e)}function ik(e,s,i){for(var o=(e.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Jj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U;h=Jj;var b=U;if(Jj=d,(U=g)&&!b)for(V=a;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?jk(a):g!==null?(g.return=d,V=g):jk(a);for(;c!==null;)V=c,ik(c),c=c.sibling;V=a,Jj=h,U=b}kk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var i=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!U)if(i===null)o.componentDidMount();else{var a=s.elementType===s.type?i.memoizedProps:Ci(s.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,o);break;case 3:var d=s.updateQueue;if(d!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}sh(s,d,i)}break;case 5:var h=s.stateNode;if(i===null&&s.flags&4){i=h;var g=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&i.focus();break;case"img":g.src&&(i.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var j=b.memoizedState;if(j!==null){var _=j.dehydrated;_!==null&&bd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(_e){W(s,s.return,_e)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Qj(4,s)}catch(g){W(s,i,g)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var a=s.return;try{o.componentDidMount()}catch(g){W(s,a,g)}}var c=s.return;try{Rj(s)}catch(g){W(s,c,g)}break;case 5:var d=s.return;try{Rj(s)}catch(g){W(s,d,g)}}}catch(g){W(s,s.return,g)}if(s===e){V=null;break}var h=s.sibling;if(h!==null){h.return=s.return,V=h;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,i,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,o),i===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var i=e.callbackNode;wc(e,s);var o=uc(e,e===Q?Z:0);if(o===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=o&-o,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(o)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var o=uc(e,e===Q?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||s)s=Ik(e,o);else{s=o;var a=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(h){Mk(e,h)}while(!0);$g(),mk.current=c,K=a,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(a=xc(e),a!==0&&(o=a,s=Nk(e,a))),s===1)throw i=pk,Kk(e,0),Ck(e,o),Dk(e,B()),i;if(s===6)Ck(e,o);else{if(a=e.current.alternate,!(o&30)&&!Ok(a)&&(s=Ik(e,o),s===2&&(c=xc(e),c!==0&&(o=c,s=Nk(e,c))),s===1))throw i=pk,Kk(e,0),Ck(e,o),Dk(e,B()),i;switch(e.finishedWork=a,e.finishedLanes=o,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(s=e.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=s[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,s){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=i,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),o=1<<i;e[i]=-1,s&=~o}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var i=Ik(e,s);if(e.tag!==0&&i===2){var o=xc(e);o!==0&&(s=o,i=Nk(e,o))}if(i===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var i=ok.transition,o=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=o,ok.transition=i,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var o=i;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(i=fh[s],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,c=i.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}i.pending=o}fh=null}return e}function Mk(e,s){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=s,Y=null;break}e:{var c=e,d=i.return,h=i,g=s;if(s=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=g,j=h,_=j.tag;if(!(j.mode&1)&&(_===0||_===11||_===15)){var _e=j.alternate;_e?(j.updateQueue=_e.updateQueue,j.memoizedState=_e.memoizedState,j.lanes=_e.lanes):(j.updateQueue=null,j.memoizedState=null)}var tt=Ui(d);if(tt!==null){tt.flags&=-257,Vi(tt,d,h,c,s),tt.mode&1&&Si(c,b,s),s=tt,g=b;var rt=s.updateQueue;if(rt===null){var st=new Set;st.add(g),s.updateQueue=st}else rt.add(g);break e}else{if(!(s&1)){Si(c,b,s),tj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var nt=Ui(d);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),Vi(nt,d,h,c,s),Jg(Ji(g,h));break e}}c=g=Ji(g,h),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var et=Ni(c,g,s);ph(c,et);break e;case 1:h=g;var $=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof $.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){c.flags|=65536,s&=-s,c.lanes|=s;var lt=Qi(c,h,s);ph(c,lt);break e}}c=c.return}while(c!==null)}Sk(i)}catch(it){s=it,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var i=K;K|=2;var o=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(a){Mk(e,a)}while(!0);if($g(),K=i,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var i=s.alternate;if(e=s.return,s.flags&32768){if(i=Ij(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,s,fj),i!==null){Y=i;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,i){var o=C,a=ok.transition;try{ok.transition=null,C=1,Wk(e,s,i,o)}finally{ok.transition=a,C=o}return null}function Wk(e,s,i,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var h=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=h,C=d,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=a),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),s!==null)for(o=e.onRecoverableError,i=0;i<s.length;i++)a=s[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var b=h[g];for(V=b;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,c)}var _=j.child;if(_!==null)_.return=j,V=_;else for(;V!==null;){j=V;var _e=j.sibling,tt=j.return;if(Sj(j),j===b){V=null;break}if(_e!==null){_e.return=tt,V=_e;break}V=tt}}}var rt=c.alternate;if(rt!==null){var st=rt.child;if(st!==null){rt.child=null;do{var nt=st.sibling;st.sibling=null,st=nt}while(st!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var et=c.sibling;if(et!==null){et.return=c.return,V=et;break e}V=c.return}}var $=e.current;for(V=$;V!==null;){d=V;var ot=d.child;if(d.subtreeFlags&2064&&ot!==null)ot.return=d,V=ot;else e:for(d=$;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(it){W(h,h.return,it)}if(h===d){V=null;break e}var lt=h.sibling;if(lt!==null){lt.return=h.return,V=lt;break e}V=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=i,ok.transition=s}}return!1}function Xk(e,s,i){s=Ji(i,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,i){if(e.tag===3)Xk(e,e,i);else for(;s!==null;){if(s.tag===3){Xk(s,e,i);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(i,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,i){var o=e.pingCache;o!==null&&o.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var i=R();e=ih(e,s),e!==null&&(Ac(e,s,i),Dk(e,i))}function uj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Yk(e,i)}function bk(e,s){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(s),Yk(e,i)}var Vk;Vk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(s.flags&128))return dh=!1,yj(e,s,i);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;ij(e,s),e=s.pendingProps;var a=Yf(s,H.current);ch(s,i),a=Nh(null,s,o,e,a,i);var c=Sh();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(o)?(c=!0,cg(s)):c=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(s),a.updater=Ei,s.stateNode=a,a._reactInternals=s,Ii(s,o,e,i),s=jj(null,s,o,!0,c,i)):(s.tag=0,I&&c&&vg(s),Xi(null,s,a,i),s=s.child),s;case 16:o=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,a=o._init,o=a(o._payload),s.type=o,a=s.tag=Zk(o),e=Ci(o,e),a){case 0:s=cj(null,s,o,e,i);break e;case 1:s=hj(null,s,o,e,i);break e;case 11:s=Yi(null,s,o,e,i);break e;case 14:s=$i(null,s,o,Ci(o.type,e),i);break e}throw Error(p(306,o,""))}return s;case 0:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),cj(e,s,o,a,i);case 1:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),hj(e,s,o,a,i);case 3:e:{if(kj(s),e===null)throw Error(p(387));o=s.pendingProps,c=s.memoizedState,a=c.element,lh(e,s),qh(s,o,null,i);var d=s.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){a=Ji(Error(p(423)),s),s=lj(e,s,o,i,a);break e}else if(o!==a){a=Ji(Error(p(424)),s),s=lj(e,s,o,i,a);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Vg(s,null,o,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),o===a){s=Zi(e,s,i);break e}Xi(e,s,o,i)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),o=s.type,a=s.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(s.flags|=32),gj(e,s),Xi(e,s,d,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,i);case 4:return yh(s,s.stateNode.containerInfo),o=s.pendingProps,e===null?s.child=Ug(s,null,o,i):Xi(e,s,o,i),s.child;case 11:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),Yi(e,s,o,a,i);case 7:return Xi(e,s,s.pendingProps,i),s.child;case 8:return Xi(e,s,s.pendingProps.children,i),s.child;case 12:return Xi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(o=s.type._context,a=s.pendingProps,c=s.memoizedProps,d=a.value,G(Wg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){s=Zi(e,s,i);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=mh(-1,i&-i),g.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var j=b.pending;j===null?g.next=g:(g.next=j.next,j.next=g),b.pending=g}}c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),bh(c.return,i,s),h.lanes|=i;break}g=g.next}}else if(c.tag===10)d=c.type===s.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,h=d.alternate,h!==null&&(h.lanes|=i),bh(d,i,s),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===s){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,s,a.children,i),s=s.child}return s;case 9:return a=s.type,o=s.pendingProps.children,ch(s,i),a=eh(a),o=o(a),s.flags|=1,Xi(e,s,o,i),s.child;case 14:return o=s.type,a=Ci(o,s.pendingProps),a=Ci(o.type,a),$i(e,s,o,a,i);case 15:return bj(e,s,s.type,s.pendingProps,i);case 17:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),ij(e,s),s.tag=1,Zf(o)?(e=!0,cg(s)):e=!1,ch(s,i),Gi(s,o,a),Ii(s,o,a,i),jj(null,s,o,!0,e,i);case 19:return xj(e,s,i);case 22:return dj(e,s,i)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,o){return new $k(e,s,i,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,s,i,o,a,c){var d=2;if(o=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(i.children,a,c,s);case za:d=8,a|=8;break;case Aa:return e=Bg(12,i,s,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,s,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,s,a),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,a,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(d,i,s,a),s.elementType=e,s.type=o,s.lanes=c,s}function Tg(e,s,i,o){return e=Bg(7,e,o,s),e.lanes=i,e}function pj(e,s,i,o){return e=Bg(22,e,o,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function Sg(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,i,o,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(e,s,i,o,a,c,d,h,g){return e=new al(e,s,i,h,g),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:s,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function el(e,s,i,o,a,c,d,h,g){return e=bl(i,o,!0,e,a,c,d,h,g),e.context=dl(null),i=e.current,o=R(),a=yi(i),c=mh(o,a),c.callback=s??null,nh(i,c,a),e.current.lanes=a,Ac(e,a,o),Dk(e,o),e}function fl(e,s,i,o){var a=s.current,c=R(),d=yi(a);return i=dl(i),s.context===null?s.context=i:s.pendingContext=i,s=mh(c,d),s.payload={element:e},o=o===void 0?null:o,o!==null&&(s.callback=o),e=nh(a,s,d),e!==null&&(gi(e,a,d,c),oh(e,a,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,i,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var b=gl(d);c.call(b)}}var d=el(s,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var h=o;o=function(){var b=gl(g);h.call(b)}}var g=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,g,i,o)}),g}function rl(e,s,i,o,a){var c=i._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=gl(d);h.call(g)}}fl(s,d,e,a)}else d=ql(i,s,e,a,o);return gl(d)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var a=R();gi(o,e,1,a)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var i=R();gi(s,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),i=ih(e,s);if(i!==null){var o=R();gi(i,e,s,o)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var o=i[s];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var i=!1,o="",a=kl;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=bl(e,1,!1,null,null,i,!1,o,a),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!nl(e))throw Error(p(405));var o=i!=null&&i.hydratedSources||null,a=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),s=el(s,null,e,1,i??null,a,!1,c,d),e[uf]=s.current,sf(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,a]:s.mutableSourceEagerHydrationData.push(i,a);return new ml(s)};reactDom_production_min.render=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,o){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,i,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_extends$2.apply(this,arguments)}var Action$1;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function s(o,a){let{pathname:c,search:d,hash:h}=o.location;return createLocation("",{pathname:c,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(s,i,null,e)}function invariant$2(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function warning$2(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,s){return{usr:e.state,key:e.key,idx:s}}function createLocation(e,s,i,o){return i===void 0&&(i=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:i,key:s&&s.key||o||createKey()})}function createPath(e){let{pathname:s="/",search:i="",hash:o=""}=e;return i&&i!=="?"&&(s+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function parsePath(e){let s={};if(e){let i=e.indexOf("#");i>=0&&(s.hash=e.substr(i),e=e.substr(0,i));let o=e.indexOf("?");o>=0&&(s.search=e.substr(o),e=e.substr(0,o)),e&&(s.pathname=e)}return s}function getUrlBasedHistory(e,s,i,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,h=Action$1.Pop,g=null,b=j();b==null&&(b=0,d.replaceState(_extends$2({},d.state,{idx:b}),""));function j(){return(d.state||{idx:null}).idx}function _(){h=Action$1.Pop;let nt=j(),et=nt==null?null:nt-b;b=nt,g&&g({action:h,location:st.location,delta:et})}function _e(nt,et){h=Action$1.Push;let $=createLocation(st.location,nt,et);b=j()+1;let ot=getHistoryState($,b),lt=st.createHref($);try{d.pushState(ot,"",lt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;a.location.assign(lt)}c&&g&&g({action:h,location:st.location,delta:1})}function tt(nt,et){h=Action$1.Replace;let $=createLocation(st.location,nt,et);b=j();let ot=getHistoryState($,b),lt=st.createHref($);d.replaceState(ot,"",lt),c&&g&&g({action:h,location:st.location,delta:0})}function rt(nt){let et=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof nt=="string"?nt:createPath(nt);return $=$.replace(/ $/,"%20"),invariant$2(et,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,et)}let st={get action(){return h},get location(){return e(a,d)},listen(nt){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,_),g=nt,()=>{a.removeEventListener(PopStateEventType,_),g=null}},createHref(nt){return s(a,nt)},createURL:rt,encodeLocation(nt){let et=rt(nt);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:_e,replace:tt,go(nt){return d.go(nt)}};return st}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,s,i){return i===void 0&&(i="/"),matchRoutesImpl(e,s,i)}function matchRoutesImpl(e,s,i,o){let a=typeof s=="string"?parsePath(s):s,c=stripBasename(a.pathname||"/",i);if(c==null)return null;let d=flattenRoutes(e);rankRouteBranches(d);let h=null;for(let g=0;h==null&&g<d.length;++g){let b=decodePath(c);h=matchRouteBranch(d[g],b)}return h}function flattenRoutes(e,s,i,o){s===void 0&&(s=[]),i===void 0&&(i=[]),o===void 0&&(o="");let a=(c,d,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(invariant$2(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let b=joinPaths([o,g.relativePath]),j=i.concat(g);c.children&&c.children.length>0&&(invariant$2(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(c.children,s,j,b)),!(c.path==null&&!c.index)&&s.push({path:b,score:computeScore(b,c.index),routesMeta:j})};return e.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))a(c,d);else for(let g of explodeOptionalSegments(c.path))a(c,d,g)}),s}function explodeOptionalSegments(e){let s=e.split("/");if(s.length===0)return[];let[i,...o]=s,a=i.endsWith("?"),c=i.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=explodeOptionalSegments(o.join("/")),h=[];return h.push(...d.map(g=>g===""?c:[c,g].join("/"))),a&&h.push(...d),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function rankRouteBranches(e){e.sort((s,i)=>s.score!==i.score?i.score-s.score:compareIndexes(s.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,s){let i=e.split("/"),o=i.length;return i.some(isSplat)&&(o+=splatPenalty),s&&(o+=indexRouteValue),i.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,s){return e.length===s.length&&e.slice(0,-1).every((o,a)=>o===s[a])?e[e.length-1]-s[s.length-1]:0}function matchRouteBranch(e,s,i){let{routesMeta:o}=e,a={},c="/",d=[];for(let h=0;h<o.length;++h){let g=o[h],b=h===o.length-1,j=c==="/"?s:s.slice(c.length)||"/",_=matchPath({path:g.relativePath,caseSensitive:g.caseSensitive,end:b},j),_e=g.route;if(!_)return null;Object.assign(a,_.params),d.push({params:a,pathname:joinPaths([c,_.pathname]),pathnameBase:normalizePathname(joinPaths([c,_.pathnameBase])),route:_e}),_.pathnameBase!=="/"&&(c=joinPaths([c,_.pathnameBase]))}return d}function matchPath(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,o]=compilePath(e.path,e.caseSensitive,e.end),a=s.match(i);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((b,j,_)=>{let{paramName:_e,isOptional:tt}=j;if(_e==="*"){let st=h[_]||"";d=c.slice(0,c.length-st.length).replace(/(.)\/+$/,"$1")}const rt=h[_];return tt&&!rt?b[_e]=void 0:b[_e]=(rt||"").replace(/%2F/g,"/"),b},{}),pathname:c,pathnameBase:d,pattern:e}}function compilePath(e,s,i){s===void 0&&(s=!1),i===void 0&&(i=!0),warning$2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,g)=>(o.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),o]}function decodePath(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning$2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function stripBasename(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,o=e.charAt(i);return o&&o!=="/"?null:e.slice(i)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=e=>ABSOLUTE_URL_REGEX$1.test(e);function resolvePath(e,s){s===void 0&&(s="/");let{pathname:i,search:o="",hash:a=""}=typeof e=="string"?parsePath(e):e,c;if(i)if(isAbsoluteUrl(i))c=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),warning$2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+i))}i.startsWith("/")?c=resolvePathname(i.substring(1),"/"):c=resolvePathname(i,s)}else c=s;return{pathname:c,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(e,s){let i=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function getInvalidPathError(e,s,i,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(e,s){let i=getPathContributingMatches(e);return s?i.map((o,a)=>a===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function resolveTo(e,s,i,o){o===void 0&&(o=!1);let a;typeof e=="string"?a=parsePath(e):(a=_extends$2({},e),invariant$2(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant$2(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant$2(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=e===""||a.pathname==="",d=c?"/":a.pathname,h;if(d==null)h=i;else{let _=s.length-1;if(!o&&d.startsWith("..")){let _e=d.split("/");for(;_e[0]==="..";)_e.shift(),_-=1;a.pathname=_e.join("/")}h=_>=0?s[_]:"/"}let g=resolvePath(a,h),b=d&&d!=="/"&&d.endsWith("/"),j=(c||d===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(b||j)&&(g.pathname+="/"),g}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,s){let{relative:i}=s===void 0?{}:s;useInRouterContext()||invariant$2(!1);let{basename:o,navigator:a}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:h}=useResolvedPath(e,{relative:i}),g=d;return o!=="/"&&(g=d==="/"?o:joinPaths([o,d])),a.createHref({pathname:g,search:h,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let e=reactExports.useContext(DataRouterContext),{basename:s,future:i,navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(a,i.v7_relativeSplatPath)),h=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{h.current=!0}),reactExports.useCallback(function(b,j){if(j===void 0&&(j={}),!h.current)return;if(typeof b=="number"){o.go(b);return}let _=resolveTo(b,JSON.parse(d),c,j.relative==="path");e==null&&s!=="/"&&(_.pathname=_.pathname==="/"?s:joinPaths([s,_.pathname])),(j.replace?o.replace:o.push)(_,j.state,j)},[s,o,d,c,e])}const OutletContext=reactExports.createContext(null);function useOutlet(e){let s=reactExports.useContext(RouteContext).outlet;return s&&reactExports.createElement(OutletContext.Provider,{value:e},s)}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),s=e[e.length-1];return s?s.params:{}}function useResolvedPath(e,s){let{relative:i}=s===void 0?{}:s,{future:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(a,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(d),c,i==="path"),[e,d,c,i])}function useRoutes(e,s){return useRoutesImpl(e,s)}function useRoutesImpl(e,s,i,o){useInRouterContext()||invariant$2(!1);let{navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],h=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let b=useLocation(),j;if(s){var _;let nt=typeof s=="string"?parsePath(s):s;g==="/"||(_=nt.pathname)!=null&&_.startsWith(g)||invariant$2(!1),j=nt}else j=b;let _e=j.pathname||"/",tt=_e;if(g!=="/"){let nt=g.replace(/^\//,"").split("/");tt="/"+_e.replace(/^\//,"").split("/").slice(nt.length).join("/")}let rt=matchRoutes(e,{pathname:tt}),st=_renderMatches(rt&&rt.map(nt=>Object.assign({},nt,{params:Object.assign({},h,nt.params),pathname:joinPaths([g,a.encodeLocation?a.encodeLocation(nt.pathname).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?g:joinPaths([g,a.encodeLocation?a.encodeLocation(nt.pathnameBase).pathname:nt.pathnameBase])})),c,i,o);return s&&st?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Action$1.Pop}},st):st}function DefaultErrorComponent(){let e=useRouteError(),s=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),i?reactExports.createElement("pre",{style:a},i):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,i){return i.location!==s.location||i.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:i.error,location:i.location,revalidation:s.revalidation||i.revalidation}}componentDidCatch(s,i){console.error("React Router caught the following error during render",s,i)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:s,match:i,children:o}=e,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),reactExports.createElement(RouteContext.Provider,{value:s},o)}function _renderMatches(e,s,i,o){var a;if(s===void 0&&(s=[]),i===void 0&&(i=null),o===void 0&&(o=null),e==null){var c;if(!i)return null;if(i.errors)e=i.matches;else if((c=o)!=null&&c.v7_partialHydration&&s.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let d=e,h=(a=i)==null?void 0:a.errors;if(h!=null){let j=d.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);j>=0||invariant$2(!1),d=d.slice(0,Math.min(d.length,j+1))}let g=!1,b=-1;if(i&&o&&o.v7_partialHydration)for(let j=0;j<d.length;j++){let _=d[j];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(b=j),_.route.id){let{loaderData:_e,errors:tt}=i,rt=_.route.loader&&_e[_.route.id]===void 0&&(!tt||tt[_.route.id]===void 0);if(_.route.lazy||rt){g=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}return d.reduceRight((j,_,_e)=>{let tt,rt=!1,st=null,nt=null;i&&(tt=h&&_.route.id?h[_.route.id]:void 0,st=_.route.errorElement||defaultErrorElement,g&&(b<0&&_e===0?(warningOnce("route-fallback"),rt=!0,nt=null):b===_e&&(rt=!0,nt=_.route.hydrateFallbackElement||null)));let et=s.concat(d.slice(0,_e+1)),$=()=>{let ot;return tt?ot=st:rt?ot=nt:_.route.Component?ot=reactExports.createElement(_.route.Component,null):_.route.element?ot=_.route.element:ot=j,reactExports.createElement(RenderedRoute,{match:_,routeContext:{outlet:j,matches:et,isDataRoute:i!=null},children:ot})};return i&&(_.route.ErrorBoundary||_.route.errorElement||_e===0)?reactExports.createElement(RenderErrorBoundary,{location:i.location,revalidation:i.revalidation,component:st,error:tt,children:$(),routeContext:{outlet:null,matches:et,isDataRoute:!0}}):$()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let s=reactExports.useContext(DataRouterContext);return s||invariant$2(!1),s}function useDataRouterState(e){let s=reactExports.useContext(DataRouterStateContext);return s||invariant$2(!1),s}function useRouteContext(e){let s=reactExports.useContext(RouteContext);return s||invariant$2(!1),s}function useCurrentRouteId(e){let s=useRouteContext(),i=s.matches[s.matches.length-1];return i.route.id||invariant$2(!1),i.route.id}function useRouteError(){var e;let s=reactExports.useContext(RouteErrorContext),i=useDataRouterState(),o=useCurrentRouteId();return s!==void 0?s:(e=i.errors)==null?void 0:e[o]}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),i=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{i.current=!0}),reactExports.useCallback(function(a,c){c===void 0&&(c={}),i.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_extends$1({fromRouteId:s},c)))},[e,s])}const alreadyWarned$1={};function warningOnce(e,s,i){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0)}function logV6DeprecationWarnings(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Navigate(e){let{to:s,replace:i,state:o,relative:a}=e;useInRouterContext()||invariant$2(!1);let{future:c,static:d}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=useNavigate(),j=resolveTo(s,getResolveToMatches(h,c.v7_relativeSplatPath),g,a==="path"),_=JSON.stringify(j);return reactExports.useEffect(()=>b(JSON.parse(_),{replace:i,state:o,relative:a}),[b,_,a,i,o]),null}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant$2(!1)}function Router(e){let{basename:s="/",children:i=null,location:o,navigationType:a=Action$1.Pop,navigator:c,static:d=!1,future:h}=e;useInRouterContext()&&invariant$2(!1);let g=s.replace(/^\/*/,"/"),b=reactExports.useMemo(()=>({basename:g,navigator:c,static:d,future:_extends$1({v7_relativeSplatPath:!1},h)}),[g,h,c,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:j="/",search:_="",hash:_e="",state:tt=null,key:rt="default"}=o,st=reactExports.useMemo(()=>{let nt=stripBasename(j,g);return nt==null?null:{location:{pathname:nt,search:_,hash:_e,state:tt,key:rt},navigationType:a}},[g,j,_,_e,tt,rt,a]);return st==null?null:reactExports.createElement(NavigationContext.Provider,{value:b},reactExports.createElement(LocationContext.Provider,{children:i,value:st}))}function Routes(e){let{children:s,location:i}=e;return useRoutes(createRoutesFromChildren(s),i)}new Promise(()=>{});function createRoutesFromChildren(e,s){s===void 0&&(s=[]);let i=[];return reactExports.Children.forEach(e,(o,a)=>{if(!reactExports.isValidElement(o))return;let c=[...s,a];if(o.type===reactExports.Fragment){i.push.apply(i,createRoutesFromChildren(o.props.children,c));return}o.type!==Route&&invariant$2(!1),!o.props.index||!o.props.children||invariant$2(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=createRoutesFromChildren(o.props.children,c)),i.push(d)}),i}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,s){if(e==null)return{};var i={},o=Object.keys(e),a,c;for(c=0;c<o.length;c++)a=o[c],!(s.indexOf(a)>=0)&&(i[a]=e[a]);return i}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,s){return e.button===0&&(!s||s==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function BrowserRouter(e){let{basename:s,children:i,future:o,window:a}=e,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:a,v5Compat:!0}));let d=c.current,[h,g]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:b}=o||{},j=reactExports.useCallback(_=>{b&&startTransitionImpl?startTransitionImpl(()=>g(_)):g(_)},[g,b]);return reactExports.useLayoutEffect(()=>d.listen(j),[d,j]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:s,children:i,location:h.location,navigationType:h.action,navigator:d,future:o})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(s,i){let{onClick:o,relative:a,reloadDocument:c,replace:d,state:h,target:g,to:b,preventScrollReset:j,viewTransition:_}=s,_e=_objectWithoutPropertiesLoose(s,_excluded),{basename:tt}=reactExports.useContext(NavigationContext),rt,st=!1;if(typeof b=="string"&&ABSOLUTE_URL_REGEX.test(b)&&(rt=b,isBrowser$2))try{let ot=new URL(window.location.href),lt=b.startsWith("//")?new URL(ot.protocol+b):new URL(b),it=stripBasename(lt.pathname,tt);lt.origin===ot.origin&&it!=null?b=it+lt.search+lt.hash:st=!0}catch{}let nt=useHref(b,{relative:a}),et=useLinkClickHandler(b,{replace:d,state:h,target:g,preventScrollReset:j,relative:a,viewTransition:_});function $(ot){o&&o(ot),ot.defaultPrevented||et(ot)}return reactExports.createElement("a",_extends({},_e,{href:rt||nt,onClick:st||c?o:$,ref:i,target:g}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,s){let{target:i,replace:o,state:a,preventScrollReset:c,relative:d,viewTransition:h}=s===void 0?{}:s,g=useNavigate(),b=useLocation(),j=useResolvedPath(e,{relative:d});return reactExports.useCallback(_=>{if(shouldProcessLinkClick(_,i)){_.preventDefault();let _e=o!==void 0?o:createPath(b)===createPath(j);g(e,{replace:_e,state:a,preventScrollReset:c,relative:d,viewTransition:h})}},[b,g,j,o,a,i,e,c,d,h])}function composeEventHandlers(e,s,{checkForDefaultPrevented:i=!0}={}){return function(a){if(e==null||e(a),i===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function setRef(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function composeRefs(...e){return s=>{let i=!1;const o=e.map(a=>{const c=setRef(a,s);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let a=0;a<o.length;a++){const c=o[a];typeof c=="function"?c():setRef(e[a],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}function createContextScope$1(e,s=[]){let i=[];function o(c,d){const h=reactExports.createContext(d),g=i.length;i=[...i,d];const b=_=>{var et;const{scope:_e,children:tt,...rt}=_,st=((et=_e==null?void 0:_e[e])==null?void 0:et[g])||h,nt=reactExports.useMemo(()=>rt,Object.values(rt));return jsxRuntimeExports.jsx(st.Provider,{value:nt,children:tt})};b.displayName=c+"Provider";function j(_,_e){var st;const tt=((st=_e==null?void 0:_e[e])==null?void 0:st[g])||h,rt=reactExports.useContext(tt);if(rt)return rt;if(d!==void 0)return d;throw new Error(`\`${_}\` must be used within \`${c}\``)}return[b,j]}const a=()=>{const c=i.map(d=>reactExports.createContext(d));return function(h){const g=(h==null?void 0:h[e])||c;return reactExports.useMemo(()=>({[`__scope${e}`]:{...h,[e]:g}}),[h,g])}};return a.scopeName=e,[o,composeContextScopes$1(a,...s)]}function composeContextScopes$1(...e){const s=e[0];if(e.length===1)return s;const i=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const d=o.reduce((h,{useScope:g,scopeName:b})=>{const _=g(c)[`__scope${b}`];return{...h,..._}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return i.scopeName=s.scopeName,i}function createSlot$5(e){const s=createSlotClone$5(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,h=reactExports.Children.toArray(c),g=h.find(isSlottable$5);if(g){const b=g.props.children,j=h.map(_=>_===g?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,j):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$5(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$6(a),h=mergeProps$5(c,a.props);return a.type!==reactExports.Fragment&&(h.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,h)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$5(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$5(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...h)=>{const g=c(...h);return a(...h),g}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$6(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function createCollection(e){const s=e+"CollectionProvider",[i,o]=createContextScope$1(s),[a,c]=i(s,{collectionRef:{current:null},itemMap:new Map}),d=st=>{const{scope:nt,children:et}=st,$=React$2.useRef(null),ot=React$2.useRef(new Map).current;return jsxRuntimeExports.jsx(a,{scope:nt,itemMap:ot,collectionRef:$,children:et})};d.displayName=s;const h=e+"CollectionSlot",g=createSlot$5(h),b=React$2.forwardRef((st,nt)=>{const{scope:et,children:$}=st,ot=c(h,et),lt=useComposedRefs(nt,ot.collectionRef);return jsxRuntimeExports.jsx(g,{ref:lt,children:$})});b.displayName=h;const j=e+"CollectionItemSlot",_="data-radix-collection-item",_e=createSlot$5(j),tt=React$2.forwardRef((st,nt)=>{const{scope:et,children:$,...ot}=st,lt=React$2.useRef(null),it=useComposedRefs(nt,lt),dt=c(j,et);return React$2.useEffect(()=>(dt.itemMap.set(lt,{ref:lt,...ot}),()=>void dt.itemMap.delete(lt))),jsxRuntimeExports.jsx(_e,{[_]:"",ref:it,children:$})});tt.displayName=j;function rt(st){const nt=c(e+"CollectionConsumer",st);return React$2.useCallback(()=>{const $=nt.collectionRef.current;if(!$)return[];const ot=Array.from($.querySelectorAll(`[${_}]`));return Array.from(nt.itemMap.values()).sort((dt,ct)=>ot.indexOf(dt.ref.current)-ot.indexOf(ct.ref.current))},[nt.collectionRef,nt.itemMap])}return[{Provider:d,Slot:b,ItemSlot:tt},rt,o]}function createContextScope(e,s=[]){let i=[];function o(c,d){const h=reactExports.createContext(d),g=i.length;i=[...i,d];const b=_=>{var et;const{scope:_e,children:tt,...rt}=_,st=((et=_e==null?void 0:_e[e])==null?void 0:et[g])||h,nt=reactExports.useMemo(()=>rt,Object.values(rt));return jsxRuntimeExports.jsx(st.Provider,{value:nt,children:tt})};b.displayName=c+"Provider";function j(_,_e){var st;const tt=((st=_e==null?void 0:_e[e])==null?void 0:st[g])||h,rt=reactExports.useContext(tt);if(rt)return rt;if(d!==void 0)return d;throw new Error(`\`${_}\` must be used within \`${c}\``)}return[b,j]}const a=()=>{const c=i.map(d=>reactExports.createContext(d));return function(h){const g=(h==null?void 0:h[e])||c;return reactExports.useMemo(()=>({[`__scope${e}`]:{...h,[e]:g}}),[h,g])}};return a.scopeName=e,[o,composeContextScopes(a,...s)]}function composeContextScopes(...e){const s=e[0];if(e.length===1)return s;const i=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const d=o.reduce((h,{useScope:g,scopeName:b})=>{const _=g(c)[`__scope${b}`];return{...h,..._}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return i.scopeName=s.scopeName,i}function createSlot$4(e){const s=createSlotClone$4(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,h=reactExports.Children.toArray(c),g=h.find(isSlottable$4);if(g){const b=g.props.children,j=h.map(_=>_===g?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,j):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$4(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$5(a),h=mergeProps$4(c,a.props);return a.type!==reactExports.Fragment&&(h.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,h)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...h)=>{const g=c(...h);return a(...h),g}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$5(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$4=NODES$4.reduce((e,s)=>{const i=createSlot$4(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...h}=a,g=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(g,{...h,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{});function dispatchDiscreteCustomEvent$1(e,s){e&&reactDomExports.flushSync(()=>e.dispatchEvent(s))}function useCallbackRef(e){const s=reactExports.useRef(e);return reactExports.useEffect(()=>{s.current=e}),reactExports.useMemo(()=>(...i)=>{var o;return(o=s.current)==null?void 0:o.call(s,...i)},[])}function useEscapeKeydown(e,s=globalThis==null?void 0:globalThis.document){const i=useCallbackRef(e);reactExports.useEffect(()=>{const o=a=>{a.key==="Escape"&&i(a)};return s.addEventListener("keydown",o,{capture:!0}),()=>s.removeEventListener("keydown",o,{capture:!0})},[i,s])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((e,s)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...g}=e,b=reactExports.useContext(DismissableLayerContext),[j,_]=reactExports.useState(null),_e=(j==null?void 0:j.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,tt]=reactExports.useState({}),rt=useComposedRefs(s,ct=>_(ct)),st=Array.from(b.layers),[nt]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),et=st.indexOf(nt),$=j?st.indexOf(j):-1,ot=b.layersWithOutsidePointerEventsDisabled.size>0,lt=$>=et,it=usePointerDownOutside(ct=>{const ut=ct.target,ft=[...b.branches].some(yt=>yt.contains(ut));!lt||ft||(a==null||a(ct),d==null||d(ct),ct.defaultPrevented||h==null||h())},_e),dt=useFocusOutside(ct=>{const ut=ct.target;[...b.branches].some(yt=>yt.contains(ut))||(c==null||c(ct),d==null||d(ct),ct.defaultPrevented||h==null||h())},_e);return useEscapeKeydown(ct=>{$===b.layers.size-1&&(o==null||o(ct),!ct.defaultPrevented&&h&&(ct.preventDefault(),h()))},_e),reactExports.useEffect(()=>{if(j)return i&&(b.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=_e.body.style.pointerEvents,_e.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add(j)),b.layers.add(j),dispatchUpdate(),()=>{i&&b.layersWithOutsidePointerEventsDisabled.size===1&&(_e.body.style.pointerEvents=originalBodyPointerEvents)}},[j,_e,i,b]),reactExports.useEffect(()=>()=>{j&&(b.layers.delete(j),b.layersWithOutsidePointerEventsDisabled.delete(j),dispatchUpdate())},[j,b]),reactExports.useEffect(()=>{const ct=()=>tt({});return document.addEventListener(CONTEXT_UPDATE,ct),()=>document.removeEventListener(CONTEXT_UPDATE,ct)},[]),jsxRuntimeExports.jsx(Primitive$4.div,{...g,ref:rt,style:{pointerEvents:ot?lt?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,dt.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,dt.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,it.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((e,s)=>{const i=reactExports.useContext(DismissableLayerContext),o=reactExports.useRef(null),a=useComposedRefs(s,o);return reactExports.useEffect(()=>{const c=o.current;if(c)return i.branches.add(c),()=>{i.branches.delete(c)}},[i.branches]),jsxRuntimeExports.jsx(Primitive$4.div,{...e,ref:a})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(e,s=globalThis==null?void 0:globalThis.document){const i=useCallbackRef(e),o=reactExports.useRef(!1),a=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const c=h=>{if(h.target&&!o.current){let g=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,i,b,{discrete:!0})};const b={originalEvent:h};h.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=g,s.addEventListener("click",a.current,{once:!0})):g()}else s.removeEventListener("click",a.current);o.current=!1},d=window.setTimeout(()=>{s.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),s.removeEventListener("pointerdown",c),s.removeEventListener("click",a.current)}},[s,i]),{onPointerDownCapture:()=>o.current=!0}}function useFocusOutside(e,s=globalThis==null?void 0:globalThis.document){const i=useCallbackRef(e),o=reactExports.useRef(!1);return reactExports.useEffect(()=>{const a=c=>{c.target&&!o.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,i,{originalEvent:c},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function dispatchUpdate(){const e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(e)}function handleAndDispatchCustomEvent$1(e,s,i,{discrete:o}){const a=i.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});s&&a.addEventListener(e,s,{once:!0}),o?dispatchDiscreteCustomEvent$1(a,c):a.dispatchEvent(c)}var Root$1=DismissableLayer,Branch=DismissableLayerBranch;function createSlot$3(e){const s=createSlotClone$3(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,h=reactExports.Children.toArray(c),g=h.find(isSlottable$3);if(g){const b=g.props.children,j=h.map(_=>_===g?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,j):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$3(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$4(a),h=mergeProps$3(c,a.props);return a.type!==reactExports.Fragment&&(h.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,h)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...h)=>{const g=c(...h);return a(...h),g}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$4(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((e,s)=>{const i=createSlot$3(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...h}=a,g=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(g,{...h,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{}),useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME="Portal",Portal=reactExports.forwardRef((e,s)=>{var h;const{container:i,...o}=e,[a,c]=reactExports.useState(!1);useLayoutEffect2(()=>c(!0),[]);const d=i||a&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return d?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$3.div,{...o,ref:s}),d):null});Portal.displayName=PORTAL_NAME;function useStateMachine(e,s){return reactExports.useReducer((i,o)=>s[i][o]??i,e)}var Presence=e=>{const{present:s,children:i}=e,o=usePresence$1(s),a=typeof i=="function"?i({present:o.isPresent}):reactExports.Children.only(i),c=useComposedRefs(o.ref,getElementRef$3(a));return typeof i=="function"||o.isPresent?reactExports.cloneElement(a,{ref:c}):null};Presence.displayName="Presence";function usePresence$1(e){const[s,i]=reactExports.useState(),o=reactExports.useRef(null),a=reactExports.useRef(e),c=reactExports.useRef("none"),d=e?"mounted":"unmounted",[h,g]=useStateMachine(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const b=getAnimationName(o.current);c.current=h==="mounted"?b:"none"},[h]),useLayoutEffect2(()=>{const b=o.current,j=a.current;if(j!==e){const _e=c.current,tt=getAnimationName(b);e?g("MOUNT"):tt==="none"||(b==null?void 0:b.display)==="none"?g("UNMOUNT"):g(j&&_e!==tt?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,g]),useLayoutEffect2(()=>{if(s){let b;const j=s.ownerDocument.defaultView??window,_=tt=>{const st=getAnimationName(o.current).includes(CSS.escape(tt.animationName));if(tt.target===s&&st&&(g("ANIMATION_END"),!a.current)){const nt=s.style.animationFillMode;s.style.animationFillMode="forwards",b=j.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=nt)})}},_e=tt=>{tt.target===s&&(c.current=getAnimationName(o.current))};return s.addEventListener("animationstart",_e),s.addEventListener("animationcancel",_),s.addEventListener("animationend",_),()=>{j.clearTimeout(b),s.removeEventListener("animationstart",_e),s.removeEventListener("animationcancel",_),s.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[s,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:reactExports.useCallback(b=>{o.current=b?getComputedStyle(b):null,i(b)},[])}}function getAnimationName(e){return(e==null?void 0:e.animationName)||"none"}function getElementRef$3(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function createSlot$2(e){const s=createSlotClone$2(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,h=reactExports.Children.toArray(c),g=h.find(isSlottable$2);if(g){const b=g.props.children,j=h.map(_=>_===g?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,j):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$2(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$2(a),h=mergeProps$2(c,a.props);return a.type!==reactExports.Fragment&&(h.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,h)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...h)=>{const g=c(...h);return a(...h),g}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$2(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((e,s)=>{const i=createSlot$2(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...h}=a,g=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(g,{...h,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{});function dispatchDiscreteCustomEvent(e,s){e&&reactDomExports.flushSync(()=>e.dispatchEvent(s))}var useInsertionEffect=React$3[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:e,defaultProp:s,onChange:i=()=>{},caller:o}){const[a,c,d]=useUncontrolledState({defaultProp:s,onChange:i}),h=e!==void 0,g=h?e:a;{const j=reactExports.useRef(e!==void 0);reactExports.useEffect(()=>{const _=j.current;_!==h&&console.warn(`${o} is changing from ${_?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),j.current=h},[h,o])}const b=reactExports.useCallback(j=>{var _;if(h){const _e=isFunction(j)?j(e):j;_e!==e&&((_=d.current)==null||_.call(d,_e))}else c(j)},[h,e,c,d]);return[g,b]}function useUncontrolledState({defaultProp:e,onChange:s}){const[i,o]=reactExports.useState(e),a=reactExports.useRef(i),c=reactExports.useRef(s);return useInsertionEffect(()=>{c.current=s},[s]),reactExports.useEffect(()=>{var d;a.current!==i&&((d=c.current)==null||d.call(c,i),a.current=i)},[i,a]),[i,o,c]}function isFunction(e){return typeof e=="function"}function createSlot$1(e){const s=createSlotClone$1(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,h=reactExports.Children.toArray(c),g=h.find(isSlottable$1);if(g){const b=g.props.children,j=h.map(_=>_===g?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,j):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$1(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$1(a),h=mergeProps$1(c,a.props);return a.type!==reactExports.Fragment&&(h.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,h)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...h)=>{const g=c(...h);return a(...h),g}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$1(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((e,s)=>{const i=createSlot$1(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...h}=a,g=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(g,{...h,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{}),VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((e,s)=>jsxRuntimeExports.jsx(Primitive$1.span,{...e,ref:s,style:{...VISUALLY_HIDDEN_STYLES,...e.style}}));VisuallyHidden.displayName=NAME$1;var PROVIDER_NAME="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext]=createContextScope("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),ToastProvider$1=e=>{const{__scopeToast:s,label:i="Notification",duration:o=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:d}=e,[h,g]=reactExports.useState(null),[b,j]=reactExports.useState(0),_=reactExports.useRef(!1),_e=reactExports.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:s,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:s,label:i,duration:o,swipeDirection:a,swipeThreshold:c,toastCount:b,viewport:h,onViewportChange:g,onToastAdd:reactExports.useCallback(()=>j(tt=>tt+1),[]),onToastRemove:reactExports.useCallback(()=>j(tt=>tt-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:_e,children:d})})};ToastProvider$1.displayName=PROVIDER_NAME;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,hotkey:o=VIEWPORT_DEFAULT_HOTKEY,label:a="Notifications ({hotkey})",...c}=e,d=useToastProviderContext(VIEWPORT_NAME,i),h=useCollection(i),g=reactExports.useRef(null),b=reactExports.useRef(null),j=reactExports.useRef(null),_=reactExports.useRef(null),_e=useComposedRefs(s,_,d.onViewportChange),tt=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),rt=d.toastCount>0;reactExports.useEffect(()=>{const nt=et=>{var ot;o.length!==0&&o.every(lt=>et[lt]||et.code===lt)&&((ot=_.current)==null||ot.focus())};return document.addEventListener("keydown",nt),()=>document.removeEventListener("keydown",nt)},[o]),reactExports.useEffect(()=>{const nt=g.current,et=_.current;if(rt&&nt&&et){const $=()=>{if(!d.isClosePausedRef.current){const dt=new CustomEvent(VIEWPORT_PAUSE);et.dispatchEvent(dt),d.isClosePausedRef.current=!0}},ot=()=>{if(d.isClosePausedRef.current){const dt=new CustomEvent(VIEWPORT_RESUME);et.dispatchEvent(dt),d.isClosePausedRef.current=!1}},lt=dt=>{!nt.contains(dt.relatedTarget)&&ot()},it=()=>{nt.contains(document.activeElement)||ot()};return nt.addEventListener("focusin",$),nt.addEventListener("focusout",lt),nt.addEventListener("pointermove",$),nt.addEventListener("pointerleave",it),window.addEventListener("blur",$),window.addEventListener("focus",ot),()=>{nt.removeEventListener("focusin",$),nt.removeEventListener("focusout",lt),nt.removeEventListener("pointermove",$),nt.removeEventListener("pointerleave",it),window.removeEventListener("blur",$),window.removeEventListener("focus",ot)}}},[rt,d.isClosePausedRef]);const st=reactExports.useCallback(({tabbingDirection:nt})=>{const $=h().map(ot=>{const lt=ot.ref.current,it=[lt,...getTabbableCandidates(lt)];return nt==="forwards"?it:it.reverse()});return(nt==="forwards"?$.reverse():$).flat()},[h]);return reactExports.useEffect(()=>{const nt=_.current;if(nt){const et=$=>{var it,dt,ct;const ot=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!ot){const ut=document.activeElement,ft=$.shiftKey;if($.target===nt&&ft){(it=b.current)==null||it.focus();return}const gt=st({tabbingDirection:ft?"backwards":"forwards"}),St=gt.findIndex(Nt=>Nt===ut);focusFirst(gt.slice(St+1))?$.preventDefault():ft?(dt=b.current)==null||dt.focus():(ct=j.current)==null||ct.focus()}};return nt.addEventListener("keydown",et),()=>nt.removeEventListener("keydown",et)}},[h,st]),jsxRuntimeExports.jsxs(Branch,{ref:g,role:"region","aria-label":a.replace("{hotkey}",tt),tabIndex:-1,style:{pointerEvents:rt?void 0:"none"},children:[rt&&jsxRuntimeExports.jsx(FocusProxy,{ref:b,onFocusFromOutsideViewport:()=>{const nt=st({tabbingDirection:"forwards"});focusFirst(nt)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:i,children:jsxRuntimeExports.jsx(Primitive$2.ol,{tabIndex:-1,...c,ref:_e})}),rt&&jsxRuntimeExports.jsx(FocusProxy,{ref:j,onFocusFromOutsideViewport:()=>{const nt=st({tabbingDirection:"backwards"});focusFirst(nt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,onFocusFromOutsideViewport:o,...a}=e,c=useToastProviderContext(FOCUS_PROXY_NAME,i);return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:d=>{var b;const h=d.relatedTarget;!((b=c.viewport)!=null&&b.contains(h))&&o()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((e,s)=>{const{forceMount:i,open:o,defaultOpen:a,onOpenChange:c,...d}=e,[h,g]=useControllableState({prop:o,defaultProp:a??!0,onChange:c,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:i||h,children:jsxRuntimeExports.jsx(ToastImpl,{open:h,...d,ref:s,onClose:()=>g(!1),onPause:useCallbackRef(e.onPause),onResume:useCallbackRef(e.onResume),onSwipeStart:composeEventHandlers(e.onSwipeStart,b=>{b.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(e.onSwipeMove,b=>{const{x:j,y:_}=b.detail.delta;b.currentTarget.setAttribute("data-swipe","move"),b.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${j}px`),b.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:composeEventHandlers(e.onSwipeCancel,b=>{b.currentTarget.setAttribute("data-swipe","cancel"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),b.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(e.onSwipeEnd,b=>{const{x:j,y:_}=b.detail.delta;b.currentTarget.setAttribute("data-swipe","end"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),b.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${j}px`),b.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),g(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,type:o="foreground",duration:a,open:c,onClose:d,onEscapeKeyDown:h,onPause:g,onResume:b,onSwipeStart:j,onSwipeMove:_,onSwipeCancel:_e,onSwipeEnd:tt,...rt}=e,st=useToastProviderContext(TOAST_NAME,i),[nt,et]=reactExports.useState(null),$=useComposedRefs(s,Nt=>et(Nt)),ot=reactExports.useRef(null),lt=reactExports.useRef(null),it=a||st.duration,dt=reactExports.useRef(0),ct=reactExports.useRef(it),ut=reactExports.useRef(0),{onToastAdd:ft,onToastRemove:yt}=st,ht=useCallbackRef(()=>{var Lt;(nt==null?void 0:nt.contains(document.activeElement))&&((Lt=st.viewport)==null||Lt.focus()),d()}),gt=reactExports.useCallback(Nt=>{!Nt||Nt===1/0||(window.clearTimeout(ut.current),dt.current=new Date().getTime(),ut.current=window.setTimeout(ht,Nt))},[ht]);reactExports.useEffect(()=>{const Nt=st.viewport;if(Nt){const Lt=()=>{gt(ct.current),b==null||b()},kt=()=>{const Ct=new Date().getTime()-dt.current;ct.current=ct.current-Ct,window.clearTimeout(ut.current),g==null||g()};return Nt.addEventListener(VIEWPORT_PAUSE,kt),Nt.addEventListener(VIEWPORT_RESUME,Lt),()=>{Nt.removeEventListener(VIEWPORT_PAUSE,kt),Nt.removeEventListener(VIEWPORT_RESUME,Lt)}}},[st.viewport,it,g,b,gt]),reactExports.useEffect(()=>{c&&!st.isClosePausedRef.current&&gt(it)},[c,it,st.isClosePausedRef,gt]),reactExports.useEffect(()=>(ft(),()=>yt()),[ft,yt]);const St=reactExports.useMemo(()=>nt?getAnnounceTextContent(nt):null,[nt]);return st.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[St&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:i,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:St}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:i,onClose:ht,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:i,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,onEscapeKeyDown:composeEventHandlers(h,()=>{st.isFocusedToastEscapeKeyDownRef.current||ht(),st.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive$2.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":st.swipeDirection,...rt,ref:$,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:composeEventHandlers(e.onKeyDown,Nt=>{Nt.key==="Escape"&&(h==null||h(Nt.nativeEvent),Nt.nativeEvent.defaultPrevented||(st.isFocusedToastEscapeKeyDownRef.current=!0,ht()))}),onPointerDown:composeEventHandlers(e.onPointerDown,Nt=>{Nt.button===0&&(ot.current={x:Nt.clientX,y:Nt.clientY})}),onPointerMove:composeEventHandlers(e.onPointerMove,Nt=>{if(!ot.current)return;const Lt=Nt.clientX-ot.current.x,kt=Nt.clientY-ot.current.y,Ct=!!lt.current,Tt=["left","right"].includes(st.swipeDirection),xt=["left","up"].includes(st.swipeDirection)?Math.min:Math.max,Rt=Tt?xt(0,Lt):0,It=Tt?0:xt(0,kt),bt=Nt.pointerType==="touch"?10:2,pt={x:Rt,y:It},mt={originalEvent:Nt,delta:pt};Ct?(lt.current=pt,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,_,mt,{discrete:!1})):isDeltaInDirection(pt,st.swipeDirection,bt)?(lt.current=pt,handleAndDispatchCustomEvent(TOAST_SWIPE_START,j,mt,{discrete:!1}),Nt.target.setPointerCapture(Nt.pointerId)):(Math.abs(Lt)>bt||Math.abs(kt)>bt)&&(ot.current=null)}),onPointerUp:composeEventHandlers(e.onPointerUp,Nt=>{const Lt=lt.current,kt=Nt.target;if(kt.hasPointerCapture(Nt.pointerId)&&kt.releasePointerCapture(Nt.pointerId),lt.current=null,ot.current=null,Lt){const Ct=Nt.currentTarget,Tt={originalEvent:Nt,delta:Lt};isDeltaInDirection(Lt,st.swipeDirection,st.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,tt,Tt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,_e,Tt,{discrete:!0}),Ct.addEventListener("click",xt=>xt.preventDefault(),{once:!0})}})})})}),st.viewport)})]}):null}),ToastAnnounce=e=>{const{__scopeToast:s,children:i,...o}=e,a=useToastProviderContext(TOAST_NAME,s),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(!1);return useNextFrame(()=>d(!0)),reactExports.useEffect(()=>{const b=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(b)},[]),h?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...o,children:c&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a.label," ",i]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,...o}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{...o,ref:s})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,...o}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{...o,ref:s})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((e,s)=>{const{altText:i,...o}=e;return i.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:i,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...o,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,...o}=e,a=useToastInteractiveContext(CLOSE_NAME,i);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...o,ref:s,onClick:composeEventHandlers(e.onClick,a.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,altText:o,...a}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...a,ref:s})});function getAnnounceTextContent(e){const s=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&s.push(o.textContent),isHTMLElement(o)){const a=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const d=o.dataset.radixToastAnnounceAlt;d&&s.push(d)}else s.push(...getAnnounceTextContent(o))}}),s}function handleAndDispatchCustomEvent(e,s,i,{discrete:o}){const a=i.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});s&&a.addEventListener(e,s,{once:!0}),o?dispatchDiscreteCustomEvent(a,c):a.dispatchEvent(c)}var isDeltaInDirection=(e,s,i=0)=>{const o=Math.abs(e.x),a=Math.abs(e.y),c=o>a;return s==="left"||s==="right"?c&&o>i:!c&&a>i};function useNextFrame(e=()=>{}){const s=useCallbackRef(e);useLayoutEffect2(()=>{let i=0,o=0;return i=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(o)}},[s])}function isHTMLElement(e){return e.nodeType===e.ELEMENT_NODE}function getTabbableCandidates(e){const s=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)s.push(i.currentNode);return s}function focusFirst(e){const s=document.activeElement;return e.some(i=>i===s?!0:(i.focus(),document.activeElement!==s))}var Provider=ToastProvider$1,Viewport=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action=ToastAction$1,Close=ToastClose$1;function r(e){var s,i,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(i=r(e[s]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function clsx(){for(var e,s,i=0,o="",a=arguments.length;i<a;i++)(e=arguments[i])&&(s=r(e))&&(o&&(o+=" "),o+=s);return o}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,s)=>i=>{var o;if((s==null?void 0:s.variants)==null)return cx(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:a,defaultVariants:c}=s,d=Object.keys(a).map(b=>{const j=i==null?void 0:i[b],_=c==null?void 0:c[b];if(j===null)return null;const _e=falsyToString(j)||falsyToString(_);return a[b][_e]}),h=i&&Object.entries(i).reduce((b,j)=>{let[_,_e]=j;return _e===void 0||(b[_]=_e),b},{}),g=s==null||(o=s.compoundVariants)===null||o===void 0?void 0:o.reduce((b,j)=>{let{class:_,className:_e,...tt}=j;return Object.entries(tt).every(rt=>{let[st,nt]=rt;return Array.isArray(nt)?nt.includes({...c,...h}[st]):{...c,...h}[st]===nt})?[...b,_,_e]:b},[]);return cx(e,d,g,i==null?void 0:i.class,i==null?void 0:i.className)};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,s)=>{const i=reactExports.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:h="",children:g,...b},j)=>reactExports.createElement("svg",{ref:j,...defaultAttributes,width:a,height:a,stroke:o,strokeWidth:d?Number(c)*24/Number(a):c,className:["lucide",`lucide-${toKebabCase(e)}`,h].join(" "),...b},[...s.map(([_,_e])=>reactExports.createElement(_,_e)),...Array.isArray(g)?g:[g]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronsLeft=createLucideIcon("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronsRight=createLucideIcon("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Columns2=createLucideIcon("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Command=createLucideIcon("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Construction=createLucideIcon("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HelpCircle=createLucideIcon("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Key=createLucideIcon("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Layers=createLucideIcon("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize2=createLucideIcon("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XCircle=createLucideIcon("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:d=>{const h=d.split(CLASS_PART_SEPARATOR);return h[0]===""&&h.length!==1&&h.shift(),getGroupRecursive(h,s)||getGroupIdForArbitraryProperty(d)},getConflictingClassGroupIds:(d,h)=>{const g=i[d]||[];return h&&o[d]?[...g,...o[d]]:g}}},getGroupRecursive=(e,s)=>{var d;if(e.length===0)return s.classGroupId;const i=e[0],o=s.nextPart.get(i),a=o?getGroupRecursive(e.slice(1),o):void 0;if(a)return a;if(s.validators.length===0)return;const c=e.join(CLASS_PART_SEPARATOR);return(d=s.validators.find(({validator:h})=>h(c)))==null?void 0:d.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const s=arbitraryPropertyRegex.exec(e)[1],i=s==null?void 0:s.substring(0,s.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:s,prefix:i}=e,o={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(e.classGroups),i).forEach(([c,d])=>{processClassesRecursively(d,o,c,s)}),o},processClassesRecursively=(e,s,i,o)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?s:getPart(s,a);c.classGroupId=i;return}if(typeof a=="function"){if(isThemeGetter(a)){processClassesRecursively(a(o),s,i,o);return}s.validators.push({validator:a,classGroupId:i});return}Object.entries(a).forEach(([c,d])=>{processClassesRecursively(d,getPart(s,c),i,o)})})},getPart=(e,s)=>{let i=e;return s.split(CLASS_PART_SEPARATOR).forEach(o=>{i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i},isThemeGetter=e=>e.isThemeGetter,getPrefixedClassGroupEntries=(e,s)=>s?e.map(([i,o])=>{const a=o.map(c=>typeof c=="string"?s+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,h])=>[s+d,h])):c);return[i,a]}):e,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,i=new Map,o=new Map;const a=(c,d)=>{i.set(c,d),s++,s>e&&(s=0,o=i,i=new Map)};return{get(c){let d=i.get(c);if(d!==void 0)return d;if((d=o.get(c))!==void 0)return a(c,d),d},set(c,d){i.has(c)?i.set(c,d):a(c,d)}}},IMPORTANT_MODIFIER="!",createParseClassName=e=>{const{separator:s,experimentalParseClassName:i}=e,o=s.length===1,a=s[0],c=s.length,d=h=>{const g=[];let b=0,j=0,_;for(let nt=0;nt<h.length;nt++){let et=h[nt];if(b===0){if(et===a&&(o||h.slice(nt,nt+c)===s)){g.push(h.slice(j,nt)),j=nt+c;continue}if(et==="/"){_=nt;continue}}et==="["?b++:et==="]"&&b--}const _e=g.length===0?h:h.substring(j),tt=_e.startsWith(IMPORTANT_MODIFIER),rt=tt?_e.substring(1):_e,st=_&&_>j?_-j:void 0;return{modifiers:g,hasImportantModifier:tt,baseClassName:rt,maybePostfixModifierPosition:st}};return i?h=>i({className:h,parseClassName:d}):d},sortModifiers=e=>{if(e.length<=1)return e;const s=[];let i=[];return e.forEach(o=>{o[0]==="["?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,s)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:a}=s,c=[],d=e.trim().split(SPLIT_CLASSES_REGEX);let h="";for(let g=d.length-1;g>=0;g-=1){const b=d[g],{modifiers:j,hasImportantModifier:_,baseClassName:_e,maybePostfixModifierPosition:tt}=i(b);let rt=!!tt,st=o(rt?_e.substring(0,tt):_e);if(!st){if(!rt){h=b+(h.length>0?" "+h:h);continue}if(st=o(_e),!st){h=b+(h.length>0?" "+h:h);continue}rt=!1}const nt=sortModifiers(j).join(":"),et=_?nt+IMPORTANT_MODIFIER:nt,$=et+st;if(c.includes($))continue;c.push($);const ot=a(st,rt);for(let lt=0;lt<ot.length;++lt){const it=ot[lt];c.push(et+it)}h=b+(h.length>0?" "+h:h)}return h};function twJoin(){let e=0,s,i,o="";for(;e<arguments.length;)(s=arguments[e++])&&(i=toValue(s))&&(o&&(o+=" "),o+=i);return o}const toValue=e=>{if(typeof e=="string")return e;let s,i="";for(let o=0;o<e.length;o++)e[o]&&(s=toValue(e[o]))&&(i&&(i+=" "),i+=s);return i};function createTailwindMerge(e,...s){let i,o,a,c=d;function d(g){const b=s.reduce((j,_)=>_(j),e());return i=createConfigUtils(b),o=i.cache.get,a=i.cache.set,c=h,h(g)}function h(g){const b=o(g);if(b)return b;const j=mergeClassList(g,i);return a(g,j),j}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=e=>{const s=i=>i[e]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=e=>isNumber(e)||stringLengths.has(e)||fractionRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,"length",isLengthOnly),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isArbitraryNumber=e=>getIsArbitraryValue(e,"number",isNumber),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isArbitraryValue=e=>arbitraryValueRegex.test(e),isTshirtSize=e=>tshirtUnitRegex.test(e),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=e=>getIsArbitraryValue(e,sizeLabels,isNever),isArbitraryPosition=e=>getIsArbitraryValue(e,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=e=>getIsArbitraryValue(e,imageLabels,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(e,s,i)=>{const o=arbitraryValueRegex.exec(e);return o?o[1]?typeof s=="string"?o[1]===s:s.has(o[1]):i(o[2]):!1},isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),getDefaultConfig=()=>{const e=fromTheme("colors"),s=fromTheme("spacing"),i=fromTheme("blur"),o=fromTheme("brightness"),a=fromTheme("borderColor"),c=fromTheme("borderRadius"),d=fromTheme("borderSpacing"),h=fromTheme("borderWidth"),g=fromTheme("contrast"),b=fromTheme("grayscale"),j=fromTheme("hueRotate"),_=fromTheme("invert"),_e=fromTheme("gap"),tt=fromTheme("gradientColorStops"),rt=fromTheme("gradientColorStopPositions"),st=fromTheme("inset"),nt=fromTheme("margin"),et=fromTheme("opacity"),$=fromTheme("padding"),ot=fromTheme("saturate"),lt=fromTheme("scale"),it=fromTheme("sepia"),dt=fromTheme("skew"),ct=fromTheme("space"),ut=fromTheme("translate"),ft=()=>["auto","contain","none"],yt=()=>["auto","hidden","clip","visible","scroll"],ht=()=>["auto",isArbitraryValue,s],gt=()=>[isArbitraryValue,s],St=()=>["",isLength,isArbitraryLength],Nt=()=>["auto",isNumber,isArbitraryValue],Lt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],kt=()=>["solid","dashed","dotted","double","none"],Ct=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Tt=()=>["start","end","center","between","around","evenly","stretch"],xt=()=>["","0",isArbitraryValue],Rt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],It=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:It(),borderColor:[e],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:gt(),borderWidth:St(),contrast:It(),grayscale:xt(),hueRotate:It(),invert:xt(),gap:gt(),gradientColorStops:[e],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:ht(),margin:ht(),opacity:It(),padding:gt(),saturate:It(),scale:It(),sepia:xt(),skew:It(),space:gt(),translate:gt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Rt()}],"break-before":[{"break-before":Rt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Lt(),isArbitraryValue]}],overflow:[{overflow:yt()}],"overflow-x":[{"overflow-x":yt()}],"overflow-y":[{"overflow-y":yt()}],overscroll:[{overscroll:ft()}],"overscroll-x":[{"overscroll-x":ft()}],"overscroll-y":[{"overscroll-y":ft()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[st]}],"inset-x":[{"inset-x":[st]}],"inset-y":[{"inset-y":[st]}],start:[{start:[st]}],end:[{end:[st]}],top:[{top:[st]}],right:[{right:[st]}],bottom:[{bottom:[st]}],left:[{left:[st]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:ht()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:xt()}],shrink:[{shrink:xt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Nt()}],"col-end":[{"col-end":Nt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Nt()}],"row-end":[{"row-end":Nt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[_e]}],"gap-x":[{"gap-x":[_e]}],"gap-y":[{"gap-y":[_e]}],"justify-content":[{justify:["normal",...Tt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Tt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Tt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[nt]}],mx:[{mx:[nt]}],my:[{my:[nt]}],ms:[{ms:[nt]}],me:[{me:[nt]}],mt:[{mt:[nt]}],mr:[{mr:[nt]}],mb:[{mb:[nt]}],ml:[{ml:[nt]}],"space-x":[{"space-x":[ct]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ct]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,s]}],"min-w":[{"min-w":[isArbitraryValue,s,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,s,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,s,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[et]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...kt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:gt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[et]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Lt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[rt]}],"gradient-via-pos":[{via:[rt]}],"gradient-to-pos":[{to:[rt]}],"gradient-from":[{from:[tt]}],"gradient-via":[{via:[tt]}],"gradient-to":[{to:[tt]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[et]}],"border-style":[{border:[...kt(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[et]}],"divide-style":[{divide:kt()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...kt()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:St()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[et]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[et]}],"mix-blend":[{"mix-blend":[...Ct(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ct()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[b]}],"hue-rotate":[{"hue-rotate":[j]}],invert:[{invert:[_]}],saturate:[{saturate:[ot]}],sepia:[{sepia:[it]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[b]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[j]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[et]}],"backdrop-saturate":[{"backdrop-saturate":[ot]}],"backdrop-sepia":[{"backdrop-sepia":[it]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:It()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:It()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[lt]}],"scale-x":[{"scale-x":[lt]}],"scale-y":[{"scale-y":[lt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[ut]}],"translate-y":[{"translate-y":[ut]}],"skew-x":[{"skew-x":[dt]}],"skew-y":[{"skew-y":[dt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":gt()}],"scroll-mx":[{"scroll-mx":gt()}],"scroll-my":[{"scroll-my":gt()}],"scroll-ms":[{"scroll-ms":gt()}],"scroll-me":[{"scroll-me":gt()}],"scroll-mt":[{"scroll-mt":gt()}],"scroll-mr":[{"scroll-mr":gt()}],"scroll-mb":[{"scroll-mb":gt()}],"scroll-ml":[{"scroll-ml":gt()}],"scroll-p":[{"scroll-p":gt()}],"scroll-px":[{"scroll-px":gt()}],"scroll-py":[{"scroll-py":gt()}],"scroll-ps":[{"scroll-ps":gt()}],"scroll-pe":[{"scroll-pe":gt()}],"scroll-pt":[{"scroll-pt":gt()}],"scroll-pr":[{"scroll-pr":gt()}],"scroll-pb":[{"scroll-pb":gt()}],"scroll-pl":[{"scroll-pl":gt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}function formatDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e))}function formatFileSize(e){if(!e)return"0 B";const s=["B","KB","MB","GB"];let i=0,o=e;for(;o>=1024&&i<s.length-1;)o/=1024,i++;return`${o.toFixed(1)} ${s[i]}`}const ToastProvider=Provider,ToastViewport=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Viewport,{ref:i,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...s}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:e,variant:s,...i},o)=>jsxRuntimeExports.jsx(Root2,{ref:o,className:cn(toastVariants({variant:s}),e),...i}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Action,{ref:i,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Close,{ref:i,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Title,{ref:i,className:cn("text-sm font-semibold",e),...s}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Description,{ref:i,className:cn("text-sm opacity-90",e),...s}));ToastDescription.displayName=Description.displayName;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=e=>{if(toastTimeouts.has(e))return;const s=setTimeout(()=>{toastTimeouts.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},TOAST_REMOVE_DELAY);toastTimeouts.set(e,s)},reducer$1=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=s;return i?addToRemoveQueue(i):e.toasts.forEach(o=>{addToRemoveQueue(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==s.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(e){memoryState=reducer$1(memoryState,e),listeners.forEach(s=>{s(memoryState)})}function toast({...e}){const s=genId(),i=a=>dispatch({type:"UPDATE_TOAST",toast:{...a,id:s}}),o=()=>dispatch({type:"DISMISS_TOAST",toastId:s});return dispatch({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:a=>{a||o()}}}),{id:s,dismiss:o,update:i}}function useToast(){const[e,s]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(s),()=>{const i=listeners.indexOf(s);i>-1&&listeners.splice(i,1)}),[e]),{...e,toast,dismiss:i=>dispatch({type:"DISMISS_TOAST",toastId:i})}}function Toaster(){const{toasts:e}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[e.map(function({id:s,title:i,description:o,action:a,...c}){return jsxRuntimeExports.jsxs(Toast,{...c,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[i&&jsxRuntimeExports.jsx(ToastTitle,{children:i}),o&&jsxRuntimeExports.jsx(ToastDescription,{children:o})]}),a,jsxRuntimeExports.jsx(ToastClose,{})]},s)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}const __vite_import_meta_env__$2={},createStoreImpl=e=>{let s;const i=new Set,o=(j,_)=>{const _e=typeof j=="function"?j(s):j;if(!Object.is(_e,s)){const tt=s;s=_??(typeof _e!="object"||_e===null)?_e:Object.assign({},s,_e),i.forEach(rt=>rt(s,tt))}},a=()=>s,g={setState:o,getState:a,getInitialState:()=>b,subscribe:j=>(i.add(j),()=>i.delete(j)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},b=s=e(o,a,g);return g},createStore=e=>e?createStoreImpl(e):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(e,s){var i=s(),o=useState({inst:{value:i,getSnapshot:s}}),a=o[0].inst,c=o[1];return useLayoutEffect(function(){a.value=i,a.getSnapshot=s,checkIfSnapshotChanged(a)&&c({inst:a})},[e,i,s]),useEffect$1(function(){return checkIfSnapshotChanged(a)&&c({inst:a}),e(function(){checkIfSnapshotChanged(a)&&c({inst:a})})},[e]),useDebugValue$2(i),i}function checkIfSnapshotChanged(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!objectIs$1(e,i)}catch{return!0}}function useSyncExternalStore$1(e,s){return s()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(e,s,i,o,a){var c=useRef(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=useMemo(function(){function g(tt){if(!b){if(b=!0,j=tt,tt=o(tt),a!==void 0&&d.hasValue){var rt=d.value;if(a(rt,tt))return _=rt}return _=tt}if(rt=_,objectIs(j,tt))return rt;var st=o(tt);return a!==void 0&&a(rt,st)?(j=tt,rt):(j=tt,_=st)}var b=!1,j,_,_e=i===void 0?null:i;return[function(){return g(s())},_e===null?void 0:function(){return g(_e())}]},[s,i,o,a]);var h=useSyncExternalStore(e,c[0],c[1]);return useEffect(function(){d.hasValue=!0,d.value=h},[h]),useDebugValue$1(h),h};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=e=>e;function useStore(e,s=identity,i){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&i&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const o=useSyncExternalStoreWithSelector(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,i);return useDebugValue(o),o}const createImpl=e=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?createStore(e):e,i=(o,a)=>useStore(s,o,a);return Object.assign(i,s),i},create=e=>createImpl,__vite_import_meta_env__={};function createJSONStorage(e,s){let i;try{i=e()}catch{return}return{getItem:a=>{var c;const d=g=>g===null?null:JSON.parse(g,void 0),h=(c=i.getItem(a))!=null?c:null;return h instanceof Promise?h.then(d):d(h)},setItem:(a,c)=>i.setItem(a,JSON.stringify(c,void 0)),removeItem:a=>i.removeItem(a)}}const toThenable=e=>s=>{try{const i=e(s);return i instanceof Promise?i:{then(o){return toThenable(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return toThenable(o)(i)}}}},oldImpl=(e,s)=>(i,o,a)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:nt=>nt,version:0,merge:(nt,et)=>({...et,...nt}),...s},d=!1;const h=new Set,g=new Set;let b;try{b=c.getStorage()}catch{}if(!b)return e((...nt)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...nt)},o,a);const j=toThenable(c.serialize),_=()=>{const nt=c.partialize({...o()});let et;const $=j({state:nt,version:c.version}).then(ot=>b.setItem(c.name,ot)).catch(ot=>{et=ot});if(et)throw et;return $},_e=a.setState;a.setState=(nt,et)=>{_e(nt,et),_()};const tt=e((...nt)=>{i(...nt),_()},o,a);let rt;const st=()=>{var nt;if(!b)return;d=!1,h.forEach($=>$(o()));const et=((nt=c.onRehydrateStorage)==null?void 0:nt.call(c,o()))||void 0;return toThenable(b.getItem.bind(b))(c.name).then($=>{if($)return c.deserialize($)}).then($=>{if($)if(typeof $.version=="number"&&$.version!==c.version){if(c.migrate)return c.migrate($.state,$.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return $.state}).then($=>{var ot;return rt=c.merge($,(ot=o())!=null?ot:tt),i(rt,!0),_()}).then(()=>{et==null||et(rt,void 0),d=!0,g.forEach($=>$(rt))}).catch($=>{et==null||et(void 0,$)})};return a.persist={setOptions:nt=>{c={...c,...nt},nt.getStorage&&(b=nt.getStorage())},clearStorage:()=>{b==null||b.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>st(),hasHydrated:()=>d,onHydrate:nt=>(h.add(nt),()=>{h.delete(nt)}),onFinishHydration:nt=>(g.add(nt),()=>{g.delete(nt)})},st(),rt||tt},newImpl=(e,s)=>(i,o,a)=>{let c={storage:createJSONStorage(()=>localStorage),partialize:st=>st,version:0,merge:(st,nt)=>({...nt,...st}),...s},d=!1;const h=new Set,g=new Set;let b=c.storage;if(!b)return e((...st)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...st)},o,a);const j=()=>{const st=c.partialize({...o()});return b.setItem(c.name,{state:st,version:c.version})},_=a.setState;a.setState=(st,nt)=>{_(st,nt),j()};const _e=e((...st)=>{i(...st),j()},o,a);a.getInitialState=()=>_e;let tt;const rt=()=>{var st,nt;if(!b)return;d=!1,h.forEach($=>{var ot;return $((ot=o())!=null?ot:_e)});const et=((nt=c.onRehydrateStorage)==null?void 0:nt.call(c,(st=o())!=null?st:_e))||void 0;return toThenable(b.getItem.bind(b))(c.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==c.version){if(c.migrate)return[!0,c.migrate($.state,$.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var ot;const[lt,it]=$;if(tt=c.merge(it,(ot=o())!=null?ot:_e),i(tt,!0),lt)return j()}).then(()=>{et==null||et(tt,void 0),tt=o(),d=!0,g.forEach($=>$(tt))}).catch($=>{et==null||et(void 0,$)})};return a.persist={setOptions:st=>{c={...c,...st},st.storage&&(b=st.storage)},clearStorage:()=>{b==null||b.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>rt(),hasHydrated:()=>d,onHydrate:st=>(h.add(st),()=>{h.delete(st)}),onFinishHydration:st=>(g.add(st),()=>{g.delete(st)})},c.skipHydration||rt(),tt||_e},persistImpl=(e,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(e,s)):newImpl(e,s),persist=persistImpl,config={apiUrl:"http://localhost:3001"};function apiEndpoint(e){const s=config.apiUrl.replace(/\/$/,""),i=e.replace(/^\//,"");return`${s}/${i}`}const useAuthStore=create()(persist((e,s)=>({user:null,token:null,isLoading:!0,error:null,setUser:i=>e({user:i}),setToken:i=>e({token:i}),setLoading:i=>e({isLoading:i}),setError:i=>e({error:i}),signInWithEmail:async(i,o)=>{e({isLoading:!0,error:null});try{const a=await fetch(apiEndpoint("api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:i,password:o})}),c=await a.json();if(!a.ok)throw new Error(c.error||"Failed to sign in");e({user:c.user,token:c.token})}catch(a){const c=a instanceof Error?a.message:"Failed to sign in";throw e({error:c}),a}finally{e({isLoading:!1})}},signUpWithEmail:async(i,o,a)=>{e({isLoading:!0,error:null});try{const c=await fetch(apiEndpoint("api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:i,password:o,name:a})}),d=await c.json();if(!c.ok)throw new Error(d.error||"Failed to sign up");e({user:d.user,token:d.token})}catch(c){const d=c instanceof Error?c.message:"Failed to sign up";throw e({error:d}),c}finally{e({isLoading:!1})}},signOut:async()=>{e({isLoading:!0});try{await fetch(apiEndpoint("api/auth/logout"),{method:"POST",credentials:"include"}),e({user:null,token:null})}catch(i){const o=i instanceof Error?i.message:"Failed to sign out";e({error:o})}finally{e({isLoading:!1})}},fetchUser:async()=>{const{token:i}=s();if(i)try{const o=await fetch(apiEndpoint("api/auth/me"),{credentials:"include",headers:{Authorization:`Bearer ${i}`}});if(o.ok){const a=await o.json();e({user:a.user})}else e({user:null,token:null})}catch(o){console.error("Error fetching user:",o),e({user:null,token:null})}},initialize:async()=>{e({isLoading:!0});try{const{token:i}=s();i&&await s().fetchUser()}catch(i){console.error("Error initializing auth:",i)}finally{e({isLoading:!1})}}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user})})),isString$2=e=>typeof e=="string",defer=()=>{let e,s;const i=new Promise((o,a)=>{e=o,s=a});return i.resolve=e,i.reject=s,i},makeString=e=>e==null?"":""+e,copy=(e,s,i)=>{e.forEach(o=>{s[o]&&(i[o]=s[o])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=e=>e&&e.indexOf("###")>-1?e.replace(lastOfPathSeparatorRegExp,"."):e,canNotTraverseDeeper=e=>!e||isString$2(e),getLastOfPath=(e,s,i)=>{const o=isString$2(s)?s.split("."):s;let a=0;for(;a<o.length-1;){if(canNotTraverseDeeper(e))return{};const c=cleanKey(o[a]);!e[c]&&i&&(e[c]=new i),Object.prototype.hasOwnProperty.call(e,c)?e=e[c]:e={},++a}return canNotTraverseDeeper(e)?{}:{obj:e,k:cleanKey(o[a])}},setPath=(e,s,i)=>{const{obj:o,k:a}=getLastOfPath(e,s,Object);if(o!==void 0||s.length===1){o[a]=i;return}let c=s[s.length-1],d=s.slice(0,s.length-1),h=getLastOfPath(e,d,Object);for(;h.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),h=getLastOfPath(e,d,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=i},pushPath=(e,s,i,o)=>{const{obj:a,k:c}=getLastOfPath(e,s,Object);a[c]=a[c]||[],a[c].push(i)},getPath=(e,s)=>{const{obj:i,k:o}=getLastOfPath(e,s);if(i&&Object.prototype.hasOwnProperty.call(i,o))return i[o]},getPathWithDefaults=(e,s,i)=>{const o=getPath(e,i);return o!==void 0?o:getPath(s,i)},deepExtend=(e,s,i)=>{for(const o in s)o!=="__proto__"&&o!=="constructor"&&(o in e?isString$2(e[o])||e[o]instanceof String||isString$2(s[o])||s[o]instanceof String?i&&(e[o]=s[o]):deepExtend(e[o],s[o],i):e[o]=s[o]);return e},regexEscape=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape$1=e=>isString$2(e)?e.replace(/[&<>"'\/]/g,s=>_entityMap[s]):e;class RegExpCache{constructor(s){this.capacity=s,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(s){const i=this.regExpMap.get(s);if(i!==void 0)return i;const o=new RegExp(s);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(s,o),this.regExpQueue.push(s),o}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(e,s,i)=>{s=s||"",i=i||"";const o=chars.filter(d=>s.indexOf(d)<0&&i.indexOf(d)<0);if(o.length===0)return!0;const a=looksLikeObjectPathRegExpCache.getRegExp(`(${o.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!a.test(e);if(!c){const d=e.indexOf(i);d>0&&!a.test(e.substring(0,d))&&(c=!0)}return c},deepFind=(e,s,i=".")=>{if(!e)return;if(e[s])return Object.prototype.hasOwnProperty.call(e,s)?e[s]:void 0;const o=s.split(i);let a=e;for(let c=0;c<o.length;){if(!a||typeof a!="object")return;let d,h="";for(let g=c;g<o.length;++g)if(g!==c&&(h+=i),h+=o[g],d=a[h],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&g<o.length-1)continue;c+=g-c+1;break}a=d}return a},getCleanedCode=e=>e==null?void 0:e.replace("_","-"),consoleLogger={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,s){var i,o;(o=(i=console==null?void 0:console[e])==null?void 0:i.apply)==null||o.call(i,console,s)}};class Logger{constructor(s,i={}){this.init(s,i)}init(s,i={}){this.prefix=i.prefix||"i18next:",this.logger=s||consoleLogger,this.options=i,this.debug=i.debug}log(...s){return this.forward(s,"log","",!0)}warn(...s){return this.forward(s,"warn","",!0)}error(...s){return this.forward(s,"error","")}deprecate(...s){return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(s,i,o,a){return a&&!this.debug?null:(isString$2(s[0])&&(s[0]=`${o}${this.prefix} ${s[0]}`),this.logger[i](s))}create(s){return new Logger(this.logger,{prefix:`${this.prefix}:${s}:`,...this.options})}clone(s){return s=s||this.options,s.prefix=s.prefix||this.prefix,new Logger(this.logger,s)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(s,i){return s.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const a=this.observers[o].get(i)||0;this.observers[o].set(i,a+1)}),this}off(s,i){if(this.observers[s]){if(!i){delete this.observers[s];return}this.observers[s].delete(i)}}emit(s,...i){this.observers[s]&&Array.from(this.observers[s].entries()).forEach(([a,c])=>{for(let d=0;d<c;d++)a(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,c])=>{for(let d=0;d<c;d++)a.apply(a,[s,...i])})}}class ResourceStore extends EventEmitter{constructor(s,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=s||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}removeNamespaces(s){const i=this.options.ns.indexOf(s);i>-1&&this.options.ns.splice(i,1)}getResource(s,i,o,a={}){var b,j;const c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,d=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;s.indexOf(".")>-1?h=s.split("."):(h=[s,i],o&&(Array.isArray(o)?h.push(...o):isString$2(o)&&c?h.push(...o.split(c)):h.push(o)));const g=getPath(this.data,h);return!g&&!i&&!o&&s.indexOf(".")>-1&&(s=h[0],i=h[1],o=h.slice(2).join(".")),g||!d||!isString$2(o)?g:deepFind((j=(b=this.data)==null?void 0:b[s])==null?void 0:j[i],o,c)}addResource(s,i,o,a,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[s,i];o&&(h=h.concat(d?o.split(d):o)),s.indexOf(".")>-1&&(h=s.split("."),a=i,i=h[1]),this.addNamespaces(i),setPath(this.data,h,a),c.silent||this.emit("added",s,i,o,a)}addResources(s,i,o,a={silent:!1}){for(const c in o)(isString$2(o[c])||Array.isArray(o[c]))&&this.addResource(s,i,c,o[c],{silent:!0});a.silent||this.emit("added",s,i,o)}addResourceBundle(s,i,o,a,c,d={silent:!1,skipCopy:!1}){let h=[s,i];s.indexOf(".")>-1&&(h=s.split("."),a=o,o=i,i=h[1]),this.addNamespaces(i);let g=getPath(this.data,h)||{};d.skipCopy||(o=JSON.parse(JSON.stringify(o))),a?deepExtend(g,o,c):g={...g,...o},setPath(this.data,h,g),d.silent||this.emit("added",s,i,o)}removeResourceBundle(s,i){this.hasResourceBundle(s,i)&&delete this.data[s][i],this.removeNamespaces(i),this.emit("removed",s,i)}hasResourceBundle(s,i){return this.getResource(s,i)!==void 0}getResourceBundle(s,i){return i||(i=this.options.defaultNS),this.getResource(s,i)}getDataByLanguage(s){return this.data[s]}hasLanguageSomeTranslations(s){const i=this.getDataByLanguage(s);return!!(i&&Object.keys(i)||[]).find(a=>i[a]&&Object.keys(i[a]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,s,i,o,a){return e.forEach(c=>{var d;s=((d=this.processors[c])==null?void 0:d.process(s,i,o,a))??s}),s}};const PATH_KEY=Symbol("i18next/PATH_KEY");function createProxy(){const e=[],s=Object.create(null);let i;return s.get=(o,a)=>{var c;return(c=i==null?void 0:i.revoke)==null||c.call(i),a===PATH_KEY?e:(e.push(a),i=Proxy.revocable(o,s),i.proxy)},Proxy.revocable(Object.create(null),s).proxy}function keysFromSelector(e,s){const{[PATH_KEY]:i}=e(createProxy());return i.join((s==null?void 0:s.keySeparator)??".")}const checkedLoadedFor={},shouldHandleAsObject=e=>!isString$2(e)&&typeof e!="boolean"&&typeof e!="number";class Translator extends EventEmitter{constructor(s,i={}){super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(s){s&&(this.language=s)}exists(s,i={interpolation:{}}){const o={...i};if(s==null)return!1;const a=this.resolve(s,o);if((a==null?void 0:a.res)===void 0)return!1;const c=shouldHandleAsObject(a.res);return!(o.returnObjects===!1&&c)}extractFromKey(s,i){let o=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=i.ns||this.options.defaultNS||[];const d=o&&s.indexOf(o)>-1,h=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!looksLikeObjectPath(s,o,a);if(d&&!h){const g=s.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:s,namespaces:isString$2(c)?[c]:c};const b=s.split(o);(o!==a||o===a&&this.options.ns.indexOf(b[0])>-1)&&(c=b.shift()),s=b.join(a)}return{key:s,namespaces:isString$2(c)?[c]:c}}translate(s,i,o){let a=typeof i=="object"?{...i}:i;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),s==null)return"";typeof s=="function"&&(s=keysFromSelector(s,{...this.options,...a})),Array.isArray(s)||(s=[String(s)]);const c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,d=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:g}=this.extractFromKey(s[s.length-1],a),b=g[g.length-1];let j=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;j===void 0&&(j=":");const _=a.lng||this.language,_e=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((_==null?void 0:_.toLowerCase())==="cimode")return _e?c?{res:`${b}${j}${h}`,usedKey:h,exactUsedKey:h,usedLng:_,usedNS:b,usedParams:this.getUsedParamsDetails(a)}:`${b}${j}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:_,usedNS:b,usedParams:this.getUsedParamsDetails(a)}:h;const tt=this.resolve(s,a);let rt=tt==null?void 0:tt.res;const st=(tt==null?void 0:tt.usedKey)||h,nt=(tt==null?void 0:tt.exactUsedKey)||h,et=["[object Number]","[object Function]","[object RegExp]"],$=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,ot=!this.i18nFormat||this.i18nFormat.handleAsObject,lt=a.count!==void 0&&!isString$2(a.count),it=Translator.hasDefaultValue(a),dt=lt?this.pluralResolver.getSuffix(_,a.count,a):"",ct=a.ordinal&&lt?this.pluralResolver.getSuffix(_,a.count,{ordinal:!1}):"",ut=lt&&!a.ordinal&&a.count===0,ft=ut&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${dt}`]||a[`defaultValue${ct}`]||a.defaultValue;let yt=rt;ot&&!rt&&it&&(yt=ft);const ht=shouldHandleAsObject(yt),gt=Object.prototype.toString.apply(yt);if(ot&&yt&&ht&&et.indexOf(gt)<0&&!(isString$2($)&&Array.isArray(yt))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const St=this.options.returnedObjectHandler?this.options.returnedObjectHandler(st,yt,{...a,ns:g}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(tt.res=St,tt.usedParams=this.getUsedParamsDetails(a),tt):St}if(d){const St=Array.isArray(yt),Nt=St?[]:{},Lt=St?nt:st;for(const kt in yt)if(Object.prototype.hasOwnProperty.call(yt,kt)){const Ct=`${Lt}${d}${kt}`;it&&!rt?Nt[kt]=this.translate(Ct,{...a,defaultValue:shouldHandleAsObject(ft)?ft[kt]:void 0,joinArrays:!1,ns:g}):Nt[kt]=this.translate(Ct,{...a,joinArrays:!1,ns:g}),Nt[kt]===Ct&&(Nt[kt]=yt[kt])}rt=Nt}}else if(ot&&isString$2($)&&Array.isArray(rt))rt=rt.join($),rt&&(rt=this.extendTranslation(rt,s,a,o));else{let St=!1,Nt=!1;!this.isValidLookup(rt)&&it&&(St=!0,rt=ft),this.isValidLookup(rt)||(Nt=!0,rt=h);const kt=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Nt?void 0:rt,Ct=it&&ft!==rt&&this.options.updateMissing;if(Nt||St||Ct){if(this.logger.log(Ct?"updateKey":"missingKey",_,b,h,Ct?ft:rt),d){const It=this.resolve(h,{...a,keySeparator:!1});It&&It.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Tt=[];const xt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&xt&&xt[0])for(let It=0;It<xt.length;It++)Tt.push(xt[It]);else this.options.saveMissingTo==="all"?Tt=this.languageUtils.toResolveHierarchy(a.lng||this.language):Tt.push(a.lng||this.language);const Rt=(It,bt,pt)=>{var vt;const mt=it&&pt!==rt?pt:kt;this.options.missingKeyHandler?this.options.missingKeyHandler(It,b,bt,mt,Ct,a):(vt=this.backendConnector)!=null&&vt.saveMissing&&this.backendConnector.saveMissing(It,b,bt,mt,Ct,a),this.emit("missingKey",It,b,bt,rt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&lt?Tt.forEach(It=>{const bt=this.pluralResolver.getSuffixes(It,a);ut&&a[`defaultValue${this.options.pluralSeparator}zero`]&&bt.indexOf(`${this.options.pluralSeparator}zero`)<0&&bt.push(`${this.options.pluralSeparator}zero`),bt.forEach(pt=>{Rt([It],h+pt,a[`defaultValue${pt}`]||ft)})}):Rt(Tt,h,ft))}rt=this.extendTranslation(rt,s,a,tt,o),Nt&&rt===h&&this.options.appendNamespaceToMissingKey&&(rt=`${b}${j}${h}`),(Nt||St)&&this.options.parseMissingKeyHandler&&(rt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${b}${j}${h}`:h,St?rt:void 0,a))}return c?(tt.res=rt,tt.usedParams=this.getUsedParamsDetails(a),tt):rt}extendTranslation(s,i,o,a,c){var g,b;if((g=this.i18nFormat)!=null&&g.parse)s=this.i18nFormat.parse(s,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const j=isString$2(s)&&(((b=o==null?void 0:o.interpolation)==null?void 0:b.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(j){const tt=s.match(this.interpolator.nestingRegexp);_=tt&&tt.length}let _e=o.replace&&!isString$2(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(_e={...this.options.interpolation.defaultVariables,..._e}),s=this.interpolator.interpolate(s,_e,o.lng||this.language||a.usedLng,o),j){const tt=s.match(this.interpolator.nestingRegexp),rt=tt&&tt.length;_<rt&&(o.nest=!1)}!o.lng&&a&&a.res&&(o.lng=this.language||a.usedLng),o.nest!==!1&&(s=this.interpolator.nest(s,(...tt)=>(c==null?void 0:c[0])===tt[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${tt[0]} in key: ${i[0]}`),null):this.translate(...tt,i),o)),o.interpolation&&this.interpolator.reset()}const d=o.postProcess||this.options.postProcess,h=isString$2(d)?[d]:d;return s!=null&&(h!=null&&h.length)&&o.applyPostProcessor!==!1&&(s=postProcessor.handle(h,s,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),s}resolve(s,i={}){let o,a,c,d,h;return isString$2(s)&&(s=[s]),s.forEach(g=>{if(this.isValidLookup(o))return;const b=this.extractFromKey(g,i),j=b.key;a=j;let _=b.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const _e=i.count!==void 0&&!isString$2(i.count),tt=_e&&!i.ordinal&&i.count===0,rt=i.context!==void 0&&(isString$2(i.context)||typeof i.context=="number")&&i.context!=="",st=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);_.forEach(nt=>{var et,$;this.isValidLookup(o)||(h=nt,!checkedLoadedFor[`${st[0]}-${nt}`]&&((et=this.utils)!=null&&et.hasLoadedNamespace)&&!(($=this.utils)!=null&&$.hasLoadedNamespace(h))&&(checkedLoadedFor[`${st[0]}-${nt}`]=!0,this.logger.warn(`key "${a}" for languages "${st.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),st.forEach(ot=>{var dt;if(this.isValidLookup(o))return;d=ot;const lt=[j];if((dt=this.i18nFormat)!=null&&dt.addLookupKeys)this.i18nFormat.addLookupKeys(lt,j,ot,nt,i);else{let ct;_e&&(ct=this.pluralResolver.getSuffix(ot,i.count,i));const ut=`${this.options.pluralSeparator}zero`,ft=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_e&&(i.ordinal&&ct.indexOf(ft)===0&&lt.push(j+ct.replace(ft,this.options.pluralSeparator)),lt.push(j+ct),tt&&lt.push(j+ut)),rt){const yt=`${j}${this.options.contextSeparator||"_"}${i.context}`;lt.push(yt),_e&&(i.ordinal&&ct.indexOf(ft)===0&&lt.push(yt+ct.replace(ft,this.options.pluralSeparator)),lt.push(yt+ct),tt&&lt.push(yt+ut))}}let it;for(;it=lt.pop();)this.isValidLookup(o)||(c=it,o=this.getResource(ot,nt,it,i))}))})}),{res:o,usedKey:a,exactUsedKey:c,usedLng:d,usedNS:h}}isValidLookup(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}getResource(s,i,o,a={}){var c;return(c=this.i18nFormat)!=null&&c.getResource?this.i18nFormat.getResource(s,i,o,a):this.resourceStore.getResource(s,i,o,a)}getUsedParamsDetails(s={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=s.replace&&!isString$2(s.replace);let a=o?s.replace:s;if(o&&typeof s.count<"u"&&(a.count=s.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!o){a={...a};for(const c of i)delete a[c]}return a}static hasDefaultValue(s){const i="defaultValue";for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o)&&i===o.substring(0,i.length)&&s[o]!==void 0)return!0;return!1}}class LanguageUtil{constructor(s){this.options=s,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(s){if(s=getCleanedCode(s),!s||s.indexOf("-")<0)return null;const i=s.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(s){if(s=getCleanedCode(s),!s||s.indexOf("-")<0)return s;const i=s.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(s){if(isString$2(s)&&s.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(s)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?s.toLowerCase():s)}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}isSupportedCode(s){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}getBestMatchFromCodes(s){if(!s)return null;let i;return s.forEach(o=>{if(i)return;const a=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(a))&&(i=a)}),!i&&this.options.supportedLngs&&s.forEach(o=>{if(i)return;const a=this.getScriptPartFromCode(o);if(this.isSupportedCode(a))return i=a;const c=this.getLanguagePartFromCode(o);if(this.isSupportedCode(c))return i=c;i=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(s,i){if(!s)return[];if(typeof s=="function"&&(s=s(i)),isString$2(s)&&(s=[s]),Array.isArray(s))return s;if(!i)return s.default||[];let o=s[i];return o||(o=s[this.getScriptPartFromCode(i)]),o||(o=s[this.formatLanguageCode(i)]),o||(o=s[this.getLanguagePartFromCode(i)]),o||(o=s.default),o||[]}toResolveHierarchy(s,i){const o=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],s),a=[],c=d=>{d&&(this.isSupportedCode(d)?a.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return isString$2(s)&&(s.indexOf("-")>-1||s.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(s)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(s)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(s))):isString$2(s)&&c(this.formatLanguageCode(s)),o.forEach(d=>{a.indexOf(d)<0&&c(this.formatLanguageCode(d))}),a}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(s,i={}){this.languageUtils=s,this.options=i,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(s,i={}){const o=getCleanedCode(s==="dev"?"en":s),a=i.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:o,type:a});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(o,{type:a})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!s.match(/-|_/))return dummyRule;const g=this.languageUtils.getLanguagePartFromCode(s);d=this.getRule(g,i)}return this.pluralRulesCache[c]=d,d}needsPlural(s,i={}){let o=this.getRule(s,i);return o||(o=this.getRule("dev",i)),(o==null?void 0:o.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(s,i,o={}){return this.getSuffixes(s,o).map(a=>`${i}${a}`)}getSuffixes(s,i={}){let o=this.getRule(s,i);return o||(o=this.getRule("dev",i)),o?o.resolvedOptions().pluralCategories.sort((a,c)=>suffixesOrder[a]-suffixesOrder[c]).map(a=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(s,i,o={}){const a=this.getRule(s,o);return a?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${a.select(i)}`:(this.logger.warn(`no plural rule found for: ${s}`),this.getSuffix("dev",i,o))}}const deepFindWithDefaults=(e,s,i,o=".",a=!0)=>{let c=getPathWithDefaults(e,s,i);return!c&&a&&isString$2(i)&&(c=deepFind(e,i,o),c===void 0&&(c=deepFind(s,i,o))),c},regexSafe=e=>e.replace(/\$/g,"$$$$");class Interpolator{constructor(s={}){var i;this.logger=baseLogger.create("interpolator"),this.options=s,this.format=((i=s==null?void 0:s.interpolation)==null?void 0:i.format)||(o=>o),this.init(s)}init(s={}){s.interpolation||(s.interpolation={escapeValue:!0});const{escape:i,escapeValue:o,useRawValueToEscape:a,prefix:c,prefixEscaped:d,suffix:h,suffixEscaped:g,formatSeparator:b,unescapeSuffix:j,unescapePrefix:_,nestingPrefix:_e,nestingPrefixEscaped:tt,nestingSuffix:rt,nestingSuffixEscaped:st,nestingOptionsSeparator:nt,maxReplaces:et,alwaysFormat:$}=s.interpolation;this.escape=i!==void 0?i:escape$1,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=c?regexEscape(c):d||"{{",this.suffix=h?regexEscape(h):g||"}}",this.formatSeparator=b||",",this.unescapePrefix=j?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":j||"",this.nestingPrefix=_e?regexEscape(_e):tt||regexEscape("$t("),this.nestingSuffix=rt?regexEscape(rt):st||regexEscape(")"),this.nestingOptionsSeparator=nt||",",this.maxReplaces=et||1e3,this.alwaysFormat=$!==void 0?$:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const s=(i,o)=>(i==null?void 0:i.source)===o?(i.lastIndex=0,i):new RegExp(o,"g");this.regexp=s(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=s(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=s(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(s,i,o,a){var tt;let c,d,h;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},b=rt=>{if(rt.indexOf(this.formatSeparator)<0){const $=deepFindWithDefaults(i,g,rt,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,o,{...a,...i,interpolationkey:rt}):$}const st=rt.split(this.formatSeparator),nt=st.shift().trim(),et=st.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(i,g,nt,this.options.keySeparator,this.options.ignoreJSONStructure),et,o,{...a,...i,interpolationkey:nt})};this.resetRegExp();const j=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((tt=a==null?void 0:a.interpolation)==null?void 0:tt.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:rt=>regexSafe(rt)},{regex:this.regexp,safeValue:rt=>this.escapeValue?regexSafe(this.escape(rt)):regexSafe(rt)}].forEach(rt=>{for(h=0;c=rt.regex.exec(s);){const st=c[1].trim();if(d=b(st),d===void 0)if(typeof j=="function"){const et=j(s,c,a);d=isString$2(et)?et:""}else if(a&&Object.prototype.hasOwnProperty.call(a,st))d="";else if(_){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${st} for interpolating ${s}`),d="";else!isString$2(d)&&!this.useRawValueToEscape&&(d=makeString(d));const nt=rt.safeValue(d);if(s=s.replace(c[0],nt),_?(rt.regex.lastIndex+=d.length,rt.regex.lastIndex-=c[0].length):rt.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),s}nest(s,i,o={}){let a,c,d;const h=(g,b)=>{const j=this.nestingOptionsSeparator;if(g.indexOf(j)<0)return g;const _=g.split(new RegExp(`${j}[ ]*{`));let _e=`{${_[1]}`;g=_[0],_e=this.interpolate(_e,d);const tt=_e.match(/'/g),rt=_e.match(/"/g);(((tt==null?void 0:tt.length)??0)%2===0&&!rt||rt.length%2!==0)&&(_e=_e.replace(/'/g,'"'));try{d=JSON.parse(_e),b&&(d={...b,...d})}catch(st){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,st),`${g}${j}${_e}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,g};for(;a=this.nestingRegexp.exec(s);){let g=[];d={...o},d=d.replace&&!isString$2(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const b=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(b!==-1&&(g=a[1].slice(b).split(this.formatSeparator).map(j=>j.trim()).filter(Boolean),a[1]=a[1].slice(0,b)),c=i(h.call(this,a[1].trim(),d),d),c&&a[0]===s&&!isString$2(c))return c;isString$2(c)||(c=makeString(c)),c||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${s}`),c=""),g.length&&(c=g.reduce((j,_)=>this.format(j,_,o.lng,{...o,interpolationkey:a[1].trim()}),c.trim())),s=s.replace(a[0],c),this.regexp.lastIndex=0}return s}}const parseFormatStr=e=>{let s=e.toLowerCase().trim();const i={};if(e.indexOf("(")>-1){const o=e.split("(");s=o[0].toLowerCase().trim();const a=o[1].substring(0,o[1].length-1);s==="currency"&&a.indexOf(":")<0?i.currency||(i.currency=a.trim()):s==="relativetime"&&a.indexOf(":")<0?i.range||(i.range=a.trim()):a.split(";").forEach(d=>{if(d){const[h,...g]=d.split(":"),b=g.join(":").trim().replace(/^'+|'+$/g,""),j=h.trim();i[j]||(i[j]=b),b==="false"&&(i[j]=!1),b==="true"&&(i[j]=!0),isNaN(b)||(i[j]=parseInt(b,10))}})}return{formatName:s,formatOptions:i}},createCachedFormatter=e=>{const s={};return(i,o,a)=>{let c=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(c={...c,[a.interpolationkey]:void 0});const d=o+JSON.stringify(c);let h=s[d];return h||(h=e(getCleanedCode(o),a),s[d]=h),h(i)}},createNonCachedFormatter=e=>(s,i,o)=>e(getCleanedCode(i),o)(s);class Formatter{constructor(s={}){this.logger=baseLogger.create("formatter"),this.options=s,this.init(s)}init(s,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const o=i.cacheInBuiltFormats?createCachedFormatter:createNonCachedFormatter;this.formats={number:o((a,c)=>{const d=new Intl.NumberFormat(a,{...c});return h=>d.format(h)}),currency:o((a,c)=>{const d=new Intl.NumberFormat(a,{...c,style:"currency"});return h=>d.format(h)}),datetime:o((a,c)=>{const d=new Intl.DateTimeFormat(a,{...c});return h=>d.format(h)}),relativetime:o((a,c)=>{const d=new Intl.RelativeTimeFormat(a,{...c});return h=>d.format(h,c.range||"day")}),list:o((a,c)=>{const d=new Intl.ListFormat(a,{...c});return h=>d.format(h)})}}add(s,i){this.formats[s.toLowerCase().trim()]=i}addCached(s,i){this.formats[s.toLowerCase().trim()]=createCachedFormatter(i)}format(s,i,o,a={}){const c=i.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(g=>g.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,g)=>{var _;const{formatName:b,formatOptions:j}=parseFormatStr(g);if(this.formats[b]){let _e=h;try{const tt=((_=a==null?void 0:a.formatParams)==null?void 0:_[a.interpolationkey])||{},rt=tt.locale||tt.lng||a.locale||a.lng||o;_e=this.formats[b](h,rt,{...j,...a,...tt})}catch(tt){this.logger.warn(tt)}return _e}else this.logger.warn(`there was no format function for ${b}`);return h},s)}}const removePending=(e,s)=>{e.pending[s]!==void 0&&(delete e.pending[s],e.pendingCount--)};class Connector extends EventEmitter{constructor(s,i,o,a={}){var c,d;super(),this.backend=s,this.store=i,this.services=o,this.languageUtils=o.languageUtils,this.options=a,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(d=(c=this.backend)==null?void 0:c.init)==null||d.call(c,o,a.backend,a)}queueLoad(s,i,o,a){const c={},d={},h={},g={};return s.forEach(b=>{let j=!0;i.forEach(_=>{const _e=`${b}|${_}`;!o.reload&&this.store.hasResourceBundle(b,_)?this.state[_e]=2:this.state[_e]<0||(this.state[_e]===1?d[_e]===void 0&&(d[_e]=!0):(this.state[_e]=1,j=!1,d[_e]===void 0&&(d[_e]=!0),c[_e]===void 0&&(c[_e]=!0),g[_]===void 0&&(g[_]=!0)))}),j||(h[b]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(g)}}loaded(s,i,o){const a=s.split("|"),c=a[0],d=a[1];i&&this.emit("failedLoading",c,d,i),!i&&o&&this.store.addResourceBundle(c,d,o,void 0,void 0,{skipCopy:!0}),this.state[s]=i?-1:2,i&&o&&(this.state[s]=0);const h={};this.queue.forEach(g=>{pushPath(g.loaded,[c],d),removePending(g,s),i&&g.errors.push(i),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(b=>{h[b]||(h[b]={});const j=g.loaded[b];j.length&&j.forEach(_=>{h[b][_]===void 0&&(h[b][_]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(g=>!g.done)}read(s,i,o,a=0,c=this.retryTimeout,d){if(!s.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:i,fcName:o,tried:a,wait:c,callback:d});return}this.readingCalls++;const h=(b,j)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(b&&j&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,s,i,o,a+1,c*2,d)},c);return}d(b,j)},g=this.backend[o].bind(this.backend);if(g.length===2){try{const b=g(s,i);b&&typeof b.then=="function"?b.then(j=>h(null,j)).catch(h):h(null,b)}catch(b){h(b)}return}return g(s,i,h)}prepareLoading(s,i,o={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();isString$2(s)&&(s=this.languageUtils.toResolveHierarchy(s)),isString$2(i)&&(i=[i]);const c=this.queueLoad(s,i,o,a);if(!c.toLoad.length)return c.pending.length||a(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(s,i,o){this.prepareLoading(s,i,{},o)}reload(s,i,o){this.prepareLoading(s,i,{reload:!0},o)}loadOne(s,i=""){const o=s.split("|"),a=o[0],c=o[1];this.read(a,c,"read",void 0,void 0,(d,h)=>{d&&this.logger.warn(`${i}loading namespace ${c} for language ${a} failed`,d),!d&&h&&this.logger.log(`${i}loaded namespace ${c} for language ${a}`,h),this.loaded(s,d,h)})}saveMissing(s,i,o,a,c,d={},h=()=>{}){var g,b,j,_,_e;if((b=(g=this.services)==null?void 0:g.utils)!=null&&b.hasLoadedNamespace&&!((_=(j=this.services)==null?void 0:j.utils)!=null&&_.hasLoadedNamespace(i))){this.logger.warn(`did not save key "${o}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if((_e=this.backend)!=null&&_e.create){const tt={...d,isUpdate:c},rt=this.backend.create.bind(this.backend);if(rt.length<6)try{let st;rt.length===5?st=rt(s,i,o,a,tt):st=rt(s,i,o,a),st&&typeof st.then=="function"?st.then(nt=>h(null,nt)).catch(h):h(null,st)}catch(st){h(st)}else rt(s,i,o,a,h,tt)}!s||!s[0]||this.store.addResource(s[0],i,o,a)}}}const get=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let s={};if(typeof e[1]=="object"&&(s=e[1]),isString$2(e[1])&&(s.defaultValue=e[1]),isString$2(e[2])&&(s.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(o=>{s[o]=i[o]})}return s},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),transformOptions=e=>{var s,i;return isString$2(e.ns)&&(e.ns=[e.ns]),isString$2(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),isString$2(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((i=(s=e.supportedLngs)==null?void 0:s.indexOf)==null?void 0:i.call(s,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},noop$1=()=>{},bindMemberFunctions=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(i=>{typeof e[i]=="function"&&(e[i]=e[i].bind(e))})};let supportNoticeShown=!1;const usesLocize=e=>{var s,i,o,a,c,d,h,g,b;return!!(((o=(i=(s=e==null?void 0:e.modules)==null?void 0:s.backend)==null?void 0:i.name)==null?void 0:o.indexOf("Locize"))>0||((h=(d=(c=(a=e==null?void 0:e.modules)==null?void 0:a.backend)==null?void 0:c.constructor)==null?void 0:d.name)==null?void 0:h.indexOf("Locize"))>0||(b=(g=e==null?void 0:e.options)==null?void 0:g.backend)!=null&&b.backends&&e.options.backend.backends.some(j=>{var _,_e,tt;return((_=j==null?void 0:j.name)==null?void 0:_.indexOf("Locize"))>0||((tt=(_e=j==null?void 0:j.constructor)==null?void 0:_e.name)==null?void 0:tt.indexOf("Locize"))>0}))};class I18n extends EventEmitter{constructor(s={},i){if(super(),this.options=transformOptions(s),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),i&&!this.isInitialized&&!s.isClone){if(!this.options.initAsync)return this.init(s,i),this;setTimeout(()=>{this.init(s,i)},0)}}init(s={},i){this.isInitializing=!0,typeof s=="function"&&(i=s,s={}),s.defaultNS==null&&s.ns&&(isString$2(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const o=get();this.options={...o,...this.options,...transformOptions(s)},this.options.interpolation={...o.interpolation,...this.options.interpolation},s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=o.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!usesLocize(this)&&!supportNoticeShown&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),supportNoticeShown=!0);const a=b=>b?typeof b=="function"?new b:b:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(a(this.modules.logger),this.options):baseLogger.init(null,this.options);let b;this.modules.formatter?b=this.modules.formatter:b=Formatter;const j=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const _=this.services;_.logger=baseLogger,_.resourceStore=this.store,_.languageUtils=j,_.pluralResolver=new PluralResolver(j,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),b&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(_.formatter=a(b),_.formatter.init&&_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new Interpolator(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new Connector(a(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",(tt,...rt)=>{this.emit(tt,...rt)}),this.modules.languageDetector&&(_.languageDetector=a(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=a(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(tt,...rt)=>{this.emit(tt,...rt)}),this.modules.external.forEach(tt=>{tt.init&&tt.init(this)})}if(this.format=this.options.interpolation.format,i||(i=noop$1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const b=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);b.length>0&&b[0]!=="dev"&&(this.options.lng=b[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(b=>{this[b]=(...j)=>this.store[b](...j)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(b=>{this[b]=(...j)=>(this.store[b](...j),this)});const h=defer(),g=()=>{const b=(j,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(_),i(j,_)};if(this.languages&&!this.isInitialized)return b(null,this.t.bind(this));this.changeLanguage(this.options.lng,b)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),h}loadResources(s,i=noop$1){var c,d;let o=i;const a=isString$2(s)?s:this.language;if(typeof s=="function"&&(o=s),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const h=[],g=b=>{if(!b||b==="cimode")return;this.services.languageUtils.toResolveHierarchy(b).forEach(_=>{_!=="cimode"&&h.indexOf(_)<0&&h.push(_)})};a?g(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(j=>g(j)),(d=(c=this.options.preload)==null?void 0:c.forEach)==null||d.call(c,b=>g(b)),this.services.backendConnector.load(h,this.options.ns,b=>{!b&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(b)})}else o(null)}reloadResources(s,i,o){const a=defer();return typeof s=="function"&&(o=s,s=void 0),typeof i=="function"&&(o=i,i=void 0),s||(s=this.languages),i||(i=this.options.ns),o||(o=noop$1),this.services.backendConnector.reload(s,i,c=>{a.resolve(),o(c)}),a}use(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&postProcessor.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}setResolvedLanguage(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1)){for(let i=0;i<this.languages.length;i++){const o=this.languages[i];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(s)<0&&this.store.hasLanguageSomeTranslations(s)&&(this.resolvedLanguage=s,this.languages.unshift(s))}}changeLanguage(s,i){this.isLanguageChangingTo=s;const o=defer();this.emit("languageChanging",s);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,g)=>{g?this.isLanguageChangingTo===s&&(a(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,o.resolve((...b)=>this.t(...b)),i&&i(h,(...b)=>this.t(...b))},d=h=>{var j,_;!s&&!h&&this.services.languageDetector&&(h=[]);const g=isString$2(h)?h:h&&h[0],b=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(isString$2(h)?[h]:h);b&&(this.language||a(b),this.translator.language||this.translator.changeLanguage(b),(_=(j=this.services.languageDetector)==null?void 0:j.cacheUserLanguage)==null||_.call(j,b)),this.loadResources(b,_e=>{c(_e,b)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(s),o}getFixedT(s,i,o){const a=(c,d,...h)=>{let g;typeof d!="object"?g=this.options.overloadTranslationOptionHandler([c,d].concat(h)):g={...d},g.lng=g.lng||a.lng,g.lngs=g.lngs||a.lngs,g.ns=g.ns||a.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||o||a.keyPrefix);const b=this.options.keySeparator||".";let j;return g.keyPrefix&&Array.isArray(c)?j=c.map(_=>(typeof _=="function"&&(_=keysFromSelector(_,{...this.options,...d})),`${g.keyPrefix}${b}${_}`)):(typeof c=="function"&&(c=keysFromSelector(c,{...this.options,...d})),j=g.keyPrefix?`${g.keyPrefix}${b}${c}`:c),this.t(j,g)};return isString$2(s)?a.lng=s:a.lngs=s,a.ns=i,a.keyPrefix=o,a}t(...s){var i;return(i=this.translator)==null?void 0:i.translate(...s)}exists(...s){var i;return(i=this.translator)==null?void 0:i.exists(...s)}setDefaultNamespace(s){this.options.defaultNS=s}hasLoadedNamespace(s,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=i.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const d=(h,g)=>{const b=this.services.backendConnector.state[`${h}|${g}`];return b===-1||b===0||b===2};if(i.precheck){const h=i.precheck(this,d);if(h!==void 0)return h}return!!(this.hasResourceBundle(o,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(o,s)&&(!a||d(c,s)))}loadNamespaces(s,i){const o=defer();return this.options.ns?(isString$2(s)&&(s=[s]),s.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{o.resolve(),i&&i(a)}),o):(i&&i(),Promise.resolve())}loadLanguages(s,i){const o=defer();isString$2(s)&&(s=[s]);const a=this.options.preload||[],c=s.filter(d=>a.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=a.concat(c),this.loadResources(d=>{o.resolve(),i&&i(d)}),o):(i&&i(),Promise.resolve())}dir(s){var a,c;if(s||(s=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!s)return"rtl";try{const d=new Intl.Locale(s);if(d&&d.getTextInfo){const h=d.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=((c=this.services)==null?void 0:c.languageUtils)||new LanguageUtil(get());return s.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(o.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(s={},i){const o=new I18n(s,i);return o.createInstance=I18n.createInstance,o}cloneInstance(s={},i=noop$1){const o=s.forkResourceStore;o&&delete s.forkResourceStore;const a={...this.options,...s,isClone:!0},c=new I18n(a);if((s.debug!==void 0||s.prefix!==void 0)&&(c.logger=c.logger.clone(s)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},o){const h=Object.keys(this.store.data).reduce((g,b)=>(g[b]={...this.store.data[b]},g[b]=Object.keys(g[b]).reduce((j,_)=>(j[_]={...g[b][_]},j),g[b]),g),{});c.store=new ResourceStore(h,a),c.services.resourceStore=c.store}if(s.interpolation){const g={...get().interpolation,...this.options.interpolation,...s.interpolation},b={...a,interpolation:g};c.services.interpolator=new Interpolator(b)}return c.translator=new Translator(c.services,a),c.translator.on("*",(h,...g)=>{c.emit(h,...g)}),c.init(a,i),c.translator.options=a,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const warn=(e,s,i,o)=>{var c,d,h,g;const a=[i,{code:s,...o||{}}];if((d=(c=e==null?void 0:e.services)==null?void 0:c.logger)!=null&&d.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);isString$1(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(g=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&g.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},alreadyWarned={},warnOnce=(e,s,i,o)=>{isString$1(i)&&alreadyWarned[i]||(isString$1(i)&&(alreadyWarned[i]=new Date),warn(e,s,i,o))},loadedClb=(e,s)=>()=>{if(e.isInitialized)s();else{const i=()=>{setTimeout(()=>{e.off("initialized",i)},0),s()};e.on("initialized",i)}},loadNamespaces=(e,s,i)=>{e.loadNamespaces(s,loadedClb(e,i))},loadLanguages=(e,s,i,o)=>{if(isString$1(i)&&(i=[i]),e.options.preload&&e.options.preload.indexOf(s)>-1)return loadNamespaces(e,i,o);i.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(s,loadedClb(e,o))},hasLoadedNamespace=(e,s,i={})=>!s.languages||!s.languages.length?(warnOnce(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(e,{lng:i.lng,precheck:(o,a)=>{if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,e))return!1}}),isString$1=e=>typeof e=="string",isObject=e=>typeof e=="object"&&e!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=e=>htmlEntities[e],unescape$1=e=>e.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1,transDefaultProps:void 0};const setDefaults=(e={})=>{defaultOptions={...defaultOptions,...e}},getDefaults$1=()=>defaultOptions;let i18nInstance;const setI18n=e=>{i18nInstance=e},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(e){setDefaults(e.options.react),setI18n(e)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const notReadyT=(e,s)=>isString$1(s)?s:isObject(s)&&isString$1(s.defaultValue)?s.defaultValue:Array.isArray(e)?e[e.length-1]:e,notReadySnapshot={t:notReadyT,ready:!1},dummySubscribe=()=>()=>{},useTranslation=(e,s={})=>{var ft,yt,ht;const{i18n:i}=s,{i18n:o,defaultNS:a}=reactExports.useContext(I18nContext)||{},c=i||o||getI18n();c&&!c.reportNamespaces&&(c.reportNamespaces=new ReportNamespaces),c||warnOnce(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=reactExports.useMemo(()=>{var gt;return{...getDefaults$1(),...(gt=c==null?void 0:c.options)==null?void 0:gt.react,...s}},[c,s]),{useSuspense:h,keyPrefix:g}=d,b=a||((ft=c==null?void 0:c.options)==null?void 0:ft.defaultNS),j=isString$1(b)?[b]:b||["translation"],_=reactExports.useMemo(()=>j,j);(ht=(yt=c==null?void 0:c.reportNamespaces)==null?void 0:yt.addUsedNamespaces)==null||ht.call(yt,_);const _e=reactExports.useRef(0),tt=reactExports.useCallback(gt=>{if(!c)return dummySubscribe;const{bindI18n:St,bindI18nStore:Nt}=d,Lt=()=>{_e.current+=1,gt()};return St&&c.on(St,Lt),Nt&&c.store.on(Nt,Lt),()=>{St&&St.split(" ").forEach(kt=>c.off(kt,Lt)),Nt&&Nt.split(" ").forEach(kt=>c.store.off(kt,Lt))}},[c,d]),rt=reactExports.useRef(),st=reactExports.useCallback(()=>{if(!c)return notReadySnapshot;const gt=!!(c.isInitialized||c.initializedStoreOnce)&&_.every(Tt=>hasLoadedNamespace(Tt,c,d)),St=s.lng||c.language,Nt=_e.current,Lt=rt.current;if(Lt&&Lt.ready===gt&&Lt.lng===St&&Lt.keyPrefix===g&&Lt.revision===Nt)return Lt;const Ct={t:c.getFixedT(St,d.nsMode==="fallback"?_:_[0],g),ready:gt,lng:St,keyPrefix:g,revision:Nt};return rt.current=Ct,Ct},[c,_,g,d,s.lng]),[nt,et]=reactExports.useState(0),{t:$,ready:ot}=shimExports.useSyncExternalStore(tt,st,st);reactExports.useEffect(()=>{if(c&&!ot&&!h){const gt=()=>et(St=>St+1);s.lng?loadLanguages(c,s.lng,_,gt):loadNamespaces(c,_,gt)}},[c,s.lng,_,ot,h,nt]);const lt=c||{},it=reactExports.useRef(null),dt=reactExports.useRef(),ct=gt=>{const St=Object.getOwnPropertyDescriptors(gt);St.__original&&delete St.__original;const Nt=Object.create(Object.getPrototypeOf(gt),St);if(!Object.prototype.hasOwnProperty.call(Nt,"__original"))try{Object.defineProperty(Nt,"__original",{value:gt,writable:!1,enumerable:!1,configurable:!1})}catch{}return Nt},ut=reactExports.useMemo(()=>{const gt=lt,St=gt==null?void 0:gt.language;let Nt=gt;gt&&(it.current&&it.current.__original===gt?dt.current!==St?(Nt=ct(gt),it.current=Nt,dt.current=St):Nt=it.current:(Nt=ct(gt),it.current=Nt,dt.current=St));const Lt=[$,Nt,ot];return Lt.t=$,Lt.i18n=Nt,Lt.ready=ot,Lt},[$,lt,ot,lt.resolvedLanguage,lt.language,lt.languages]);if(c&&h&&!ot)throw new Promise(gt=>{const St=()=>gt();s.lng?loadLanguages(c,s.lng,_,St):loadNamespaces(c,_,St)});return ut},LayoutGroupContext=reactExports.createContext({});function useConstant(e){const s=reactExports.useRef(null);return s.current===null&&(s.current=e()),s.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const i=this.props.childRef.current;if(i&&s.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=i.offsetHeight||0,o.width=i.offsetWidth||0,o.top=i.offsetTop,o.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:s}){const i=reactExports.useId(),o=reactExports.useRef(null),a=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:d,height:h,top:g,left:b}=a.current;if(s||!o.current||!d||!h)return;o.current.dataset.motionPopId=i;const j=document.createElement("style");return c&&(j.nonce=c),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            top: ${g}px !important;
            left: ${b}px !important;
          }
        `),()=>{document.head.removeChild(j)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:o,sizeRef:a,children:reactExports.cloneElement(e,{ref:o})})}const PresenceChild=({children:e,initial:s,isPresent:i,onExitComplete:o,custom:a,presenceAffectsLayout:c,mode:d})=>{const h=useConstant(newChildrenMap),g=reactExports.useId(),b=reactExports.useCallback(_=>{h.set(_,!0);for(const _e of h.values())if(!_e)return;o&&o()},[h,o]),j=reactExports.useMemo(()=>({id:g,initial:s,isPresent:i,custom:a,onExitComplete:b,register:_=>(h.set(_,!1),()=>h.delete(_))}),c?[Math.random(),b]:[i,b]);return reactExports.useMemo(()=>{h.forEach((_,_e)=>h.set(_e,!1))},[i]),reactExports.useEffect(()=>{!i&&!h.size&&o&&o()},[i]),d==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:i,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:j,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const s=reactExports.useContext(PresenceContext);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:o,register:a}=s,c=reactExports.useId();reactExports.useEffect(()=>{e&&a(c)},[e]);const d=reactExports.useCallback(()=>e&&o&&o(c),[c,o,e]);return!i&&o?[!1,d]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const s=[];return reactExports.Children.forEach(e,i=>{reactExports.isValidElement(i)&&s.push(i)}),s}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:e,custom:s,initial:i=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:c="sync",propagate:d=!1})=>{const[h,g]=usePresence(d),b=reactExports.useMemo(()=>onlyElements(e),[e]),j=d&&!h?[]:b.map(getChildKey),_=reactExports.useRef(!0),_e=reactExports.useRef(b),tt=useConstant(()=>new Map),[rt,st]=reactExports.useState(b),[nt,et]=reactExports.useState(b);useIsomorphicLayoutEffect(()=>{_.current=!1,_e.current=b;for(let lt=0;lt<nt.length;lt++){const it=getChildKey(nt[lt]);j.includes(it)?tt.delete(it):tt.get(it)!==!0&&tt.set(it,!1)}},[nt,j.length,j.join("-")]);const $=[];if(b!==rt){let lt=[...b];for(let it=0;it<nt.length;it++){const dt=nt[it],ct=getChildKey(dt);j.includes(ct)||(lt.splice(it,0,dt),$.push(dt))}c==="wait"&&$.length&&(lt=$),et(onlyElements(lt)),st(b);return}const{forceRender:ot}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt.map(lt=>{const it=getChildKey(lt),dt=d&&!h?!1:b===nt||j.includes(it),ct=()=>{if(tt.has(it))tt.set(it,!0);else return;let ut=!0;tt.forEach(ft=>{ft||(ut=!1)}),ut&&(ot==null||ot(),et(_e.current),d&&(g==null||g()),o&&o())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:dt,initial:!_.current||i?void 0:!1,custom:dt?void 0:s,presenceAffectsLayout:a,mode:c,onExitComplete:dt?void 0:ct,children:lt},it)})})},noop=e=>e;let invariant$1=noop;function memo(e){let s;return()=>(s===void 0&&(s=e()),s)}const progress=(e,s,i)=>{const o=s-e;return o===0?1:(i-e)/o},secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(e){let s=new Set,i=new Set,o=!1,a=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(b){c.has(b)&&(g.schedule(b),e()),b(d)}const g={schedule:(b,j=!1,_=!1)=>{const tt=_&&o?s:i;return j&&c.add(b),tt.has(b)||tt.add(b),b},cancel:b=>{i.delete(b),c.delete(b)},process:b=>{if(d=b,o){a=!0;return}o=!0,[s,i]=[i,s],s.forEach(h),s.clear(),o=!1,a&&(a=!1,g.process(b))}};return g}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,s){let i=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,d=stepsOrder.reduce((et,$)=>(et[$]=createRenderStep(c),et),{}),{read:h,resolveKeyframes:g,update:b,preRender:j,render:_,postRender:_e}=d,tt=()=>{const et=performance.now();i=!1,a.delta=o?1e3/60:Math.max(Math.min(et-a.timestamp,maxElapsed),1),a.timestamp=et,a.isProcessing=!0,h.process(a),g.process(a),b.process(a),j.process(a),_.process(a),_e.process(a),a.isProcessing=!1,i&&s&&(o=!1,e(tt))},rt=()=>{i=!0,o=!0,a.isProcessing||e(tt)};return{schedule:stepsOrder.reduce((et,$)=>{const ot=d[$];return et[$]=(lt,it=!1,dt=!1)=>(i||rt(),ot.schedule(lt,it,dt)),et},{}),cancel:et=>{for(let $=0;$<stepsOrder.length;$++)d[stepsOrder[$]].cancel(et)},state:a,steps:d}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:s=>featureProps[e].some(i=>!!s[i])};function loadFeatures(e){for(const s in e)featureDefinitions[s]={...featureDefinitions[s],...e[s]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):e(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,s,i){const o={};for(const a in e)a==="values"&&typeof e.values=="object"||(shouldForward(a)||i===!0&&isValidMotionProp(a)||!s&&!isValidMotionProp(a)||e.draggable&&a.startsWith("onDrag"))&&(o[a]=e[a]);return o}function createDOMMotionComponentProxy(e){if(typeof Proxy>"u")return e;const s=new Map,i=(...o)=>e(...o);return new Proxy(i,{get:(o,a)=>a==="create"?e:(s.has(a)||s.set(a,e(a)),s.get(a))})}const MotionContext=reactExports.createContext({});function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(s=>isVariantLabel(e[s]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,s){if(isControllingVariants(e)){const{initial:i,animate:o}=e;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(o)?o:void 0}}return e.inherit!==!1?s:{}}function useCreateMotionContext(e){const{initial:s,animate:i}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:i}),[variantLabelsAsDependency(s),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,s,i){return reactExports.useCallback(o=>{o&&e.onMount&&e.onMount(o),s&&(o?s.mount(o):s.unmount()),i&&(typeof i=="function"?i(o):isRefObject(i)&&(i.current=o))},[s])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,s,i,o,a){var c,d;const{visualElement:h}=reactExports.useContext(MotionContext),g=reactExports.useContext(LazyContext),b=reactExports.useContext(PresenceContext),j=reactExports.useContext(MotionConfigContext).reducedMotion,_=reactExports.useRef(null);o=o||g.renderer,!_.current&&o&&(_.current=o(e,{visualState:s,parent:h,props:i,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:j}));const _e=_.current,tt=reactExports.useContext(SwitchLayoutGroupContext);_e&&!_e.projection&&a&&(_e.type==="html"||_e.type==="svg")&&createProjectionNode$1(_.current,i,a,tt);const rt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{_e&&rt.current&&_e.update(i,b)});const st=i[optimizedAppearDataAttribute],nt=reactExports.useRef(!!st&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,st))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,st)));return useIsomorphicLayoutEffect(()=>{_e&&(rt.current=!0,window.MotionIsMounted=!0,_e.updateFeatures(),microtask.render(_e.render),nt.current&&_e.animationState&&_e.animationState.animateChanges())}),reactExports.useEffect(()=>{_e&&(!nt.current&&_e.animationState&&_e.animationState.animateChanges(),nt.current&&(queueMicrotask(()=>{var et;(et=window.MotionHandoffMarkAsComplete)===null||et===void 0||et.call(window,st)}),nt.current=!1))}),_e}function createProjectionNode$1(e,s,i,o){const{layoutId:a,layout:c,drag:d,dragConstraints:h,layoutScroll:g,layoutRoot:b}=s;e.projection=new i(e.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!d||h&&isRefObject(h),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:b})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createRendererMotionComponent({preloadedFeatures:e,createVisualElement:s,useRender:i,useVisualState:o,Component:a}){var c,d;e&&loadFeatures(e);function h(b,j){let _;const _e={...reactExports.useContext(MotionConfigContext),...b,layoutId:useLayoutId(b)},{isStatic:tt}=_e,rt=useCreateMotionContext(b),st=o(b,tt);if(!tt&&isBrowser$1){useStrictMode();const nt=getProjectionFunctionality(_e);_=nt.MeasureLayout,rt.visualElement=useVisualElement(a,st,_e,s,nt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:rt,children:[_&&rt.visualElement?jsxRuntimeExports.jsx(_,{visualElement:rt.visualElement,..._e}):null,i(a,b,useMotionRef(st,rt.visualElement,j),st,tt,rt.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${(d=(c=a.displayName)!==null&&c!==void 0?c:a.name)!==null&&d!==void 0?d:""})`}`;const g=reactExports.forwardRef(h);return g[motionComponentSymbol]=a,g}function useLayoutId({layoutId:e}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&e!==void 0?s+"-"+e:e}function useStrictMode(e,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:s,layout:i}=featureDefinitions;if(!s&&!i)return{};const o={...s,...i};return{MeasureLayout:s!=null&&s.isEnabled(e)||i!=null&&i.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function getValueState(e){const s=[{},{}];return e==null||e.values.forEach((i,o)=>{s[0][o]=i.get(),s[1][o]=i.getVelocity()}),s}function resolveVariantFromProps(e,s,i,o){if(typeof s=="function"){const[a,c]=getValueState(o);s=s(i!==void 0?i:e.custom,a,c)}if(typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"){const[a,c]=getValueState(o);s=s(i!==void 0?i:e.custom,a,c)}return s}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e,isMotionValue=e=>!!(e&&e.getVelocity);function resolveMotionValue(e){const s=isMotionValue(e)?e.get():e;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:e,createRenderState:s,onUpdate:i},o,a,c){const d={latestValues:makeLatestValues(o,a,c,e),renderState:s()};return i&&(d.onMount=h=>i({props:o,current:h,...d}),d.onUpdate=h=>i(h)),d}const makeUseVisualState=e=>(s,i)=>{const o=reactExports.useContext(MotionContext),a=reactExports.useContext(PresenceContext),c=()=>makeState(e,s,o,a);return i?c():useConstant(c)};function makeLatestValues(e,s,i,o){const a={},c=o(e,{});for(const _e in c)a[_e]=resolveMotionValue(c[_e]);let{initial:d,animate:h}=e;const g=isControllingVariants(e),b=isVariantNode(e);s&&b&&!g&&e.inherit!==!1&&(d===void 0&&(d=s.initial),h===void 0&&(h=s.animate));let j=i?i.initial===!1:!1;j=j||d===!1;const _=j?h:d;if(_&&typeof _!="boolean"&&!isAnimationControls(_)){const _e=Array.isArray(_)?_:[_];for(let tt=0;tt<_e.length;tt++){const rt=resolveVariantFromProps(e,_e[tt]);if(rt){const{transitionEnd:st,transition:nt,...et}=rt;for(const $ in et){let ot=et[$];if(Array.isArray(ot)){const lt=j?ot.length-1:0;ot=ot[lt]}ot!==null&&(a[$]=ot)}for(const $ in st)a[$]=st[$]}}}return a}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=e=>s=>typeof s=="string"&&s.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(e,s)=>s&&typeof e=="number"?s.transform(e):e,clamp=(e,s,i)=>i>s?s:i<e?e:i,number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},createUnitType=e=>({test:s=>typeof s=="string"&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,s,i){let o="",a=!0;for(let c=0;c<numTransforms;c++){const d=transformPropOrder[c],h=e[d];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(d.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||i){const b=getValueAsType(h,numberValueTypes[d]);if(!g){a=!1;const j=translateAlias[d]||d;o+=`${j}(${b}) `}i&&(s[d]=b)}}return o=o.trim(),i?o=i(s,a?"":o):a&&(o="none"),o}function buildHTMLStyles(e,s,i){const{style:o,vars:a,transformOrigin:c}=e;let d=!1,h=!1;for(const g in s){const b=s[g];if(transformProps.has(g)){d=!0;continue}else if(isCSSVariableName(g)){a[g]=b;continue}else{const j=getValueAsType(b,numberValueTypes[g]);g.startsWith("origin")?(h=!0,c[g]=j):o[g]=j}}if(s.transform||(d||i?o.transform=buildTransform(s,e.transform,i):o.transform&&(o.transform="none")),h){const{originX:g="50%",originY:b="50%",originZ:j=0}=c;o.transformOrigin=`${g} ${b} ${j}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,s,i=1,o=0,a=!0){e.pathLength=1;const c=a?dashKeys:camelKeys;e[c.offset]=px.transform(-o);const d=px.transform(s),h=px.transform(i);e[c.array]=`${d} ${h}`}function calcOrigin$1(e,s,i){return typeof e=="string"?e:px.transform(s+i*e)}function calcSVGTransformOrigin(e,s,i){const o=calcOrigin$1(s,e.x,e.width),a=calcOrigin$1(i,e.y,e.height);return`${o} ${a}`}function buildSVGAttrs(e,{attrX:s,attrY:i,attrScale:o,originX:a,originY:c,pathLength:d,pathSpacing:h=1,pathOffset:g=0,...b},j,_){if(buildHTMLStyles(e,b,_),j){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_e,style:tt,dimensions:rt}=e;_e.transform&&(rt&&(tt.transform=_e.transform),delete _e.transform),rt&&(a!==void 0||c!==void 0||tt.transform)&&(tt.transformOrigin=calcSVGTransformOrigin(rt,a!==void 0?a:.5,c!==void 0?c:.5)),s!==void 0&&(_e.x=s),i!==void 0&&(_e.y=i),o!==void 0&&(_e.scale=o),d!==void 0&&buildSVGPath(_e,d,h,g,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function renderHTML(e,{style:s,vars:i},o,a){Object.assign(e.style,s,a&&a.getProjectionStyles(o));for(const c in i)e.style.setProperty(c,i[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,s,i,o){renderHTML(e,s,void 0,o);for(const a in s.attrs)e.setAttribute(camelCaseAttributes.has(a)?a:camelToDash(a),s.attrs[a])}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}function isForcedMotionValue(e,{layout:s,layoutId:i}){return transformProps.has(e)||e.startsWith("origin")||(s||i!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}function scrapeMotionValuesFromProps$1(e,s,i){var o;const{style:a}=e,c={};for(const d in a)(isMotionValue(a[d])||s.style&&isMotionValue(s.style[d])||isForcedMotionValue(d,e)||((o=i==null?void 0:i.getValue(d))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(c[d]=a[d]);return c}function scrapeMotionValuesFromProps(e,s,i){const o=scrapeMotionValuesFromProps$1(e,s,i);for(const a in e)if(isMotionValue(e[a])||isMotionValue(s[a])){const c=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[c]=e[a]}return o}function updateSVGDimensions(e,s){try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:e,prevProps:s,current:i,renderState:o,latestValues:a})=>{if(!i)return;let c=!!e.drag;if(!c){for(const h in a)if(transformProps.has(h)){c=!0;break}}if(!c)return;let d=!s;if(s)for(let h=0;h<layoutProps.length;h++){const g=layoutProps[h];e[g]!==s[g]&&(d=!0)}d&&frame.read(()=>{updateSVGDimensions(i,o),frame.render(()=>{buildSVGAttrs(o,a,isSVGTag(i.tagName),e.transformTemplate),renderSVG(i,o)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(e,s,i){for(const o in s)!isMotionValue(s[o])&&!isForcedMotionValue(o,i)&&(e[o]=s[o])}function useInitialMotionValues({transformTemplate:e},s){return reactExports.useMemo(()=>{const i=createHtmlRenderState();return buildHTMLStyles(i,s,e),Object.assign({},i.vars,i.style)},[s])}function useStyle(e,s){const i=e.style||{},o={};return copyRawValuesOnly(o,i,e),Object.assign(o,useInitialMotionValues(e,s)),o}function useHTMLProps(e,s){const i={},o=useStyle(e,s);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=o,i}function useSVGProps(e,s,i,o){const a=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,s,isSVGTag(o),e.transformTemplate),{...c.attrs,style:{...c.style}}},[s]);if(e.style){const c={};copyRawValuesOnly(c,e.style,e),a.style={...c,...a.style}}return a}function createUseRender(e=!1){return(i,o,a,{latestValues:c},d)=>{const g=(isSVGComponent(i)?useSVGProps:useHTMLProps)(o,c,d,i),b=filterProps(o,typeof i=="string",e),j=i!==reactExports.Fragment?{...b,...g,ref:a}:{},{children:_}=o,_e=reactExports.useMemo(()=>isMotionValue(_)?_.get():_,[_]);return reactExports.createElement(i,{...j,children:_e})}}function createMotionComponentFactory(e,s){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const d={...isSVGComponent(o)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:e,useRender:createUseRender(a),createVisualElement:s,Component:o};return createRendererMotionComponent(d)}}function shallowCompare(e,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==e.length)return!1;for(let o=0;o<i;o++)if(s[o]!==e[o])return!1;return!0}function resolveVariant(e,s,i){const o=e.getProps();return resolveVariantFromProps(o,s,i!==void 0?i:o.custom,e)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,i){for(let o=0;o<this.animations.length;o++)this.animations[o][s]=i}attachTimeline(s,i){const o=this.animations.map(a=>{if(supportsScrollTimeline()&&a.attachTimeline)return a.attachTimeline(s);if(typeof i=="function")return i(a)});return()=>{o.forEach((a,c)=>{a&&a(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let i=0;i<this.animations.length;i++)s=Math.max(s,this.animations[i].duration);return s}runAll(s){this.animations.forEach(i=>i[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(s,i){return Promise.all(this.animations).then(s).catch(i)}}function getValueTransition(e,s){return e?e[s]||e.default||e:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let s=0;const i=50;let o=e.next(s);for(;!o.done&&s<maxGeneratorDuration;)s+=i,o=e.next(s);return s>=maxGeneratorDuration?1/0:s}function isGenerator(e){return typeof e=="function"}function attachTimeline(e,s){e.timeline=s,e.onfinish=null}const isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(e,s){const i=memo(e);return()=>{var o;return(o=supportsFlags[s])!==null&&o!==void 0?o:i()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(e,s,i=10)=>{let o="";const a=Math.max(Math.round(s/i),2);for(let c=0;c<a;c++)o+=e(progress(0,a-1,c))+", ";return`linear(${o.substring(0,o.length-2)})`};function isWaapiSupportedEasing(e){return!!(typeof e=="function"&&supportsLinearEasing()||!e||typeof e=="string"&&(e in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,s,i,o])=>`cubic-bezier(${e}, ${s}, ${i}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,s){if(e)return typeof e=="function"&&supportsLinearEasing()?generateLinearEasing(e,s):isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(i=>mapEasingToNativeEasing(i,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(e,s,i){var o;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const c=(o=void 0)!==null&&o!==void 0?o:a.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function setupGesture(e,s){const i=resolveElements(e),o=new AbortController,a={passive:!0,...s,signal:o.signal};return[i,a,()=>o.abort()]}function filterEvents$1(e){return s=>{s.pointerType==="touch"||isDragActive()||e(s)}}function hover(e,s,i={}){const[o,a,c]=setupGesture(e,i),d=filterEvents$1(h=>{const{target:g}=h,b=s(h);if(typeof b!="function"||!g)return;const j=filterEvents$1(_=>{b(_),g.removeEventListener("pointerleave",j)});g.addEventListener("pointerleave",j,a)});return o.forEach(h=>{h.addEventListener("pointerenter",d,a)}),c}const isNodeOrChild=(e,s)=>s?e===s?!0:isNodeOrChild(e,s.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return s=>{s.key==="Enter"&&e(s)}}function firePointerEvent(e,s){e.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,s)=>{const i=e.currentTarget;if(!i)return;const o=filterEvents(()=>{if(isPressing.has(i))return;firePointerEvent(i,"down");const a=filterEvents(()=>{firePointerEvent(i,"up")}),c=()=>firePointerEvent(i,"cancel");i.addEventListener("keyup",a,s),i.addEventListener("blur",c,s)});i.addEventListener("keydown",o,s),i.addEventListener("blur",()=>i.removeEventListener("keydown",o),s)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,s,i={}){const[o,a,c]=setupGesture(e,i),d=h=>{const g=h.currentTarget;if(!isValidPressEvent(h)||isPressing.has(g))return;isPressing.add(g);const b=s(h),j=(tt,rt)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_e),!(!isValidPressEvent(tt)||!isPressing.has(g))&&(isPressing.delete(g),typeof b=="function"&&b(tt,{success:rt}))},_=tt=>{j(tt,i.useGlobalTarget||isNodeOrChild(g,tt.target))},_e=tt=>{j(tt,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",_e,a)};return o.forEach(h=>{!isElementKeyboardAccessible(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(i.useGlobalTarget?window:h).addEventListener("pointerdown",d,a),h.addEventListener("focus",b=>enableKeyboardPress(b,a),a)}),c}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}};function addUniqueItem(e,s){e.indexOf(s)===-1&&e.push(s)}function removeItem(e,s){const i=e.indexOf(s);i>-1&&e.splice(i,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,i,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,i,o);else for(let c=0;c<a;c++){const d=this.subscriptions[c];d&&d(s,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(e,s){return s?e*(1e3/s):0}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(s,i={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{const c=time.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=i.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,i){this.events[s]||(this.events[s]=new SubscriptionManager);const o=this.events[s].add(i);return s==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,i){this.passiveEffect=s,this.stopPassiveEffect=i}set(s,i=!0){!i||!this.passiveEffect?this.updateAndNotify(s,i):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,i,o){this.set(i),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-o}jump(s,i=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(s){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=s(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,s){return new MotionValue(e,s)}function setMotionValue(e,s,i){e.hasValue(s)?e.getValue(s).set(i):e.addValue(s,motionValue(i))}function setTarget(e,s){const i=resolveVariant(e,s);let{transitionEnd:o={},transition:a={},...c}=i||{};c={...c,...o};for(const d in c){const h=resolveFinalValueInKeyframes(c[d]);setMotionValue(e,d,h)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,s){const i=e.getValue("willChange");if(isWillChangeMotionValue(i))return i.add(s)}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const calcBezier=(e,s,i)=>(((1-3*i+3*s)*e+(3*i-6*s))*e+3*s)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,s,i,o,a){let c,d,h=0;do d=s+(i-s)/2,c=calcBezier(d,o,a)-e,c>0?i=d:s=d;while(Math.abs(c)>subdivisionPrecision&&++h<subdivisionMaxIterations);return d}function cubicBezier(e,s,i,o){if(e===s&&i===o)return noop;const a=c=>binarySubdivide(c,0,1,e,i);return c=>c===0||c===1?c:calcBezier(a(c),s,o)}const mirrorEasing=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,reverseEasing=e=>s=>1-e(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,s)=>i=>!!(typeof i=="string"&&singleColorRegex.test(i)&&i.startsWith(e)||s&&!isNullish(i)&&Object.prototype.hasOwnProperty.call(i,s)),splitColor=(e,s,i)=>o=>{if(typeof o!="string")return o;const[a,c,d,h]=o.match(floatRegex);return{[e]:parseFloat(a),[s]:parseFloat(c),[i]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:s,blue:i,alpha:o=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(o))+")"};function parseHex(e){let s="",i="",o="",a="";return e.length>5?(s=e.substring(1,3),i=e.substring(3,5),o=e.substring(5,7),a=e.substring(7,9)):(s=e.substring(1,2),i=e.substring(2,3),o=e.substring(3,4),a=e.substring(4,5),s+=s,i+=i,o+=o,a+=a),{red:parseInt(s,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:i,alpha:o=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(o))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var s,i;return isNaN(e)&&typeof e=="string"&&(((s=e.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((i=e.match(colorRegex))===null||i===void 0?void 0:i.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const s=e.toString(),i=[],o={color:[],number:[],var:[]},a=[];let c=0;const h=s.replace(complexRegex,g=>(color.test(g)?(o.color.push(c),a.push(COLOR_TOKEN),i.push(color.parse(g))):g.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(c),a.push(VAR_TOKEN),i.push(g)):(o.number.push(c),a.push(NUMBER_TOKEN),i.push(parseFloat(g))),++c,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:i,split:h,indexes:o,types:a}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:s,types:i}=analyseComplexValue(e),o=s.length;return a=>{let c="";for(let d=0;d<o;d++)if(c+=s[d],a[d]!==void 0){const h=i[d];h===NUMBER_TOKEN?c+=sanitize(a[d]):h===COLOR_TOKEN?c+=color.transform(a[d]):c+=a[d]}return c}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const s=parseComplexValue(e);return createTransformer(e)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[s,i]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[o]=i.match(floatRegex)||[];if(!o)return e;const a=i.replace(o,"");let c=maxDefaults.has(s)?1:0;return o!==i&&(c*=100),s+"("+c+a+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const s=e.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,s){let i=getDefaultValueType(e);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,s,i){let o=0,a;for(;o<e.length&&!a;){const c=e[o];typeof c=="string"&&!invalidTemplates.has(c)&&analyseComplexValue(c).values.length&&(a=e[o]),o++}if(a&&i)for(const c of s)e[c]=getAnimatableNone(i,a)}const isNumOrPxType=e=>e===number||e===px,getPosFromMatrix=(e,s)=>parseFloat(e.split(", ")[s]),getTranslateFromMatrix=(e,s)=>(i,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/u);if(a)return getPosFromMatrix(a[1],s);{const c=o.match(/^matrix\((.+)\)$/u);return c?getPosFromMatrix(c[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const s=[];return nonTranslationalTransformKeys.forEach(i=>{const o=e.getValue(i);o!==void 0&&(s.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:e},{paddingLeft:s="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),height:({y:e},{paddingTop:s="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(o=>o.needsMeasurement),s=new Set(e.map(o=>o.element)),i=new Map;s.forEach(o=>{const a=removeNonTranslationalTransform(o);a.length&&(i.set(o,a),o.render())}),e.forEach(o=>o.measureInitialState()),s.forEach(o=>{o.render();const a=i.get(o);a&&a.forEach(([c,d])=>{var h;(h=o.getValue(c))===null||h===void 0||h.set(d)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,i,o,a,c,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=i,this.name=o,this.motionValue=a,this.element=c,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:i,element:o,motionValue:a}=this;for(let c=0;c<s.length;c++)if(s[c]===null)if(c===0){const d=a==null?void 0:a.get(),h=s[s.length-1];if(d!==void 0)s[0]=d;else if(o&&i){const g=o.readValue(i,h);g!=null&&(s[0]=g)}s[0]===void 0&&(s[0]=h),a&&d===void 0&&a.set(s[0])}else s[c]=s[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const s=splitCSSVariableRegex.exec(e);if(!s)return[,];const[,i,o,a]=s;return[`--${i??o}`,a]}function getVariableValue(e,s,i=1){const[o,a]=parseCSSVariable(e);if(!o)return;const c=window.getComputedStyle(s).getPropertyValue(o);if(c){const d=c.trim();return isNumericalString(d)?parseFloat(d):d}return isCSSVariableToken(a)?getVariableValue(a,s,i+1):a}const testValueType=e=>s=>s.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));class DOMKeyframesResolver extends KeyframeResolver{constructor(s,i,o,a,c){super(s,i,o,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:i,name:o}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<s.length;g++){let b=s[g];if(typeof b=="string"&&(b=b.trim(),isCSSVariableToken(b))){const j=getVariableValue(b,i.current);j!==void 0&&(s[g]=j),g===s.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||s.length!==2)return;const[a,c]=s,d=findDimensionValueType(a),h=findDimensionValueType(c);if(d!==h)if(isNumOrPxType(d)&&isNumOrPxType(h))for(let g=0;g<s.length;g++){const b=s[g];typeof b=="string"&&(s[g]=parseFloat(b))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:i}=this,o=[];for(let a=0;a<s.length;a++)isNone(s[a])&&o.push(a);o.length&&makeNoneKeyframesAnimatable(s,o,i)}measureInitialState(){const{element:s,unresolvedKeyframes:i,name:o}=this;if(!s||!s.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](s.measureViewportBox(),window.getComputedStyle(s.current)),i[0]=this.measuredOrigin;const a=i[i.length-1];a!==void 0&&s.getValue(o,a).jump(a,!1)}measureEndState(){var s;const{element:i,name:o,unresolvedKeyframes:a}=this;if(!i||!i.current)return;const c=i.getValue(o);c&&c.jump(this.measuredOrigin,!1);const d=a.length-1,h=a[d];a[d]=positionalValues[o](i.measureViewportBox(),window.getComputedStyle(i.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([g,b])=>{i.getValue(g).set(b)}),this.resolveNoneKeyframes()}}const isAnimatable=(e,s)=>s==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const s=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==s)return!0}function canAnimate(e,s,i,o){const a=e[0];if(a===null)return!1;if(s==="display"||s==="visibility")return!0;const c=e[e.length-1],d=isAnimatable(a,s),h=isAnimatable(c,s);return!d||!h?!1:hasKeyframesChanged(e)||(i==="spring"||isGenerator(i))&&o}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:s,repeatType:i="loop"},o){const a=e.filter(isNotNull),c=s&&i!=="loop"&&s%2===1?0:a.length-1;return!c||o===void 0?a[c]:o}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:i=0,type:o="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:d="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:i,type:o,repeat:a,repeatDelay:c,repeatType:d,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,i){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:o,type:a,velocity:c,delay:d,onComplete:h,onUpdate:g,isGenerator:b}=this.options;if(!b&&!canAnimate(s,o,a,c))if(d)this.options.duration=0;else{g&&g(getFinalKeyframe(s,this.options,i)),h&&h(),this.resolveFinishedPromise();return}const j=this.initPlayback(s,i);j!==!1&&(this._resolved={keyframes:s,finalKeyframe:i,...j},this.onPostResolved())}onPostResolved(){}then(s,i){return this.currentFinishedPromise.then(s,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const mixNumber$1=(e,s,i)=>e+(s-e)*i;function hueToRgb(e,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(s-e)*6*i:i<1/2?s:i<2/3?e+(s-e)*(2/3-i)*6:e}function hslaToRgba({hue:e,saturation:s,lightness:i,alpha:o}){e/=360,s/=100,i/=100;let a=0,c=0,d=0;if(!s)a=c=d=i;else{const h=i<.5?i*(1+s):i+s-i*s,g=2*i-h;a=hueToRgb(g,h,e+1/3),c=hueToRgb(g,h,e),d=hueToRgb(g,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:o}}function mixImmediate(e,s){return i=>i>0?s:e}const mixLinearColor=(e,s,i)=>{const o=e*e,a=i*(s*s-o)+o;return a<0?0:Math.sqrt(a)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(s=>s.test(e));function asRGBA(e){const s=getColorType(e);if(!s)return!1;let i=s.parse(e);return s===hsla&&(i=hslaToRgba(i)),i}const mixColor=(e,s)=>{const i=asRGBA(e),o=asRGBA(s);if(!i||!o)return mixImmediate(e,s);const a={...i};return c=>(a.red=mixLinearColor(i.red,o.red,c),a.green=mixLinearColor(i.green,o.green,c),a.blue=mixLinearColor(i.blue,o.blue,c),a.alpha=mixNumber$1(i.alpha,o.alpha,c),rgba.transform(a))},combineFunctions=(e,s)=>i=>s(e(i)),pipe=(...e)=>e.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,s){return invisibleValues.has(e)?i=>i<=0?e:s:i=>i>=1?s:e}function mixNumber(e,s){return i=>mixNumber$1(e,s,i)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,s){const i=[...e],o=i.length,a=e.map((c,d)=>getMixer(c)(c,s[d]));return c=>{for(let d=0;d<o;d++)i[d]=a[d](c);return i}}function mixObject(e,s){const i={...e,...s},o={};for(const a in i)e[a]!==void 0&&s[a]!==void 0&&(o[a]=getMixer(e[a])(e[a],s[a]));return a=>{for(const c in o)i[c]=o[c](a);return i}}function matchOrder(e,s){var i;const o=[],a={color:0,var:0,number:0};for(let c=0;c<s.values.length;c++){const d=s.types[c],h=e.indexes[d][a[d]],g=(i=e.values[h])!==null&&i!==void 0?i:0;o[c]=g,a[d]++}return o}const mixComplex=(e,s)=>{const i=complex.createTransformer(s),o=analyseComplexValue(e),a=analyseComplexValue(s);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?invisibleValues.has(e)&&!a.values.length||invisibleValues.has(s)&&!o.values.length?mixVisibility(e,s):pipe(mixArray(matchOrder(o,a),a.values),i):mixImmediate(e,s)};function mix(e,s,i){return typeof e=="number"&&typeof s=="number"&&typeof i=="number"?mixNumber$1(e,s,i):getMixer(e)(e,s)}const velocitySampleDuration=5;function calcGeneratorVelocity(e,s,i){const o=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(i-e(o),s-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:s=springDefaults.bounce,velocity:i=springDefaults.velocity,mass:o=springDefaults.mass}){let a,c,d=1-s;d=clamp(springDefaults.minDamping,springDefaults.maxDamping,d),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),d<1?(a=b=>{const j=b*d,_=j*e,_e=j-i,tt=calcAngularFreq(b,d),rt=Math.exp(-_);return safeMin-_e/tt*rt},c=b=>{const _=b*d*e,_e=_*i+i,tt=Math.pow(d,2)*Math.pow(b,2)*e,rt=Math.exp(-_),st=calcAngularFreq(Math.pow(b,2),d);return(-a(b)+safeMin>0?-1:1)*((_e-tt)*rt)/st}):(a=b=>{const j=Math.exp(-b*e),_=(b-i)*e+1;return-safeMin+j*_},c=b=>{const j=Math.exp(-b*e),_=(i-b)*(e*e);return j*_});const h=5/e,g=approximateRoot(a,c,h);if(e=secondsToMilliseconds(e),isNaN(g))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const b=Math.pow(g,2)*o;return{stiffness:b,damping:d*2*Math.sqrt(o*b),duration:e}}}const rootIterations=12;function approximateRoot(e,s,i){let o=i;for(let a=1;a<rootIterations;a++)o=o-e(o)/s(o);return o}function calcAngularFreq(e,s){return e*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,s){return s.some(i=>e[i]!==void 0)}function getSpringOptions(e){let s={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const i=e.visualDuration,o=2*Math.PI/(i*1.2),a=o*o,c=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(a);s={...s,mass:springDefaults.mass,stiffness:a,damping:c}}else{const i=findSpring(e);s={...s,...i,mass:springDefaults.mass},s.isResolvedFromDuration=!0}return s}function spring(e=springDefaults.visualDuration,s=springDefaults.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:s}:e;let{restSpeed:o,restDelta:a}=i;const c=i.keyframes[0],d=i.keyframes[i.keyframes.length-1],h={done:!1,value:c},{stiffness:g,damping:b,mass:j,duration:_,velocity:_e,isResolvedFromDuration:tt}=getSpringOptions({...i,velocity:-millisecondsToSeconds(i.velocity||0)}),rt=_e||0,st=b/(2*Math.sqrt(g*j)),nt=d-c,et=millisecondsToSeconds(Math.sqrt(g/j)),$=Math.abs(nt)<5;o||(o=$?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),a||(a=$?springDefaults.restDelta.granular:springDefaults.restDelta.default);let ot;if(st<1){const it=calcAngularFreq(et,st);ot=dt=>{const ct=Math.exp(-st*et*dt);return d-ct*((rt+st*et*nt)/it*Math.sin(it*dt)+nt*Math.cos(it*dt))}}else if(st===1)ot=it=>d-Math.exp(-et*it)*(nt+(rt+et*nt)*it);else{const it=et*Math.sqrt(st*st-1);ot=dt=>{const ct=Math.exp(-st*et*dt),ut=Math.min(it*dt,300);return d-ct*((rt+st*et*nt)*Math.sinh(ut)+it*nt*Math.cosh(ut))/it}}const lt={calculatedDuration:tt&&_||null,next:it=>{const dt=ot(it);if(tt)h.done=it>=_;else{let ct=0;st<1&&(ct=it===0?secondsToMilliseconds(rt):calcGeneratorVelocity(ot,it,dt));const ut=Math.abs(ct)<=o,ft=Math.abs(d-dt)<=a;h.done=ut&&ft}return h.value=h.done?d:dt,h},toString:()=>{const it=Math.min(calcGeneratorDuration(lt),maxGeneratorDuration),dt=generateLinearEasing(ct=>lt.next(it*ct).value,it,30);return it+"ms "+dt}};return lt}function inertia({keyframes:e,velocity:s=0,power:i=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:d,min:h,max:g,restDelta:b=.5,restSpeed:j}){const _=e[0],_e={done:!1,value:_},tt=ut=>h!==void 0&&ut<h||g!==void 0&&ut>g,rt=ut=>h===void 0?g:g===void 0||Math.abs(h-ut)<Math.abs(g-ut)?h:g;let st=i*s;const nt=_+st,et=d===void 0?nt:d(nt);et!==nt&&(st=et-_);const $=ut=>-st*Math.exp(-ut/o),ot=ut=>et+$(ut),lt=ut=>{const ft=$(ut),yt=ot(ut);_e.done=Math.abs(ft)<=b,_e.value=_e.done?et:yt};let it,dt;const ct=ut=>{tt(_e.value)&&(it=ut,dt=spring({keyframes:[_e.value,rt(_e.value)],velocity:calcGeneratorVelocity(ot,ut,_e.value),damping:a,stiffness:c,restDelta:b,restSpeed:j}))};return ct(0),{calculatedDuration:null,next:ut=>{let ft=!1;return!dt&&it===void 0&&(ft=!0,lt(ut),ct(ut)),it!==void 0&&ut>=it?dt.next(ut-it):(!ft&&lt(ut),_e)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant$1(e.length===4);const[s,i,o,a]=e;return cubicBezier(s,i,o,a)}else if(typeof e=="string")return easingLookup[e];return e};function createMixers(e,s,i){const o=[],a=i||mix,c=e.length-1;for(let d=0;d<c;d++){let h=a(e[d],e[d+1]);if(s){const g=Array.isArray(s)?s[d]||noop:s;h=pipe(g,h)}o.push(h)}return o}function interpolate(e,s,{clamp:i=!0,ease:o,mixer:a}={}){const c=e.length;if(invariant$1(c===s.length),c===1)return()=>s[0];if(c===2&&s[0]===s[1])return()=>s[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),s=[...s].reverse());const h=createMixers(s,o,a),g=h.length,b=j=>{if(d&&j<e[0])return s[0];let _=0;if(g>1)for(;_<e.length-2&&!(j<e[_+1]);_++);const _e=progress(e[_],e[_+1],j);return h[_](_e)};return i?j=>b(clamp(e[0],e[c-1],j)):b}function fillOffset(e,s){const i=e[e.length-1];for(let o=1;o<=s;o++){const a=progress(0,s,o);e.push(mixNumber$1(i,1,a))}}function defaultOffset(e){const s=[0];return fillOffset(s,e.length-1),s}function convertOffsetToTimes(e,s){return e.map(i=>i*s)}function defaultEasing(e,s){return e.map(()=>s||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:s,times:i,ease:o="easeInOut"}){const a=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),c={done:!1,value:s[0]},d=convertOffsetToTimes(i&&i.length===s.length?i:defaultOffset(s),e),h=interpolate(d,s,{ease:Array.isArray(a)?a:defaultEasing(s,a)});return{calculatedDuration:e,next:g=>(c.value=h(g),c.done=g>=e,c)}}const frameloopDriver=e=>{const s=({timestamp:i})=>e(i);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=e=>e/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:i,motionValue:o,element:a,keyframes:c}=this.options,d=(a==null?void 0:a.KeyframeResolver)||KeyframeResolver,h=(g,b)=>this.onKeyframesResolved(g,b);this.resolver=new d(c,h,i,o,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c,velocity:d=0}=this.options,h=isGenerator(i)?i:generators[i]||keyframes;let g,b;h!==keyframes&&typeof s[0]!="number"&&(g=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const j=h({...this.options,keyframes:s});c==="mirror"&&(b=h({...this.options,keyframes:[...s].reverse(),velocity:-d})),j.calculatedDuration===null&&(j.calculatedDuration=calcGeneratorDuration(j));const{calculatedDuration:_}=j,_e=_+a,tt=_e*(o+1)-a;return{generator:j,mirroredGenerator:b,mapPercentToKeyframes:g,calculatedDuration:_,resolvedDuration:_e,totalDuration:tt}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,i=!1){const{resolved:o}=this;if(!o){const{keyframes:ut}=this.options;return{done:!0,value:ut[ut.length-1]}}const{finalKeyframe:a,generator:c,mirroredGenerator:d,mapPercentToKeyframes:h,keyframes:g,calculatedDuration:b,totalDuration:j,resolvedDuration:_}=o;if(this.startTime===null)return c.next(0);const{delay:_e,repeat:tt,repeatType:rt,repeatDelay:st,onUpdate:nt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-j/this.speed,this.startTime)),i?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const et=this.currentTime-_e*(this.speed>=0?1:-1),$=this.speed>=0?et<0:et>j;this.currentTime=Math.max(et,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=j);let ot=this.currentTime,lt=c;if(tt){const ut=Math.min(this.currentTime,j)/_;let ft=Math.floor(ut),yt=ut%1;!yt&&ut>=1&&(yt=1),yt===1&&ft--,ft=Math.min(ft,tt+1),!!(ft%2)&&(rt==="reverse"?(yt=1-yt,st&&(yt-=st/_)):rt==="mirror"&&(lt=d)),ot=clamp(0,1,yt)*_}const it=$?{done:!1,value:g[0]}:lt.next(ot);h&&(it.value=h(it.value));let{done:dt}=it;!$&&b!==null&&(dt=this.speed>=0?this.currentTime>=j:this.currentTime<=0);const ct=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return ct&&a!==void 0&&(it.value=getFinalKeyframe(g,this.options,a)),nt&&nt(it.value),ct&&this.finish(),it}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const i=this.playbackSpeed!==s;this.playbackSpeed=s,i&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:i,startTime:o}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),i&&i();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(e,s,i,{delay:o=0,duration:a=300,repeat:c=0,repeatType:d="loop",ease:h="easeInOut",times:g}={}){const b={[s]:i};g&&(b.offset=g);const j=mapEasingToNativeEasing(h,a);return Array.isArray(j)&&(b.easing=j),e.animate(b,{delay:o,duration:a,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(e){return isGenerator(e.type)||e.type==="spring"||!isWaapiSupportedEasing(e.ease)}function pregenerateKeyframes(e,s){const i=new MainThreadAnimation({...s,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const a=[];let c=0;for(;!o.done&&c<maxDuration;)o=i.sample(c),a.push(o.value),c+=sampleDelta;return{times:void 0,keyframes:a,duration:c-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:i,motionValue:o,element:a,keyframes:c}=this.options;this.resolver=new DOMKeyframesResolver(c,(d,h)=>this.onKeyframesResolved(d,h),i,o,a),this.resolver.scheduleResolve()}initPlayback(s,i){let{duration:o=300,times:a,ease:c,type:d,motionValue:h,name:g,startTime:b}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof c=="string"&&supportsLinearEasing()&&isUnsupportedEase(c)&&(c=unsupportedEasingFunctions[c]),requiresPregeneratedKeyframes(this.options)){const{onComplete:_,onUpdate:_e,motionValue:tt,element:rt,...st}=this.options,nt=pregenerateKeyframes(s,st);s=nt.keyframes,s.length===1&&(s[1]=s[0]),o=nt.duration,a=nt.times,c=nt.ease,d="keyframes"}const j=startWaapiAnimation(h.owner.current,g,s,{...this.options,duration:o,times:a,ease:c});return j.startTime=b??this.calcStartTime(),this.pendingTimeline?(attachTimeline(j,this.pendingTimeline),this.pendingTimeline=void 0):j.onfinish=()=>{const{onComplete:_}=this.options;h.set(getFinalKeyframe(s,this.options,i)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:j,duration:o,times:a,type:d,ease:c,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:i}=s;return millisecondsToSeconds(i)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:i}=s;return millisecondsToSeconds(i.currentTime||0)}set time(s){const{resolved:i}=this;if(!i)return;const{animation:o}=i;o.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:i}=s;return i.playbackRate}set speed(s){const{resolved:i}=this;if(!i)return;const{animation:o}=i;o.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:i}=s;return i.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:i}=s;return i.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:i}=this;if(!i)return noop;const{animation:o}=i;attachTimeline(o,s)}return noop}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:i,keyframes:o,duration:a,type:c,ease:d,times:h}=s;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:b,onUpdate:j,onComplete:_,element:_e,...tt}=this.options,rt=new MainThreadAnimation({...tt,keyframes:o,duration:a,type:c,ease:d,times:h,isGenerator:!0}),st=secondsToMilliseconds(this.time);b.setWithVelocity(rt.sample(st-sampleDelta).value,rt.sample(st).value,sampleDelta)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:i,name:o,repeatDelay:a,repeatType:c,damping:d,type:h}=s;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:b}=i.owner.getProps();return supportsWaapi()&&o&&acceleratedValues.has(o)&&!g&&!b&&!a&&c!=="mirror"&&d!==0&&h!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:s,delayChildren:i,staggerChildren:o,staggerDirection:a,repeat:c,repeatType:d,repeatDelay:h,from:g,elapsed:b,...j}){return!!Object.keys(j).length}const animateMotionValue=(e,s,i,o={},a,c)=>d=>{const h=getValueTransition(o,e)||{},g=h.delay||o.delay||0;let{elapsed:b=0}=o;b=b-secondsToMilliseconds(g);let j={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:s.getVelocity(),...h,delay:-b,onUpdate:_e=>{s.set(_e),h.onUpdate&&h.onUpdate(_e)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:e,motionValue:s,element:c?void 0:a};isTransitionDefined(h)||(j={...j,...getDefaultTransition(e,j)}),j.duration&&(j.duration=secondsToMilliseconds(j.duration)),j.repeatDelay&&(j.repeatDelay=secondsToMilliseconds(j.repeatDelay)),j.from!==void 0&&(j.keyframes[0]=j.from);let _=!1;if((j.type===!1||j.duration===0&&!j.repeatDelay)&&(j.duration=0,j.delay===0&&(_=!0)),_&&!c&&s.get()!==void 0){const _e=getFinalKeyframe(j.keyframes,h);if(_e!==void 0)return frame.update(()=>{j.onUpdate(_e),j.onComplete()}),new GroupPlaybackControls([])}return!c&&AcceleratedAnimation.supports(j)?new AcceleratedAnimation(j):new MainThreadAnimation(j)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:s},i){const o=e.hasOwnProperty(i)&&s[i]!==!0;return s[i]=!1,o}function animateTarget(e,s,{delay:i=0,transitionOverride:o,type:a}={}){var c;let{transition:d=e.getDefaultTransition(),transitionEnd:h,...g}=s;o&&(d=o);const b=[],j=a&&e.animationState&&e.animationState.getState()[a];for(const _ in g){const _e=e.getValue(_,(c=e.latestValues[_])!==null&&c!==void 0?c:null),tt=g[_];if(tt===void 0||j&&shouldBlockAnimation(j,_))continue;const rt={delay:i,...getValueTransition(d||{},_)};let st=!1;if(window.MotionHandoffAnimation){const et=getOptimisedAppearId(e);if(et){const $=window.MotionHandoffAnimation(et,_,frame);$!==null&&(rt.startTime=$,st=!0)}}addValueToWillChange(e,_),_e.start(animateMotionValue(_,_e,tt,e.shouldReduceMotion&&positionalKeys.has(_)?{type:!1}:rt,e,st));const nt=_e.animation;nt&&b.push(nt)}return h&&Promise.all(b).then(()=>{frame.update(()=>{h&&setTarget(e,h)})}),b}function animateVariant(e,s,i={}){var o;const a=resolveVariant(e,s,i.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(c=i.transitionOverride);const d=a?()=>Promise.all(animateTarget(e,a,i)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(b=0)=>{const{delayChildren:j=0,staggerChildren:_,staggerDirection:_e}=c;return animateChildren(e,s,j+b,_,_e,i)}:()=>Promise.resolve(),{when:g}=c;if(g){const[b,j]=g==="beforeChildren"?[d,h]:[h,d];return b().then(()=>j())}else return Promise.all([d(),h(i.delay)])}function animateChildren(e,s,i=0,o=0,a=1,c){const d=[],h=(e.variantChildren.size-1)*o,g=a===1?(b=0)=>b*o:(b=0)=>h-b*o;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((b,j)=>{b.notify("AnimationStart",s),d.push(animateVariant(b,s,{...c,delay:i+g(j)}).then(()=>b.notify("AnimationComplete",s)))}),Promise.all(d)}function sortByTreeOrder(e,s){return e.sortNodePosition(s)}function animateVisualElement(e,s,i={}){e.notify("AnimationStart",s);let o;if(Array.isArray(s)){const a=s.map(c=>animateVariant(e,c,i));o=Promise.all(a)}else if(typeof s=="string")o=animateVariant(e,s,i);else{const a=typeof s=="function"?resolveVariant(e,s,i.custom):s;o=Promise.all(animateTarget(e,a,i))}return o.then(()=>{e.notify("AnimationComplete",s)})}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const s={};for(let i=0;i<numVariantProps;i++){const o=variantProps[i],a=e.props[o];(isVariantLabel(a)||a===!1)&&(s[o]=a)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return s=>Promise.all(s.map(({animation:i,options:o})=>animateVisualElement(e,i,o)))}function createAnimationState(e){let s=animateList(e),i=createState(),o=!0;const a=g=>(b,j)=>{var _;const _e=resolveVariant(e,j,g==="exit"?(_=e.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(_e){const{transition:tt,transitionEnd:rt,...st}=_e;b={...b,...st,...rt}}return b};function c(g){s=g(e)}function d(g){const{props:b}=e,j=getVariantContext(e.parent)||{},_=[],_e=new Set;let tt={},rt=1/0;for(let nt=0;nt<numAnimationTypes;nt++){const et=reversePriorityOrder[nt],$=i[et],ot=b[et]!==void 0?b[et]:j[et],lt=isVariantLabel(ot),it=et===g?$.isActive:null;it===!1&&(rt=nt);let dt=ot===j[et]&&ot!==b[et]&&lt;if(dt&&o&&e.manuallyAnimateOnMount&&(dt=!1),$.protectedKeys={...tt},!$.isActive&&it===null||!ot&&!$.prevProp||isAnimationControls(ot)||typeof ot=="boolean")continue;const ct=checkVariantsDidChange($.prevProp,ot);let ut=ct||et===g&&$.isActive&&!dt&&lt||nt>rt&&lt,ft=!1;const yt=Array.isArray(ot)?ot:[ot];let ht=yt.reduce(a(et),{});it===!1&&(ht={});const{prevResolvedValues:gt={}}=$,St={...gt,...ht},Nt=Ct=>{ut=!0,_e.has(Ct)&&(ft=!0,_e.delete(Ct)),$.needsAnimating[Ct]=!0;const Tt=e.getValue(Ct);Tt&&(Tt.liveStyle=!1)};for(const Ct in St){const Tt=ht[Ct],xt=gt[Ct];if(tt.hasOwnProperty(Ct))continue;let Rt=!1;isKeyframesTarget(Tt)&&isKeyframesTarget(xt)?Rt=!shallowCompare(Tt,xt):Rt=Tt!==xt,Rt?Tt!=null?Nt(Ct):_e.add(Ct):Tt!==void 0&&_e.has(Ct)?Nt(Ct):$.protectedKeys[Ct]=!0}$.prevProp=ot,$.prevResolvedValues=ht,$.isActive&&(tt={...tt,...ht}),o&&e.blockInitialAnimation&&(ut=!1),ut&&(!(dt&&ct)||ft)&&_.push(...yt.map(Ct=>({animation:Ct,options:{type:et}})))}if(_e.size){const nt={};_e.forEach(et=>{const $=e.getBaseTarget(et),ot=e.getValue(et);ot&&(ot.liveStyle=!0),nt[et]=$??null}),_.push({animation:nt})}let st=!!_.length;return o&&(b.initial===!1||b.initial===b.animate)&&!e.manuallyAnimateOnMount&&(st=!1),o=!1,st?s(_):Promise.resolve()}function h(g,b){var j;if(i[g].isActive===b)return Promise.resolve();(j=e.variantChildren)===null||j===void 0||j.forEach(_e=>{var tt;return(tt=_e.animationState)===null||tt===void 0?void 0:tt.setActive(g,b)}),i[g].isActive=b;const _=d(g);for(const _e in i)i[_e].protectedKeys={};return _}return{animateChanges:d,setActive:h,setAnimateFunction:c,getState:()=>i,reset:()=>{i=createState(),o=!0}}}function checkVariantsDidChange(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!shallowCompare(s,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===o)return;const a=this.node.animationState.setActive("exit",!s);i&&!s&&a.then(()=>i(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,s,i,o={passive:!0}){return e.addEventListener(s,i,o),()=>e.removeEventListener(s,i)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>s=>isPrimaryPointer(s)&&e(s,extractEventInfo(s));function addPointerEvent(e,s,i,o){return addDomEvent(e,s,addPointerInfo(i),o)}const distance=(e,s)=>Math.abs(e-s);function distance2D(e,s){const i=distance(e.x,s.x),o=distance(e.y,s.y);return Math.sqrt(i**2+o**2)}class PanSession{constructor(s,i,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=getPanInfo(this.lastMoveEventInfo,this.history),_e=this.startEvent!==null,tt=distance2D(_.offset,{x:0,y:0})>=3;if(!_e&&!tt)return;const{point:rt}=_,{timestamp:st}=frameData;this.history.push({...rt,timestamp:st});const{onStart:nt,onMove:et}=this.handlers;_e||(nt&&nt(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),et&&et(this.lastMoveEvent,_)},this.handlePointerMove=(_,_e)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=transformPoint(_e,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(_,_e)=>{this.end();const{onEnd:tt,onSessionEnd:rt,resumeAnimation:st}=this.handlers;if(this.dragSnapToOrigin&&st&&st(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const nt=getPanInfo(_.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(_e,this.transformPagePoint),this.history);this.startEvent&&tt&&tt(_,nt),rt&&rt(_,nt)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=o,this.contextWindow=a||window;const d=extractEventInfo(s),h=transformPoint(d,this.transformPagePoint),{point:g}=h,{timestamp:b}=frameData;this.history=[{...g,timestamp:b}];const{onSessionStart:j}=i;j&&j(s,getPanInfo(h,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,s){return s?{point:s(e.point)}:e}function subtractPoint(e,s){return{x:e.x-s.x,y:e.y-s.y}}function getPanInfo({point:e},s){return{point:e,delta:subtractPoint(e,lastDevicePoint(s)),offset:subtractPoint(e,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,s){if(e.length<2)return{x:0,y:0};let i=e.length-1,o=null;const a=lastDevicePoint(e);for(;i>=0&&(o=e[i],!(a.timestamp-o.timestamp>secondsToMilliseconds(s)));)i--;if(!o)return{x:0,y:0};const c=millisecondsToSeconds(a.timestamp-o.timestamp);if(c===0)return{x:0,y:0};const d={x:(a.x-o.x)/c,y:(a.y-o.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,s,i){return Math.abs(e-s)<=i}function calcAxisDelta(e,s,i,o=.5){e.origin=o,e.originPoint=mixNumber$1(s.min,s.max,e.origin),e.scale=calcLength(i)/calcLength(s),e.translate=mixNumber$1(i.min,i.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,s,i,o){calcAxisDelta(e.x,s.x,i.x,o?o.originX:void 0),calcAxisDelta(e.y,s.y,i.y,o?o.originY:void 0)}function calcRelativeAxis(e,s,i){e.min=i.min+s.min,e.max=e.min+calcLength(s)}function calcRelativeBox(e,s,i){calcRelativeAxis(e.x,s.x,i.x),calcRelativeAxis(e.y,s.y,i.y)}function calcRelativeAxisPosition(e,s,i){e.min=s.min-i.min,e.max=e.min+calcLength(s)}function calcRelativePosition(e,s,i){calcRelativeAxisPosition(e.x,s.x,i.x),calcRelativeAxisPosition(e.y,s.y,i.y)}function applyConstraints(e,{min:s,max:i},o){return s!==void 0&&e<s?e=o?mixNumber$1(s,e,o.min):Math.max(e,s):i!==void 0&&e>i&&(e=o?mixNumber$1(i,e,o.max):Math.min(e,i)),e}function calcRelativeAxisConstraints(e,s,i){return{min:s!==void 0?e.min+s:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:s,left:i,bottom:o,right:a}){return{x:calcRelativeAxisConstraints(e.x,i,a),y:calcRelativeAxisConstraints(e.y,s,o)}}function calcViewportAxisConstraints(e,s){let i=s.min-e.min,o=s.max-e.max;return s.max-s.min<e.max-e.min&&([i,o]=[o,i]),{min:i,max:o}}function calcViewportConstraints(e,s){return{x:calcViewportAxisConstraints(e.x,s.x),y:calcViewportAxisConstraints(e.y,s.y)}}function calcOrigin(e,s){let i=.5;const o=calcLength(e),a=calcLength(s);return a>o?i=progress(s.min,s.max-o,e.min):o>a&&(i=progress(e.min,e.max-a,s.min)),clamp(0,1,i)}function rebaseAxisConstraints(e,s){const i={};return s.min!==void 0&&(i.min=s.min-e.min),s.max!==void 0&&(i.max=s.max-e.min),i}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,s,i){return{min:resolvePointElastic(e,s),max:resolvePointElastic(e,i)}}function resolvePointElastic(e,s){return typeof e=="number"?e:e[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:s,right:i,bottom:o}){return{x:{min:s,max:i},y:{min:e,max:o}}}function convertBoxToBoundingBox({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function transformBoxPoints(e,s){if(!s)return e;const i=s({x:e.left,y:e.top}),o=s({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:s,scaleY:i}){return!isIdentityScale(e)||!isIdentityScale(s)||!isIdentityScale(i)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,s,i){const o=e-i,a=s*o;return i+a}function applyPointDelta(e,s,i,o,a){return a!==void 0&&(e=scalePoint(e,a,o)),scalePoint(e,i,o)+s}function applyAxisDelta(e,s=0,i=1,o,a){e.min=applyPointDelta(e.min,s,i,o,a),e.max=applyPointDelta(e.max,s,i,o,a)}function applyBoxDelta(e,{x:s,y:i}){applyAxisDelta(e.x,s.translate,s.scale,s.originPoint),applyAxisDelta(e.y,i.translate,i.scale,i.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,s,i,o=!1){const a=i.length;if(!a)return;s.x=s.y=1;let c,d;for(let h=0;h<a;h++){c=i[h],d=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(s.x*=d.x.scale,s.y*=d.y.scale,applyBoxDelta(e,d)),o&&hasTransform(c.latestValues)&&transformBox(e,c.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(e,s){e.min=e.min+s,e.max=e.max+s}function transformAxis(e,s,i,o,a=.5){const c=mixNumber$1(e.min,e.max,a);applyAxisDelta(e,s,i,c,o)}function transformBox(e,s){transformAxis(e.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(e.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(e,s){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),s))}function measurePageBox(e,s,i){const o=measureViewportBox(e,i),{scroll:a}=s;return a&&(translateAxis(o.x,a.offset.x),translateAxis(o.y,a.offset.y)),o}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:i=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=j=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(j).point)},c=(j,_)=>{const{drag:_e,dragPropagation:tt,onDragStart:rt}=this.getProps();if(_e&&!tt&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(_e),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(nt=>{let et=this.getAxisMotionValue(nt).get()||0;if(percent.test(et)){const{projection:$}=this.visualElement;if($&&$.layout){const ot=$.layout.layoutBox[nt];ot&&(et=calcLength(ot)*(parseFloat(et)/100))}}this.originPoint[nt]=et}),rt&&frame.postRender(()=>rt(j,_)),addValueToWillChange(this.visualElement,"transform");const{animationState:st}=this.visualElement;st&&st.setActive("whileDrag",!0)},d=(j,_)=>{const{dragPropagation:_e,dragDirectionLock:tt,onDirectionLock:rt,onDrag:st}=this.getProps();if(!_e&&!this.openDragLock)return;const{offset:nt}=_;if(tt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(nt),this.currentDirection!==null&&rt&&rt(this.currentDirection);return}this.updateAxis("x",_.point,nt),this.updateAxis("y",_.point,nt),this.visualElement.render(),st&&st(j,_)},h=(j,_)=>this.stop(j,_),g=()=>eachAxis(j=>{var _;return this.getAnimationState(j)==="paused"&&((_=this.getAxisMotionValue(j).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,contextWindow:getContextWindow(this.visualElement)})}stop(s,i){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,o){const{drag:a}=this.getProps();if(!o||!shouldDrag(s,a,this.currentDirection))return;const c=this.getAxisMotionValue(s);let d=this.originPoint[s]+o[s];this.constraints&&this.constraints[s]&&(d=applyConstraints(d,this.constraints[s],this.elastic[s])),c.set(d)}resolveConstraints(){var s;const{dragConstraints:i,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,c=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&a?this.constraints=calcRelativeConstraints(a.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(o),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=rebaseAxisConstraints(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!isRefObject(s))return!1;const o=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=measurePageBox(o,a.root,this.visualElement.getTransformPagePoint());let d=calcViewportConstraints(a.layout.layoutBox,c);if(i){const h=i(convertBoxToBoundingBox(d));this.hasMutatedConstraints=!!h,h&&(d=convertBoundingBoxToBox(h))}return d}startAnimation(s){const{drag:i,dragMomentum:o,dragElastic:a,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},b=eachAxis(j=>{if(!shouldDrag(j,i,this.currentDirection))return;let _=g&&g[j]||{};d&&(_={min:0,max:0});const _e=a?200:1e6,tt=a?40:1e7,rt={type:"inertia",velocity:o?s[j]:0,bounceStiffness:_e,bounceDamping:tt,timeConstant:750,restDelta:1,restSpeed:10,...c,..._};return this.startAxisValueAnimation(j,rt)});return Promise.all(b).then(h)}startAxisValueAnimation(s,i){const o=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),o.start(animateMotionValue(s,o,0,i,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(s){var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(s){const i=`_drag${s.toUpperCase()}`,o=this.visualElement.getProps(),a=o[i];return a||this.visualElement.getValue(s,(o.initial?o.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(i=>{const{drag:o}=this.getProps();if(!shouldDrag(i,o,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(i);if(a&&a.layout){const{min:d,max:h}=a.layout.layoutBox[i];c.set(s[i]-mixNumber$1(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(i)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};eachAxis(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const g=h.get();a[d]=calcOrigin({min:g,max:g},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(d=>{if(!shouldDrag(d,s,null))return;const h=this.getAxisMotionValue(d),{min:g,max:b}=this.constraints[d];h.set(mixNumber$1(g,b,a[d]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,i=addPointerEvent(s,"pointerdown",g=>{const{drag:b,dragListener:j=!0}=this.getProps();b&&j&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();isRefObject(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),frame.read(o);const d=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b})=>{this.isDragging&&b&&(eachAxis(j=>{const _=this.getAxisMotionValue(j);_&&(this.originPoint[j]+=g[j].translate,_.set(_.get()+g[j].translate))}),this.visualElement.render())});return()=>{d(),i(),c(),h&&h()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:d=defaultElastic,dragMomentum:h=!0}=s;return{...s,drag:i,dragDirectionLock:o,dragPropagation:a,dragConstraints:c,dragElastic:d,dragMomentum:h}}}function shouldDrag(e,s,i){return(s===!0||s===e)&&(i===null||i===e)}function getCurrentDirection(e,s=10){let i=null;return Math.abs(e.y)>s?i="y":Math.abs(e.x)>s&&(i="x"),i}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(s,i)=>{e&&frame.postRender(()=>e(s,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(i),onMove:o,onEnd:(c,d)=>{delete this.session,a&&frame.postRender(()=>a(c,d))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const correctBorderRadius={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const i=pixelsToPercent(e,s.target.x),o=pixelsToPercent(e,s.target.y);return`${i}% ${o}%`}},correctBoxShadow={correct:(e,{treeScale:s,projectionDelta:i})=>{const o=e,a=complex.parse(e);if(a.length>5)return o;const c=complex.createTransformer(e),d=typeof a[0]!="number"?1:0,h=i.x.scale*s.x,g=i.y.scale*s.y;a[0+d]/=h,a[1+d]/=g;const b=mixNumber$1(h,g,.5);return typeof a[2+d]=="number"&&(a[2+d]/=b),typeof a[3+d]=="number"&&(a[3+d]/=b),c(a)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:o,layoutId:a}=this.props,{projection:c}=s;addScaleCorrector(defaultScaleCorrectors),c&&(i.group&&i.group.add(c),o&&o.register&&a&&o.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:o,drag:a,isPresent:c}=this.props,d=o.projection;return d&&(d.isPresent=c,a||s.layoutDependency!==i||i===void 0?d.willUpdate():this.safeToRemove(),s.isPresent!==c&&(c?d.promote():d.relegate()||frame.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:a}=s;a&&(a.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(e){const[s,i]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:i})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,s,i){const o=isMotionValue(e)?e:motionValue(e);return o.start(animateMotionValue("",o,s,i)),o.animation}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}const compareByDepth=(e,s)=>e.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(e,s){const i=time.now(),o=({timestamp:a})=>{const c=a-i;c>=s&&(cancelFrame(o),e(c-s))};return frame.read(o,!0),()=>cancelFrame(o)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,s,i,o,a,c){a?(e.opacity=mixNumber$1(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn(o)),e.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(o))):c&&(e.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,i.opacity!==void 0?i.opacity:1,o));for(let d=0;d<numBorders;d++){const h=`border${borders[d]}Radius`;let g=getRadius(s,h),b=getRadius(i,h);if(g===void 0&&b===void 0)continue;g||(g=0),b||(b=0),g===0||b===0||isPx(g)===isPx(b)?(e[h]=Math.max(mixNumber$1(asNumber(g),asNumber(b),o),0),(percent.test(b)||percent.test(g))&&(e[h]+="%")):e[h]=b}(s.rotate||i.rotate)&&(e.rotate=mixNumber$1(s.rotate||0,i.rotate||0,o))}function getRadius(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(e,s,i){return o=>o<e?0:o>s?1:i(progress(e,s,o))}function copyAxisInto(e,s){e.min=s.min,e.max=s.max}function copyBoxInto(e,s){copyAxisInto(e.x,s.x),copyAxisInto(e.y,s.y)}function copyAxisDeltaInto(e,s){e.translate=s.translate,e.scale=s.scale,e.originPoint=s.originPoint,e.origin=s.origin}function removePointDelta(e,s,i,o,a){return e-=s,e=scalePoint(e,1/i,o),a!==void 0&&(e=scalePoint(e,1/a,o)),e}function removeAxisDelta(e,s=0,i=1,o=.5,a,c=e,d=e){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(d.min,d.max,s/100)-d.min),typeof s!="number")return;let h=mixNumber$1(c.min,c.max,o);e===c&&(h-=s),e.min=removePointDelta(e.min,s,i,h,a),e.max=removePointDelta(e.max,s,i,h,a)}function removeAxisTransforms(e,s,[i,o,a],c,d){removeAxisDelta(e,s[i],s[o],s[a],s.scale,c,d)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,s,i,o){removeAxisTransforms(e.x,s,xKeys,i?i.x:void 0,o?o.x:void 0),removeAxisTransforms(e.y,s,yKeys,i?i.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,s){return e.min===s.min&&e.max===s.max}function boxEquals(e,s){return axisEquals(e.x,s.x)&&axisEquals(e.y,s.y)}function axisEqualsRounded(e,s){return Math.round(e.min)===Math.round(s.min)&&Math.round(e.max)===Math.round(s.max)}function boxEqualsRounded(e,s){return axisEqualsRounded(e.x,s.x)&&axisEqualsRounded(e.y,s.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,s){return e.translate===s.translate&&e.scale===s.scale&&e.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(a=>s===a);if(i===0)return!1;let o;for(let a=i;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){o=c;break}}return o?(this.promote(o),!0):!1}promote(s,i){const o=this.lead;if(s!==o&&(this.prevLead=o,this.lead=s,s.show(),o)){o.instance&&o.scheduleRender(),s.scheduleRender(),s.resumeFrom=o,i&&(s.resumeFrom.preserveOpacity=!0),o.snapshot&&(s.snapshot=o.snapshot,s.snapshot.latestValues=o.animationValues||o.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:o}=s;i.onExitComplete&&i.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,s,i){let o="";const a=e.x.translate/s.x,c=e.y.translate/s.y,d=(i==null?void 0:i.z)||0;if((a||c||d)&&(o=`translate3d(${a}px, ${c}px, ${d}px) `),(s.x!==1||s.y!==1)&&(o+=`scale(${1/s.x}, ${1/s.y}) `),i){const{transformPerspective:b,rotate:j,rotateX:_,rotateY:_e,skewX:tt,skewY:rt}=i;b&&(o=`perspective(${b}px) ${o}`),j&&(o+=`rotate(${j}deg) `),_&&(o+=`rotateX(${_}deg) `),_e&&(o+=`rotateY(${_e}deg) `),tt&&(o+=`skewX(${tt}deg) `),rt&&(o+=`skewY(${rt}deg) `)}const h=e.x.scale*s.x,g=e.y.scale*s.y;return(h!==1||g!==1)&&(o+=`scale(${h}, ${g})`),o||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(e,s,i,o){const{latestValues:a}=s;a[e]&&(i[e]=a[e],s.setStaticValue(e,0),o&&(o[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:s}=e.options;if(!s)return;const i=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",frame,!(a||c))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:e,defaultParent:s,measureScroll:i,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(d={},h=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new SubscriptionManager),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const g=this.eventHandlers.get(d);g&&g.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(d),this.instance=d;const{layoutId:g,layout:b,visualElement:j}=this.options;if(j&&!j.current&&j.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(b||g)&&(this.isLayoutDirty=!0),e){let _;const _e=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=delay(_e,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&j&&(g||b)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:_e,hasRelativeTargetChanged:tt,layout:rt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const st=this.options.transition||j.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:nt,onLayoutAnimationComplete:et}=j.getProps(),$=!this.targetLayout||!boxEqualsRounded(this.targetLayout,rt)||tt,ot=!_e&&tt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ot||_e&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,ot);const lt={...getValueTransition(st,"layout"),onPlay:nt,onComplete:et};(j.shouldReduceMotion||this.options.layoutRoot)&&(lt.delay=0,lt.type=!1),this.startAnimation(lt)}else _e||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=rt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let j=0;j<this.path.length;j++){const _=this.path[j];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const h=time.now();frameData.delta=clamp(0,1e3/60,h-frameData.timestamp),frameData.timestamp=h,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!isDeltaZero(this.projectionDelta),g=this.getTransformTemplate(),b=g?g(this.latestValues,""):void 0,j=b!==this.prevTransformTemplateValue;d&&(h||hasTransform(this.latestValues)||j)&&(a(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return d&&(g=this.removeTransform(g)),roundBox(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:h}=this.options;if(!h)return createBox();const g=h.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:j}=this.root;j&&(translateAxis(g.x,j.offset.x),translateAxis(g.y,j.offset.y))}return g}removeElementScroll(d){var h;const g=createBox();if(copyBoxInto(g,d),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return g;for(let b=0;b<this.path.length;b++){const j=this.path[b],{scroll:_,options:_e}=j;j!==this.root&&_&&_e.layoutScroll&&(_.wasRoot&&copyBoxInto(g,d),translateAxis(g.x,_.offset.x),translateAxis(g.y,_.offset.y))}return g}applyTransform(d,h=!1){const g=createBox();copyBoxInto(g,d);for(let b=0;b<this.path.length;b++){const j=this.path[b];!h&&j.options.layoutScroll&&j.scroll&&j!==j.root&&transformBox(g,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),hasTransform(j.latestValues)&&transformBox(g,j.latestValues)}return hasTransform(this.latestValues)&&transformBox(g,this.latestValues),g}removeTransform(d){const h=createBox();copyBoxInto(h,d);for(let g=0;g<this.path.length;g++){const b=this.path[g];if(!b.instance||!hasTransform(b.latestValues))continue;hasScale(b.latestValues)&&b.updateSnapshot();const j=createBox(),_=b.measurePageBox();copyBoxInto(j,_),removeBoxTransforms(h,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,j)}return hasTransform(this.latestValues)&&removeBoxTransforms(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var h;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==g;if(!(d||b&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:_e}=this.options;if(!(!this.layout||!(_||_e))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const tt=this.getClosestProjectingParent();tt&&tt.layout&&this.animationProgress!==1?(this.relativeParent=tt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,tt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const tt=this.getClosestProjectingParent();tt&&!!tt.resumingFrom==!!this.resumingFrom&&!tt.options.layoutScroll&&tt.target&&this.animationProgress!==1?(this.relativeParent=tt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,tt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const h=this.getLead(),g=!!this.resumingFrom||this!==h;let b=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(b=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(b=!1),b)return;const{layout:j,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(j||_))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const _e=this.treeScale.x,tt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,g),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=createBox());const{target:rt}=h;if(!rt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,rt,this.latestValues),(this.treeScale.x!==_e||this.treeScale.y!==tt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",rt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),d){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(d,h=!1){const g=this.snapshot,b=g?g.latestValues:{},j={...this.latestValues},_=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _e=createBox(),tt=g?g.source:void 0,rt=this.layout?this.layout.source:void 0,st=tt!==rt,nt=this.getStack(),et=!nt||nt.members.length<=1,$=!!(st&&!et&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ot;this.mixTargetDelta=lt=>{const it=lt/1e3;mixAxisDelta(_.x,d.x,it),mixAxisDelta(_.y,d.y,it),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(_e,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,_e,it),ot&&boxEquals(this.relativeTarget,ot)&&(this.isProjectionDirty=!1),ot||(ot=createBox()),copyBoxInto(ot,this.relativeTarget)),st&&(this.animationValues=j,mixValues(j,b,this.latestValues,it,$,et)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...d,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:g,layout:b,latestValues:j}=d;if(!(!h||!g||!b)){if(this!==d&&this.layout&&b&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,b.layoutBox)){g=this.target||createBox();const _=calcLength(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+_;const _e=calcLength(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+_e}copyBoxInto(h,g),transformBox(h,j),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,h,j)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new NodeStack),this.sharedNodes.get(d).add(h);const b=h.options.initialPromotionConfig;h.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:g}={}){const b=this.getStack();b&&b.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:g}=d;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const b={};g.z&&resetDistortingTransform("z",d,b,this.animationValues);for(let j=0;j<transformAxes.length;j++)resetDistortingTransform(`rotate${transformAxes[j]}`,d,b,this.animationValues),resetDistortingTransform(`skew${transformAxes[j]}`,d,b,this.animationValues);d.render();for(const j in b)d.setStaticValue(j,b[j]),this.animationValues&&(this.animationValues[j]=b[j]);d.scheduleRender()}getProjectionStyles(d){var h,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const b={visibility:""},j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||"",b.transform=j?j(this.latestValues,""):"none",b;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const st={};return this.options.layoutId&&(st.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,st.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(st.transform=j?j({},""):"none",this.hasProjected=!1),st}const _e=_.animationValues||_.latestValues;this.applyTransformsToTarget(),b.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,_e),j&&(b.transform=j(_e,b.transform));const{x:tt,y:rt}=this.projectionDelta;b.transformOrigin=`${tt.origin*100}% ${rt.origin*100}% 0`,_.animationValues?b.opacity=_===this?(g=(h=_e.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:_e.opacityExit:b.opacity=_===this?_e.opacity!==void 0?_e.opacity:"":_e.opacityExit!==void 0?_e.opacityExit:0;for(const st in scaleCorrectors){if(_e[st]===void 0)continue;const{correct:nt,applyTo:et}=scaleCorrectors[st],$=b.transform==="none"?_e[st]:nt(_e[st],_);if(et){const ot=et.length;for(let lt=0;lt<ot;lt++)b[et[lt]]=$}else b[st]=$}return this.options.layoutId&&(b.pointerEvents=_===this?resolveMotionValue(d==null?void 0:d.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var h;return(h=d.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var s;const i=((s=e.resumeFrom)===null||s===void 0?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=e.layout,{animationType:c}=e.options,d=i.source!==e.layout.source;c==="size"?eachAxis(_=>{const _e=d?i.measuredBox[_]:i.layoutBox[_],tt=calcLength(_e);_e.min=o[_].min,_e.max=_e.min+tt}):shouldAnimatePositionOnly(c,i.layoutBox,o)&&eachAxis(_=>{const _e=d?i.measuredBox[_]:i.layoutBox[_],tt=calcLength(o[_]);_e.max=_e.min+tt,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+tt)});const h=createDelta();calcBoxDelta(h,o,i.layoutBox);const g=createDelta();d?calcBoxDelta(g,e.applyTransform(a,!0),i.measuredBox):calcBoxDelta(g,o,i.layoutBox);const b=!isDeltaZero(h);let j=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:_e,layout:tt}=_;if(_e&&tt){const rt=createBox();calcRelativePosition(rt,i.layoutBox,_e.layoutBox);const st=createBox();calcRelativePosition(st,o,tt.layoutBox),boxEqualsRounded(rt,st)||(j=!0),_.options.layoutRoot&&(e.relativeTarget=st,e.relativeTargetOrigin=rt,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:g,layoutDelta:h,hasLayoutChanged:b,hasRelativeTargetChanged:j})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function propagateDirtyNodes(e){isDebug&&metrics.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,s,i){e.translate=mixNumber$1(s.translate,0,i),e.scale=mixNumber$1(s.scale,1,i),e.origin=s.origin,e.originPoint=s.originPoint}function mixAxis(e,s,i,o){e.min=mixNumber$1(s.min,i.min,o),e.max=mixNumber$1(s.max,i.max,o)}function mixBox(e,s,i,o){mixAxis(e.x,s.x,i.x,o),mixAxis(e.y,s.y,i.y,o)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,s,i){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(i),.2)}function checkNodeWasScrollRoot(e){var s;return e!==e.root&&((s=e.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,s)=>addDomEvent(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,s,i){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",i==="Start");const a="onHover"+i,c=o[a];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class HoverGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=hover(s,i=>(handleHoverEvent(this.node,i,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,s,i){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",i==="Start");const a="onTap"+(i==="End"?"":i),c=o[a];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class PressGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=press(s,i=>(handlePressEvent(this.node,i,"Start"),(o,{success:a})=>handlePressEvent(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const s=observerCallbacks.get(e.target);s&&s(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...s}){const i=e||document;observers.has(i)||observers.set(i,{});const o=observers.get(i),a=JSON.stringify(s);return o[a]||(o[a]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...s})),o[a]}function observeIntersection(e,s,i){const o=initIntersectionObserver(s);return observerCallbacks.set(e,i),o.observe(e),()=>{observerCallbacks.delete(e),o.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:o,amount:a="some",once:c}=s,d={root:i?i.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:thresholdNames[a]},h=g=>{const{isIntersecting:b}=g;if(this.isInView===b||(this.isInView=b,c&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:j,onViewportLeave:_}=this.node.getProps(),_e=b?j:_;_e&&_e(g)};return observeIntersection(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:s={}}={}){return i=>e[i]!==s[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=e.matches;e.addListener(s),s()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,s,i){for(const o in s){const a=s[o],c=i[o];if(isMotionValue(a))e.addValue(o,a);else if(isMotionValue(c))e.addValue(o,motionValue(a,{owner:e}));else if(c!==a)if(e.hasValue(o)){const d=e.getValue(o);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=e.getStaticValue(o);e.addValue(o,motionValue(d!==void 0?d:a,{owner:e}))}}for(const o in i)s[o]===void 0&&e.removeValue(o);return s}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,i,o){return{}}constructor({parent:s,props:i,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:c,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const tt=time.now();this.renderScheduledAt<tt&&(this.renderScheduledAt=tt,frame.render(this.render,!1,!0))};const{latestValues:g,renderState:b,onUpdate:j}=d;this.onUpdate=j,this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=b,this.parent=s,this.props=i,this.presenceContext=o,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:_,..._e}=this.scrapeMotionValuesFromProps(i,{},this);for(const tt in _e){const rt=_e[tt];g[tt]!==void 0&&isMotionValue(rt)&&rt.set(g[tt],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(s,i){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const o=transformProps.has(s),a=i.on("change",h=>{this.latestValues[s]=h,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,s,i)),this.valueSubscriptions.set(s,()=>{a(),c(),d&&d(),i.owner&&i.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const i=featureDefinitions[s];if(!i)continue;const{isEnabled:o,Feature:a}=i;if(!this.features[s]&&a&&o(this.props)&&(this.features[s]=new a(this)),this.features[s]){const c=this.features[s];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,i){this.latestValues[s]=i}update(s,i){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let o=0;o<propEventHandlers.length;o++){const a=propEventHandlers[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,d=s[c];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(s),()=>i.variantChildren.delete(s)}addValue(s,i){const o=this.values.get(s);i!==o&&(o&&this.removeValue(s),this.bindToMotionValue(s,i),this.values.set(s,i),this.latestValues[s]=i.get())}removeValue(s){this.values.delete(s);const i=this.valueSubscriptions.get(s);i&&(i(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,i){if(this.props.values&&this.props.values[s])return this.props.values[s];let o=this.values.get(s);return o===void 0&&i!==void 0&&(o=motionValue(i===null?void 0:i,{owner:this}),this.addValue(s,o)),o}readValue(s,i){var o;let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(o=this.getBaseTargetFromProps(this.props,s))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(isNumericalString(a)||isZeroValueString(a))?a=parseFloat(a):!findValueType(a)&&complex.test(i)&&(a=getAnimatableNone(s,i)),this.setBaseTarget(s,isMotionValue(a)?a.get():a)),isMotionValue(a)?a.get():a}setBaseTarget(s,i){this.baseTarget[s]=i}getBaseTarget(s){var i;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const d=resolveVariantFromProps(this.props,o,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);d&&(a=d[s])}if(o&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,s);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,i){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(i)}notify(s,...i){this.events[s]&&this.events[s].notify(...i)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,i){return s.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(s,i){return s.style?s.style[i]:void 0}removeValueFromRenderState(s,{vars:i,style:o}){delete i[s],delete o[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,i){if(transformProps.has(i)){const o=getDefaultValueType(i);return o&&o.default||0}else{const o=getComputedStyle$1(s),a=(isCSSVariableName(i)?o.getPropertyValue(i):o[i])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(s,{transformPagePoint:i}){return measureViewportBox(s,i)}build(s,i,o){buildHTMLStyles(s,i,o.transformTemplate)}scrapeMotionValuesFromProps(s,i,o){return scrapeMotionValuesFromProps$1(s,i,o)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,i){return s[i]}readValueFromInstance(s,i){if(transformProps.has(i)){const o=getDefaultValueType(i);return o&&o.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),s.getAttribute(i)}scrapeMotionValuesFromProps(s,i,o){return scrapeMotionValuesFromProps(s,i,o)}build(s,i,o){buildSVGAttrs(s,i,this.isSVGTag,o.transformTemplate)}renderInstance(s,i,o,a){renderSVG(s,i,o,a)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(e,s)=>isSVGComponent(e)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:e!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function Sidebar({collapsed:e,onToggle:s}){var g,b;const i=useLocation(),{user:o,signOut:a}=useAuthStore(),{t:c}=useTranslation(),d=[{icon:FileText,label:c("navigation.documents"),path:"/documents"},{icon:BookOpen,label:c("navigation.learning"),path:"/learn"},{icon:MessageSquare,label:c("navigation.aiChat"),path:"/chat"},{icon:Settings,label:c("navigation.settings"),path:"/settings"}],h=j=>i.pathname.startsWith(j);return jsxRuntimeExports.jsxs(motion.aside,{initial:!1,animate:{width:e?64:240},transition:{duration:.2,ease:"easeInOut"},className:"h-screen bg-bg-secondary border-r border-border flex flex-col fixed left-0 top-0 z-40",children:[jsxRuntimeExports.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-border",children:[jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-text-primary",children:"Doc2Learn"})]})}),jsxRuntimeExports.jsx("button",{onClick:s,className:"w-8 h-8 rounded-lg hover:bg-bg-tertiary flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",children:e?jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"p-3",children:jsxRuntimeExports.jsxs(Link,{to:"/documents",className:`flex items-center gap-3 px-3 py-2 rounded-lg bg-accent text-white hover:bg-accent-hover transition-colors ${e?"justify-center":""}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:c("navigation.newDocument")})})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-3 py-2 space-y-1 overflow-y-auto scrollbar-thin",children:d.map(j=>{const _=j.icon,_e=h(j.path);return jsxRuntimeExports.jsxs(Link,{to:j.path,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${e?"justify-center":""} ${_e?"bg-accent-light text-accent":"text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,title:e?j.label:void 0,children:[jsxRuntimeExports.jsx(_,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:j.label})})]},j.path)})}),jsxRuntimeExports.jsx("div",{className:"px-3 py-2 border-t border-border",children:jsxRuntimeExports.jsxs(Link,{to:"/chat",className:`flex items-center gap-3 px-3 py-2 rounded-lg bg-gradient-to-r from-accent to-purple-600 text-white hover:opacity-90 transition-opacity ${e?"justify-center":""}`,title:e?c("navigation.aiAssistant"):void 0,children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:c("navigation.aiAssistant")})})]})}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-border",children:jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-3 ${e?"justify-center":""}`,children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:((g=o==null?void 0:o.email)==null?void 0:g.charAt(0).toUpperCase())||"U"})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:((b=o==null?void 0:o.email)==null?void 0:b.split("@")[0])||"User"}),jsxRuntimeExports.jsxs("button",{onClick:a,className:"text-xs text-text-muted hover:text-error flex items-center gap-1 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-3 h-3"}),c("auth.signOut")]})]})})]})})]})}const{slice,forEach}=[];function defaults(e){return forEach.call(slice.call(arguments,1),s=>{if(s)for(const i in s)e[i]===void 0&&(e[i]=s[i])}),e}function hasXSS(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(e))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(e,s){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(s);let c=`${e}=${a}`;if(o.maxAge>0){const d=o.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(o.domain){if(!fieldContentRegExp.test(o.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${o.domain}`}if(o.path){if(!fieldContentRegExp.test(o.path))throw new TypeError("option path is invalid");c+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(c+="; Partitioned"),c},cookie={create(e,s,i,o){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+i*60*1e3)),o&&(a.domain=o),document.cookie=serializeCookie(e,s,a)},read(e){const s=`${e}=`,i=document.cookie.split(";");for(let o=0;o<i.length;o++){let a=i[o];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(s)===0)return a.substring(s.length,a.length)}return null},remove(e,s){this.create(e,"",-1,s)}};var cookie$1={name:"cookie",lookup(e){let{lookupCookie:s}=e;if(s&&typeof document<"u")return cookie.read(s)||void 0},cacheUserLanguage(e,s){let{lookupCookie:i,cookieMinutes:o,cookieDomain:a,cookieOptions:c}=s;i&&typeof document<"u"&&cookie.create(i,e,o,a,c)}},querystring={name:"querystring",lookup(e){var o;let{lookupQuerystring:s}=e,i;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((o=window.location.hash)==null?void 0:o.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const d=a.substring(1).split("&");for(let h=0;h<d.length;h++){const g=d[h].indexOf("=");g>0&&d[h].substring(0,g)===s&&(i=d[h].substring(g+1))}}return i}},hash={name:"hash",lookup(e){var a;let{lookupHash:s,lookupFromHashIndex:i}=e,o;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const d=c.substring(1);if(s){const h=d.split("&");for(let g=0;g<h.length;g++){const b=h[g].indexOf("=");b>0&&h[g].substring(0,b)===s&&(o=h[g].substring(b+1))}}if(o)return o;if(!o&&i>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?(a=h[typeof i=="number"?i:0])==null?void 0:a.replace("/",""):void 0}}}return o}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(e){let{lookupLocalStorage:s}=e;if(s&&localStorageAvailable())return window.localStorage.getItem(s)||void 0},cacheUserLanguage(e,s){let{lookupLocalStorage:i}=s;i&&localStorageAvailable()&&window.localStorage.setItem(i,e)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(e){let{lookupSessionStorage:s}=e;if(s&&sessionStorageAvailable())return window.sessionStorage.getItem(s)||void 0},cacheUserLanguage(e,s){let{lookupSessionStorage:i}=s;i&&sessionStorageAvailable()&&window.sessionStorage.setItem(i,e)}},navigator$1={name:"navigator",lookup(e){const s=[];if(typeof navigator<"u"){const{languages:i,userLanguage:o,language:a}=navigator;if(i)for(let c=0;c<i.length;c++)s.push(i[c]);o&&s.push(o),a&&s.push(a)}return s.length>0?s:void 0}},htmlTag={name:"htmlTag",lookup(e){let{htmlTag:s}=e,i;const o=s||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(i=o.getAttribute("lang")),i}},path={name:"path",lookup(e){var a;let{lookupFromPathIndex:s}=e;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(a=i[typeof s=="number"?s:0])==null?void 0:a.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(e){var a,c;let{lookupFromSubdomainIndex:s}=e;const i=typeof s=="number"?s+1:1,o=typeof window<"u"&&((c=(a=window.location)==null?void 0:a.hostname)==null?void 0:c.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(o)return o[i]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch{}const order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);const getDefaults=()=>({order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class Browser{constructor(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(s,i)}init(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s,this.options=defaults(i,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain),this.addDetector(hash)}addDetector(s){return this.detectors[s.name]=s,this}detect(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return s.forEach(o=>{if(this.detectors[o]){let a=this.detectors[o].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.filter(o=>o!=null&&!hasXSS(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||i.forEach(o=>{this.detectors[o]&&this.detectors[o].cacheUserLanguage(s,this.options)}))}}Browser.type="languageDetector";const common$1={loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",searchDocuments:"Search documents...",noResults:"No results found",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous",close:"Close",submit:"Submit",continue:"Continue",start:"Start",finish:"Finish",retry:"Retry",refresh:"Refresh"},auth$1={signIn:"Sign in",signUp:"Sign up",signOut:"Sign out",signingIn:"Signing in...",signingUp:"Creating account...",email:"Email",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",welcomeBack:"Welcome back",signInToContinue:"Sign in to your account to continue",createAccount:"Create account",getStarted:"Get started with your free account",welcomeBackToast:"Welcome back!",signInSuccess:"You have successfully signed in.",accountCreated:"Account created!",accountCreatedDesc:"Your account has been created successfully.",invalidCredentials:"Invalid email or password",passwordMismatch:"Passwords do not match",name:"Name (optional)",passwordHint:"Must be at least 6 characters",passwordMinLength:"Password must be at least 6 characters",signUpError:"Failed to create account"},navigation$1={documents:"Documents",learning:"Learning",aiChat:"AI Chat",settings:"Settings",newDocument:"New Document",aiAssistant:"AI Assistant"},dashboard$1={title:"Dashboard",welcome:"Welcome back, {{name}}!",continueLearning:"Continue your learning journey",recentDocuments:"Recent Documents",viewAllDocuments:"View all documents",quickActions:"Quick Actions",uploadDocument:"Upload Document",startLearning:"Start Learning",askAI:"Ask AI",statistics:"Statistics",totalDocuments:"Total Documents",wordsLearned:"Words Learned",quizzesCompleted:"Quizzes Completed",dayStreak:"Day Streak",noDocumentsYet:"No documents yet",uploadFirst:"Upload your first PDF to start learning",uploadFirstButton:"Upload First Document",aiAssistantDesc:"Ask questions about your documents, get summaries, and generate quizzes",startChat:"Start Chat",uploadDesc:"Upload a PDF document and start learning with AI-powered tools"},documents$1={title:"Documents",upload:"Upload",uploadNew:"Upload New Document",uploadSuccess:"Document uploaded successfully. Extracted {{chars}} characters from {{pages}} pages.",uploadError:"Failed to upload document",deleteConfirm:"Are you sure you want to delete this document?",deleteSuccess:"Document deleted successfully",deleteError:"Failed to delete document",noDocuments:"No documents found",noDocumentsDesc:"Upload a PDF to get started",onlyPDF:"Only PDF files are supported",fileTooLarge:"File size must be less than 50MB",processing:"Processing document...",viewDocument:"View Document",startLearning:"Start Learning",generateContent:"Generate Content",generating:"Generating content...",generateSuccess:"Content generated successfully!",generateError:"Failed to generate content",pages:"pages",uploaded:"Uploaded",lastModified:"Last modified"},documentDetail$1={title:"Document Details",overview:"Overview",content:"Content",learning:"Learning",generateAll:"Generate All Content",regenerate:"Regenerate",generating:"Generating...",generated:"Generated",notGenerated:"Not generated yet",summary:"Summary",glossary:"Glossary",quiz:"Quiz",exercises:"Exercises",flashcards:"Flashcards",viewPDF:"View PDF",chatWithPDF:"Chat with PDF",download:"Download",delete:"Delete Document",fileInfo:"File Information",fileName:"File name",fileSize:"File size",pageCount:"Page count",uploadedAt:"Uploaded at",words:"words",characters:"characters"},learning$1={title:"Learning Center",selectDocument:"Select a document to start learning",noDocuments:"No documents available",uploadFirst:"Upload a document first to access learning features",summary:"Summary",glossary:"Glossary",quiz:"Quiz",exercises:"Exercises",flashcards:"Flashcards",progress:"Progress",completed:"Completed",inProgress:"In Progress",notStarted:"Not Started",startQuiz:"Start Quiz",retakeQuiz:"Retake Quiz",quizScore:"Quiz Score",correctAnswers:"Correct Answers",questionsTotal:"questions total",reviewFlashcards:"Review Flashcards",cardsTotal:"cards total",known:"Known",stillLearning:"Still Learning",viewGlossary:"View Glossary",termsTotal:"terms total",readSummary:"Read Summary",estimatedTime:"Estimated reading time",minutes:"min"},quiz$1={title:"Quiz",question:"Question {{current}} of {{total}}",selectAnswer:"Select your answer",checkAnswer:"Check Answer",nextQuestion:"Next Question",result:"Result",correct:"Correct!",incorrect:"Incorrect",correctAnswer:"Correct answer:",yourAnswer:"Your answer:",score:"Score",passed:"Passed!",failed:"Keep practicing!",tryAgain:"Try Again",reviewAnswers:"Review Answers",completed:"Quiz Completed!",wellDone:"Well done!",keepPracticing:"Keep practicing to improve your score.",finishQuiz:"Finish Quiz"},flashcards$1={title:"Flashcards",card:"Card {{current}} of {{total}}",clickToFlip:"Click to flip",previous:"Previous",next:"Next",know:"Know",dontKnow:"Don't Know",reset:"Reset Progress",progress:"Progress",known:"Known",learning:"Still Learning",completed:"All cards reviewed!",startOver:"Start Over"},glossary$1={title:"Glossary",noTerms:"No terms found",searchTerms:"Search terms...",term:"Term",definition:"Definition",relatedTerms:"Related Terms"},summary$1={title:"Summary",noSummary:"No summary available",generateSummary:"Generate Summary",keyPoints:"Key Points",mainTopics:"Main Topics"},exercises$1={title:"Exercises",noExercises:"No exercises available",generateExercises:"Generate Exercises",type:"Type",difficulty:"Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",hint:"Hint",showHint:"Show Hint",hideHint:"Hide Hint",checkAnswer:"Check Answer",correct:"Correct!",incorrect:"Incorrect. Try again!"},chat$1={title:"AI Chat",placeholder:"Ask anything about your documents...",send:"Send",sending:"Sending...",thinking:"Thinking...",noMessages:"No messages yet",startConversation:"Start a conversation with the AI assistant",clearChat:"Clear Chat",clearConfirm:"Are you sure you want to clear the chat history?",copyResponse:"Copy Response",copied:"Copied to clipboard!",regenerate:"Regenerate Response",selectDocument:"Select a document for context",noDocumentSelected:"No document selected",documentContext:"Document context: {{title}}"},pdfViewer$1={title:"PDF Viewer",previousPage:"Previous page",nextPage:"Next page",zoomIn:"Zoom in",zoomOut:"Zoom out",fitWidth:"Fit width",fitPage:"Fit page",fullScreen:"Full screen",exitFullScreen:"Exit full screen",download:"Download PDF",print:"Print",pageOf:"Page {{current}} of {{total}}",loading:"Loading PDF...",error:"Failed to load PDF",chatWithPDF:"Chat with PDF",askAboutPage:"Ask about this page",closeChat:"Close Chat",chatPlaceholder:"Ask a question about this PDF..."},settings$1={title:"Settings",general:"General",appearance:"Appearance",language:"Language",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",systemDefault:"System Default",apiKeys:"API Keys",apiKeysDesc:"Configure your AI provider API keys. Keys are encrypted and stored securely.",anthropicKey:"Anthropic API Key",anthropicDesc:"For Claude models (claude-3-opus, claude-3-sonnet)",openaiKey:"OpenAI API Key",openaiDesc:"For GPT models (gpt-4, gpt-3.5-turbo)",googleKey:"Google AI API Key",googleDesc:"For Gemini models (gemini-pro)",groqKey:"Groq API Key",groqDesc:"For fast inference (llama, mixtral)",saveKeys:"Save API Keys",keysSaved:"API keys saved successfully!",keysError:"Failed to save API keys",profile:"Profile",profileDesc:"Manage your profile information",security:"Security",securityDesc:"Password and authentication settings",notifications:"Notifications",notificationsDesc:"Configure notification preferences",comingSoon:"Coming Soon",featureInDevelopment:"This feature is currently in development",manageAccount:"Manage your account and preferences",manage:"Manage",backToSettings:"Back to Settings",yourApiKeys:"Your API Keys",apiKeysSecure:"Add your own API keys to use with Doc2Learn. Your keys are encrypted and stored securely.",keySavedFor:"API key for {{provider}} saved successfully",keyDeletedFor:"API key for {{provider}} deleted",keyDeleteError:"Failed to delete API key",keyEnding:"Key ending in {{last4}}",notConfigured:"Not configured",active:"Active"},errors$1={generic:"Something went wrong",networkError:"Network error. Please check your connection.",unauthorized:"You are not authorized to perform this action",notFound:"The requested resource was not found",serverError:"Server error. Please try again later.",validationError:"Please check your input and try again",sessionExpired:"Your session has expired. Please sign in again."},theme$1={switchToLight:"Switch to light mode",switchToDark:"Switch to dark mode"},language$1={switchLanguage:"Switch language",english:"English",portuguese:"Portugus"},en={common:common$1,auth:auth$1,navigation:navigation$1,dashboard:dashboard$1,documents:documents$1,documentDetail:documentDetail$1,learning:learning$1,quiz:quiz$1,flashcards:flashcards$1,glossary:glossary$1,summary:summary$1,exercises:exercises$1,chat:chat$1,pdfViewer:pdfViewer$1,settings:settings$1,errors:errors$1,theme:theme$1,language:language$1},common={loading:"A carregar...",error:"Erro",success:"Sucesso",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",create:"Criar",search:"Pesquisar",searchDocuments:"Pesquisar documentos...",noResults:"Nenhum resultado encontrado",confirm:"Confirmar",back:"Voltar",next:"Seguinte",previous:"Anterior",close:"Fechar",submit:"Submeter",continue:"Continuar",start:"Iniciar",finish:"Terminar",retry:"Tentar novamente",refresh:"Atualizar"},auth={signIn:"Entrar",signUp:"Registar",signOut:"Sair",signingIn:"A entrar...",signingUp:"A criar conta...",email:"Email",password:"Palavra-passe",confirmPassword:"Confirmar palavra-passe",forgotPassword:"Esqueceu a palavra-passe?",noAccount:"No tem uma conta?",hasAccount:"J tem uma conta?",welcomeBack:"Bem-vindo de volta",signInToContinue:"Entre na sua conta para continuar",createAccount:"Criar conta",getStarted:"Comece com a sua conta gratuita",welcomeBackToast:"Bem-vindo de volta!",signInSuccess:"Entrou na sua conta com sucesso.",accountCreated:"Conta criada!",accountCreatedDesc:"A sua conta foi criada com sucesso.",invalidCredentials:"Email ou palavra-passe invlidos",passwordMismatch:"As palavras-passe no coincidem",name:"Nome (opcional)",passwordHint:"Deve ter pelo menos 6 caracteres",passwordMinLength:"A palavra-passe deve ter pelo menos 6 caracteres",signUpError:"Falha ao criar conta"},navigation={documents:"Documentos",learning:"Aprendizagem",aiChat:"Chat IA",settings:"Definies",newDocument:"Novo Documento",aiAssistant:"Assistente IA"},dashboard={title:"Painel",welcome:"Bem-vindo de volta, {{name}}!",continueLearning:"Continue a sua jornada de aprendizagem",recentDocuments:"Documentos Recentes",viewAllDocuments:"Ver todos os documentos",quickActions:"Aes Rpidas",uploadDocument:"Carregar Documento",startLearning:"Comear a Aprender",askAI:"Perguntar  IA",statistics:"Estatsticas",totalDocuments:"Total de Documentos",wordsLearned:"Palavras Aprendidas",quizzesCompleted:"Quizzes Completados",dayStreak:"Dias Consecutivos",noDocumentsYet:"Ainda no tem documentos",uploadFirst:"Carregue o seu primeiro PDF para comear a aprender",uploadFirstButton:"Carregar Primeiro Documento",aiAssistantDesc:"Faa perguntas sobre os seus documentos, obtenha resumos e gere quizzes",startChat:"Iniciar Chat",uploadDesc:"Carregue um documento PDF e comece a aprender com ferramentas de IA"},documents={title:"Documentos",upload:"Carregar",uploadNew:"Carregar Novo Documento",uploadSuccess:"Documento carregado com sucesso. Extrados {{chars}} caracteres de {{pages}} pginas.",uploadError:"Falha ao carregar documento",deleteConfirm:"Tem a certeza que deseja eliminar este documento?",deleteSuccess:"Documento eliminado com sucesso",deleteError:"Falha ao eliminar documento",noDocuments:"Nenhum documento encontrado",noDocumentsDesc:"Carregue um PDF para comear",onlyPDF:"Apenas ficheiros PDF so suportados",fileTooLarge:"O ficheiro deve ter menos de 50MB",processing:"A processar documento...",viewDocument:"Ver Documento",startLearning:"Comear Aprendizagem",generateContent:"Gerar Contedo",generating:"A gerar contedo...",generateSuccess:"Contedo gerado com sucesso!",generateError:"Falha ao gerar contedo",pages:"pginas",uploaded:"Carregado",lastModified:"ltima modificao"},documentDetail={title:"Detalhes do Documento",overview:"Viso Geral",content:"Contedo",learning:"Aprendizagem",generateAll:"Gerar Todo o Contedo",regenerate:"Regenerar",generating:"A gerar...",generated:"Gerado",notGenerated:"Ainda no gerado",summary:"Resumo",glossary:"Glossrio",quiz:"Quiz",exercises:"Exerccios",flashcards:"Flashcards",viewPDF:"Ver PDF",chatWithPDF:"Conversar com PDF",download:"Transferir",delete:"Eliminar Documento",fileInfo:"Informao do Ficheiro",fileName:"Nome do ficheiro",fileSize:"Tamanho do ficheiro",pageCount:"Nmero de pginas",uploadedAt:"Carregado em",words:"palavras",characters:"caracteres"},learning={title:"Centro de Aprendizagem",selectDocument:"Selecione um documento para comear a aprender",noDocuments:"Nenhum documento disponvel",uploadFirst:"Carregue primeiro um documento para aceder s funcionalidades de aprendizagem",summary:"Resumo",glossary:"Glossrio",quiz:"Quiz",exercises:"Exerccios",flashcards:"Flashcards",progress:"Progresso",completed:"Concludo",inProgress:"Em Progresso",notStarted:"No Iniciado",startQuiz:"Iniciar Quiz",retakeQuiz:"Refazer Quiz",quizScore:"Pontuao do Quiz",correctAnswers:"Respostas Corretas",questionsTotal:"perguntas no total",reviewFlashcards:"Rever Flashcards",cardsTotal:"cartas no total",known:"Conhecido",stillLearning:"A Aprender",viewGlossary:"Ver Glossrio",termsTotal:"termos no total",readSummary:"Ler Resumo",estimatedTime:"Tempo estimado de leitura",minutes:"min"},quiz={title:"Quiz",question:"Pergunta {{current}} de {{total}}",selectAnswer:"Selecione a sua resposta",checkAnswer:"Verificar Resposta",nextQuestion:"Prxima Pergunta",result:"Resultado",correct:"Correto!",incorrect:"Incorreto",correctAnswer:"Resposta correta:",yourAnswer:"A sua resposta:",score:"Pontuao",passed:"Passou!",failed:"Continue a praticar!",tryAgain:"Tentar Novamente",reviewAnswers:"Rever Respostas",completed:"Quiz Concludo!",wellDone:"Muito bem!",keepPracticing:"Continue a praticar para melhorar a sua pontuao.",finishQuiz:"Terminar Quiz"},flashcards={title:"Flashcards",card:"Carta {{current}} de {{total}}",clickToFlip:"Clique para virar",previous:"Anterior",next:"Seguinte",know:"Sei",dontKnow:"No Sei",reset:"Reiniciar Progresso",progress:"Progresso",known:"Conhecidas",learning:"A Aprender",completed:"Todas as cartas revistas!",startOver:"Comear de Novo"},glossary={title:"Glossrio",noTerms:"Nenhum termo encontrado",searchTerms:"Pesquisar termos...",term:"Termo",definition:"Definio",relatedTerms:"Termos Relacionados"},summary={title:"Resumo",noSummary:"Nenhum resumo disponvel",generateSummary:"Gerar Resumo",keyPoints:"Pontos-Chave",mainTopics:"Temas Principais"},exercises={title:"Exerccios",noExercises:"Nenhum exerccio disponvel",generateExercises:"Gerar Exerccios",type:"Tipo",difficulty:"Dificuldade",easy:"Fcil",medium:"Mdio",hard:"Difcil",hint:"Dica",showHint:"Mostrar Dica",hideHint:"Esconder Dica",checkAnswer:"Verificar Resposta",correct:"Correto!",incorrect:"Incorreto. Tente novamente!"},chat={title:"Chat IA",placeholder:"Pergunte algo sobre os seus documentos...",send:"Enviar",sending:"A enviar...",thinking:"A pensar...",noMessages:"Ainda no h mensagens",startConversation:"Inicie uma conversa com o assistente IA",clearChat:"Limpar Chat",clearConfirm:"Tem a certeza que deseja limpar o histrico do chat?",copyResponse:"Copiar Resposta",copied:"Copiado para a rea de transferncia!",regenerate:"Regenerar Resposta",selectDocument:"Selecione um documento para contexto",noDocumentSelected:"Nenhum documento selecionado",documentContext:"Contexto do documento: {{title}}"},pdfViewer={title:"Visualizador PDF",previousPage:"Pgina anterior",nextPage:"Pgina seguinte",zoomIn:"Aumentar zoom",zoomOut:"Diminuir zoom",fitWidth:"Ajustar  largura",fitPage:"Ajustar  pgina",fullScreen:"Ecr inteiro",exitFullScreen:"Sair do ecr inteiro",download:"Transferir PDF",print:"Imprimir",pageOf:"Pgina {{current}} de {{total}}",loading:"A carregar PDF...",error:"Falha ao carregar PDF",chatWithPDF:"Conversar com PDF",askAboutPage:"Perguntar sobre esta pgina",closeChat:"Fechar Chat",chatPlaceholder:"Faa uma pergunta sobre este PDF..."},settings={title:"Definies",general:"Geral",appearance:"Aparncia",language:"Idioma",theme:"Tema",lightMode:"Modo Claro",darkMode:"Modo Escuro",systemDefault:"Predefinio do Sistema",apiKeys:"Chaves API",apiKeysDesc:"Configure as suas chaves API de fornecedores de IA. As chaves so encriptadas e armazenadas de forma segura.",anthropicKey:"Chave API Anthropic",anthropicDesc:"Para modelos Claude (claude-3-opus, claude-3-sonnet)",openaiKey:"Chave API OpenAI",openaiDesc:"Para modelos GPT (gpt-4, gpt-3.5-turbo)",googleKey:"Chave API Google AI",googleDesc:"Para modelos Gemini (gemini-pro)",groqKey:"Chave API Groq",groqDesc:"Para inferncia rpida (llama, mixtral)",saveKeys:"Guardar Chaves API",keysSaved:"Chaves API guardadas com sucesso!",keysError:"Falha ao guardar chaves API",profile:"Perfil",profileDesc:"Gerir informao do perfil",security:"Segurana",securityDesc:"Definies de palavra-passe e autenticao",notifications:"Notificaes",notificationsDesc:"Configurar preferncias de notificao",comingSoon:"Brevemente",featureInDevelopment:"Esta funcionalidade est em desenvolvimento",manageAccount:"Gerir a sua conta e preferncias",manage:"Gerir",backToSettings:"Voltar s Definies",yourApiKeys:"As suas Chaves API",apiKeysSecure:"Adicione as suas prprias chaves API para usar com o Doc2Learn. As suas chaves so encriptadas e armazenadas de forma segura.",keySavedFor:"Chave API para {{provider}} guardada com sucesso",keyDeletedFor:"Chave API para {{provider}} eliminada",keyDeleteError:"Falha ao eliminar chave API",keyEnding:"Chave terminando em {{last4}}",notConfigured:"No configurado",active:"Ativo"},errors={generic:"Algo correu mal",networkError:"Erro de rede. Por favor verifique a sua ligao.",unauthorized:"No est autorizado a realizar esta ao",notFound:"O recurso solicitado no foi encontrado",serverError:"Erro de servidor. Por favor tente novamente mais tarde.",validationError:"Por favor verifique os seus dados e tente novamente",sessionExpired:"A sua sesso expirou. Por favor entre novamente."},theme={switchToLight:"Mudar para modo claro",switchToDark:"Mudar para modo escuro"},language={switchLanguage:"Mudar idioma",english:"English",portuguese:"Portugus"},ptPT={common,auth,navigation,dashboard,documents,documentDetail,learning,quiz,flashcards,glossary,summary,exercises,chat,pdfViewer,settings,errors,theme,language},supportedLanguages=[{code:"en",name:"English",nativeName:"English",flag:"EN"},{code:"pt-PT",name:"Portuguese (Portugal)",nativeName:"Portugus",flag:"PT"}];instance.use(Browser).use(initReactI18next).init({resources:{en:{translation:en},"pt-PT":{translation:ptPT}},fallbackLng:"en",supportedLngs:supportedLanguages.map(e=>e.code),interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}});function LanguageToggle(){const{i18n:e}=useTranslation(),[s,i]=reactExports.useState(!1),o=reactExports.useRef(null),a=supportedLanguages.find(d=>d.code===e.language)||supportedLanguages[0],c=d=>{e.changeLanguage(d),i(!1)};return reactExports.useEffect(()=>{const d=h=>{o.current&&!o.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),jsxRuntimeExports.jsxs("div",{className:"relative",ref:o,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",title:e.t("language.switchLanguage"),children:[jsxRuntimeExports.jsx(Globe,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:a.flag})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:s&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-48 bg-bg-secondary border border-border rounded-lg shadow-lg overflow-hidden z-50",children:jsxRuntimeExports.jsx("div",{className:"p-1",children:supportedLanguages.map(d=>jsxRuntimeExports.jsxs("button",{onClick:()=>c(d.code),className:`w-full flex items-center justify-between px-3 py-2 rounded-md text-sm transition-colors ${e.language===d.code||e.language.startsWith("pt")&&d.code==="pt-PT"?"bg-accent-light text-accent":"text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"w-6 text-center font-semibold",children:d.flag}),jsxRuntimeExports.jsx("span",{children:d.nativeName})]}),(e.language===d.code||e.language.startsWith("pt")&&d.code==="pt-PT")&&jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})]},d.code))})})})]})}function TopBar({onSearch:e}){const{t:s}=useTranslation(),[i,o]=reactExports.useState(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1),a=()=>{const c=!i;o(c),document.documentElement.classList.toggle("dark",c),localStorage.setItem("theme",c?"dark":"light")};return jsxRuntimeExports.jsx("header",{className:"h-16 bg-bg-secondary/80 backdrop-blur-lg border-b border-border sticky top-0 z-30",children:jsxRuntimeExports.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-4 py-2 bg-bg-tertiary hover:bg-bg-hover rounded-lg text-text-muted hover:text-text-primary transition-colors w-64 group",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:s("common.searchDocuments")}),jsxRuntimeExports.jsxs("kbd",{className:"hidden sm:flex items-center gap-1 ml-auto text-xs text-text-muted bg-bg-secondary px-1.5 py-0.5 rounded",children:[jsxRuntimeExports.jsx(Command,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"K"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LanguageToggle,{}),jsxRuntimeExports.jsx("button",{onClick:a,className:"w-9 h-9 rounded-lg hover:bg-bg-tertiary flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",title:s(i?"theme.switchToLight":"theme.switchToDark"),children:jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{rotate:i?180:0},transition:{duration:.3},children:i?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"})})})]})]})})}function AppShell(){const[e,s]=reactExports.useState(()=>typeof window<"u"?window.innerWidth<1024:!1);return reactExports.useEffect(()=>{const i=()=>{window.innerWidth<768&&s(!0)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),reactExports.useEffect(()=>{const i=localStorage.getItem("theme");(i==="dark"||i===null&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-bg-primary",children:[jsxRuntimeExports.jsx(Sidebar,{collapsed:e,onToggle:()=>s(!e)}),jsxRuntimeExports.jsxs(motion.div,{initial:!1,animate:{marginLeft:e?64:240},transition:{duration:.2,ease:"easeInOut"},className:"min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx(TopBar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:jsxRuntimeExports.jsx(Outlet,{})})})]})]})}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$3[" use ".trim().toString()];function isPromiseLike(e){return typeof e=="object"&&e!==null&&"then"in e}function isLazyComponent(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===REACT_LAZY_TYPE&&"_payload"in e&&isPromiseLike(e._payload)}function createSlot(e){const s=createSlotClone(e),i=reactExports.forwardRef((o,a)=>{let{children:c,...d}=o;isLazyComponent(c)&&typeof use=="function"&&(c=use(c._payload));const h=reactExports.Children.toArray(c),g=h.find(isSlottable);if(g){const b=g.props.children,j=h.map(_=>_===g?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,j):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}var Slot=createSlot("Slot");function createSlotClone(e){const s=reactExports.forwardRef((i,o)=>{let{children:a,...c}=i;if(isLazyComponent(a)&&typeof use=="function"&&(a=use(a._payload)),reactExports.isValidElement(a)){const d=getElementRef(a),h=mergeProps(c,a.props);return a.type!==reactExports.Fragment&&(h.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,h)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...h)=>{const g=c(...h);return a(...h),g}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:s,size:i,asChild:o=!1,...a},c)=>{const d=o?Slot:"button";return jsxRuntimeExports.jsx(d,{className:cn(buttonVariants({variant:s,size:i,className:e})),ref:c,...a})});Button.displayName="Button";const Input=reactExports.forwardRef(({className:e,type:s,...i},o)=>jsxRuntimeExports.jsx("input",{type:s,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...i}));Input.displayName="Input";var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((e,s)=>{const i=createSlot(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...h}=a,g=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(g,{...h,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{}),NAME="Label",Label$1=reactExports.forwardRef((e,s)=>jsxRuntimeExports.jsx(Primitive.label,{...e,ref:s,onMouseDown:i=>{var a;i.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));Label$1.displayName=NAME;var Root=Label$1;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Root,{ref:i,className:cn(labelVariants(),e),...s}));Label.displayName=Root.displayName;const Card=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex flex-col space-y-1.5 p-6",e),...s}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("h3",{ref:i,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...s}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("p",{ref:i,className:cn("text-sm text-muted-foreground",e),...s}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("p-6 pt-0",e),...s}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex items-center p-6 pt-0",e),...s}));CardFooter.displayName="CardFooter";function LoginPage(){const{t:e}=useTranslation(),[s,i]=reactExports.useState(""),[o,a]=reactExports.useState(""),[c,d]=reactExports.useState(!1),{signInWithEmail:h}=useAuthStore(),g=useNavigate(),{toast:b}=useToast(),j=async _=>{_.preventDefault(),d(!0);try{await h(s,o),b({title:e("auth.welcomeBackToast"),description:e("auth.signInSuccess")}),g("/")}catch(_e){b({variant:"destructive",title:e("common.error"),description:_e instanceof Error?_e.message:e("auth.invalidCredentials")})}finally{d(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:e("auth.welcomeBack")}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:e("auth.signInToContinue")})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:e("auth.email")}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"name@example.com",value:s,onChange:_=>i(_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx(Label,{htmlFor:"password",children:e("auth.password")})}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:o,onChange:_=>a(_.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:c,children:e(c?"auth.signingIn":"auth.signIn")})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("auth.noAccount")," ",jsxRuntimeExports.jsx(Link,{to:"/register",className:"text-primary hover:underline font-medium",children:e("auth.signUp")})]})})]})})}function RegisterPage(){const{t:e}=useTranslation(),[s,i]=reactExports.useState(""),[o,a]=reactExports.useState(""),[c,d]=reactExports.useState(""),[h,g]=reactExports.useState(""),[b,j]=reactExports.useState(!1),{signUpWithEmail:_}=useAuthStore(),_e=useNavigate(),{toast:tt}=useToast(),rt=async st=>{if(st.preventDefault(),c!==h){tt({variant:"destructive",title:e("common.error"),description:e("auth.passwordMismatch")});return}if(c.length<6){tt({variant:"destructive",title:e("common.error"),description:e("auth.passwordMinLength","Password must be at least 6 characters")});return}j(!0);try{await _(o,c,s||void 0),tt({title:e("auth.accountCreated"),description:e("auth.accountCreatedDesc")}),_e("/")}catch(nt){tt({variant:"destructive",title:e("common.error"),description:nt instanceof Error?nt.message:e("auth.signUpError","Failed to create account")})}finally{j(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:e("auth.createAccount")}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:e("auth.getStarted")})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("form",{onSubmit:rt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:e("auth.name","Name (optional)")}),jsxRuntimeExports.jsx(Input,{id:"name",type:"text",placeholder:"John Doe",value:s,onChange:st=>i(st.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:e("auth.email")}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"name@example.com",value:o,onChange:st=>a(st.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"password",children:e("auth.password")}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:c,onChange:st=>d(st.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:e("auth.passwordHint","Must be at least 6 characters")})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"confirmPassword",children:e("auth.confirmPassword")}),jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:"password",value:h,onChange:st=>g(st.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:b,children:e(b?"auth.signingUp":"auth.createAccount")})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("auth.hasAccount")," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-primary hover:underline font-medium",children:e("auth.signIn")})]})})]})})}function DashboardPage(){var j;const{t:e}=useTranslation(),{user:s,token:i}=useAuthStore(),[o,a]=reactExports.useState([]),[c,d]=reactExports.useState({totalDocuments:0,totalWords:0,quizzesCompleted:0,streak:0}),[h,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{var _e,tt;if(!i){g(!1);return}try{const rt=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(rt.ok){const st=await rt.json();a(st.documents||[]);const nt=((_e=st.documents)==null?void 0:_e.length)||0,et=((tt=st.documents)==null?void 0:tt.reduce(($,ot)=>{var lt;return $+(((lt=ot.summary)==null?void 0:lt.split(/\s+/).length)||0)},0))||0;d({totalDocuments:nt,totalWords:et,quizzesCompleted:0,streak:0})}}catch(rt){console.error("Error fetching documents:",rt)}finally{g(!1)}})()},[i]);const b=o.slice(0,4);return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:e("dashboard.welcome",{name:((j=s==null?void 0:s.email)==null?void 0:j.split("@")[0])||"User"})}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mt-1",children:e("dashboard.continueLearning")})]}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{className:"bg-accent hover:bg-accent-hover text-white gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),e("navigation.newDocument")]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-light flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-accent"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:c.totalDocuments}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.totalDocuments")})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-success-light flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-success"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:c.totalWords.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.wordsLearned")})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning-light flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-warning"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:c.quizzesCompleted}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.quizzesCompleted")})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-error-light flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-error"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:c.streak}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.dayStreak")})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-accent to-purple-600 rounded-xl p-6 text-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:e("navigation.aiAssistant")}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-sm mb-4",children:e("dashboard.aiAssistantDesc","Ask questions about your documents, get summaries, and generate quizzes")}),jsxRuntimeExports.jsx(Link,{to:"/chat",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"}),e("dashboard.startChat","Start Chat")]})})]}),jsxRuntimeExports.jsx(Sparkles,{className:"w-12 h-12 text-white/20"})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-bg-secondary border border-border rounded-xl p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg text-text-primary mb-2",children:e("dashboard.uploadDocument")}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm mb-4",children:e("dashboard.uploadDesc","Upload a PDF document and start learning with AI-powered tools")}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"gap-2 border-border text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),e("documents.upload")]})})]}),jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 text-text-muted"})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:e("dashboard.recentDocuments")}),jsxRuntimeExports.jsxs(Link,{to:"/documents",className:"text-sm text-accent hover:underline flex items-center gap-1",children:[e("dashboard.viewAllDocuments"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]}),h?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-accent"})}):b.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary mb-2",children:e("dashboard.noDocumentsYet")}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm mb-4",children:e("dashboard.uploadFirst")}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{className:"bg-accent hover:bg-accent-hover text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),e("dashboard.uploadFirstButton")]})})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map((_,_e)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*_e},children:jsxRuntimeExports.jsxs(Link,{to:`/documents/${_.id}`,className:"block bg-bg-secondary border border-border rounded-xl p-4 hover:border-border-strong transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-accent"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary truncate",children:_.title||_.filename}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted mt-1",children:new Date(_.createdAt).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-3",children:[_.summary&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-success-light text-success px-2 py-0.5 rounded",children:"Summary"}),_.quiz&&_.quiz.length>0&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-accent-light text-accent px-2 py-0.5 rounded",children:"Quiz"}),_.glossary&&_.glossary.length>0&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-warning-light text-warning px-2 py-0.5 rounded",children:"Glossary"})]})]})},_.id))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-text-primary mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-accent"}),"Learning Tips"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"1"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Active Recall"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Take quizzes to reinforce your memory"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"2"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Spaced Repetition"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Review glossary terms regularly"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"3"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Ask Questions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Use AI chat to clarify concepts"})]})]})]})]})]})}function DocumentsPage(){const{t:e}=useTranslation(),{user:s,token:i}=useAuthStore(),[o,a]=reactExports.useState([]),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState(""),[b,j]=reactExports.useState(!1),{toast:_}=useToast(),_e=reactExports.useCallback(async()=>{if(!s||!i){d(!1);return}try{const nt=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(nt.ok){const et=await nt.json();a(et.documents||[])}}catch(nt){console.error("Error fetching documents:",nt)}finally{d(!1)}},[s,i]);reactExports.useEffect(()=>{_e()},[_e]);const tt=async nt=>{var $,ot,lt;const et=($=nt.target.files)==null?void 0:$[0];if(!(!et||!s||!i)){if(et.type!=="application/pdf"){_({variant:"destructive",title:e("common.error"),description:e("documents.onlyPDF")});return}if(et.size>50*1024*1024){_({variant:"destructive",title:e("common.error"),description:e("documents.fileTooLarge")});return}j(!0);try{const it=new FormData;it.append("file",et),it.append("title",et.name.replace(".pdf",""));const dt=await fetch(apiEndpoint("api/documents/upload"),{method:"POST",headers:{Authorization:`Bearer ${i}`},credentials:"include",body:it});if(!dt.ok)throw new Error("Failed to upload document");const ct=await dt.json();_({title:e("common.success"),description:e("documents.uploadSuccess",{chars:((ot=ct.metadata)==null?void 0:ot.textLength)||0,pages:((lt=ct.metadata)==null?void 0:lt.numPages)||0})}),_e()}catch{_({variant:"destructive",title:e("common.error"),description:e("documents.uploadError")})}finally{j(!1)}}},rt=async nt=>{if(i)try{await fetch(apiEndpoint(`api/documents/${nt}`),{method:"DELETE",headers:{Authorization:`Bearer ${i}`},credentials:"include"}),_({title:e("common.success"),description:e("documents.deleteSuccess")}),_e()}catch{_({variant:"destructive",title:e("common.error"),description:e("documents.deleteError")})}},st=h?o.filter(nt=>nt.title.toLowerCase().includes(h.toLowerCase())):o;return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:e("documents.title")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:e("documents.uploadDesc","Upload and manage your PDFs")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Input,{type:"file",accept:".pdf",onChange:tt,disabled:b,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",children:jsxRuntimeExports.jsx(Button,{asChild:!0,disabled:b,children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),e(b?"documents.processing":"documents.uploadNew")]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:e("common.searchDocuments"),value:h,onChange:nt=>g(nt.target.value),className:"pl-10"})]}),c?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):st.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-col items-center justify-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("documents.noDocuments")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center mb-4",children:e("documents.noDocumentsDesc")}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",children:jsxRuntimeExports.jsx(Button,{asChild:!0,children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),e("documents.uploadNew")]})})})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:st.map(nt=>jsxRuntimeExports.jsx(Card,{className:"group",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${nt.id}`,className:"block",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold truncate",children:nt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:formatFileSize(nt.fileSize)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:formatDate(nt.createdAt)})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[jsxRuntimeExports.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${nt.summary?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:nt.summary?"Ready":"Processing"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>rt(nt.id),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]})},nt.id))})]})}function DocumentDetailPage(){var tt,rt,st;const{id:e}=useParams(),{token:s}=useAuthStore(),[i,o]=reactExports.useState(null),[a,c]=reactExports.useState(!0),[d,h]=reactExports.useState(!1),{toast:g}=useToast(),b=async()=>{if(!e||!s){c(!1);return}try{const nt=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(nt.ok){const et=await nt.json();o(et.document)}}catch(nt){console.error("Error fetching document:",nt)}finally{c(!1)}};reactExports.useEffect(()=>{b()},[e,s]);const j=async()=>{var nt,et;if(!(!e||!s)){h(!0);try{const $=await fetch(apiEndpoint(`api/documents/${e}/generate`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({})}),ot=await $.json();if(!$.ok)throw new Error(ot.error||"Failed to generate content");g({title:"Content Generated!",description:`Created ${((nt=ot.generated)==null?void 0:nt.quizCount)||0} quiz questions, ${((et=ot.generated)==null?void 0:et.glossaryCount)||0} glossary terms, and more.`}),b()}catch($){g({variant:"destructive",title:"Error",description:$ instanceof Error?$.message:"Failed to generate content"})}finally{h(!1)}}};if(a)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!i)return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Document not found"})]})]});const _=i.summary||i.quiz||i.glossary,_e=[{title:"Summary",description:"Get a concise summary of the document",icon:BookOpen,href:`/learn/${e}/summary`,available:!!i.summary},{title:"Quiz",description:"Test your knowledge with a quiz",icon:HelpCircle,href:`/learn/${e}/quiz`,available:!!i.quiz},{title:"Glossary",description:"Learn key terms and definitions",icon:List,href:`/learn/${e}/glossary`,available:!!i.glossary}];return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900",children:jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:i.title}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:[formatFileSize(i.fileSize),"  Uploaded ",formatDate(i.createdAt)]})]})]}),jsxRuntimeExports.jsx(Link,{to:`/documents/${e}/view`,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-2"}),"Open in Viewer"]})})]}),!_&&jsxRuntimeExports.jsxs(Card,{className:"border-dashed",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-purple-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Generate Learning Content"}),jsxRuntimeExports.jsx(CardDescription,{children:"Use AI to create flashcards, quizzes, and more from this document"})]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Button,{onClick:j,disabled:d||!i.content,className:"w-full",children:d?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Generate Content"]})}),!i.content&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"No text content available. Upload a PDF with extractable text."})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_e.map(nt=>jsxRuntimeExports.jsxs(Card,{className:nt.available?"":"opacity-60",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(nt.icon,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:nt.title}),jsxRuntimeExports.jsx(CardDescription,{children:nt.description})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:nt.available?jsxRuntimeExports.jsx(Link,{to:nt.href,children:jsxRuntimeExports.jsx(Button,{className:"w-full",children:"Start Learning"})}):jsxRuntimeExports.jsx(Button,{className:"w-full",disabled:!0,children:"Generate Content First"})})]},nt.title))}),i.summary&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Summary"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:i.summary})})]}),_&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Content Generated"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((tt=i.quiz)==null?void 0:tt.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Quiz Questions"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((rt=i.glossary)==null?void 0:rt.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Glossary Terms"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((st=i.concepts)==null?void 0:st.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Concepts"})]})]})})]})]})}function SettingsPage(){const{t:e}=useTranslation(),s=[{title:e("settings.apiKeys"),description:e("settings.apiKeysDesc"),icon:Key,href:"/settings/api-keys"},{title:e("settings.profile"),description:e("settings.profileDesc"),icon:User,href:"/settings/profile",disabled:!0},{title:e("settings.security"),description:e("settings.securityDesc"),icon:Shield,href:"/settings/security",disabled:!0}];return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:e("settings.title")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:e("settings.manageAccount","Manage your account and preferences")})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(i=>jsxRuntimeExports.jsxs(Card,{className:i.disabled?"opacity-50":"",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(i.icon,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:i.title}),jsxRuntimeExports.jsx(CardDescription,{children:i.description})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:i.disabled?jsxRuntimeExports.jsx(Button,{variant:"outline",disabled:!0,className:"w-full",children:e("settings.comingSoon")}):jsxRuntimeExports.jsx(Link,{to:i.href,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"w-full",children:e("settings.manage","Manage")})})})]},i.title))})]})}const PROVIDERS=[{id:"openai",name:"OpenAI"},{id:"anthropic",name:"Anthropic"},{id:"google",name:"Google"},{id:"groq",name:"Groq"},{id:"cerebras",name:"Cerebras"},{id:"openrouter",name:"OpenRouter"}];function ApiKeysPage(){const{t:e}=useTranslation(),{user:s,token:i}=useAuthStore(),[o,a]=reactExports.useState([]),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState(null),[b,j]=reactExports.useState(""),[_,_e]=reactExports.useState(""),{toast:tt}=useToast(),rt=async()=>{if(!s||!i){d(!1);return}try{const et=await fetch(apiEndpoint("api/api-keys"),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(et.ok){const $=await et.json();a($.apiKeys||[])}}catch(et){console.error("Error fetching API keys:",et)}finally{d(!1)}};reactExports.useEffect(()=>{rt()},[s,i]);const st=async et=>{if(!(!b||!i))try{if(!(await fetch(apiEndpoint("api/api-keys"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include",body:JSON.stringify({provider:et,key:b,name:_||void 0})})).ok)throw new Error("Failed to save API key");tt({title:e("common.success"),description:e("settings.keySavedFor",{provider:et})}),j(""),_e(""),g(null),rt()}catch{tt({variant:"destructive",title:e("common.error"),description:e("settings.keysError")})}},nt=async(et,$)=>{if(i)try{await fetch(apiEndpoint(`api/api-keys/${et}`),{method:"DELETE",headers:{Authorization:`Bearer ${i}`},credentials:"include"}),tt({title:e("common.success"),description:e("settings.keyDeletedFor",{provider:$})}),rt()}catch{tt({variant:"destructive",title:e("common.error"),description:e("settings.keyDeleteError","Failed to delete API key")})}};return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/settings",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),e("settings.backToSettings","Back to Settings")]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:e("settings.apiKeys")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:e("settings.apiKeysDesc")})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:e("settings.yourApiKeys","Your API Keys")}),jsxRuntimeExports.jsx(CardDescription,{children:e("settings.apiKeysSecure","Add your own API keys to use with Doc2Learn. Your keys are encrypted and stored securely.")})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:c?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):PROVIDERS.map(et=>{const $=o.find(ot=>ot.provider===et.id);return jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(Key,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:et.name}),$?jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("settings.keyEnding","Key ending in {{last4}}",{last4:$.keyLast4}),$.name&&` (${$.name})`]}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:e("settings.notConfigured","Not configured")})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:$?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-4 h-4"}),e("settings.active","Active")]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>nt($.id,et.name),children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-destructive"})})]}):h===et.id?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Enter API key",value:b,onChange:ot=>j(ot.target.value),className:"w-48"}),jsxRuntimeExports.jsx(Input,{placeholder:"Name (optional)",value:_,onChange:ot=>_e(ot.target.value),className:"w-32"}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>st(et.id),children:"Save"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{g(null),j(""),_e("")},children:"Cancel"})]}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>g(et.id),children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Key"]})})]})},et.id)})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"About BYOK"}),jsxRuntimeExports.jsx(CardDescription,{children:"How Doc2Learn handles your API keys"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("li",{children:" Your API keys are hashed before storage"}),jsxRuntimeExports.jsx("li",{children:" Keys are only used when making requests to AI providers"}),jsxRuntimeExports.jsx("li",{children:" Doc2Learn stores a secure hash of your keys"}),jsxRuntimeExports.jsx("li",{children:" You can delete your keys at any time"}),jsxRuntimeExports.jsx("li",{children:" You are billed directly by the AI providers for usage"})]})})]})]})}function LearningIndexPage(){const{token:e}=useAuthStore(),[s,i]=reactExports.useState([]),[o,a]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{if(!e){a(!1);return}try{const h=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(h.ok){const g=await h.json();i(g.documents||[])}}catch(h){console.error("Error fetching documents:",h)}finally{a(!1)}})()},[e]);const c=d=>d.summary||d.quiz&&d.quiz.length>0||d.glossary&&d.glossary.length>0||d.flashcards&&d.flashcards.length>0;return o?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-accent/10 mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-accent"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Learning Center"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Transform your documents into interactive learning experiences with AI-powered quizzes, flashcards, glossaries, and summaries."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-blue-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Summaries"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"AI-generated summaries highlighting key concepts and main ideas."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-green-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Quizzes"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Test your knowledge with automatically generated quiz questions."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-purple-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Glossary"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Learn key terms and definitions from your documents."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5 text-orange-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Flashcards"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Memorize important concepts with interactive flashcards."})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Your Documents"}),s.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No documents yet"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"Upload a document to start learning"}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsx(Button,{className:"bg-accent hover:bg-accent-hover text-white",children:"Upload Document"})})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:s.map(d=>jsxRuntimeExports.jsx(Link,{to:`/learn/${d.id}`,className:"block bg-bg-secondary border border-border rounded-xl p-5 hover:border-accent/50 transition-colors group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-lg bg-bg-tertiary flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-text-muted"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary group-hover:text-accent transition-colors",children:d.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:new Date(d.createdAt).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[c(d)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[d.summary&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-500/10 text-blue-500",children:"Summary"}),d.quiz&&d.quiz.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-500/10 text-green-500",children:"Quiz"}),d.glossary&&d.glossary.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-500/10 text-purple-500",children:"Glossary"}),d.flashcards&&d.flashcards.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-orange-500/10 text-orange-500",children:"Flashcards"})]}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 text-text-muted group-hover:text-accent transition-colors"})]})]})},d.id))})]})]})}const tabs=[{id:"summary",label:"Summary",icon:FileText},{id:"quiz",label:"Quiz",icon:Target},{id:"glossary",label:"Glossary",icon:BookOpen},{id:"flashcards",label:"Flashcards",icon:Lightbulb}];function LearningExperiencePage(){const{experienceId:e}=useParams(),s=e,i=useNavigate(),{token:o}=useAuthStore(),[a,c]=reactExports.useState(null),[d,h]=reactExports.useState(!0),[g,b]=reactExports.useState("summary"),[j,_]=reactExports.useState(!1),{toast:_e}=useToast();reactExports.useEffect(()=>{(async()=>{if(!s||!o){h(!1);return}try{const et=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${o}`},credentials:"include"});if(et.ok){const $=await et.json();c($.document)}}catch(et){console.error("Error fetching document:",et)}finally{h(!1)}})()},[s,o]);const tt=async()=>{if(!(!a||j)){_(!0);try{const nt=await fetch(apiEndpoint(`api/documents/${s}/generate`),{method:"POST",headers:{Authorization:`Bearer ${o}`},credentials:"include"});if(nt.ok){const et=await nt.json();c($=>$&&{...$,...et}),_e({title:"Content generated!",description:"Your learning content is ready."})}else throw new Error("Failed to generate content")}catch(nt){_e({variant:"destructive",title:"Error",description:nt instanceof Error?nt.message:"Failed to generate content"})}finally{_(!1)}}},rt=nt=>{if(!a)return!1;switch(nt){case"summary":return!!a.summary;case"quiz":return a.quiz&&a.quiz.length>0;case"glossary":return a.glossary&&a.glossary.length>0;case"flashcards":return a.flashcards&&a.flashcards.length>0}return!1},st=()=>tabs.some(nt=>rt(nt.id));return d?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):a?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-text-primary",children:a.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Learning Experience"})]})]})}),!st()&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-accent-light border border-accent/20 rounded-xl p-6 text-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-accent mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No learning content yet"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"Generate AI-powered learning content from this document"}),jsxRuntimeExports.jsx(Button,{onClick:tt,disabled:j,className:"bg-accent hover:bg-accent-hover text-white",children:j?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Generate Learning Content"]})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:tabs.map(nt=>{const et=nt.icon,$=rt(nt.id);return jsxRuntimeExports.jsxs("button",{onClick:()=>b(nt.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors relative ${g===nt.id?"text-accent":"text-text-muted hover:text-text-secondary"}`,children:[jsxRuntimeExports.jsx(et,{className:"w-4 h-4"}),nt.label,$&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-success"}),g===nt.id&&jsxRuntimeExports.jsx(motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent"})]},nt.id)})})}),jsxRuntimeExports.jsxs("div",{className:"min-h-[400px]",children:[g==="summary"&&jsxRuntimeExports.jsx("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:a.summary?jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed",children:a.summary})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No summary available"}),jsxRuntimeExports.jsx(Button,{onClick:tt,disabled:j,variant:"outline",className:"mt-4",children:"Generate Content"})]})}),g==="quiz"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.quiz&&a.quiz.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.quiz.length," questions"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>i(`/learn/${s}/quiz`),className:"bg-accent hover:bg-accent-hover text-white",children:"Start Quiz"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:[a.quiz.slice(0,3).map((nt,et)=>{var $;return jsxRuntimeExports.jsxs("div",{className:"mb-4 last:mb-0",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium text-text-primary",children:[et+1,". ",nt.question]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-muted mt-1",children:[(($=nt.options)==null?void 0:$.length)||0," options"]})]},et)}),a.quiz.length>3&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-muted text-center",children:["+",a.quiz.length-3," more questions"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No quiz available"})]})}),g==="glossary"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.glossary&&a.glossary.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.glossary.length," terms"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>i(`/learn/${s}/glossary`),variant:"outline",children:"View Full Glossary"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3",children:a.glossary.slice(0,6).map((nt,et)=>jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary",children:nt.term}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary mt-1 line-clamp-2",children:nt.definition})]},et))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No glossary available"})]})}),g==="flashcards"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.flashcards&&a.flashcards.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.flashcards.length," flashcards"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>i(`/learn/${s}/flashcards`),variant:"outline",children:"Study Flashcards"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:a.flashcards.slice(0,6).map((nt,et)=>jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary mb-2",children:nt.front}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary border-t border-border pt-2",children:nt.back})]},et))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No flashcards available"})]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Document not found"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"The document you're looking for doesn't exist."})]})]})}const CORRECT_MESSAGES=[{title:"Excelente!",description:"Acertaste em cheio!",emoji:""},{title:"Perfeito!",description:"Dominaste este conceito!",emoji:""},{title:"Muito bem!",description:"Continua assim!",emoji:""},{title:"Fantstico!",description:"Ests a brilhar!",emoji:""},{title:"Incrvel!",description:"Que resposta genial!",emoji:""},{title:"Brilhante!",description:"O teu conhecimento  slido!",emoji:""},{title:"Assim  que !",description:"Ests no caminho certo!",emoji:""},{title:"Mandaste bem!",description:"Excelente trabalho!",emoji:""}],INCORRECT_MESSAGES=[{title:"Quase l!",description:"Tenta novamente!",emoji:""},{title:"No desistas!",description:"A prtica leva  perfeio!",emoji:""},{title:"Boa tentativa!",description:"Rev o material e tenta novamente!",emoji:""},{title:"No te preocupes!",description:"Cada erro  uma oportunidade de aprender!",emoji:""},{title:"Continua a tentar!",description:"Ests quase a conseguir!",emoji:""},{title:"Fora!",description:"O sucesso vem com persistncia!",emoji:""},{title:"nimo!",description:"Aprendizagem  um processo!",emoji:""},{title:"No baixos os braos!",description:"Vais conseguir!",emoji:""}],getScoreMessage=e=>e===100?{title:"Perfeio Absoluta!",description:"Conquistaste todos os pontos! s um mestre neste tema!",icon:Trophy}:e>=90?{title:"Excelente!",description:"Quase perfeito! O teu conhecimento  impressionante!",icon:Star}:e>=70?{title:"Muito Bem!",description:"Bom trabalho! Continua a praticar para melhorar ainda mais!",icon:Target}:e>=50?{title:"Bom Esforo!",description:"Ests no caminho certo! Rev os pontos que falhaste.",icon:Sparkles}:{title:"Continua a Tentar!",description:"No desistas! Cada tentativa  uma oportunidade de aprender.",icon:Zap};function QuizPage(){const{experienceId:e}=useParams(),s=e,{token:i}=useAuthStore(),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState(0),[b,j]=reactExports.useState(null),[_,_e]=reactExports.useState(!1),[tt,rt]=reactExports.useState([]),[st,nt]=reactExports.useState(!1),[et,$]=reactExports.useState(null),[ot,lt]=reactExports.useState(0),[it,dt]=reactExports.useState(0),{toast:ct}=useToast();reactExports.useEffect(()=>{(async()=>{var xt;if(!s||!i){d(!1);return}try{const Rt=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(Rt.ok){const It=await Rt.json();a(It.document),rt(new Array(((xt=It.document.quiz)==null?void 0:xt.length)||0).fill(null))}}catch(Rt){console.error("Error fetching document:",Rt)}finally{d(!1)}})()},[s,i]);const ut=(o==null?void 0:o.quiz)||[],ft=reactExports.useCallback(Tt=>{const xt=Tt?CORRECT_MESSAGES:INCORRECT_MESSAGES;return xt[Math.floor(Math.random()*xt.length)]},[]),yt=Tt=>{_||j(Tt)},ht=()=>{if(b===null)return;const Tt=[...tt];Tt[h]=b,rt(Tt);const xt=b===ut[h].correct,Rt=ft(xt);$(Rt),xt?(lt(It=>It+1),dt(It=>It+1),ot>=2&&ct({title:` Sequncia de ${ot+1}!`,description:"Ests imparvel!"})):lt(0),_e(!0),ct({title:Rt.title,description:Rt.description,variant:xt?"default":"destructive"})},gt=()=>{h+1>=ut.length?nt(!0):(g(h+1),j(null),_e(!1),$(null))},St=()=>{g(0),j(null),_e(!1),rt(new Array(ut.length).fill(null)),nt(!1),$(null),lt(0),dt(0)},Nt=()=>it;if(c)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})});if(!o||ut.length===0)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Quiz Available"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the quiz"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})});if(st){const Tt=Nt(),xt=Math.round(Tt/ut.length*100),Rt=getScoreMessage(xt),It=Rt.icon;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})})})}),jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-surface-elevated border border-border rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-8 border-b border-border",children:[jsxRuntimeExports.jsx(It,{className:"w-16 h-16 mx-auto text-action mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-text-primary mb-2",children:Rt.title}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:Rt.description})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-5xl font-bold text-action mb-2",children:[xt,"%"]}),jsxRuntimeExports.jsxs("p",{className:"text-text-secondary",children:[Tt," correct out of ",ut.length," questions"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-success",children:Tt}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Correct"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-error",children:ut.length-Tt}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Incorrect"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-action",children:ot}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Best Streak"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:St,className:"bg-action hover:bg-action-hover text-white",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 mr-2"}),"Try Again"]}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Back to Document"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 pt-6 border-t border-border",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Review Your Answers"}),ut.map((bt,pt)=>jsxRuntimeExports.jsx("div",{className:`p-4 border rounded ${tt[pt]===bt.correct?"border-success bg-success-light":"border-error bg-error-light"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[tt[pt]===bt.correct?jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-success mt-0.5 flex-shrink-0"}):jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5 text-error mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary mb-2",children:bt.question}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:["Your answer: ",jsxRuntimeExports.jsx("span",{className:tt[pt]===bt.correct?"text-success":"text-error",children:bt.options[tt[pt]]})]}),tt[pt]!==bt.correct&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["Correct answer: ",jsxRuntimeExports.jsx("span",{className:"text-success",children:bt.options[bt.correct]})]})]})]})},pt))]})]})]})})]})}const Lt=ut[h],kt=(h+1)/ut.length*100,Ct=_&&b===Lt.correct;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[ot>=2&&jsxRuntimeExports.jsxs("span",{className:"text-warning font-medium flex items-center gap-1",children:[" ",ot," streak!"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-muted font-mono",children:[h+1," / ",ut.length]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-1 bg-border rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-action transition-all duration-500",style:{width:`${kt}%`}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[jsxRuntimeExports.jsxs("span",{children:[it," correct"]}),jsxRuntimeExports.jsxs("span",{children:[Math.round(kt),"% complete"]})]})]}),_&&et&&jsxRuntimeExports.jsxs("div",{className:`p-4 rounded border text-center ${Ct?"bg-success-light border-success":"bg-error-light border-error"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xl mr-2",children:et.emoji}),jsxRuntimeExports.jsx("span",{className:`font-medium ${Ct?"text-success":"text-error"}`,children:et.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary mt-1",children:et.description})]}),jsxRuntimeExports.jsxs("div",{className:`bg-surface-elevated border rounded-lg p-6 ${_?Ct?"border-success":"border-error":"border-border"}`,children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium text-text-primary mb-6",children:Lt.question}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Lt.options.map((Tt,xt)=>{let Rt="border border-border rounded cursor-pointer transition-all";return _?xt===Lt.correct?Rt+=" bg-success-light border-success":xt===b&&xt!==Lt.correct?Rt+=" bg-error-light border-error":Rt+=" opacity-50":b===xt?Rt+=" bg-action-light border-action":Rt+=" hover:border-border-strong",jsxRuntimeExports.jsx("div",{className:Rt,onClick:()=>yt(xt),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-4",children:[jsxRuntimeExports.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-medium ${_&&xt===Lt.correct?"bg-success border-success text-white":_&&xt===b&&xt!==Lt.correct?"bg-error border-error text-white":b===xt?"bg-action border-action text-white":"border-border text-text-secondary"}`,children:String.fromCharCode(65+xt)}),jsxRuntimeExports.jsx("span",{className:"flex-1 text-text-primary",children:Tt}),_&&xt===Lt.correct&&jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-success"}),_&&xt===b&&xt!==Lt.correct&&jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5 text-error"})]})},xt)})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end gap-3",children:_?jsxRuntimeExports.jsx(Button,{onClick:gt,className:"bg-action hover:bg-action-hover text-white",children:h+1>=ut.length?"See Results":"Next Question"}):jsxRuntimeExports.jsx(Button,{onClick:ht,disabled:b===null,className:"bg-action hover:bg-action-hover text-white",children:"Submit Answer"})})]})]})}function GlossaryPage(){const{experienceId:e}=useParams(),s=e,{token:i}=useAuthStore(),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState(""),[b,j]=reactExports.useState(null),[_,_e]=reactExports.useState(new Set);reactExports.useEffect(()=>{(async()=>{if(!s||!i){d(!1);return}try{const ot=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(ot.ok){const lt=await ot.json();a(lt.document)}}catch(ot){console.error("Error fetching document:",ot)}finally{d(!1)}})()},[s,i]);const tt=(o==null?void 0:o.glossary)||[],rt=reactExports.useMemo(()=>{const $=new Set;return tt.forEach(ot=>{const lt=ot.term.charAt(0).toUpperCase();/[A-Z]/.test(lt)&&$.add(lt)}),Array.from($).sort()},[tt]),st=reactExports.useMemo(()=>{let $=tt;if(h){const ot=h.toLowerCase();$=$.filter(lt=>lt.term.toLowerCase().includes(ot)||lt.definition.toLowerCase().includes(ot))}return b&&($=$.filter(ot=>ot.term.charAt(0).toUpperCase()===b)),$.sort((ot,lt)=>ot.term.localeCompare(lt.term))},[tt,h,b]),nt=reactExports.useMemo(()=>{const $={};return st.forEach(ot=>{const lt=ot.term.charAt(0).toUpperCase();$[lt]||($[lt]=[]),$[lt].push(ot)}),$},[st]),et=$=>{_e(ot=>{const lt=new Set(ot);return lt.has($)?lt.delete($):lt.add($),lt})};return c?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})}):!o||tt.length===0?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Glossary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the glossary"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-muted font-mono",children:[tt.length," terms"]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Glossary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:o.title})]}),jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto mb-6",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search terms...",value:h,onChange:$=>g($.target.value),className:"pl-10 pr-10 border-border bg-surface-elevated"}),h&&jsxRuntimeExports.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-8",children:[jsxRuntimeExports.jsx(Button,{variant:b===null?"default":"ghost",size:"sm",onClick:()=>j(null),className:`min-w-[36px] h-8 ${b===null?"bg-action text-white hover:bg-action-hover":"text-text-secondary hover:text-text-primary"}`,children:"All"}),rt.map($=>jsxRuntimeExports.jsx(Button,{variant:b===$?"default":"ghost",size:"sm",onClick:()=>j(b===$?null:$),className:`min-w-[36px] h-8 ${b===$?"bg-action text-white hover:bg-action-hover":"text-text-secondary hover:text-text-primary"}`,children:$},$))]}),(h||b)&&jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-text-muted mb-6",children:["Found ",st.length," term",st.length!==1?"s":""]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(nt).map(([$,ot])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-text-muted uppercase tracking-wider w-8",children:$}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-border"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-text-muted",children:ot.length})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ot.map((lt,it)=>{const dt=_.has(lt.term);return jsxRuntimeExports.jsx("div",{className:"bg-surface-elevated border border-border rounded cursor-pointer transition-colors hover:border-border-strong",onClick:()=>et(lt.term),children:jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:lt.term}),jsxRuntimeExports.jsx("p",{className:`text-sm text-text-secondary mt-1 ${dt?"":"line-clamp-2"}`,children:lt.definition})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 pt-1",children:dt?jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4 text-text-muted"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4 text-text-muted"})})]})})},`${lt.term}-${it}`)})})]},$))}),st.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx(Search,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"No terms found matching your search"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",className:"text-text-secondary hover:text-text-primary",onClick:()=>{g(""),j(null)},children:"Clear filters"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center pt-8 mt-8 border-t border-border",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/quiz`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Take Quiz"})}),jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/summary`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"View Summary"})})]})]})]})}function renderMarkdown(e){const s=e.split(`
`),i=[];let o=[],a=!1;return s.forEach((c,d)=>{if(c.startsWith("- ")||c.startsWith("* ")){a=!0,o.push(c.slice(2));return}if(a&&o.length>0&&(i.push(jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 my-3 ml-4",children:o.map((h,g)=>jsxRuntimeExports.jsx("li",{className:"text-text-secondary",children:renderInlineMarkdown(h)},g))},`list-${d}`)),o=[],a=!1),c.startsWith("## ")){i.push(jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3 text-text-primary",children:renderInlineMarkdown(c.slice(3))},d));return}if(c.startsWith("### ")){i.push(jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium mt-4 mb-2 text-text-primary",children:renderInlineMarkdown(c.slice(4))},d));return}if(c.startsWith("# ")){i.push(jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mt-6 mb-4 text-text-primary",children:renderInlineMarkdown(c.slice(2))},d));return}if(c.startsWith("> ")){i.push(jsxRuntimeExports.jsx("blockquote",{className:"border-l-2 border-action pl-4 italic my-3 text-text-secondary",children:renderInlineMarkdown(c.slice(2))},d));return}c.trim()!==""&&i.push(jsxRuntimeExports.jsx("p",{className:"my-3 text-text-secondary leading-relaxed",children:renderInlineMarkdown(c)},d))}),o.length>0&&i.push(jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 my-3 ml-4",children:o.map((c,d)=>jsxRuntimeExports.jsx("li",{className:"text-text-secondary",children:renderInlineMarkdown(c)},d))},"list-final")),i}function renderInlineMarkdown(e){const s=[];let i=e,o=0;for(;i.length>0;){const a=i.match(/\*\*(.+?)\*\*/);if(a){const h=i.slice(0,a.index);h&&s.push(h),s.push(jsxRuntimeExports.jsx("strong",{className:"font-medium text-text-primary",children:a[1]},o++)),i=i.slice(a.index+a[0].length);continue}const c=i.match(/\*(.+?)\*/);if(c){const h=i.slice(0,c.index);h&&s.push(h),s.push(jsxRuntimeExports.jsx("em",{className:"italic",children:c[1]},o++)),i=i.slice(c.index+c[0].length);continue}const d=i.match(/`(.+?)`/);if(d){const h=i.slice(0,d.index);h&&s.push(h),s.push(jsxRuntimeExports.jsx("code",{className:"bg-surface border border-border px-1.5 py-0.5 rounded text-sm font-mono text-text-primary",children:d[1]},o++)),i=i.slice(d.index+d[0].length);continue}s.push(i);break}return s}function SummaryPage(){const{experienceId:e}=useParams(),s=e,{token:i}=useAuthStore(),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState(!1),{toast:b}=useToast();reactExports.useEffect(()=>{(async()=>{if(!s||!i){d(!1);return}try{const rt=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(rt.ok){const st=await rt.json();a(st.document)}}catch(rt){console.error("Error fetching document:",rt)}finally{d(!1)}})()},[s,i]);const j=async()=>{if(o!=null&&o.summary)try{await navigator.clipboard.writeText(o.summary),g(!0),b({title:"Copied!",description:"Summary copied to clipboard"}),setTimeout(()=>g(!1),2e3)}catch{b({variant:"destructive",title:"Error",description:"Failed to copy to clipboard"})}};if(c)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})});if(!o||!o.summary)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Summary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the summary"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})});const _=o.summary.split(/\s+/).length,_e=Math.ceil(_/200);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:j,className:"text-text-secondary hover:text-text-primary",children:h?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 mr-2 text-success"}),"Copied"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4 mr-2"}),"Copy"]})})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Summary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:o.title})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6 text-sm text-text-muted mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[_," words"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("span",{children:["~",_e," min read"]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-surface-elevated border border-border rounded-lg p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-none",children:renderMarkdown(o.summary)})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center pt-8 mt-8 border-t border-border",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/quiz`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Take Quiz"})}),jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/glossary`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"View Glossary"})})]})]})]})}function ExercisesPage(){const{experienceId:e}=useParams();return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Construction,{className:"w-8 h-8 text-yellow-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Exercises"}),jsxRuntimeExports.jsx(CardDescription,{children:"AI-generated exercises coming soon"})]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Exercise generation will be available once AI integration is complete."})})]})]})}function FlashcardsPage(){const{experienceId:e}=useParams(),{token:s}=useAuthStore(),[i,o]=reactExports.useState(null),[a,c]=reactExports.useState(!0),[d,h]=reactExports.useState(0),[g,b]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{if(!e||!s){c(!1);return}try{const st=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(st.ok){const nt=await st.json();o(nt.document)}}catch(st){console.error("Error fetching document:",st)}finally{c(!1)}})()},[e,s]);const j=(i==null?void 0:i.flashcards)||[],_=()=>{b(!1),setTimeout(()=>{h(rt=>(rt+1)%j.length)},150)},_e=()=>{b(!1),setTimeout(()=>{h(rt=>(rt-1+j.length)%j.length)},150)};if(a)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})});if(!i||j.length===0)return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Learning"]})}),jsxRuntimeExports.jsx("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No flashcards available for this document."})})]});const tt=j[d];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-text-muted",children:[d+1," / ",j.length]})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-2 bg-bg-tertiary rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${(d+1)/j.length*100}%`}})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-lg h-72 cursor-pointer perspective-1000",onClick:()=>b(!g),children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{rotateY:g?-90:90,opacity:0},animate:{rotateY:0,opacity:1},exit:{rotateY:g?90:-90,opacity:0},transition:{duration:.2},className:`w-full h-full rounded-2xl p-8 flex flex-col items-center justify-center text-center shadow-lg ${g?"bg-accent text-white":"bg-bg-secondary border border-border text-text-primary"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-wider mb-4 opacity-60",children:g?"Answer":"Question"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-medium leading-relaxed",children:g?tt.back:tt.front})]},g?"back":"front")})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:_e,disabled:j.length<=1,className:"w-24",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5 mr-1"}),"Prev"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:()=>b(!1),className:"w-24",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5 mr-1"}),"Flip"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:_,disabled:j.length<=1,className:"w-24",children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 ml-1"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-text-muted",children:"Click on the card to flip it"})]})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(s,i){module.exports=s.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,s)=>{var In;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=xt,s.bytesToString=Qt,s.createValidAbsoluteUrl=It,s.getModificationDate=pn,s.getUuid=Rn,s.getVerbosityLevel=Lt,s.info=kt,s.isArrayBuffer=Ut,s.isArrayEqual=fn,s.isNodeJS=void 0,s.normalizeUnicode=vn,s.objectFromMap=Gt,s.objectSize=rn,s.setVerbosityLevel=Nt,s.shadow=bt,s.string32=on,s.stringToBytes=Jt,s.stringToPDFString=nn,s.stringToUTF8String=dn,s.unreachable=Tt,s.utf8StringToString=ln,s.warn=Ct;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=i;const o=[1,0,0,1,0,0];s.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=a;const c=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;s.LINE_FACTOR=d;const h=.35;s.LINE_DESCENT_FACTOR=h;const g=h/d;s.BASELINE_FACTOR=g;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=b;const j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=j;const _="pdfjs_internal_editor_";s.AnnotationEditorPrefix=_;const _e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=_e;const tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=tt;const rt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=rt;const st={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=st;const nt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=nt;const et={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=et;const $={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=$;const ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=ot;const lt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=lt;const it={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=it;const dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=dt;const ct={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=ct;const ut={O:"PageOpen",C:"PageClose"};s.PageActionEventType=ut;const ft={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=ft;const yt={NONE:0,BINARY:1};s.CMapCompressionType=yt;const ht={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=ht;const gt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=gt;let St=ft.WARNINGS;function Nt(un){Number.isInteger(un)&&(St=un)}function Lt(){return St}function kt(un){St>=ft.INFOS&&console.log(`Info: ${un}`)}function Ct(un){St>=ft.WARNINGS&&console.log(`Warning: ${un}`)}function Tt(un){throw new Error(un)}function xt(un,qt){un||Tt(qt)}function Rt(un){switch(un==null?void 0:un.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function It(un,qt=null,Yt=null){if(!un)return null;try{if(Yt&&typeof un=="string"){if(Yt.addDefaultProtocol&&un.startsWith("www.")){const Mn=un.match(/\./g);(Mn==null?void 0:Mn.length)>=2&&(un=`http://${un}`)}if(Yt.tryConvertEncoding)try{un=dn(un)}catch{}}const yn=qt?new URL(un,qt):new URL(un);if(Rt(yn))return yn}catch{}return null}function bt(un,qt,Yt,yn=!1){return Object.defineProperty(un,qt,{value:Yt,enumerable:!yn,configurable:!0,writable:!1}),Yt}const pt=function(){function qt(Yt,yn){this.constructor===qt&&Tt("Cannot initialize BaseException."),this.message=Yt,this.name=yn}return qt.prototype=new Error,qt.constructor=qt,qt}();s.BaseException=pt;class mt extends pt{constructor(qt,Yt){super(qt,"PasswordException"),this.code=Yt}}s.PasswordException=mt;class vt extends pt{constructor(qt,Yt){super(qt,"UnknownErrorException"),this.details=Yt}}s.UnknownErrorException=vt;class At extends pt{constructor(qt){super(qt,"InvalidPDFException")}}s.InvalidPDFException=At;class jt extends pt{constructor(qt){super(qt,"MissingPDFException")}}s.MissingPDFException=jt;class Dt extends pt{constructor(qt,Yt){super(qt,"UnexpectedResponseException"),this.status=Yt}}s.UnexpectedResponseException=Dt;class Vt extends pt{constructor(qt){super(qt,"FormatError")}}s.FormatError=Vt;class Wt extends pt{constructor(qt){super(qt,"AbortException")}}s.AbortException=Wt;function Qt(un){(typeof un!="object"||(un==null?void 0:un.length)===void 0)&&Tt("Invalid argument for bytesToString");const qt=un.length,Yt=8192;if(qt<Yt)return String.fromCharCode.apply(null,un);const yn=[];for(let Mn=0;Mn<qt;Mn+=Yt){const Ln=Math.min(Mn+Yt,qt),Mt=un.subarray(Mn,Ln);yn.push(String.fromCharCode.apply(null,Mt))}return yn.join("")}function Jt(un){typeof un!="string"&&Tt("Invalid argument for stringToBytes");const qt=un.length,Yt=new Uint8Array(qt);for(let yn=0;yn<qt;++yn)Yt[yn]=un.charCodeAt(yn)&255;return Yt}function on(un){return String.fromCharCode(un>>24&255,un>>16&255,un>>8&255,un&255)}function rn(un){return Object.keys(un).length}function Gt(un){const qt=Object.create(null);for(const[Yt,yn]of un)qt[Yt]=yn;return qt}function Ft(){const un=new Uint8Array(4);return un[0]=1,new Uint32Array(un.buffer,0,1)[0]===1}function Bt(){try{return new Function(""),!0}catch{return!1}}class Et{static get isLittleEndian(){return bt(this,"isLittleEndian",Ft())}static get isEvalSupported(){return bt(this,"isEvalSupported",Bt())}static get isOffscreenCanvasSupported(){return bt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?bt(this,"platform",{isWin:!1,isMac:!1}):bt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var qt,Yt;return bt(this,"isCSSRoundSupported",(Yt=(qt=globalThis.CSS)==null?void 0:qt.supports)==null?void 0:Yt.call(qt,"width: round(1.5px, 1px)"))}}s.FeatureTest=Et;const _t=[...Array(256).keys()].map(un=>un.toString(16).padStart(2,"0"));class $t{static makeHexColor(qt,Yt,yn){return`#${_t[qt]}${_t[Yt]}${_t[yn]}`}static scaleMinMax(qt,Yt){let yn;qt[0]?(qt[0]<0&&(yn=Yt[0],Yt[0]=Yt[1],Yt[1]=yn),Yt[0]*=qt[0],Yt[1]*=qt[0],qt[3]<0&&(yn=Yt[2],Yt[2]=Yt[3],Yt[3]=yn),Yt[2]*=qt[3],Yt[3]*=qt[3]):(yn=Yt[0],Yt[0]=Yt[2],Yt[2]=yn,yn=Yt[1],Yt[1]=Yt[3],Yt[3]=yn,qt[1]<0&&(yn=Yt[2],Yt[2]=Yt[3],Yt[3]=yn),Yt[2]*=qt[1],Yt[3]*=qt[1],qt[2]<0&&(yn=Yt[0],Yt[0]=Yt[1],Yt[1]=yn),Yt[0]*=qt[2],Yt[1]*=qt[2]),Yt[0]+=qt[4],Yt[1]+=qt[4],Yt[2]+=qt[5],Yt[3]+=qt[5]}static transform(qt,Yt){return[qt[0]*Yt[0]+qt[2]*Yt[1],qt[1]*Yt[0]+qt[3]*Yt[1],qt[0]*Yt[2]+qt[2]*Yt[3],qt[1]*Yt[2]+qt[3]*Yt[3],qt[0]*Yt[4]+qt[2]*Yt[5]+qt[4],qt[1]*Yt[4]+qt[3]*Yt[5]+qt[5]]}static applyTransform(qt,Yt){const yn=qt[0]*Yt[0]+qt[1]*Yt[2]+Yt[4],Mn=qt[0]*Yt[1]+qt[1]*Yt[3]+Yt[5];return[yn,Mn]}static applyInverseTransform(qt,Yt){const yn=Yt[0]*Yt[3]-Yt[1]*Yt[2],Mn=(qt[0]*Yt[3]-qt[1]*Yt[2]+Yt[2]*Yt[5]-Yt[4]*Yt[3])/yn,Ln=(-qt[0]*Yt[1]+qt[1]*Yt[0]+Yt[4]*Yt[1]-Yt[5]*Yt[0])/yn;return[Mn,Ln]}static getAxialAlignedBoundingBox(qt,Yt){const yn=this.applyTransform(qt,Yt),Mn=this.applyTransform(qt.slice(2,4),Yt),Ln=this.applyTransform([qt[0],qt[3]],Yt),Mt=this.applyTransform([qt[2],qt[1]],Yt);return[Math.min(yn[0],Mn[0],Ln[0],Mt[0]),Math.min(yn[1],Mn[1],Ln[1],Mt[1]),Math.max(yn[0],Mn[0],Ln[0],Mt[0]),Math.max(yn[1],Mn[1],Ln[1],Mt[1])]}static inverseTransform(qt){const Yt=qt[0]*qt[3]-qt[1]*qt[2];return[qt[3]/Yt,-qt[1]/Yt,-qt[2]/Yt,qt[0]/Yt,(qt[2]*qt[5]-qt[4]*qt[3])/Yt,(qt[4]*qt[1]-qt[5]*qt[0])/Yt]}static singularValueDecompose2dScale(qt){const Yt=[qt[0],qt[2],qt[1],qt[3]],yn=qt[0]*Yt[0]+qt[1]*Yt[2],Mn=qt[0]*Yt[1]+qt[1]*Yt[3],Ln=qt[2]*Yt[0]+qt[3]*Yt[2],Mt=qt[2]*Yt[1]+qt[3]*Yt[3],sn=(yn+Mt)/2,mn=Math.sqrt((yn+Mt)**2-4*(yn*Mt-Ln*Mn))/2,Sn=sn+mn||1,Cn=sn-mn||1;return[Math.sqrt(Sn),Math.sqrt(Cn)]}static normalizeRect(qt){const Yt=qt.slice(0);return qt[0]>qt[2]&&(Yt[0]=qt[2],Yt[2]=qt[0]),qt[1]>qt[3]&&(Yt[1]=qt[3],Yt[3]=qt[1]),Yt}static intersect(qt,Yt){const yn=Math.max(Math.min(qt[0],qt[2]),Math.min(Yt[0],Yt[2])),Mn=Math.min(Math.max(qt[0],qt[2]),Math.max(Yt[0],Yt[2]));if(yn>Mn)return null;const Ln=Math.max(Math.min(qt[1],qt[3]),Math.min(Yt[1],Yt[3])),Mt=Math.min(Math.max(qt[1],qt[3]),Math.max(Yt[1],Yt[3]));return Ln>Mt?null:[yn,Ln,Mn,Mt]}static bezierBoundingBox(qt,Yt,yn,Mn,Ln,Mt,sn,mn){const Sn=[],Cn=[[],[]];let xn,Pt,wt,Ot,Zt,tn,an,hn;for(let _n=0;_n<2;++_n){if(_n===0?(Pt=6*qt-12*yn+6*Ln,xn=-3*qt+9*yn-9*Ln+3*sn,wt=3*yn-3*qt):(Pt=6*Yt-12*Mn+6*Mt,xn=-3*Yt+9*Mn-9*Mt+3*mn,wt=3*Mn-3*Yt),Math.abs(xn)<1e-12){if(Math.abs(Pt)<1e-12)continue;Ot=-wt/Pt,0<Ot&&Ot<1&&Sn.push(Ot);continue}an=Pt*Pt-4*wt*xn,hn=Math.sqrt(an),!(an<0)&&(Zt=(-Pt+hn)/(2*xn),0<Zt&&Zt<1&&Sn.push(Zt),tn=(-Pt-hn)/(2*xn),0<tn&&tn<1&&Sn.push(tn))}let wn=Sn.length,En;const gn=wn;for(;wn--;)Ot=Sn[wn],En=1-Ot,Cn[0][wn]=En*En*En*qt+3*En*En*Ot*yn+3*En*Ot*Ot*Ln+Ot*Ot*Ot*sn,Cn[1][wn]=En*En*En*Yt+3*En*En*Ot*Mn+3*En*Ot*Ot*Mt+Ot*Ot*Ot*mn;return Cn[0][gn]=qt,Cn[1][gn]=Yt,Cn[0][gn+1]=sn,Cn[1][gn+1]=mn,Cn[0].length=Cn[1].length=gn+2,[Math.min(...Cn[0]),Math.min(...Cn[1]),Math.max(...Cn[0]),Math.max(...Cn[1])]}}s.Util=$t;const Ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function nn(un){if(un[0]>=""){let Yt;if(un[0]===""&&un[1]===""?Yt="utf-16be":un[0]===""&&un[1]===""?Yt="utf-16le":un[0]===""&&un[1]===""&&un[2]===""&&(Yt="utf-8"),Yt)try{const yn=new TextDecoder(Yt,{fatal:!0}),Mn=Jt(un);return yn.decode(Mn)}catch(yn){Ct(`stringToPDFString: "${yn}".`)}}const qt=[];for(let Yt=0,yn=un.length;Yt<yn;Yt++){const Mn=Ht[un.charCodeAt(Yt)];qt.push(Mn?String.fromCharCode(Mn):un.charAt(Yt))}return qt.join("")}function dn(un){return decodeURIComponent(escape(un))}function ln(un){return unescape(encodeURIComponent(un))}function Ut(un){return typeof un=="object"&&(un==null?void 0:un.byteLength)!==void 0}function fn(un,qt){if(un.length!==qt.length)return!1;for(let Yt=0,yn=un.length;Yt<yn;Yt++)if(un[Yt]!==qt[Yt])return!1;return!0}function pn(un=new Date){return[un.getUTCFullYear().toString(),(un.getUTCMonth()+1).toString().padStart(2,"0"),un.getUTCDate().toString().padStart(2,"0"),un.getUTCHours().toString().padStart(2,"0"),un.getUTCMinutes().toString().padStart(2,"0"),un.getUTCSeconds().toString().padStart(2,"0")].join("")}class Pn{constructor(){Kt(this,In,!1);this.promise=new Promise((qt,Yt)=>{this.resolve=yn=>{Xt(this,In,!0),qt(yn)},this.reject=yn=>{Xt(this,In,!0),Yt(yn)}})}get settled(){return at(this,In)}}In=new WeakMap,s.PromiseCapability=Pn;let jn=null,Dn=null;function vn(un){return jn||(jn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Dn=new Map([["","t"]])),un.replaceAll(jn,(qt,Yt,yn)=>Yt?Yt.normalize("NFKC"):Dn.get(yn))}function Rn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const un=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(un);else for(let qt=0;qt<32;qt++)un[qt]=Math.floor(Math.random()*255);return Qt(un)}const kn="pdfjs_internal_id_";s.AnnotationPrefix=kn},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var e,i,o,a,qn,ar,h,g,b,j,_,_e,tt,rt,st,lr,et,$,Sr,lt,it;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ct){if(typeof ct=="string"||ct instanceof URL?ct={url:ct}:(0,_util.isArrayBuffer)(ct)&&(ct={data:ct}),typeof ct!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ct.url&&!ct.data&&!ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ut=new PDFDocumentLoadingTask,{docId:ft}=ut,yt=ct.url?getUrlProp(ct.url):null,ht=ct.data?getDataProp(ct.data):null,gt=ct.httpHeaders||null,St=ct.withCredentials===!0,Nt=ct.password??null,Lt=ct.range instanceof PDFDataRangeTransport?ct.range:null,kt=Number.isInteger(ct.rangeChunkSize)&&ct.rangeChunkSize>0?ct.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ct=ct.worker instanceof PDFWorker?ct.worker:null;const Tt=ct.verbosity,xt=typeof ct.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ct.docBaseUrl)?ct.docBaseUrl:null,Rt=typeof ct.cMapUrl=="string"?ct.cMapUrl:null,It=ct.cMapPacked!==!1,bt=ct.CMapReaderFactory||DefaultCMapReaderFactory,pt=typeof ct.standardFontDataUrl=="string"?ct.standardFontDataUrl:null,mt=ct.StandardFontDataFactory||DefaultStandardFontDataFactory,vt=ct.stopAtErrors!==!0,At=Number.isInteger(ct.maxImageSize)&&ct.maxImageSize>-1?ct.maxImageSize:-1,jt=ct.isEvalSupported!==!1,Dt=typeof ct.isOffscreenCanvasSupported=="boolean"?ct.isOffscreenCanvasSupported:!_util.isNodeJS,Vt=Number.isInteger(ct.canvasMaxAreaInBytes)?ct.canvasMaxAreaInBytes:-1,Wt=typeof ct.disableFontFace=="boolean"?ct.disableFontFace:_util.isNodeJS,Qt=ct.fontExtraProperties===!0,Jt=ct.enableXfa===!0,on=ct.ownerDocument||globalThis.document,rn=ct.disableRange===!0,Gt=ct.disableStream===!0,Ft=ct.disableAutoFetch===!0,Bt=ct.pdfBug===!0,Et=Lt?Lt.length:ct.length??NaN,_t=typeof ct.useSystemFonts=="boolean"?ct.useSystemFonts:!_util.isNodeJS&&!Wt,$t=typeof ct.useWorkerFetch=="boolean"?ct.useWorkerFetch:bt===_display_utils.DOMCMapReaderFactory&&mt===_display_utils.DOMStandardFontDataFactory&&Rt&&pt&&(0,_display_utils.isValidFetchUrl)(Rt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(pt,document.baseURI),Ht=ct.canvasFactory||new DefaultCanvasFactory({ownerDocument:on}),nn=ct.filterFactory||new DefaultFilterFactory({docId:ft,ownerDocument:on}),dn=null;(0,_util.setVerbosityLevel)(Tt);const ln={canvasFactory:Ht,filterFactory:nn};if($t||(ln.cMapReaderFactory=new bt({baseUrl:Rt,isCompressed:It}),ln.standardFontDataFactory=new mt({baseUrl:pt})),!Ct){const pn={verbosity:Tt,port:_worker_options.GlobalWorkerOptions.workerPort};Ct=pn.port?PDFWorker.fromPort(pn):new PDFWorker(pn),ut._worker=Ct}const Ut={docId:ft,apiVersion:"3.11.174",data:ht,password:Nt,disableAutoFetch:Ft,rangeChunkSize:kt,length:Et,docBaseUrl:xt,enableXfa:Jt,evaluatorOptions:{maxImageSize:At,disableFontFace:Wt,ignoreErrors:vt,isEvalSupported:jt,isOffscreenCanvasSupported:Dt,canvasMaxAreaInBytes:Vt,fontExtraProperties:Qt,useSystemFonts:_t,cMapUrl:$t?Rt:null,standardFontDataUrl:$t?pt:null}},fn={ignoreErrors:vt,isEvalSupported:jt,disableFontFace:Wt,fontExtraProperties:Qt,enableXfa:Jt,ownerDocument:on,disableAutoFetch:Ft,pdfBug:Bt,styleElement:dn};return Ct.promise.then(function(){if(ut.destroyed)throw new Error("Loading aborted");const pn=_fetchDocument(Ct,Ut),Pn=new Promise(function(jn){let Dn;Lt?Dn=new _transport_stream.PDFDataTransportStream({length:Et,initialData:Lt.initialData,progressiveDone:Lt.progressiveDone,contentDispositionFilename:Lt.contentDispositionFilename,disableRange:rn,disableStream:Gt},Lt):ht||(Dn=(Rn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Rn):(0,_display_utils.isValidFetchUrl)(Rn.url)?new _displayFetch_stream.PDFFetchStream(Rn):new _displayNetwork.PDFNetworkStream(Rn))({url:yt,length:Et,httpHeaders:gt,withCredentials:St,rangeChunkSize:kt,disableRange:rn,disableStream:Gt})),jn(Dn)});return Promise.all([pn,Pn]).then(function([jn,Dn]){if(ut.destroyed)throw new Error("Loading aborted");const vn=new _message_handler.MessageHandler(ft,jn,Ct.port),Rn=new WorkerTransport(vn,ut,Dn,fn,ln);ut._transport=Rn,vn.send("Ready",null)})}).catch(ut._capability.reject),ut}async function _fetchDocument(ct,ut){if(ct.destroyed)throw new Error("Worker was destroyed");const ft=await ct.messageHandler.sendWithPromise("GetDocRequest",ut,ut.data?[ut.data.buffer]:null);if(ct.destroyed)throw new Error("Worker was destroyed");return ft}function getUrlProp(ct){if(ct instanceof URL)return ct.href;try{return new URL(ct,window.location).href}catch{if(_util.isNodeJS&&typeof ct=="string")return ct}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ct){if(_util.isNodeJS&&typeof Buffer<"u"&&ct instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ct instanceof Uint8Array&&ct.byteLength===ct.buffer.byteLength)return ct;if(typeof ct=="string")return(0,_util.stringToBytes)(ct);if(typeof ct=="object"&&!isNaN(ct==null?void 0:ct.length)||(0,_util.isArrayBuffer)(ct))return new Uint8Array(ct);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Jn(s,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ut,ft,yt;this.destroyed=!0;try{(ut=this._worker)!=null&&ut.port&&(this._worker._pendingDestroy=!0),await((ft=this._transport)==null?void 0:ft.destroy())}catch(ht){throw(yt=this._worker)!=null&&yt.port&&delete this._worker._pendingDestroy,ht}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Kt(s,e,0);let PDFDocumentLoadingTask=s;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ut,ft,yt=!1,ht=null){this.length=ut,this.initialData=ft,this.progressiveDone=yt,this.contentDispositionFilename=ht,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ut){this._rangeListeners.push(ut)}addProgressListener(ut){this._progressListeners.push(ut)}addProgressiveReadListener(ut){this._progressiveReadListeners.push(ut)}addProgressiveDoneListener(ut){this._progressiveDoneListeners.push(ut)}onDataRange(ut,ft){for(const yt of this._rangeListeners)yt(ut,ft)}onDataProgress(ut,ft){this._readyCapability.promise.then(()=>{for(const yt of this._progressListeners)yt(ut,ft)})}onDataProgressiveRead(ut){this._readyCapability.promise.then(()=>{for(const ft of this._progressiveReadListeners)ft(ut)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ut of this._progressiveDoneListeners)ut()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ut,ft){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ut,ft){this._pdfInfo=ut,this._transport=ft,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(yt=>{if(!yt)return yt;const ht=[];for(const gt in yt)ht.push(...yt[gt]);return ht}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ut){return this._transport.getPage(ut)}getPageIndex(ut){return this._transport.getPageIndex(ut)}getDestinations(){return this._transport.getDestinations()}getDestination(ut){return this._transport.getDestination(ut)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ut=!1){return this._transport.startCleanup(ut||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ut,ft,yt,ht=!1){Kt(this,a);Kt(this,i,null);Kt(this,o,!1);this._pageIndex=ut,this._pageInfo=ft,this._transport=yt,this._stats=ht?new _display_utils.StatTimer:null,this._pdfBug=ht,this.commonObjs=yt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ut,rotation:ft=this.rotate,offsetX:yt=0,offsetY:ht=0,dontFlip:gt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ut,rotation:ft,offsetX:yt,offsetY:ht,dontFlip:gt})}getAnnotations({intent:ut="display"}={}){const ft=this._transport.getRenderingIntent(ut);return this._transport.getAnnotations(this._pageIndex,ft.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ut;return((ut=this._transport._htmlForXfa)==null?void 0:ut.children[this._pageIndex])||null}render({canvasContext:ut,viewport:ft,intent:yt="display",annotationMode:ht=_util.AnnotationMode.ENABLE,transform:gt=null,background:St=null,optionalContentConfigPromise:Nt=null,annotationCanvasMap:Lt=null,pageColors:kt=null,printAnnotationStorage:Ct=null}){var mt,vt;(mt=this._stats)==null||mt.time("Overall");const Tt=this._transport.getRenderingIntent(yt,ht,Ct);Xt(this,o,!1),zt(this,a,ar).call(this),Nt||(Nt=this._transport.getOptionalContentConfig());let xt=this._intentStates.get(Tt.cacheKey);xt||(xt=Object.create(null),this._intentStates.set(Tt.cacheKey,xt)),xt.streamReaderCancelTimeout&&(clearTimeout(xt.streamReaderCancelTimeout),xt.streamReaderCancelTimeout=null);const Rt=!!(Tt.renderingIntent&_util.RenderingIntentFlag.PRINT);xt.displayReadyCapability||(xt.displayReadyCapability=new _util.PromiseCapability,xt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(vt=this._stats)==null||vt.time("Page Request"),this._pumpOperatorList(Tt));const It=At=>{var jt,Dt;xt.renderTasks.delete(bt),(this._maybeCleanupAfterRender||Rt)&&Xt(this,o,!0),zt(this,a,qn).call(this,!Rt),At?(bt.capability.reject(At),this._abortOperatorList({intentState:xt,reason:At instanceof Error?At:new Error(At)})):bt.capability.resolve(),(jt=this._stats)==null||jt.timeEnd("Rendering"),(Dt=this._stats)==null||Dt.timeEnd("Overall")},bt=new InternalRenderTask({callback:It,params:{canvasContext:ut,viewport:ft,transform:gt,background:St},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Lt,operatorList:xt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Rt,pdfBug:this._pdfBug,pageColors:kt});(xt.renderTasks||(xt.renderTasks=new Set)).add(bt);const pt=bt.task;return Promise.all([xt.displayReadyCapability.promise,Nt]).then(([At,jt])=>{var Dt;if(this.destroyed){It();return}(Dt=this._stats)==null||Dt.time("Rendering"),bt.initializeGraphics({transparency:At,optionalContentConfig:jt}),bt.operatorListChanged()}).catch(It),pt}getOperatorList({intent:ut="display",annotationMode:ft=_util.AnnotationMode.ENABLE,printAnnotationStorage:yt=null}={}){var Lt;function ht(){St.operatorList.lastChunk&&(St.opListReadCapability.resolve(St.operatorList),St.renderTasks.delete(Nt))}const gt=this._transport.getRenderingIntent(ut,ft,yt,!0);let St=this._intentStates.get(gt.cacheKey);St||(St=Object.create(null),this._intentStates.set(gt.cacheKey,St));let Nt;return St.opListReadCapability||(Nt=Object.create(null),Nt.operatorListChanged=ht,St.opListReadCapability=new _util.PromiseCapability,(St.renderTasks||(St.renderTasks=new Set)).add(Nt),St.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Lt=this._stats)==null||Lt.time("Page Request"),this._pumpOperatorList(gt)),St.opListReadCapability.promise}streamTextContent({includeMarkedContent:ut=!1,disableNormalization:ft=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ut===!0,disableNormalization:ft===!0},{highWaterMark:100,size(ht){return ht.items.length}})}getTextContent(ut={}){if(this._transport._htmlForXfa)return this.getXfa().then(yt=>_xfa_text.XfaText.textContent(yt));const ft=this.streamTextContent(ut);return new Promise(function(yt,ht){function gt(){St.read().then(function({value:Lt,done:kt}){if(kt){yt(Nt);return}Object.assign(Nt.styles,Lt.styles),Nt.items.push(...Lt.items),gt()},ht)}const St=ft.getReader(),Nt={items:[],styles:Object.create(null)};gt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ut=[];for(const ft of this._intentStates.values())if(this._abortOperatorList({intentState:ft,reason:new Error("Page was destroyed."),force:!0}),!ft.opListReadCapability)for(const yt of ft.renderTasks)ut.push(yt.completed),yt.cancel();return this.objs.clear(),Xt(this,o,!1),zt(this,a,ar).call(this),Promise.all(ut)}cleanup(ut=!1){Xt(this,o,!0);const ft=zt(this,a,qn).call(this,!1);return ut&&ft&&this._stats&&(this._stats=new _display_utils.StatTimer),ft}_startRenderPage(ut,ft){var ht,gt;const yt=this._intentStates.get(ft);yt&&((ht=this._stats)==null||ht.timeEnd("Page Request"),(gt=yt.displayReadyCapability)==null||gt.resolve(ut))}_renderPageChunk(ut,ft){for(let yt=0,ht=ut.length;yt<ht;yt++)ft.operatorList.fnArray.push(ut.fnArray[yt]),ft.operatorList.argsArray.push(ut.argsArray[yt]);ft.operatorList.lastChunk=ut.lastChunk,ft.operatorList.separateAnnots=ut.separateAnnots;for(const yt of ft.renderTasks)yt.operatorListChanged();ut.lastChunk&&zt(this,a,qn).call(this,!0)}_pumpOperatorList({renderingIntent:ut,cacheKey:ft,annotationStorageSerializable:yt}){const{map:ht,transfers:gt}=yt,Nt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ut,cacheKey:ft,annotationStorage:ht},gt).getReader(),Lt=this._intentStates.get(ft);Lt.streamReader=Nt;const kt=()=>{Nt.read().then(({value:Ct,done:Tt})=>{if(Tt){Lt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ct,Lt),kt())},Ct=>{if(Lt.streamReader=null,!this._transport.destroyed){if(Lt.operatorList){Lt.operatorList.lastChunk=!0;for(const Tt of Lt.renderTasks)Tt.operatorListChanged();zt(this,a,qn).call(this,!0)}if(Lt.displayReadyCapability)Lt.displayReadyCapability.reject(Ct);else if(Lt.opListReadCapability)Lt.opListReadCapability.reject(Ct);else throw Ct}})};kt()}_abortOperatorList({intentState:ut,reason:ft,force:yt=!1}){if(ut.streamReader){if(ut.streamReaderCancelTimeout&&(clearTimeout(ut.streamReaderCancelTimeout),ut.streamReaderCancelTimeout=null),!yt){if(ut.renderTasks.size>0)return;if(ft instanceof _display_utils.RenderingCancelledException){let ht=RENDERING_CANCELLED_TIMEOUT;ft.extraDelay>0&&ft.extraDelay<1e3&&(ht+=ft.extraDelay),ut.streamReaderCancelTimeout=setTimeout(()=>{ut.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ut,reason:ft,force:!0})},ht);return}}if(ut.streamReader.cancel(new _util.AbortException(ft.message)).catch(()=>{}),ut.streamReader=null,!this._transport.destroyed){for(const[ht,gt]of this._intentStates)if(gt===ut){this._intentStates.delete(ht);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,o=new WeakMap,a=new WeakSet,qn=function(ut=!1){if(zt(this,a,ar).call(this),!at(this,o)||this.destroyed)return!1;if(ut)return Xt(this,i,setTimeout(()=>{Xt(this,i,null),zt(this,a,qn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ft,operatorList:yt}of this._intentStates.values())if(ft.size>0||!yt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Xt(this,o,!1),!0},ar=function(){at(this,i)&&(clearTimeout(at(this,i)),Xt(this,i,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Kt(this,h,new Set);Kt(this,g,Promise.resolve())}postMessage(ut,ft){const yt={data:structuredClone(ut,ft?{transfer:ft}:null)};at(this,g).then(()=>{for(const ht of at(this,h))ht.call(this,yt)})}addEventListener(ut,ft){at(this,h).add(ft)}removeEventListener(ut,ft){at(this,h).delete(ft)}terminate(){at(this,h).clear()}}h=new WeakMap,g=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ct=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;ct&&(PDFWorkerUtil.fallbackWorkerSrc=ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ct,ut){let ft;try{if(ft=new URL(ct),!ft.origin||ft.origin==="null")return!1}catch{return!1}const yt=new URL(ut,ft);return ft.origin===yt.origin},PDFWorkerUtil.createCDNWrapper=function(ct){const ut=`importScripts("${ct}");`;return URL.createObjectURL(new Blob([ut]))}}const _PDFWorker=class _PDFWorker{constructor({name:ct=null,port:ut=null,verbosity:ft=(0,_util.getVerbosityLevel)()}={}){var yt;if(this.name=ct,this.destroyed=!1,this.verbosity=ft,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ut){if((yt=at(_PDFWorker,j))!=null&&yt.has(ut))throw new Error("Cannot use more than one PDFWorker per port.");(at(_PDFWorker,j)||Xt(_PDFWorker,j,new WeakMap)).set(ut,this),this._initializeFromPort(ut);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ct){this._port=ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ct)||(ct=PDFWorkerUtil.createCDNWrapper(new URL(ct,window.location).href));const ut=new Worker(ct),ft=new _message_handler.MessageHandler("main","worker",ut),yt=()=>{ut.removeEventListener("error",ht),ft.destroy(),ut.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ht=()=>{this._webWorker||yt()};ut.addEventListener("error",ht),ft.on("test",St=>{if(ut.removeEventListener("error",ht),this.destroyed){yt();return}St?(this._messageHandler=ft,this._port=ut,this._webWorker=ut,this._readyCapability.resolve(),ft.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ft.destroy(),ut.terminate())}),ft.on("ready",St=>{if(ut.removeEventListener("error",ht),this.destroyed){yt();return}try{gt()}catch{this._setupFakeWorker()}});const gt=()=>{const St=new Uint8Array;ft.send("test",St,[St.buffer])};gt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ut=new LoopbackPort;this._port=ut;const ft=`fake${PDFWorkerUtil.fakeWorkerId++}`,yt=new _message_handler.MessageHandler(ft+"_worker",ft,ut);ct.setup(yt,ut);const ht=new _message_handler.MessageHandler(ft,ft+"_worker",ut);this._messageHandler=ht,this._readyCapability.resolve(),ht.send("configure",{verbosity:this.verbosity})}).catch(ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ct.message}".`))})}destroy(){var ct;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ct=at(_PDFWorker,j))==null||ct.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ct){var ft;if(!(ct!=null&&ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ut=(ft=at(this,j))==null?void 0:ft.get(ct.port);if(ut){if(ut._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ut}return new _PDFWorker(ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ct;try{return((ct=globalThis.pdfjsWorker)==null?void 0:ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};j=new WeakMap,Kt(_PDFWorker,j);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(ut,ft,yt,ht,gt){Kt(this,st);Kt(this,_,new Map);Kt(this,_e,new Map);Kt(this,tt,new Map);Kt(this,rt,null);this.messageHandler=ut,this.loadingTask=ft,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ht.ownerDocument,styleElement:ht.styleElement}),this._params=ht,this.canvasFactory=gt.canvasFactory,this.filterFactory=gt.filterFactory,this.cMapReaderFactory=gt.cMapReaderFactory,this.standardFontDataFactory=gt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=yt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ut,ft=_util.AnnotationMode.ENABLE,yt=null,ht=!1){let gt=_util.RenderingIntentFlag.DISPLAY,St=_annotation_storage.SerializableEmpty;switch(ut){case"any":gt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":gt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ut}`)}switch(ft){case _util.AnnotationMode.DISABLE:gt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:gt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:gt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,St=(gt&_util.RenderingIntentFlag.PRINT&&yt instanceof _annotation_storage.PrintAnnotationStorage?yt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ft}`)}return ht&&(gt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:gt,cacheKey:`${gt}_${St.hash}`,annotationStorageSerializable:St}}destroy(){var yt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(yt=at(this,rt))==null||yt.reject(new Error("Worker was destroyed during onPassword callback"));const ut=[];for(const ht of at(this,_e).values())ut.push(ht._destroy());at(this,_e).clear(),at(this,tt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ft=this.messageHandler.sendWithPromise("Terminate",null);return ut.push(ft),Promise.all(ut).then(()=>{var ht;this.commonObjs.clear(),this.fontLoader.clear(),at(this,_).clear(),this.filterFactory.destroy(),(ht=this._networkStream)==null||ht.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ut,loadingTask:ft}=this;ut.on("GetReader",(yt,ht)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=gt=>{this._lastProgress={loaded:gt.loaded,total:gt.total}},ht.onPull=()=>{this._fullReader.read().then(function({value:gt,done:St}){if(St){ht.close();return}(0,_util.assert)(gt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ht.enqueue(new Uint8Array(gt),1,[gt])}).catch(gt=>{ht.error(gt)})},ht.onCancel=gt=>{this._fullReader.cancel(gt),ht.ready.catch(St=>{if(!this.destroyed)throw St})}}),ut.on("ReaderHeadersReady",yt=>{const ht=new _util.PromiseCapability,gt=this._fullReader;return gt.headersReady.then(()=>{var St;(!gt.isStreamingSupported||!gt.isRangeSupported)&&(this._lastProgress&&((St=ft.onProgress)==null||St.call(ft,this._lastProgress)),gt.onProgress=Nt=>{var Lt;(Lt=ft.onProgress)==null||Lt.call(ft,{loaded:Nt.loaded,total:Nt.total})}),ht.resolve({isStreamingSupported:gt.isStreamingSupported,isRangeSupported:gt.isRangeSupported,contentLength:gt.contentLength})},ht.reject),ht.promise}),ut.on("GetRangeReader",(yt,ht)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const gt=this._networkStream.getRangeReader(yt.begin,yt.end);if(!gt){ht.close();return}ht.onPull=()=>{gt.read().then(function({value:St,done:Nt}){if(Nt){ht.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ht.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{ht.error(St)})},ht.onCancel=St=>{gt.cancel(St),ht.ready.catch(Nt=>{if(!this.destroyed)throw Nt})}}),ut.on("GetDoc",({pdfInfo:yt})=>{this._numPages=yt.numPages,this._htmlForXfa=yt.htmlForXfa,delete yt.htmlForXfa,ft._capability.resolve(new PDFDocumentProxy(yt,this))}),ut.on("DocException",function(yt){let ht;switch(yt.name){case"PasswordException":ht=new _util.PasswordException(yt.message,yt.code);break;case"InvalidPDFException":ht=new _util.InvalidPDFException(yt.message);break;case"MissingPDFException":ht=new _util.MissingPDFException(yt.message);break;case"UnexpectedResponseException":ht=new _util.UnexpectedResponseException(yt.message,yt.status);break;case"UnknownErrorException":ht=new _util.UnknownErrorException(yt.message,yt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ft._capability.reject(ht)}),ut.on("PasswordRequest",yt=>{if(Xt(this,rt,new _util.PromiseCapability),ft.onPassword){const ht=gt=>{gt instanceof Error?at(this,rt).reject(gt):at(this,rt).resolve({password:gt})};try{ft.onPassword(ht,yt.code)}catch(gt){at(this,rt).reject(gt)}}else at(this,rt).reject(new _util.PasswordException(yt.message,yt.code));return at(this,rt).promise}),ut.on("DataLoaded",yt=>{var ht;(ht=ft.onProgress)==null||ht.call(ft,{loaded:yt.length,total:yt.length}),this.downloadInfoCapability.resolve(yt)}),ut.on("StartRenderPage",yt=>{if(this.destroyed)return;at(this,_e).get(yt.pageIndex)._startRenderPage(yt.transparency,yt.cacheKey)}),ut.on("commonobj",([yt,ht,gt])=>{var St;if(!this.destroyed&&!this.commonObjs.has(yt))switch(ht){case"Font":const Nt=this._params;if("error"in gt){const Ct=gt.error;(0,_util.warn)(`Error during font loading: ${Ct}`),this.commonObjs.resolve(yt,Ct);break}const Lt=Nt.pdfBug&&((St=globalThis.FontInspector)!=null&&St.enabled)?(Ct,Tt)=>globalThis.FontInspector.fontAdded(Ct,Tt):null,kt=new _font_loader.FontFaceObject(gt,{isEvalSupported:Nt.isEvalSupported,disableFontFace:Nt.disableFontFace,ignoreErrors:Nt.ignoreErrors,inspectFont:Lt});this.fontLoader.bind(kt).catch(Ct=>ut.sendWithPromise("FontFallback",{id:yt})).finally(()=>{!Nt.fontExtraProperties&&kt.data&&(kt.data=null),this.commonObjs.resolve(yt,kt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(yt,gt);break;default:throw new Error(`Got unknown common object type ${ht}`)}}),ut.on("obj",([yt,ht,gt,St])=>{var Lt;if(this.destroyed)return;const Nt=at(this,_e).get(ht);if(!Nt.objs.has(yt))switch(gt){case"Image":if(Nt.objs.resolve(yt,St),St){let kt;if(St.bitmap){const{width:Ct,height:Tt}=St;kt=Ct*Tt*4}else kt=((Lt=St.data)==null?void 0:Lt.length)||0;kt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Nt._maybeCleanupAfterRender=!0)}break;case"Pattern":Nt.objs.resolve(yt,St);break;default:throw new Error(`Got unknown object type ${gt}`)}}),ut.on("DocProgress",yt=>{var ht;this.destroyed||(ht=ft.onProgress)==null||ht.call(ft,{loaded:yt.loaded,total:yt.total})}),ut.on("FetchBuiltInCMap",yt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(yt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ut.on("FetchStandardFontData",yt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(yt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var yt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ut,transfers:ft}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ut,filename:((yt=this._fullReader)==null?void 0:yt.filename)??null},ft).finally(()=>{this.annotationStorage.resetModified()})}getPage(ut){if(!Number.isInteger(ut)||ut<=0||ut>this._numPages)return Promise.reject(new Error("Invalid page request."));const ft=ut-1,yt=at(this,tt).get(ft);if(yt)return yt;const ht=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ft}).then(gt=>{if(this.destroyed)throw new Error("Transport destroyed");const St=new PDFPageProxy(ft,gt,this,this._params.pdfBug);return at(this,_e).set(ft,St),St});return at(this,tt).set(ft,ht),ht}getPageIndex(ut){return typeof ut!="object"||ut===null||!Number.isInteger(ut.num)||ut.num<0||!Number.isInteger(ut.gen)||ut.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ut.num,gen:ut.gen})}getAnnotations(ut,ft){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ut,intent:ft})}getFieldObjects(){return zt(this,st,lr).call(this,"GetFieldObjects")}hasJSActions(){return zt(this,st,lr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ut){return typeof ut!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ut})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return zt(this,st,lr).call(this,"GetDocJSActions")}getPageJSActions(ut){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ut})}getStructTree(ut){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ut})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ut=>new _optional_content_config.OptionalContentConfig(ut))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ut="GetMetadata",ft=at(this,_).get(ut);if(ft)return ft;const yt=this.messageHandler.sendWithPromise(ut,null).then(ht=>{var gt,St;return{info:ht[0],metadata:ht[1]?new _metadata.Metadata(ht[1]):null,contentDispositionFilename:((gt=this._fullReader)==null?void 0:gt.filename)??null,contentLength:((St=this._fullReader)==null?void 0:St.contentLength)??null}});return at(this,_).set(ut,yt),yt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ut=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ft of at(this,_e).values())if(!ft.cleanup())throw new Error(`startCleanup: Page ${ft.pageNumber} is currently rendering.`);this.commonObjs.clear(),ut||this.fontLoader.clear(),at(this,_).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ut,enableXfa:ft}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ut,enableXfa:ft})}}_=new WeakMap,_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,st=new WeakSet,lr=function(ut,ft=null){const yt=at(this,_).get(ut);if(yt)return yt;const ht=this.messageHandler.sendWithPromise(ut,ft);return at(this,_).set(ut,ht),ht};class PDFObjects{constructor(){Kt(this,$);Kt(this,et,Object.create(null))}get(ut,ft=null){if(ft){const ht=zt(this,$,Sr).call(this,ut);return ht.capability.promise.then(()=>ft(ht.data)),null}const yt=at(this,et)[ut];if(!(yt!=null&&yt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ut}.`);return yt.data}has(ut){const ft=at(this,et)[ut];return(ft==null?void 0:ft.capability.settled)||!1}resolve(ut,ft=null){const yt=zt(this,$,Sr).call(this,ut);yt.data=ft,yt.capability.resolve()}clear(){var ut;for(const ft in at(this,et)){const{data:yt}=at(this,et)[ft];(ut=yt==null?void 0:yt.bitmap)==null||ut.close()}Xt(this,et,Object.create(null))}}et=new WeakMap,$=new WeakSet,Sr=function(ut){var ft;return(ft=at(this,et))[ut]||(ft[ut]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ut){Kt(this,lt,null);Xt(this,lt,ut),this.onContinue=null}get promise(){return at(this,lt).capability.promise}cancel(ut=0){at(this,lt).cancel(null,ut)}get separateAnnots(){const{separateAnnots:ut}=at(this,lt).operatorList;if(!ut)return!1;const{annotationCanvasMap:ft}=at(this,lt);return ut.form||ut.canvas&&(ft==null?void 0:ft.size)>0}}lt=new WeakMap,exports$1.RenderTask=RenderTask;const dt=class dt{constructor({callback:ut,params:ft,objs:yt,commonObjs:ht,annotationCanvasMap:gt,operatorList:St,pageIndex:Nt,canvasFactory:Lt,filterFactory:kt,useRequestAnimationFrame:Ct=!1,pdfBug:Tt=!1,pageColors:xt=null}){this.callback=ut,this.params=ft,this.objs=yt,this.commonObjs=ht,this.annotationCanvasMap=gt,this.operatorListIdx=null,this.operatorList=St,this._pageIndex=Nt,this.canvasFactory=Lt,this.filterFactory=kt,this._pdfBug=Tt,this.pageColors=xt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ct===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ft.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ut=!1,optionalContentConfig:ft}){var Nt,Lt;if(this.cancelled)return;if(this._canvas){if(at(dt,it).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");at(dt,it).add(this._canvas)}this._pdfBug&&((Nt=globalThis.StepperManager)!=null&&Nt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:yt,viewport:ht,transform:gt,background:St}=this.params;this.gfx=new _canvas.CanvasGraphics(yt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ft},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:gt,viewport:ht,transparency:ut,background:St}),this.operatorListIdx=0,this.graphicsReady=!0,(Lt=this.graphicsReadyCallback)==null||Lt.call(this)}cancel(ut=null,ft=0){var yt;this.running=!1,this.cancelled=!0,(yt=this.gfx)==null||yt.endDrawing(),at(dt,it).delete(this._canvas),this.callback(ut||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ft))}operatorListChanged(){var ut;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ut=this.stepper)==null||ut.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),at(dt,it).delete(this._canvas),this.callback())))}};it=new WeakMap,Kt(dt,it,new WeakSet);let InternalRenderTask=dt;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},(e,s,i)=>{var b,j,_,ss,tt;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var o=i(1),a=i(4),c=i(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=d;class h{constructor(){Kt(this,_);Kt(this,b,!1);Kt(this,j,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(st,nt){const et=at(this,j).get(st);return et===void 0?nt:Object.assign(nt,et)}getRawValue(st){return at(this,j).get(st)}remove(st){if(at(this,j).delete(st),at(this,j).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const nt of at(this,j).values())if(nt instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(st,nt){const et=at(this,j).get(st);let $=!1;if(et!==void 0)for(const[ot,lt]of Object.entries(nt))et[ot]!==lt&&($=!0,et[ot]=lt);else $=!0,at(this,j).set(st,nt);$&&zt(this,_,ss).call(this),nt instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(nt.constructor._type)}has(st){return at(this,j).has(st)}getAll(){return at(this,j).size>0?(0,o.objectFromMap)(at(this,j)):null}setAll(st){for(const[nt,et]of Object.entries(st))this.setValue(nt,et)}get size(){return at(this,j).size}resetModified(){at(this,b)&&(Xt(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new g(this)}get serializable(){if(at(this,j).size===0)return d;const st=new Map,nt=new c.MurmurHash3_64,et=[],$=Object.create(null);let ot=!1;for(const[lt,it]of at(this,j)){const dt=it instanceof a.AnnotationEditor?it.serialize(!1,$):it;dt&&(st.set(lt,dt),nt.update(`${lt}:${JSON.stringify(dt)}`),ot||(ot=!!dt.bitmap))}if(ot)for(const lt of st.values())lt.bitmap&&et.push(lt.bitmap);return st.size>0?{map:st,hash:nt.hexdigest(),transfers:et}:d}}b=new WeakMap,j=new WeakMap,_=new WeakSet,ss=function(){at(this,b)||(Xt(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=h;class g extends h{constructor(nt){super();Kt(this,tt);const{map:et,hash:$,transfers:ot}=nt.serializable,lt=structuredClone(et,ot?{transfer:ot}:null);Xt(this,tt,{map:lt,hash:$,transfers:ot})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return at(this,tt)}}tt=new WeakMap,s.PrintAnnotationStorage=g},(e,s,i)=>{var g,b,j,_,_e,tt,rt,st,nt,et,$,ot,lt,it,dt,wr,Rr,ft,Ar,Cr,os,as,ls,jr,cs;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var o=i(5),a=i(1),c=i(6);const Ct=class Ct{constructor(xt){Kt(this,dt);Kt(this,g,"");Kt(this,b,!1);Kt(this,j,null);Kt(this,_,null);Kt(this,_e,null);Kt(this,tt,!1);Kt(this,rt,null);Kt(this,st,this.focusin.bind(this));Kt(this,nt,this.focusout.bind(this));Kt(this,et,!1);Kt(this,$,!1);Kt(this,ot,!1);Vn(this,"_initialOptions",Object.create(null));Vn(this,"_uiManager",null);Vn(this,"_focusEventsAllowed",!0);Vn(this,"_l10nPromise",null);Kt(this,lt,!1);Kt(this,it,Ct._zIndex++);this.constructor===Ct&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=xt.parent,this.id=xt.id,this.width=this.height=null,this.pageIndex=xt.parent.pageIndex,this.name=xt.name,this.div=null,this._uiManager=xt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=xt.isCentered,this._structTreeParentId=null;const{rotation:Rt,rawDims:{pageWidth:It,pageHeight:bt,pageX:pt,pageY:mt}}=this.parent.viewport;this.rotation=Rt,this.pageRotation=(360+Rt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[It,bt],this.pageTranslation=[pt,mt];const[vt,At]=this.parentDimensions;this.x=xt.x/vt,this.y=xt.y/At,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(xt){const Rt=new h({id:xt.parent.getNextId(),parent:xt.parent,uiManager:xt._uiManager});Rt.annotationElementId=xt.annotationElementId,Rt.deleted=!0,Rt._uiManager.addToAnnotationStorage(Rt)}static initialize(xt,Rt=null){if(Ct._l10nPromise||(Ct._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(bt=>[bt,xt.get(bt)]))),Rt!=null&&Rt.strings)for(const bt of Rt.strings)Ct._l10nPromise.set(bt,xt.get(bt));if(Ct._borderLineWidth!==-1)return;const It=getComputedStyle(document.documentElement);Ct._borderLineWidth=parseFloat(It.getPropertyValue("--outline-width"))||0}static updateDefaultParams(xt,Rt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(xt){return!1}static paste(xt,Rt){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return at(this,lt)}set _isDraggable(xt){var Rt;Xt(this,lt,xt),(Rt=this.div)==null||Rt.classList.toggle("draggable",xt)}center(){const[xt,Rt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Rt/(xt*2),this.y+=this.width*xt/(Rt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Rt/(xt*2),this.y-=this.width*xt/(Rt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(xt){this._uiManager.addCommands(xt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=at(this,it)}setParent(xt){xt!==null&&(this.pageIndex=xt.pageIndex,this.pageDimensions=xt.pageDimensions),this.parent=xt}focusin(xt){this._focusEventsAllowed&&(at(this,et)?Xt(this,et,!1):this.parent.setSelected(this))}focusout(xt){var It;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Rt=xt.relatedTarget;Rt!=null&&Rt.closest(`#${this.id}`)||(xt.preventDefault(),(It=this.parent)!=null&&It.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(xt,Rt,It,bt){const[pt,mt]=this.parentDimensions;[It,bt]=this.screenToPageTranslation(It,bt),this.x=(xt+It)/pt,this.y=(Rt+bt)/mt,this.fixAndSetPosition()}translate(xt,Rt){zt(this,dt,wr).call(this,this.parentDimensions,xt,Rt)}translateInPage(xt,Rt){zt(this,dt,wr).call(this,this.pageDimensions,xt,Rt),this.div.scrollIntoView({block:"nearest"})}drag(xt,Rt){const[It,bt]=this.parentDimensions;if(this.x+=xt/It,this.y+=Rt/bt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:jt,y:Dt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,jt,Dt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:pt,y:mt}=this;const[vt,At]=zt(this,dt,Rr).call(this);pt+=vt,mt+=At,this.div.style.left=`${(100*pt).toFixed(2)}%`,this.div.style.top=`${(100*mt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[xt,Rt]=this.pageDimensions;let{x:It,y:bt,width:pt,height:mt}=this;switch(pt*=xt,mt*=Rt,It*=xt,bt*=Rt,this.rotation){case 0:It=Math.max(0,Math.min(xt-pt,It)),bt=Math.max(0,Math.min(Rt-mt,bt));break;case 90:It=Math.max(0,Math.min(xt-mt,It)),bt=Math.min(Rt,Math.max(pt,bt));break;case 180:It=Math.min(xt,Math.max(pt,It)),bt=Math.min(Rt,Math.max(mt,bt));break;case 270:It=Math.min(xt,Math.max(mt,It)),bt=Math.max(0,Math.min(Rt-pt,bt));break}this.x=It/=xt,this.y=bt/=Rt;const[vt,At]=zt(this,dt,Rr).call(this);It+=vt,bt+=At;const{style:jt}=this.div;jt.left=`${(100*It).toFixed(2)}%`,jt.top=`${(100*bt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(xt,Rt){var It;return zt(It=Ct,ft,Ar).call(It,xt,Rt,this.parentRotation)}pageTranslationToScreen(xt,Rt){var It;return zt(It=Ct,ft,Ar).call(It,xt,Rt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:xt,pageDimensions:[Rt,It]}=this,bt=Rt*xt,pt=It*xt;return a.FeatureTest.isCSSRoundSupported?[Math.round(bt),Math.round(pt)]:[bt,pt]}setDims(xt,Rt){var pt;const[It,bt]=this.parentDimensions;this.div.style.width=`${(100*xt/It).toFixed(2)}%`,at(this,tt)||(this.div.style.height=`${(100*Rt/bt).toFixed(2)}%`),(pt=at(this,j))==null||pt.classList.toggle("small",xt<Ct.SMALL_EDITOR_SIZE||Rt<Ct.SMALL_EDITOR_SIZE)}fixDims(){const{style:xt}=this.div,{height:Rt,width:It}=xt,bt=It.endsWith("%"),pt=!at(this,tt)&&Rt.endsWith("%");if(bt&&pt)return;const[mt,vt]=this.parentDimensions;bt||(xt.width=`${(100*parseFloat(It)/mt).toFixed(2)}%`),!at(this,tt)&&!pt&&(xt.height=`${(100*parseFloat(Rt)/vt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(at(this,j))return;const xt=Xt(this,j,document.createElement("button"));xt.className="altText";const Rt=await Ct._l10nPromise.get("editor_alt_text_button_label");xt.textContent=Rt,xt.setAttribute("aria-label",Rt),xt.tabIndex="0",xt.addEventListener("contextmenu",c.noContextMenu),xt.addEventListener("pointerdown",It=>It.stopPropagation()),xt.addEventListener("click",It=>{It.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),xt.addEventListener("keydown",It=>{It.target===xt&&It.key==="Enter"&&(It.preventDefault(),this._uiManager.editAltText(this))}),zt(this,dt,jr).call(this),this.div.append(xt),Ct.SMALL_EDITOR_SIZE||(Ct.SMALL_EDITOR_SIZE=Math.min(128,Math.round(xt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:at(this,g),decorative:at(this,b)}}set altTextData({altText:xt,decorative:Rt}){at(this,g)===xt&&at(this,b)===Rt||(Xt(this,g,xt),Xt(this,b,Rt),zt(this,dt,jr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",at(this,st)),this.div.addEventListener("focusout",at(this,nt));const[xt,Rt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Rt/xt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*xt/Rt).toFixed(2)}%`);const[It,bt]=this.getInitialTranslation();return this.translate(It,bt),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(xt){const{isMac:Rt}=a.FeatureTest.platform;if(xt.button!==0||xt.ctrlKey&&Rt){xt.preventDefault();return}Xt(this,et,!0),zt(this,dt,cs).call(this,xt)}moveInDOM(){var xt;(xt=this.parent)==null||xt.moveEditorInDOM(this)}_setParentAndPosition(xt,Rt,It){xt.changeParent(this),this.x=Rt,this.y=It,this.fixAndSetPosition()}getRect(xt,Rt){const It=this.parentScale,[bt,pt]=this.pageDimensions,[mt,vt]=this.pageTranslation,At=xt/It,jt=Rt/It,Dt=this.x*bt,Vt=this.y*pt,Wt=this.width*bt,Qt=this.height*pt;switch(this.rotation){case 0:return[Dt+At+mt,pt-Vt-jt-Qt+vt,Dt+At+Wt+mt,pt-Vt-jt+vt];case 90:return[Dt+jt+mt,pt-Vt+At+vt,Dt+jt+Qt+mt,pt-Vt+At+Wt+vt];case 180:return[Dt-At-Wt+mt,pt-Vt+jt+vt,Dt-At+mt,pt-Vt+jt+Qt+vt];case 270:return[Dt-jt-Qt+mt,pt-Vt-At-Wt+vt,Dt-jt+mt,pt-Vt-At+vt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(xt,Rt){const[It,bt,pt,mt]=xt,vt=pt-It,At=mt-bt;switch(this.rotation){case 0:return[It,Rt-mt,vt,At];case 90:return[It,Rt-bt,At,vt];case 180:return[pt,Rt-bt,vt,At];case 270:return[pt,Rt-mt,At,vt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Xt(this,ot,!0)}disableEditMode(){Xt(this,ot,!1)}isInEditMode(){return at(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var xt,Rt;(xt=this.div)==null||xt.addEventListener("focusin",at(this,st)),(Rt=this.div)==null||Rt.addEventListener("focusout",at(this,nt))}serialize(xt=!1,Rt=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(xt,Rt,It){const bt=new this.prototype.constructor({parent:Rt,id:Rt.getNextId(),uiManager:It});bt.rotation=xt.rotation;const[pt,mt]=bt.pageDimensions,[vt,At,jt,Dt]=bt.getRectInCurrentCoords(xt.rect,mt);return bt.x=vt/pt,bt.y=At/mt,bt.width=jt/pt,bt.height=Dt/mt,bt}remove(){var xt;this.div.removeEventListener("focusin",at(this,st)),this.div.removeEventListener("focusout",at(this,nt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(xt=at(this,j))==null||xt.remove(),Xt(this,j,null),Xt(this,_,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(zt(this,dt,os).call(this),at(this,rt).classList.remove("hidden"))}select(){var xt;this.makeResizable(),(xt=this.div)==null||xt.classList.add("selectedEditor")}unselect(){var xt,Rt,It;(xt=at(this,rt))==null||xt.classList.add("hidden"),(Rt=this.div)==null||Rt.classList.remove("selectedEditor"),(It=this.div)!=null&&It.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(xt,Rt){}disableEditing(){at(this,j)&&(at(this,j).hidden=!0)}enableEditing(){at(this,j)&&(at(this,j).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return at(this,$)}set isEditing(xt){Xt(this,$,xt),this.parent&&(xt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(xt,Rt){Xt(this,tt,!0);const It=xt/Rt,{style:bt}=this.div;bt.aspectRatio=It,bt.height="auto"}static get MIN_SIZE(){return 16}};g=new WeakMap,b=new WeakMap,j=new WeakMap,_=new WeakMap,_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,st=new WeakMap,nt=new WeakMap,et=new WeakMap,$=new WeakMap,ot=new WeakMap,lt=new WeakMap,it=new WeakMap,dt=new WeakSet,wr=function([xt,Rt],It,bt){[It,bt]=this.screenToPageTranslation(It,bt),this.x+=It/xt,this.y+=bt/Rt,this.fixAndSetPosition()},Rr=function(){const[xt,Rt]=this.parentDimensions,{_borderLineWidth:It}=Ct,bt=It/xt,pt=It/Rt;switch(this.rotation){case 90:return[-bt,pt];case 180:return[bt,pt];case 270:return[bt,-pt];default:return[-bt,-pt]}},ft=new WeakSet,Ar=function(xt,Rt,It){switch(It){case 90:return[Rt,-xt];case 180:return[-xt,-Rt];case 270:return[-Rt,xt];default:return[xt,Rt]}},Cr=function(xt){switch(xt){case 90:{const[Rt,It]=this.pageDimensions;return[0,-Rt/It,It/Rt,0]}case 180:return[-1,0,0,-1];case 270:{const[Rt,It]=this.pageDimensions;return[0,Rt/It,-It/Rt,0]}default:return[1,0,0,1]}},os=function(){if(at(this,rt))return;Xt(this,rt,document.createElement("div")),at(this,rt).classList.add("resizers");const xt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||xt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Rt of xt){const It=document.createElement("div");at(this,rt).append(It),It.classList.add("resizer",Rt),It.addEventListener("pointerdown",zt(this,dt,as).bind(this,Rt)),It.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(at(this,rt))},as=function(xt,Rt){Rt.preventDefault();const{isMac:It}=a.FeatureTest.platform;if(Rt.button!==0||Rt.ctrlKey&&It)return;const bt=zt(this,dt,ls).bind(this,xt),pt=this._isDraggable;this._isDraggable=!1;const mt={passive:!0,capture:!0};window.addEventListener("pointermove",bt,mt);const vt=this.x,At=this.y,jt=this.width,Dt=this.height,Vt=this.parent.div.style.cursor,Wt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Rt.target).cursor;const Qt=()=>{this._isDraggable=pt,window.removeEventListener("pointerup",Qt),window.removeEventListener("blur",Qt),window.removeEventListener("pointermove",bt,mt),this.parent.div.style.cursor=Vt,this.div.style.cursor=Wt;const Jt=this.x,on=this.y,rn=this.width,Gt=this.height;Jt===vt&&on===At&&rn===jt&&Gt===Dt||this.addCommands({cmd:()=>{this.width=rn,this.height=Gt,this.x=Jt,this.y=on;const[Ft,Bt]=this.parentDimensions;this.setDims(Ft*rn,Bt*Gt),this.fixAndSetPosition()},undo:()=>{this.width=jt,this.height=Dt,this.x=vt,this.y=At;const[Ft,Bt]=this.parentDimensions;this.setDims(Ft*jt,Bt*Dt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Qt),window.addEventListener("blur",Qt)},ls=function(xt,Rt){const[It,bt]=this.parentDimensions,pt=this.x,mt=this.y,vt=this.width,At=this.height,jt=Ct.MIN_SIZE/It,Dt=Ct.MIN_SIZE/bt,Vt=vn=>Math.round(vn*1e4)/1e4,Wt=zt(this,dt,Cr).call(this,this.rotation),Qt=(vn,Rn)=>[Wt[0]*vn+Wt[2]*Rn,Wt[1]*vn+Wt[3]*Rn],Jt=zt(this,dt,Cr).call(this,360-this.rotation),on=(vn,Rn)=>[Jt[0]*vn+Jt[2]*Rn,Jt[1]*vn+Jt[3]*Rn];let rn,Gt,Ft=!1,Bt=!1;switch(xt){case"topLeft":Ft=!0,rn=(vn,Rn)=>[0,0],Gt=(vn,Rn)=>[vn,Rn];break;case"topMiddle":rn=(vn,Rn)=>[vn/2,0],Gt=(vn,Rn)=>[vn/2,Rn];break;case"topRight":Ft=!0,rn=(vn,Rn)=>[vn,0],Gt=(vn,Rn)=>[0,Rn];break;case"middleRight":Bt=!0,rn=(vn,Rn)=>[vn,Rn/2],Gt=(vn,Rn)=>[0,Rn/2];break;case"bottomRight":Ft=!0,rn=(vn,Rn)=>[vn,Rn],Gt=(vn,Rn)=>[0,0];break;case"bottomMiddle":rn=(vn,Rn)=>[vn/2,Rn],Gt=(vn,Rn)=>[vn/2,0];break;case"bottomLeft":Ft=!0,rn=(vn,Rn)=>[0,Rn],Gt=(vn,Rn)=>[vn,0];break;case"middleLeft":Bt=!0,rn=(vn,Rn)=>[0,Rn/2],Gt=(vn,Rn)=>[vn,Rn/2];break}const Et=rn(vt,At),_t=Gt(vt,At);let $t=Qt(..._t);const Ht=Vt(pt+$t[0]),nn=Vt(mt+$t[1]);let dn=1,ln=1,[Ut,fn]=this.screenToPageTranslation(Rt.movementX,Rt.movementY);if([Ut,fn]=on(Ut/It,fn/bt),Ft){const vn=Math.hypot(vt,At);dn=ln=Math.max(Math.min(Math.hypot(_t[0]-Et[0]-Ut,_t[1]-Et[1]-fn)/vn,1/vt,1/At),jt/vt,Dt/At)}else Bt?dn=Math.max(jt,Math.min(1,Math.abs(_t[0]-Et[0]-Ut)))/vt:ln=Math.max(Dt,Math.min(1,Math.abs(_t[1]-Et[1]-fn)))/At;const pn=Vt(vt*dn),Pn=Vt(At*ln);$t=Qt(...Gt(pn,Pn));const jn=Ht-$t[0],Dn=nn-$t[1];this.width=pn,this.height=Pn,this.x=jn,this.y=Dn,this.setDims(It*pn,bt*Pn),this.fixAndSetPosition()},jr=async function(){var It;const xt=at(this,j);if(!xt)return;if(!at(this,g)&&!at(this,b)){xt.classList.remove("done"),(It=at(this,_))==null||It.remove();return}Ct._l10nPromise.get("editor_alt_text_edit_button_label").then(bt=>{xt.setAttribute("aria-label",bt)});let Rt=at(this,_);if(!Rt){Xt(this,_,Rt=document.createElement("span")),Rt.className="tooltip",Rt.setAttribute("role","tooltip");const bt=Rt.id=`alt-text-tooltip-${this.id}`;xt.setAttribute("aria-describedby",bt);const pt=100;xt.addEventListener("mouseenter",()=>{Xt(this,_e,setTimeout(()=>{Xt(this,_e,null),at(this,_).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},pt))}),xt.addEventListener("mouseleave",()=>{var mt;clearTimeout(at(this,_e)),Xt(this,_e,null),(mt=at(this,_))==null||mt.classList.remove("show")})}xt.classList.add("done"),Rt.innerText=at(this,b)?await Ct._l10nPromise.get("editor_alt_text_decorative_tooltip"):at(this,g),Rt.parentNode||xt.append(Rt)},cs=function(xt){if(!this._isDraggable)return;const Rt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let It,bt;Rt&&(It={passive:!0,capture:!0},bt=mt=>{const[vt,At]=this.screenToPageTranslation(mt.movementX,mt.movementY);this._uiManager.dragSelectedEditors(vt,At)},window.addEventListener("pointermove",bt,It));const pt=()=>{if(window.removeEventListener("pointerup",pt),window.removeEventListener("blur",pt),Rt&&window.removeEventListener("pointermove",bt,It),Xt(this,et,!1),!this._uiManager.endDragSession()){const{isMac:mt}=a.FeatureTest.platform;xt.ctrlKey&&!mt||xt.shiftKey||xt.metaKey&&mt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",pt),window.addEventListener("blur",pt)},Kt(Ct,ft),Vn(Ct,"_borderLineWidth",-1),Vn(Ct,"_colorManager",new o.ColorManager),Vn(Ct,"_zIndex",1),Vn(Ct,"SMALL_EDITOR_SIZE",0);let d=Ct;s.AnnotationEditor=d;class h extends d{constructor(xt){super(xt),this.annotationElementId=xt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,s,i)=>{var tt,rt,st,nt,et,Tr,lt,it,dt,ct,ut,us,ht,gt,St,Nt,Lt,kt,Ct,Tt,xt,Rt,It,bt,pt,mt,vt,At,jt,Dt,Vt,Wt,Qt,Jt,on,rn,Gt,Ft,Bt,Et,_t,$t,Ht,nn,dn,ln,Ut,ds,Pr,_r,cr,kr,Nr,zn,er,hs,ps,Lr,tr,Dr;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=c,s.opacityToHex=d;var o=i(1),a=i(6);function c(Ln,Mt,sn){for(const mn of sn)Mt.addEventListener(mn,Ln[mn].bind(Ln))}function d(Ln){return Math.round(Math.min(255,Math.max(1,255*Ln))).toString(16).padStart(2,"0")}class h{constructor(){Kt(this,tt,0)}getId(){return`${o.AnnotationEditorPrefix}${Jn(this,tt)._++}`}}tt=new WeakMap;const ot=class ot{constructor(){Kt(this,et);Kt(this,rt,(0,o.getUuid)());Kt(this,st,0);Kt(this,nt,null)}static get _isSVGFittingCanvas(){const Mt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',mn=new OffscreenCanvas(1,3).getContext("2d"),Sn=new Image;Sn.src=Mt;const Cn=Sn.decode().then(()=>(mn.drawImage(Sn,0,0,1,1,0,0,1,3),new Uint32Array(mn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Cn)}async getFromFile(Mt){const{lastModified:sn,name:mn,size:Sn,type:Cn}=Mt;return zt(this,et,Tr).call(this,`${sn}_${mn}_${Sn}_${Cn}`,Mt)}async getFromUrl(Mt){return zt(this,et,Tr).call(this,Mt,Mt)}async getFromId(Mt){at(this,nt)||Xt(this,nt,new Map);const sn=at(this,nt).get(Mt);return sn?sn.bitmap?(sn.refCounter+=1,sn):sn.file?this.getFromFile(sn.file):this.getFromUrl(sn.url):null}getSvgUrl(Mt){const sn=at(this,nt).get(Mt);return sn!=null&&sn.isSvg?sn.svgUrl:null}deleteId(Mt){at(this,nt)||Xt(this,nt,new Map);const sn=at(this,nt).get(Mt);sn&&(sn.refCounter-=1,sn.refCounter===0&&(sn.bitmap=null))}isValidId(Mt){return Mt.startsWith(`image_${at(this,rt)}_`)}};rt=new WeakMap,st=new WeakMap,nt=new WeakMap,et=new WeakSet,Tr=async function(Mt,sn){at(this,nt)||Xt(this,nt,new Map);let mn=at(this,nt).get(Mt);if(mn===null)return null;if(mn!=null&&mn.bitmap)return mn.refCounter+=1,mn;try{mn||(mn={bitmap:null,id:`image_${at(this,rt)}_${Jn(this,st)._++}`,refCounter:0,isSvg:!1});let Sn;if(typeof sn=="string"){mn.url=sn;const Cn=await fetch(sn);if(!Cn.ok)throw new Error(Cn.statusText);Sn=await Cn.blob()}else Sn=mn.file=sn;if(Sn.type==="image/svg+xml"){const Cn=ot._isSVGFittingCanvas,xn=new FileReader,Pt=new Image,wt=new Promise((Ot,Zt)=>{Pt.onload=()=>{mn.bitmap=Pt,mn.isSvg=!0,Ot()},xn.onload=async()=>{const tn=mn.svgUrl=xn.result;Pt.src=await Cn?`${tn}#svgView(preserveAspectRatio(none))`:tn},Pt.onerror=xn.onerror=Zt});xn.readAsDataURL(Sn),await wt}else mn.bitmap=await createImageBitmap(Sn);mn.refCounter=1}catch(Sn){console.error(Sn),mn=null}return at(this,nt).set(Mt,mn),mn&&at(this,nt).set(mn.id,mn),mn};let g=ot;class b{constructor(Mt=128){Kt(this,lt,[]);Kt(this,it,!1);Kt(this,dt);Kt(this,ct,-1);Xt(this,dt,Mt)}add({cmd:Mt,undo:sn,mustExec:mn,type:Sn=NaN,overwriteIfSameType:Cn=!1,keepUndo:xn=!1}){if(mn&&Mt(),at(this,it))return;const Pt={cmd:Mt,undo:sn,type:Sn};if(at(this,ct)===-1){at(this,lt).length>0&&(at(this,lt).length=0),Xt(this,ct,0),at(this,lt).push(Pt);return}if(Cn&&at(this,lt)[at(this,ct)].type===Sn){xn&&(Pt.undo=at(this,lt)[at(this,ct)].undo),at(this,lt)[at(this,ct)]=Pt;return}const wt=at(this,ct)+1;wt===at(this,dt)?at(this,lt).splice(0,1):(Xt(this,ct,wt),wt<at(this,lt).length&&at(this,lt).splice(wt)),at(this,lt).push(Pt)}undo(){at(this,ct)!==-1&&(Xt(this,it,!0),at(this,lt)[at(this,ct)].undo(),Xt(this,it,!1),Xt(this,ct,at(this,ct)-1))}redo(){at(this,ct)<at(this,lt).length-1&&(Xt(this,ct,at(this,ct)+1),Xt(this,it,!0),at(this,lt)[at(this,ct)].cmd(),Xt(this,it,!1))}hasSomethingToUndo(){return at(this,ct)!==-1}hasSomethingToRedo(){return at(this,ct)<at(this,lt).length-1}destroy(){Xt(this,lt,null)}}lt=new WeakMap,it=new WeakMap,dt=new WeakMap,ct=new WeakMap,s.CommandManager=b;class j{constructor(Mt){Kt(this,ut);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:sn}=o.FeatureTest.platform;for(const[mn,Sn,Cn={}]of Mt)for(const xn of mn){const Pt=xn.startsWith("mac+");sn&&Pt?(this.callbacks.set(xn.slice(4),{callback:Sn,options:Cn}),this.allKeys.add(xn.split("+").at(-1))):!sn&&!Pt&&(this.callbacks.set(xn,{callback:Sn,options:Cn}),this.allKeys.add(xn.split("+").at(-1)))}}exec(Mt,sn){if(!this.allKeys.has(sn.key))return;const mn=this.callbacks.get(zt(this,ut,us).call(this,sn));if(!mn)return;const{callback:Sn,options:{bubbles:Cn=!1,args:xn=[],checker:Pt=null}}=mn;Pt&&!Pt(Mt,sn)||(Sn.bind(Mt,...xn)(),Cn||(sn.stopPropagation(),sn.preventDefault()))}}ut=new WeakSet,us=function(Mt){Mt.altKey&&this.buffer.push("alt"),Mt.ctrlKey&&this.buffer.push("ctrl"),Mt.metaKey&&this.buffer.push("meta"),Mt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Mt.key);const sn=this.buffer.join("+");return this.buffer.length=0,sn},s.KeyboardManager=j;const yt=class yt{get _colors(){const Mt=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Mt),(0,o.shadow)(this,"_colors",Mt)}convert(Mt){const sn=(0,a.getRGB)(Mt);if(!window.matchMedia("(forced-colors: active)").matches)return sn;for(const[mn,Sn]of this._colors)if(Sn.every((Cn,xn)=>Cn===sn[xn]))return yt._colorsMapping.get(mn);return sn}getHexCode(Mt){const sn=this._colors.get(Mt);return sn?o.Util.makeHexColor(...sn):Mt}};Vn(yt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _=yt;s.ColorManager=_;const Mn=class Mn{constructor(Mt,sn,mn,Sn,Cn,xn){Kt(this,Ut);Kt(this,ht,null);Kt(this,gt,new Map);Kt(this,St,new Map);Kt(this,Nt,null);Kt(this,Lt,null);Kt(this,kt,new b);Kt(this,Ct,0);Kt(this,Tt,new Set);Kt(this,xt,null);Kt(this,Rt,null);Kt(this,It,new Set);Kt(this,bt,null);Kt(this,pt,new h);Kt(this,mt,!1);Kt(this,vt,!1);Kt(this,At,null);Kt(this,jt,o.AnnotationEditorType.NONE);Kt(this,Dt,new Set);Kt(this,Vt,null);Kt(this,Wt,this.blur.bind(this));Kt(this,Qt,this.focus.bind(this));Kt(this,Jt,this.copy.bind(this));Kt(this,on,this.cut.bind(this));Kt(this,rn,this.paste.bind(this));Kt(this,Gt,this.keydown.bind(this));Kt(this,Ft,this.onEditingAction.bind(this));Kt(this,Bt,this.onPageChanging.bind(this));Kt(this,Et,this.onScaleChanging.bind(this));Kt(this,_t,this.onRotationChanging.bind(this));Kt(this,$t,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Kt(this,Ht,[0,0]);Kt(this,nn,null);Kt(this,dn,null);Kt(this,ln,null);Xt(this,dn,Mt),Xt(this,ln,sn),Xt(this,Nt,mn),this._eventBus=Sn,this._eventBus._on("editingaction",at(this,Ft)),this._eventBus._on("pagechanging",at(this,Bt)),this._eventBus._on("scalechanging",at(this,Et)),this._eventBus._on("rotationchanging",at(this,_t)),Xt(this,Lt,Cn.annotationStorage),Xt(this,bt,Cn.filterFactory),Xt(this,Vt,xn),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Mt=Mn.prototype,sn=Cn=>{const{activeElement:xn}=document;return xn&&at(Cn,dn).contains(xn)&&Cn.hasSomethingToControl()},mn=this.TRANSLATE_SMALL,Sn=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new j([[["ctrl+a","mac+meta+a"],Mt.selectAll],[["ctrl+z","mac+meta+z"],Mt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Mt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Mt.delete],[["Escape","mac+Escape"],Mt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Mt.translateSelectedEditors,{args:[-mn,0],checker:sn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Mt.translateSelectedEditors,{args:[-Sn,0],checker:sn}],[["ArrowRight","mac+ArrowRight"],Mt.translateSelectedEditors,{args:[mn,0],checker:sn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Mt.translateSelectedEditors,{args:[Sn,0],checker:sn}],[["ArrowUp","mac+ArrowUp"],Mt.translateSelectedEditors,{args:[0,-mn],checker:sn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Mt.translateSelectedEditors,{args:[0,-Sn],checker:sn}],[["ArrowDown","mac+ArrowDown"],Mt.translateSelectedEditors,{args:[0,mn],checker:sn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Mt.translateSelectedEditors,{args:[0,Sn],checker:sn}]]))}destroy(){zt(this,Ut,cr).call(this),zt(this,Ut,Pr).call(this),this._eventBus._off("editingaction",at(this,Ft)),this._eventBus._off("pagechanging",at(this,Bt)),this._eventBus._off("scalechanging",at(this,Et)),this._eventBus._off("rotationchanging",at(this,_t));for(const Mt of at(this,St).values())Mt.destroy();at(this,St).clear(),at(this,gt).clear(),at(this,It).clear(),Xt(this,ht,null),at(this,Dt).clear(),at(this,kt).destroy(),at(this,Nt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",at(this,Vt)?at(this,bt).addHCMFilter(at(this,Vt).foreground,at(this,Vt).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(at(this,dn)).direction)}editAltText(Mt){var sn;(sn=at(this,Nt))==null||sn.editAltText(this,Mt)}onPageChanging({pageNumber:Mt}){Xt(this,Ct,Mt-1)}focusMainContainer(){at(this,dn).focus()}findParent(Mt,sn){for(const mn of at(this,St).values()){const{x:Sn,y:Cn,width:xn,height:Pt}=mn.div.getBoundingClientRect();if(Mt>=Sn&&Mt<=Sn+xn&&sn>=Cn&&sn<=Cn+Pt)return mn}return null}disableUserSelect(Mt=!1){at(this,ln).classList.toggle("noUserSelect",Mt)}addShouldRescale(Mt){at(this,It).add(Mt)}removeShouldRescale(Mt){at(this,It).delete(Mt)}onScaleChanging({scale:Mt}){this.commitOrRemove(),this.viewParameters.realScale=Mt*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const sn of at(this,It))sn.onScaleChanging()}onRotationChanging({pagesRotation:Mt}){this.commitOrRemove(),this.viewParameters.rotation=Mt}addToAnnotationStorage(Mt){!Mt.isEmpty()&&at(this,Lt)&&!at(this,Lt).has(Mt.id)&&at(this,Lt).setValue(Mt.id,Mt)}blur(){if(!this.hasSelection)return;const{activeElement:Mt}=document;for(const sn of at(this,Dt))if(sn.div.contains(Mt)){Xt(this,At,[sn,Mt]),sn._focusEventsAllowed=!1;break}}focus(){if(!at(this,At))return;const[Mt,sn]=at(this,At);Xt(this,At,null),sn.addEventListener("focusin",()=>{Mt._focusEventsAllowed=!0},{once:!0}),sn.focus()}addEditListeners(){zt(this,Ut,_r).call(this),zt(this,Ut,kr).call(this)}removeEditListeners(){zt(this,Ut,cr).call(this),zt(this,Ut,Nr).call(this)}copy(Mt){var mn;if(Mt.preventDefault(),(mn=at(this,ht))==null||mn.commitOrRemove(),!this.hasSelection)return;const sn=[];for(const Sn of at(this,Dt)){const Cn=Sn.serialize(!0);Cn&&sn.push(Cn)}sn.length!==0&&Mt.clipboardData.setData("application/pdfjs",JSON.stringify(sn))}cut(Mt){this.copy(Mt),this.delete()}paste(Mt){Mt.preventDefault();const{clipboardData:sn}=Mt;for(const Cn of sn.items)for(const xn of at(this,Rt))if(xn.isHandlingMimeForPasting(Cn.type)){xn.paste(Cn,this.currentLayer);return}let mn=sn.getData("application/pdfjs");if(!mn)return;try{mn=JSON.parse(mn)}catch(Cn){(0,o.warn)(`paste: "${Cn.message}".`);return}if(!Array.isArray(mn))return;this.unselectAll();const Sn=this.currentLayer;try{const Cn=[];for(const wt of mn){const Ot=Sn.deserialize(wt);if(!Ot)return;Cn.push(Ot)}const xn=()=>{for(const wt of Cn)zt(this,Ut,Lr).call(this,wt);zt(this,Ut,Dr).call(this,Cn)},Pt=()=>{for(const wt of Cn)wt.remove()};this.addCommands({cmd:xn,undo:Pt,mustExec:!0})}catch(Cn){(0,o.warn)(`paste: "${Cn.message}".`)}}keydown(Mt){var sn;(sn=this.getActive())!=null&&sn.shouldGetKeyboardEvents()||Mn._keyboardManager.exec(this,Mt)}onEditingAction(Mt){["undo","redo","delete","selectAll"].includes(Mt.name)&&this[Mt.name]()}setEditingState(Mt){Mt?(zt(this,Ut,ds).call(this),zt(this,Ut,_r).call(this),zt(this,Ut,kr).call(this),zt(this,Ut,zn).call(this,{isEditing:at(this,jt)!==o.AnnotationEditorType.NONE,isEmpty:zt(this,Ut,tr).call(this),hasSomethingToUndo:at(this,kt).hasSomethingToUndo(),hasSomethingToRedo:at(this,kt).hasSomethingToRedo(),hasSelectedEditor:!1})):(zt(this,Ut,Pr).call(this),zt(this,Ut,cr).call(this),zt(this,Ut,Nr).call(this),zt(this,Ut,zn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Mt){if(!at(this,Rt)){Xt(this,Rt,Mt);for(const sn of at(this,Rt))zt(this,Ut,er).call(this,sn.defaultPropertiesToUpdate)}}getId(){return at(this,pt).getId()}get currentLayer(){return at(this,St).get(at(this,Ct))}getLayer(Mt){return at(this,St).get(Mt)}get currentPageIndex(){return at(this,Ct)}addLayer(Mt){at(this,St).set(Mt.pageIndex,Mt),at(this,mt)?Mt.enable():Mt.disable()}removeLayer(Mt){at(this,St).delete(Mt.pageIndex)}updateMode(Mt,sn=null){if(at(this,jt)!==Mt){if(Xt(this,jt,Mt),Mt===o.AnnotationEditorType.NONE){this.setEditingState(!1),zt(this,Ut,ps).call(this);return}this.setEditingState(!0),zt(this,Ut,hs).call(this),this.unselectAll();for(const mn of at(this,St).values())mn.updateMode(Mt);if(sn){for(const mn of at(this,gt).values())if(mn.annotationElementId===sn){this.setSelected(mn),mn.enterInEditMode();break}}}}updateToolbar(Mt){Mt!==at(this,jt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Mt})}updateParams(Mt,sn){if(at(this,Rt)){if(Mt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Mt);return}for(const mn of at(this,Dt))mn.updateParams(Mt,sn);for(const mn of at(this,Rt))mn.updateDefaultParams(Mt,sn)}}enableWaiting(Mt=!1){if(at(this,vt)!==Mt){Xt(this,vt,Mt);for(const sn of at(this,St).values())Mt?sn.disableClick():sn.enableClick(),sn.div.classList.toggle("waiting",Mt)}}getEditors(Mt){const sn=[];for(const mn of at(this,gt).values())mn.pageIndex===Mt&&sn.push(mn);return sn}getEditor(Mt){return at(this,gt).get(Mt)}addEditor(Mt){at(this,gt).set(Mt.id,Mt)}removeEditor(Mt){var sn;at(this,gt).delete(Mt.id),this.unselect(Mt),(!Mt.annotationElementId||!at(this,Tt).has(Mt.annotationElementId))&&((sn=at(this,Lt))==null||sn.remove(Mt.id))}addDeletedAnnotationElement(Mt){at(this,Tt).add(Mt.annotationElementId),Mt.deleted=!0}isDeletedAnnotationElement(Mt){return at(this,Tt).has(Mt)}removeDeletedAnnotationElement(Mt){at(this,Tt).delete(Mt.annotationElementId),Mt.deleted=!1}setActiveEditor(Mt){at(this,ht)!==Mt&&(Xt(this,ht,Mt),Mt&&zt(this,Ut,er).call(this,Mt.propertiesToUpdate))}toggleSelected(Mt){if(at(this,Dt).has(Mt)){at(this,Dt).delete(Mt),Mt.unselect(),zt(this,Ut,zn).call(this,{hasSelectedEditor:this.hasSelection});return}at(this,Dt).add(Mt),Mt.select(),zt(this,Ut,er).call(this,Mt.propertiesToUpdate),zt(this,Ut,zn).call(this,{hasSelectedEditor:!0})}setSelected(Mt){for(const sn of at(this,Dt))sn!==Mt&&sn.unselect();at(this,Dt).clear(),at(this,Dt).add(Mt),Mt.select(),zt(this,Ut,er).call(this,Mt.propertiesToUpdate),zt(this,Ut,zn).call(this,{hasSelectedEditor:!0})}isSelected(Mt){return at(this,Dt).has(Mt)}unselect(Mt){Mt.unselect(),at(this,Dt).delete(Mt),zt(this,Ut,zn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return at(this,Dt).size!==0}undo(){at(this,kt).undo(),zt(this,Ut,zn).call(this,{hasSomethingToUndo:at(this,kt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:zt(this,Ut,tr).call(this)})}redo(){at(this,kt).redo(),zt(this,Ut,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:at(this,kt).hasSomethingToRedo(),isEmpty:zt(this,Ut,tr).call(this)})}addCommands(Mt){at(this,kt).add(Mt),zt(this,Ut,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:zt(this,Ut,tr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Mt=[...at(this,Dt)],sn=()=>{for(const Sn of Mt)Sn.remove()},mn=()=>{for(const Sn of Mt)zt(this,Ut,Lr).call(this,Sn)};this.addCommands({cmd:sn,undo:mn,mustExec:!0})}commitOrRemove(){var Mt;(Mt=at(this,ht))==null||Mt.commitOrRemove()}hasSomethingToControl(){return at(this,ht)||this.hasSelection}selectAll(){for(const Mt of at(this,Dt))Mt.commit();zt(this,Ut,Dr).call(this,at(this,gt).values())}unselectAll(){if(at(this,ht)){at(this,ht).commitOrRemove();return}if(this.hasSelection){for(const Mt of at(this,Dt))Mt.unselect();at(this,Dt).clear(),zt(this,Ut,zn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Mt,sn,mn=!1){if(mn||this.commitOrRemove(),!this.hasSelection)return;at(this,Ht)[0]+=Mt,at(this,Ht)[1]+=sn;const[Sn,Cn]=at(this,Ht),xn=[...at(this,Dt)],Pt=1e3;at(this,nn)&&clearTimeout(at(this,nn)),Xt(this,nn,setTimeout(()=>{Xt(this,nn,null),at(this,Ht)[0]=at(this,Ht)[1]=0,this.addCommands({cmd:()=>{for(const wt of xn)at(this,gt).has(wt.id)&&wt.translateInPage(Sn,Cn)},undo:()=>{for(const wt of xn)at(this,gt).has(wt.id)&&wt.translateInPage(-Sn,-Cn)},mustExec:!1})},Pt));for(const wt of xn)wt.translateInPage(Mt,sn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Xt(this,xt,new Map);for(const Mt of at(this,Dt))at(this,xt).set(Mt,{savedX:Mt.x,savedY:Mt.y,savedPageIndex:Mt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!at(this,xt))return!1;this.disableUserSelect(!1);const Mt=at(this,xt);Xt(this,xt,null);let sn=!1;for(const[{x:Sn,y:Cn,pageIndex:xn},Pt]of Mt)Pt.newX=Sn,Pt.newY=Cn,Pt.newPageIndex=xn,sn||(sn=Sn!==Pt.savedX||Cn!==Pt.savedY||xn!==Pt.savedPageIndex);if(!sn)return!1;const mn=(Sn,Cn,xn,Pt)=>{if(at(this,gt).has(Sn.id)){const wt=at(this,St).get(Pt);wt?Sn._setParentAndPosition(wt,Cn,xn):(Sn.pageIndex=Pt,Sn.x=Cn,Sn.y=xn)}};return this.addCommands({cmd:()=>{for(const[Sn,{newX:Cn,newY:xn,newPageIndex:Pt}]of Mt)mn(Sn,Cn,xn,Pt)},undo:()=>{for(const[Sn,{savedX:Cn,savedY:xn,savedPageIndex:Pt}]of Mt)mn(Sn,Cn,xn,Pt)},mustExec:!0}),!0}dragSelectedEditors(Mt,sn){if(at(this,xt))for(const mn of at(this,xt).keys())mn.drag(Mt,sn)}rebuild(Mt){if(Mt.parent===null){const sn=this.getLayer(Mt.pageIndex);sn?(sn.changeParent(Mt),sn.addOrRebuild(Mt)):(this.addEditor(Mt),this.addToAnnotationStorage(Mt),Mt.rebuild())}else Mt.parent.addOrRebuild(Mt)}isActive(Mt){return at(this,ht)===Mt}getActive(){return at(this,ht)}getMode(){return at(this,jt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new g)}};ht=new WeakMap,gt=new WeakMap,St=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,kt=new WeakMap,Ct=new WeakMap,Tt=new WeakMap,xt=new WeakMap,Rt=new WeakMap,It=new WeakMap,bt=new WeakMap,pt=new WeakMap,mt=new WeakMap,vt=new WeakMap,At=new WeakMap,jt=new WeakMap,Dt=new WeakMap,Vt=new WeakMap,Wt=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,on=new WeakMap,rn=new WeakMap,Gt=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,Et=new WeakMap,_t=new WeakMap,$t=new WeakMap,Ht=new WeakMap,nn=new WeakMap,dn=new WeakMap,ln=new WeakMap,Ut=new WeakSet,ds=function(){window.addEventListener("focus",at(this,Qt)),window.addEventListener("blur",at(this,Wt))},Pr=function(){window.removeEventListener("focus",at(this,Qt)),window.removeEventListener("blur",at(this,Wt))},_r=function(){window.addEventListener("keydown",at(this,Gt),{capture:!0})},cr=function(){window.removeEventListener("keydown",at(this,Gt),{capture:!0})},kr=function(){document.addEventListener("copy",at(this,Jt)),document.addEventListener("cut",at(this,on)),document.addEventListener("paste",at(this,rn))},Nr=function(){document.removeEventListener("copy",at(this,Jt)),document.removeEventListener("cut",at(this,on)),document.removeEventListener("paste",at(this,rn))},zn=function(Mt){Object.entries(Mt).some(([mn,Sn])=>at(this,$t)[mn]!==Sn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(at(this,$t),Mt)})},er=function(Mt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Mt})},hs=function(){if(!at(this,mt)){Xt(this,mt,!0);for(const Mt of at(this,St).values())Mt.enable()}},ps=function(){if(this.unselectAll(),at(this,mt)){Xt(this,mt,!1);for(const Mt of at(this,St).values())Mt.disable()}},Lr=function(Mt){const sn=at(this,St).get(Mt.pageIndex);sn?sn.addOrRebuild(Mt):this.addEditor(Mt)},tr=function(){if(at(this,gt).size===0)return!0;if(at(this,gt).size===1)for(const Mt of at(this,gt).values())return Mt.isEmpty();return!1},Dr=function(Mt){at(this,Dt).clear();for(const sn of Mt)sn.isEmpty()||(at(this,Dt).add(sn),sn.select());zt(this,Ut,zn).call(this,{hasSelectedEditor:!0})},Vn(Mn,"TRANSLATE_SMALL",1),Vn(Mn,"TRANSLATE_BIG",10);let _e=Mn;s.AnnotationEditorUIManager=_e},(e,s,i)=>{var Ct,Tt,xt,Rt,It,bt,pt,mt,vt,At,jt,Dt,Xn,Yn,Mr,ur,dr,nr,rr;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=ct,s.getColorValues=gt,s.getCurrentTransform=St,s.getCurrentTransformInverse=Nt,s.getFilenameFromUrl=et,s.getPdfFilenameFromUrl=$,s.getRGB=ht,s.getXfaPageViewport=yt,s.isDataScheme=st,s.isPdfFile=nt,s.isValidFetchUrl=lt,s.loadScript=dt,s.noContextMenu=it,s.setLayerDimensions=Lt;var o=i(7),a=i(1);const c="http://www.w3.org/2000/svg",kt=class kt{};Vn(kt,"CSS",96),Vn(kt,"PDF",72),Vn(kt,"PDF_TO_CSS_UNITS",kt.CSS/kt.PDF);let d=kt;s.PixelsPerInch=d;class h extends o.BaseFilterFactory{constructor({docId:Et,ownerDocument:_t=globalThis.document}={}){super();Kt(this,Dt);Kt(this,Ct);Kt(this,Tt);Kt(this,xt);Kt(this,Rt);Kt(this,It);Kt(this,bt);Kt(this,pt);Kt(this,mt);Kt(this,vt);Kt(this,At);Kt(this,jt,0);Xt(this,xt,Et),Xt(this,Rt,_t)}addFilter(Et){if(!Et)return"none";let _t=at(this,Dt,Xn).get(Et);if(_t)return _t;let $t,Ht,nn,dn;if(Et.length===1){const pn=Et[0],Pn=new Array(256);for(let jn=0;jn<256;jn++)Pn[jn]=pn[jn]/255;dn=$t=Ht=nn=Pn.join(",")}else{const[pn,Pn,jn]=Et,Dn=new Array(256),vn=new Array(256),Rn=new Array(256);for(let kn=0;kn<256;kn++)Dn[kn]=pn[kn]/255,vn[kn]=Pn[kn]/255,Rn[kn]=jn[kn]/255;$t=Dn.join(","),Ht=vn.join(","),nn=Rn.join(","),dn=`${$t}${Ht}${nn}`}if(_t=at(this,Dt,Xn).get(dn),_t)return at(this,Dt,Xn).set(Et,_t),_t;const ln=`g_${at(this,xt)}_transfer_map_${Jn(this,jt)._++}`,Ut=`url(#${ln})`;at(this,Dt,Xn).set(Et,Ut),at(this,Dt,Xn).set(dn,Ut);const fn=zt(this,Dt,ur).call(this,ln);return zt(this,Dt,nr).call(this,$t,Ht,nn,fn),Ut}addHCMFilter(Et,_t){var Pn;const $t=`${Et}-${_t}`;if(at(this,bt)===$t)return at(this,pt);if(Xt(this,bt,$t),Xt(this,pt,"none"),(Pn=at(this,It))==null||Pn.remove(),!Et||!_t)return at(this,pt);const Ht=zt(this,Dt,rr).call(this,Et);Et=a.Util.makeHexColor(...Ht);const nn=zt(this,Dt,rr).call(this,_t);if(_t=a.Util.makeHexColor(...nn),at(this,Dt,Yn).style.color="",Et==="#000000"&&_t==="#ffffff"||Et===_t)return at(this,pt);const dn=new Array(256);for(let jn=0;jn<=255;jn++){const Dn=jn/255;dn[jn]=Dn<=.03928?Dn/12.92:((Dn+.055)/1.055)**2.4}const ln=dn.join(","),Ut=`g_${at(this,xt)}_hcm_filter`,fn=Xt(this,mt,zt(this,Dt,ur).call(this,Ut));zt(this,Dt,nr).call(this,ln,ln,ln,fn),zt(this,Dt,Mr).call(this,fn);const pn=(jn,Dn)=>{const vn=Ht[jn]/255,Rn=nn[jn]/255,kn=new Array(Dn+1);for(let In=0;In<=Dn;In++)kn[In]=vn+In/Dn*(Rn-vn);return kn.join(",")};return zt(this,Dt,nr).call(this,pn(0,5),pn(1,5),pn(2,5),fn),Xt(this,pt,`url(#${Ut})`),at(this,pt)}addHighlightHCMFilter(Et,_t,$t,Ht){var Rn;const nn=`${Et}-${_t}-${$t}-${Ht}`;if(at(this,vt)===nn)return at(this,At);if(Xt(this,vt,nn),Xt(this,At,"none"),(Rn=at(this,mt))==null||Rn.remove(),!Et||!_t)return at(this,At);const[dn,ln]=[Et,_t].map(zt(this,Dt,rr).bind(this));let Ut=Math.round(.2126*dn[0]+.7152*dn[1]+.0722*dn[2]),fn=Math.round(.2126*ln[0]+.7152*ln[1]+.0722*ln[2]),[pn,Pn]=[$t,Ht].map(zt(this,Dt,rr).bind(this));fn<Ut&&([Ut,fn,pn,Pn]=[fn,Ut,Pn,pn]),at(this,Dt,Yn).style.color="";const jn=(kn,In,un)=>{const qt=new Array(256),Yt=(fn-Ut)/un,yn=kn/255,Mn=(In-kn)/(255*un);let Ln=0;for(let Mt=0;Mt<=un;Mt++){const sn=Math.round(Ut+Mt*Yt),mn=yn+Mt*Mn;for(let Sn=Ln;Sn<=sn;Sn++)qt[Sn]=mn;Ln=sn+1}for(let Mt=Ln;Mt<256;Mt++)qt[Mt]=qt[Ln-1];return qt.join(",")},Dn=`g_${at(this,xt)}_hcm_highlight_filter`,vn=Xt(this,mt,zt(this,Dt,ur).call(this,Dn));return zt(this,Dt,Mr).call(this,vn),zt(this,Dt,nr).call(this,jn(pn[0],Pn[0],5),jn(pn[1],Pn[1],5),jn(pn[2],Pn[2],5),vn),Xt(this,At,`url(#${Dn})`),at(this,At)}destroy(Et=!1){Et&&(at(this,pt)||at(this,At))||(at(this,Tt)&&(at(this,Tt).parentNode.parentNode.remove(),Xt(this,Tt,null)),at(this,Ct)&&(at(this,Ct).clear(),Xt(this,Ct,null)),Xt(this,jt,0))}}Ct=new WeakMap,Tt=new WeakMap,xt=new WeakMap,Rt=new WeakMap,It=new WeakMap,bt=new WeakMap,pt=new WeakMap,mt=new WeakMap,vt=new WeakMap,At=new WeakMap,jt=new WeakMap,Dt=new WeakSet,Xn=function(){return at(this,Ct)||Xt(this,Ct,new Map)},Yn=function(){if(!at(this,Tt)){const Et=at(this,Rt).createElement("div"),{style:_t}=Et;_t.visibility="hidden",_t.contain="strict",_t.width=_t.height=0,_t.position="absolute",_t.top=_t.left=0,_t.zIndex=-1;const $t=at(this,Rt).createElementNS(c,"svg");$t.setAttribute("width",0),$t.setAttribute("height",0),Xt(this,Tt,at(this,Rt).createElementNS(c,"defs")),Et.append($t),$t.append(at(this,Tt)),at(this,Rt).body.append(Et)}return at(this,Tt)},Mr=function(Et){const _t=at(this,Rt).createElementNS(c,"feColorMatrix");_t.setAttribute("type","matrix"),_t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Et.append(_t)},ur=function(Et){const _t=at(this,Rt).createElementNS(c,"filter");return _t.setAttribute("color-interpolation-filters","sRGB"),_t.setAttribute("id",Et),at(this,Dt,Yn).append(_t),_t},dr=function(Et,_t,$t){const Ht=at(this,Rt).createElementNS(c,_t);Ht.setAttribute("type","discrete"),Ht.setAttribute("tableValues",$t),Et.append(Ht)},nr=function(Et,_t,$t,Ht){const nn=at(this,Rt).createElementNS(c,"feComponentTransfer");Ht.append(nn),zt(this,Dt,dr).call(this,nn,"feFuncR",Et),zt(this,Dt,dr).call(this,nn,"feFuncG",_t),zt(this,Dt,dr).call(this,nn,"feFuncB",$t)},rr=function(Et){return at(this,Dt,Yn).style.color=Et,ht(getComputedStyle(at(this,Dt,Yn)).getPropertyValue("color"))},s.DOMFilterFactory=h;class g extends o.BaseCanvasFactory{constructor({ownerDocument:Bt=globalThis.document}={}){super(),this._document=Bt}_createCanvas(Bt,Et){const _t=this._document.createElement("canvas");return _t.width=Bt,_t.height=Et,_t}}s.DOMCanvasFactory=g;async function b(Ft,Bt=!1){if(lt(Ft,document.baseURI)){const Et=await fetch(Ft);if(!Et.ok)throw new Error(Et.statusText);return Bt?new Uint8Array(await Et.arrayBuffer()):(0,a.stringToBytes)(await Et.text())}return new Promise((Et,_t)=>{const $t=new XMLHttpRequest;$t.open("GET",Ft,!0),Bt&&($t.responseType="arraybuffer"),$t.onreadystatechange=()=>{if($t.readyState===XMLHttpRequest.DONE){if($t.status===200||$t.status===0){let Ht;if(Bt&&$t.response?Ht=new Uint8Array($t.response):!Bt&&$t.responseText&&(Ht=(0,a.stringToBytes)($t.responseText)),Ht){Et(Ht);return}}_t(new Error($t.statusText))}},$t.send(null)})}class j extends o.BaseCMapReaderFactory{_fetchData(Bt,Et){return b(Bt,this.isCompressed).then(_t=>({cMapData:_t,compressionType:Et}))}}s.DOMCMapReaderFactory=j;class _ extends o.BaseStandardFontDataFactory{_fetchData(Bt){return b(Bt,!0)}}s.DOMStandardFontDataFactory=_;class _e extends o.BaseSVGFactory{_createSVG(Bt){return document.createElementNS(c,Bt)}}s.DOMSVGFactory=_e;class tt{constructor({viewBox:Bt,scale:Et,rotation:_t,offsetX:$t=0,offsetY:Ht=0,dontFlip:nn=!1}){this.viewBox=Bt,this.scale=Et,this.rotation=_t,this.offsetX=$t,this.offsetY=Ht;const dn=(Bt[2]+Bt[0])/2,ln=(Bt[3]+Bt[1])/2;let Ut,fn,pn,Pn;switch(_t%=360,_t<0&&(_t+=360),_t){case 180:Ut=-1,fn=0,pn=0,Pn=1;break;case 90:Ut=0,fn=1,pn=1,Pn=0;break;case 270:Ut=0,fn=-1,pn=-1,Pn=0;break;case 0:Ut=1,fn=0,pn=0,Pn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}nn&&(pn=-pn,Pn=-Pn);let jn,Dn,vn,Rn;Ut===0?(jn=Math.abs(ln-Bt[1])*Et+$t,Dn=Math.abs(dn-Bt[0])*Et+Ht,vn=(Bt[3]-Bt[1])*Et,Rn=(Bt[2]-Bt[0])*Et):(jn=Math.abs(dn-Bt[0])*Et+$t,Dn=Math.abs(ln-Bt[1])*Et+Ht,vn=(Bt[2]-Bt[0])*Et,Rn=(Bt[3]-Bt[1])*Et),this.transform=[Ut*Et,fn*Et,pn*Et,Pn*Et,jn-Ut*Et*dn-pn*Et*ln,Dn-fn*Et*dn-Pn*Et*ln],this.width=vn,this.height=Rn}get rawDims(){const{viewBox:Bt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:Bt[2]-Bt[0],pageHeight:Bt[3]-Bt[1],pageX:Bt[0],pageY:Bt[1]})}clone({scale:Bt=this.scale,rotation:Et=this.rotation,offsetX:_t=this.offsetX,offsetY:$t=this.offsetY,dontFlip:Ht=!1}={}){return new tt({viewBox:this.viewBox.slice(),scale:Bt,rotation:Et,offsetX:_t,offsetY:$t,dontFlip:Ht})}convertToViewportPoint(Bt,Et){return a.Util.applyTransform([Bt,Et],this.transform)}convertToViewportRectangle(Bt){const Et=a.Util.applyTransform([Bt[0],Bt[1]],this.transform),_t=a.Util.applyTransform([Bt[2],Bt[3]],this.transform);return[Et[0],Et[1],_t[0],_t[1]]}convertToPdfPoint(Bt,Et){return a.Util.applyInverseTransform([Bt,Et],this.transform)}}s.PageViewport=tt;class rt extends a.BaseException{constructor(Bt,Et=0){super(Bt,"RenderingCancelledException"),this.extraDelay=Et}}s.RenderingCancelledException=rt;function st(Ft){const Bt=Ft.length;let Et=0;for(;Et<Bt&&Ft[Et].trim()==="";)Et++;return Ft.substring(Et,Et+5).toLowerCase()==="data:"}function nt(Ft){return typeof Ft=="string"&&/\.pdf$/i.test(Ft)}function et(Ft,Bt=!1){return Bt||([Ft]=Ft.split(/[#?]/,1)),Ft.substring(Ft.lastIndexOf("/")+1)}function $(Ft,Bt="document.pdf"){if(typeof Ft!="string")return Bt;if(st(Ft))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Bt;const Et=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,_t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,$t=Et.exec(Ft);let Ht=_t.exec($t[1])||_t.exec($t[2])||_t.exec($t[3]);if(Ht&&(Ht=Ht[0],Ht.includes("%")))try{Ht=_t.exec(decodeURIComponent(Ht))[0]}catch{}return Ht||Bt}class ot{constructor(){Vn(this,"started",Object.create(null));Vn(this,"times",[])}time(Bt){Bt in this.started&&(0,a.warn)(`Timer is already running for ${Bt}`),this.started[Bt]=Date.now()}timeEnd(Bt){Bt in this.started||(0,a.warn)(`Timer has not been started for ${Bt}`),this.times.push({name:Bt,start:this.started[Bt],end:Date.now()}),delete this.started[Bt]}toString(){const Bt=[];let Et=0;for(const{name:_t}of this.times)Et=Math.max(_t.length,Et);for(const{name:_t,start:$t,end:Ht}of this.times)Bt.push(`${_t.padEnd(Et)} ${Ht-$t}ms
`);return Bt.join("")}}s.StatTimer=ot;function lt(Ft,Bt){try{const{protocol:Et}=Bt?new URL(Ft,Bt):new URL(Ft);return Et==="http:"||Et==="https:"}catch{return!1}}function it(Ft){Ft.preventDefault()}function dt(Ft,Bt=!1){return new Promise((Et,_t)=>{const $t=document.createElement("script");$t.src=Ft,$t.onload=function(Ht){Bt&&$t.remove(),Et(Ht)},$t.onerror=function(){_t(new Error(`Cannot load script at: ${$t.src}`))},(document.head||document.documentElement).append($t)})}function ct(Ft){console.log("Deprecated API usage: "+Ft)}let ut;class ft{static toDateObject(Bt){if(!Bt||typeof Bt!="string")return null;ut||(ut=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Et=ut.exec(Bt);if(!Et)return null;const _t=parseInt(Et[1],10);let $t=parseInt(Et[2],10);$t=$t>=1&&$t<=12?$t-1:0;let Ht=parseInt(Et[3],10);Ht=Ht>=1&&Ht<=31?Ht:1;let nn=parseInt(Et[4],10);nn=nn>=0&&nn<=23?nn:0;let dn=parseInt(Et[5],10);dn=dn>=0&&dn<=59?dn:0;let ln=parseInt(Et[6],10);ln=ln>=0&&ln<=59?ln:0;const Ut=Et[7]||"Z";let fn=parseInt(Et[8],10);fn=fn>=0&&fn<=23?fn:0;let pn=parseInt(Et[9],10)||0;return pn=pn>=0&&pn<=59?pn:0,Ut==="-"?(nn+=fn,dn+=pn):Ut==="+"&&(nn-=fn,dn-=pn),new Date(Date.UTC(_t,$t,Ht,nn,dn,ln))}}s.PDFDateString=ft;function yt(Ft,{scale:Bt=1,rotation:Et=0}){const{width:_t,height:$t}=Ft.attributes.style,Ht=[0,0,parseInt(_t),parseInt($t)];return new tt({viewBox:Ht,scale:Bt,rotation:Et})}function ht(Ft){if(Ft.startsWith("#")){const Bt=parseInt(Ft.slice(1),16);return[(Bt&16711680)>>16,(Bt&65280)>>8,Bt&255]}return Ft.startsWith("rgb(")?Ft.slice(4,-1).split(",").map(Bt=>parseInt(Bt)):Ft.startsWith("rgba(")?Ft.slice(5,-1).split(",").map(Bt=>parseInt(Bt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${Ft}"`),[0,0,0])}function gt(Ft){const Bt=document.createElement("span");Bt.style.visibility="hidden",document.body.append(Bt);for(const Et of Ft.keys()){Bt.style.color=Et;const _t=window.getComputedStyle(Bt).color;Ft.set(Et,ht(_t))}Bt.remove()}function St(Ft){const{a:Bt,b:Et,c:_t,d:$t,e:Ht,f:nn}=Ft.getTransform();return[Bt,Et,_t,$t,Ht,nn]}function Nt(Ft){const{a:Bt,b:Et,c:_t,d:$t,e:Ht,f:nn}=Ft.getTransform().invertSelf();return[Bt,Et,_t,$t,Ht,nn]}function Lt(Ft,Bt,Et=!1,_t=!0){if(Bt instanceof tt){const{pageWidth:$t,pageHeight:Ht}=Bt.rawDims,{style:nn}=Ft,dn=a.FeatureTest.isCSSRoundSupported,ln=`var(--scale-factor) * ${$t}px`,Ut=`var(--scale-factor) * ${Ht}px`,fn=dn?`round(${ln}, 1px)`:`calc(${ln})`,pn=dn?`round(${Ut}, 1px)`:`calc(${Ut})`;!Et||Bt.rotation%180===0?(nn.width=fn,nn.height=pn):(nn.width=pn,nn.height=fn)}_t&&Ft.setAttribute("data-main-rotation",Bt.rotation)}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var o=i(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(j){return"none"}addHCMFilter(j,_){return"none"}addHighlightHCMFilter(j,_,_e,tt){return"none"}destroy(j=!1){}}s.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(j,_){if(j<=0||_<=0)throw new Error("Invalid canvas size");const _e=this._createCanvas(j,_);return{canvas:_e,context:_e.getContext("2d")}}reset(j,_,_e){if(!j.canvas)throw new Error("Canvas is not specified");if(_<=0||_e<=0)throw new Error("Invalid canvas size");j.canvas.width=_,j.canvas.height=_e}destroy(j){if(!j.canvas)throw new Error("Canvas is not specified");j.canvas.width=0,j.canvas.height=0,j.canvas=null,j.context=null}_createCanvas(j,_){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:j=null,isCompressed:_=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=j,this.isCompressed=_}async fetch({name:j}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!j)throw new Error("CMap name must be specified.");const _=this.baseUrl+j+(this.isCompressed?".bcmap":""),_e=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(_,_e).catch(tt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_}`)})}_fetchData(j,_){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class h{constructor({baseUrl:j=null}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=j}async fetch({filename:j}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!j)throw new Error("Font filename must be specified.");const _=`${this.baseUrl}${j}`;return this._fetchData(_).catch(_e=>{throw new Error(`Unable to load font data at: ${_}`)})}_fetchData(j){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=h;class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(j,_,_e=!1){if(j<=0||_<=0)throw new Error("Invalid SVG dimensions");const tt=this._createSVG("svg:svg");return tt.setAttribute("version","1.1"),_e||(tt.setAttribute("width",`${j}px`),tt.setAttribute("height",`${_}px`)),tt.setAttribute("preserveAspectRatio","none"),tt.setAttribute("viewBox",`0 0 ${j} ${_}`),tt}createElement(j){if(typeof j!="string")throw new Error("Invalid SVG element type");return this._createSVG(j)}_createSVG(j){(0,o.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=g},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var o=i(1);const a=3285377520,c=4294901760,d=65535;class h{constructor(b){this.h1=b?b&4294967295:a,this.h2=b?b&4294967295:a}update(b){let j,_;if(typeof b=="string"){j=new Uint8Array(b.length*2),_=0;for(let ct=0,ut=b.length;ct<ut;ct++){const ft=b.charCodeAt(ct);ft<=255?j[_++]=ft:(j[_++]=ft>>>8,j[_++]=ft&255)}}else if((0,o.isArrayBuffer)(b))j=b.slice(),_=j.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _e=_>>2,tt=_-_e*4,rt=new Uint32Array(j.buffer,0,_e);let st=0,nt=0,et=this.h1,$=this.h2;const ot=3432918353,lt=461845907,it=ot&d,dt=lt&d;for(let ct=0;ct<_e;ct++)ct&1?(st=rt[ct],st=st*ot&c|st*it&d,st=st<<15|st>>>17,st=st*lt&c|st*dt&d,et^=st,et=et<<13|et>>>19,et=et*5+3864292196):(nt=rt[ct],nt=nt*ot&c|nt*it&d,nt=nt<<15|nt>>>17,nt=nt*lt&c|nt*dt&d,$^=nt,$=$<<13|$>>>19,$=$*5+3864292196);switch(st=0,tt){case 3:st^=j[_e*4+2]<<16;case 2:st^=j[_e*4+1]<<8;case 1:st^=j[_e*4],st=st*ot&c|st*it&d,st=st<<15|st>>>17,st=st*lt&c|st*dt&d,_e&1?et^=st:$^=st}this.h1=et,this.h2=$}hexdigest(){let b=this.h1,j=this.h2;return b^=j>>>1,b=b*3981806797&c|b*36045&d,j=j*4283543511&c|((j<<16|b>>>16)*2950163797&c)>>>16,b^=j>>>1,b=b*444984403&c|b*60499&d,j=j*3301882366&c|((j<<16|b>>>16)*3120437893&c)>>>16,b^=j>>>1,(b>>>0).toString(16).padStart(8,"0")+(j>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=h},(e,s,i)=>{var d;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var o=i(1);class a{constructor({ownerDocument:g=globalThis.document,styleElement:b=null}){Kt(this,d,new Set);this._document=g,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(g){this.nativeFontFaces.add(g),this._document.fonts.add(g)}removeNativeFontFace(g){this.nativeFontFaces.delete(g),this._document.fonts.delete(g)}insertRule(g){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(g,b.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.clear(),at(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(g){if(!(!g||at(this,d).has(g.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:j,style:_}=g,_e=new FontFace(b,j,_);this.addNativeFontFace(_e);try{await _e.load(),at(this,d).add(b)}catch{(0,o.warn)(`Cannot load system font: ${g.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(_e)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(g){if(g.attached||g.missingFile&&!g.systemFontInfo)return;if(g.attached=!0,g.systemFontInfo){await this.loadSystemFont(g.systemFontInfo);return}if(this.isFontLoadingAPISupported){const j=g.createNativeFontFace();if(j){this.addNativeFontFace(j);try{await j.loaded}catch(_){throw(0,o.warn)(`Failed to load font '${j.family}': '${_}'.`),g.disableFontFace=!0,_}}return}const b=g.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(j=>{const _=this._queueLoadingCallback(j);this._prepareFontLoadEvent(g,_)})}}get isFontLoadingAPISupported(){var b;const g=!!((b=this._document)!=null&&b.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){let g=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(g=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function b(){for((0,o.assert)(!_.done,"completeRequest() cannot be called twice."),_.done=!0;j.length>0&&j[0].done;){const _e=j.shift();setTimeout(_e.callback,0)}}const{loadingRequests:j}=this,_={done:!1,complete:b,callback:g};return j.push(_),_}get _loadTestFont(){const g=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",g)}_prepareFontLoadEvent(g,b){function j(ht,gt){return ht.charCodeAt(gt)<<24|ht.charCodeAt(gt+1)<<16|ht.charCodeAt(gt+2)<<8|ht.charCodeAt(gt+3)&255}function _(ht,gt,St,Nt){const Lt=ht.substring(0,gt),kt=ht.substring(gt+St);return Lt+Nt+kt}let _e,tt;const rt=this._document.createElement("canvas");rt.width=1,rt.height=1;const st=rt.getContext("2d");let nt=0;function et(ht,gt){if(++nt>30){(0,o.warn)("Load test font never loaded."),gt();return}if(st.font="30px "+ht,st.fillText(".",0,20),st.getImageData(0,0,1,1).data[3]>0){gt();return}setTimeout(et.bind(null,ht,gt))}const $=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=_(ot,976,$.length,$);const it=16,dt=1482184792;let ct=j(ot,it);for(_e=0,tt=$.length-3;_e<tt;_e+=4)ct=ct-dt+j($,_e)|0;_e<$.length&&(ct=ct-dt+j($+"XXX",_e)|0),ot=_(ot,it,4,(0,o.string32)(ct));const ut=`url(data:font/opentype;base64,${btoa(ot)});`,ft=`@font-face {font-family:"${$}";src:${ut}}`;this.insertRule(ft);const yt=this._document.createElement("div");yt.style.visibility="hidden",yt.style.width=yt.style.height="10px",yt.style.position="absolute",yt.style.top=yt.style.left="0px";for(const ht of[g.loadedName,$]){const gt=this._document.createElement("span");gt.textContent="Hi",gt.style.fontFamily=ht,yt.append(gt)}this._document.body.append(yt),et($,()=>{yt.remove(),b.complete()})}}d=new WeakMap,s.FontLoader=a;class c{constructor(g,{isEvalSupported:b=!0,disableFontFace:j=!1,ignoreErrors:_=!1,inspectFont:_e=null}){this.compiledGlyphs=Object.create(null);for(const tt in g)this[tt]=g[tt];this.isEvalSupported=b!==!1,this.disableFontFace=j===!0,this.ignoreErrors=_===!0,this._inspectFont=_e}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}return(b=this._inspectFont)==null||b.call(this,this),g}createFontFaceRule(){var _;if(!this.data||this.disableFontFace)return null;const g=(0,o.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(g)});`;let j;if(!this.cssFontInfo)j=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),j=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${b}}`}return(_=this._inspectFont)==null||_.call(this,this,b),j}getPathGenerator(g,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let j;try{j=g.get(this.loadedName+"_path_"+b)}catch(_){if(!this.ignoreErrors)throw _;return(0,o.warn)(`getPathGenerator - ignoring character: "${_}".`),this.compiledGlyphs[b]=function(_e,tt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const _=[];for(const _e of j){const tt=_e.args!==void 0?_e.args.join(","):"";_.push("c.",_e.cmd,"(",tt,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",_.join(""))}return this.compiledGlyphs[b]=function(_,_e){for(const tt of j)tt.cmd==="scale"&&(tt.args=[_e,-_e]),_[tt.cmd].apply(_,tt.args)}}}s.FontFaceObject=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var o=i(7);i(1);const a=function(b){return new Promise((j,_)=>{require$$5.readFile(b,(tt,rt)=>{if(tt||!rt){_(new Error(tt));return}j(new Uint8Array(rt))})})};class c extends o.BaseFilterFactory{}s.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(j,_){return require$$5.createCanvas(j,_)}}s.NodeCanvasFactory=d;class h extends o.BaseCMapReaderFactory{_fetchData(j,_){return a(j).then(_e=>({cMapData:_e,compressionType:_}))}}s.NodeCMapReaderFactory=h;class g extends o.BaseStandardFontDataFactory{_fetchData(j){return a(j)}}s.NodeStandardFontDataFactory=g},(e,s,i)=>{var Tt,Ir,Fr;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var o=i(1),a=i(6),c=i(12),d=i(13);const h=16,g=100,b=4096,j=15,_=10,_e=1e3,tt=16;function rt(bt,pt){if(bt._removeMirroring)throw new Error("Context is already forwarding operations.");bt.__originalSave=bt.save,bt.__originalRestore=bt.restore,bt.__originalRotate=bt.rotate,bt.__originalScale=bt.scale,bt.__originalTranslate=bt.translate,bt.__originalTransform=bt.transform,bt.__originalSetTransform=bt.setTransform,bt.__originalResetTransform=bt.resetTransform,bt.__originalClip=bt.clip,bt.__originalMoveTo=bt.moveTo,bt.__originalLineTo=bt.lineTo,bt.__originalBezierCurveTo=bt.bezierCurveTo,bt.__originalRect=bt.rect,bt.__originalClosePath=bt.closePath,bt.__originalBeginPath=bt.beginPath,bt._removeMirroring=()=>{bt.save=bt.__originalSave,bt.restore=bt.__originalRestore,bt.rotate=bt.__originalRotate,bt.scale=bt.__originalScale,bt.translate=bt.__originalTranslate,bt.transform=bt.__originalTransform,bt.setTransform=bt.__originalSetTransform,bt.resetTransform=bt.__originalResetTransform,bt.clip=bt.__originalClip,bt.moveTo=bt.__originalMoveTo,bt.lineTo=bt.__originalLineTo,bt.bezierCurveTo=bt.__originalBezierCurveTo,bt.rect=bt.__originalRect,bt.closePath=bt.__originalClosePath,bt.beginPath=bt.__originalBeginPath,delete bt._removeMirroring},bt.save=function(){pt.save(),this.__originalSave()},bt.restore=function(){pt.restore(),this.__originalRestore()},bt.translate=function(vt,At){pt.translate(vt,At),this.__originalTranslate(vt,At)},bt.scale=function(vt,At){pt.scale(vt,At),this.__originalScale(vt,At)},bt.transform=function(vt,At,jt,Dt,Vt,Wt){pt.transform(vt,At,jt,Dt,Vt,Wt),this.__originalTransform(vt,At,jt,Dt,Vt,Wt)},bt.setTransform=function(vt,At,jt,Dt,Vt,Wt){pt.setTransform(vt,At,jt,Dt,Vt,Wt),this.__originalSetTransform(vt,At,jt,Dt,Vt,Wt)},bt.resetTransform=function(){pt.resetTransform(),this.__originalResetTransform()},bt.rotate=function(vt){pt.rotate(vt),this.__originalRotate(vt)},bt.clip=function(vt){pt.clip(vt),this.__originalClip(vt)},bt.moveTo=function(mt,vt){pt.moveTo(mt,vt),this.__originalMoveTo(mt,vt)},bt.lineTo=function(mt,vt){pt.lineTo(mt,vt),this.__originalLineTo(mt,vt)},bt.bezierCurveTo=function(mt,vt,At,jt,Dt,Vt){pt.bezierCurveTo(mt,vt,At,jt,Dt,Vt),this.__originalBezierCurveTo(mt,vt,At,jt,Dt,Vt)},bt.rect=function(mt,vt,At,jt){pt.rect(mt,vt,At,jt),this.__originalRect(mt,vt,At,jt)},bt.closePath=function(){pt.closePath(),this.__originalClosePath()},bt.beginPath=function(){pt.beginPath(),this.__originalBeginPath()}}class st{constructor(pt){this.canvasFactory=pt,this.cache=Object.create(null)}getCanvas(pt,mt,vt){let At;return this.cache[pt]!==void 0?(At=this.cache[pt],this.canvasFactory.reset(At,mt,vt)):(At=this.canvasFactory.create(mt,vt),this.cache[pt]=At),At}delete(pt){delete this.cache[pt]}clear(){for(const pt in this.cache){const mt=this.cache[pt];this.canvasFactory.destroy(mt),delete this.cache[pt]}}}function nt(bt,pt,mt,vt,At,jt,Dt,Vt,Wt,Qt){const[Jt,on,rn,Gt,Ft,Bt]=(0,a.getCurrentTransform)(bt);if(on===0&&rn===0){const $t=Dt*Jt+Ft,Ht=Math.round($t),nn=Vt*Gt+Bt,dn=Math.round(nn),ln=(Dt+Wt)*Jt+Ft,Ut=Math.abs(Math.round(ln)-Ht)||1,fn=(Vt+Qt)*Gt+Bt,pn=Math.abs(Math.round(fn)-dn)||1;return bt.setTransform(Math.sign(Jt),0,0,Math.sign(Gt),Ht,dn),bt.drawImage(pt,mt,vt,At,jt,0,0,Ut,pn),bt.setTransform(Jt,on,rn,Gt,Ft,Bt),[Ut,pn]}if(Jt===0&&Gt===0){const $t=Vt*rn+Ft,Ht=Math.round($t),nn=Dt*on+Bt,dn=Math.round(nn),ln=(Vt+Qt)*rn+Ft,Ut=Math.abs(Math.round(ln)-Ht)||1,fn=(Dt+Wt)*on+Bt,pn=Math.abs(Math.round(fn)-dn)||1;return bt.setTransform(0,Math.sign(on),Math.sign(rn),0,Ht,dn),bt.drawImage(pt,mt,vt,At,jt,0,0,pn,Ut),bt.setTransform(Jt,on,rn,Gt,Ft,Bt),[pn,Ut]}bt.drawImage(pt,mt,vt,At,jt,Dt,Vt,Wt,Qt);const Et=Math.hypot(Jt,on),_t=Math.hypot(rn,Gt);return[Et*Wt,_t*Qt]}function et(bt){const{width:pt,height:mt}=bt;if(pt>_e||mt>_e)return null;const vt=1e3,At=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),jt=pt+1;let Dt=new Uint8Array(jt*(mt+1)),Vt,Wt,Qt;const Jt=pt+7&-8;let on=new Uint8Array(Jt*mt),rn=0;for(const _t of bt.data){let $t=128;for(;$t>0;)on[rn++]=_t&$t?0:255,$t>>=1}let Gt=0;for(rn=0,on[rn]!==0&&(Dt[0]=1,++Gt),Wt=1;Wt<pt;Wt++)on[rn]!==on[rn+1]&&(Dt[Wt]=on[rn]?2:1,++Gt),rn++;for(on[rn]!==0&&(Dt[Wt]=2,++Gt),Vt=1;Vt<mt;Vt++){rn=Vt*Jt,Qt=Vt*jt,on[rn-Jt]!==on[rn]&&(Dt[Qt]=on[rn]?1:8,++Gt);let _t=(on[rn]?4:0)+(on[rn-Jt]?8:0);for(Wt=1;Wt<pt;Wt++)_t=(_t>>2)+(on[rn+1]?4:0)+(on[rn-Jt+1]?8:0),At[_t]&&(Dt[Qt+Wt]=At[_t],++Gt),rn++;if(on[rn-Jt]!==on[rn]&&(Dt[Qt+Wt]=on[rn]?2:4,++Gt),Gt>vt)return null}for(rn=Jt*(mt-1),Qt=Vt*jt,on[rn]!==0&&(Dt[Qt]=8,++Gt),Wt=1;Wt<pt;Wt++)on[rn]!==on[rn+1]&&(Dt[Qt+Wt]=on[rn]?4:8,++Gt),rn++;if(on[rn]!==0&&(Dt[Qt+Wt]=4,++Gt),Gt>vt)return null;const Ft=new Int32Array([0,jt,-1,0,-jt,0,0,0,1]),Bt=new Path2D;for(Vt=0;Gt&&Vt<=mt;Vt++){let _t=Vt*jt;const $t=_t+pt;for(;_t<$t&&!Dt[_t];)_t++;if(_t===$t)continue;Bt.moveTo(_t%jt,Vt);const Ht=_t;let nn=Dt[_t];do{const dn=Ft[nn];do _t+=dn;while(!Dt[_t]);const ln=Dt[_t];ln!==5&&ln!==10?(nn=ln,Dt[_t]=0):(nn=ln&51*nn>>4,Dt[_t]&=nn>>2|nn<<2),Bt.lineTo(_t%jt,_t/jt|0),Dt[_t]||--Gt}while(Ht!==_t);--Vt}return on=null,Dt=null,function(_t){_t.save(),_t.scale(1/pt,-1/mt),_t.translate(0,-mt),_t.fill(Bt),_t.beginPath(),_t.restore()}}class ${constructor(pt,mt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,pt,mt])}clone(){const pt=Object.create(this);return pt.clipBox=this.clipBox.slice(),pt}setCurrentPoint(pt,mt){this.x=pt,this.y=mt}updatePathMinMax(pt,mt,vt){[mt,vt]=o.Util.applyTransform([mt,vt],pt),this.minX=Math.min(this.minX,mt),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,mt),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax(pt,mt){const vt=o.Util.applyTransform(mt,pt),At=o.Util.applyTransform(mt.slice(2),pt);this.minX=Math.min(this.minX,vt[0],At[0]),this.minY=Math.min(this.minY,vt[1],At[1]),this.maxX=Math.max(this.maxX,vt[0],At[0]),this.maxY=Math.max(this.maxY,vt[1],At[1])}updateScalingPathMinMax(pt,mt){o.Util.scaleMinMax(pt,mt),this.minX=Math.min(this.minX,mt[0]),this.maxX=Math.max(this.maxX,mt[1]),this.minY=Math.min(this.minY,mt[2]),this.maxY=Math.max(this.maxY,mt[3])}updateCurvePathMinMax(pt,mt,vt,At,jt,Dt,Vt,Wt,Qt,Jt){const on=o.Util.bezierBoundingBox(mt,vt,At,jt,Dt,Vt,Wt,Qt);if(Jt){Jt[0]=Math.min(Jt[0],on[0],on[2]),Jt[1]=Math.max(Jt[1],on[0],on[2]),Jt[2]=Math.min(Jt[2],on[1],on[3]),Jt[3]=Math.max(Jt[3],on[1],on[3]);return}this.updateRectMinMax(pt,on)}getPathBoundingBox(pt=c.PathType.FILL,mt=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if(pt===c.PathType.STROKE){mt||(0,o.unreachable)("Stroke bounding box must include transform.");const At=o.Util.singularValueDecompose2dScale(mt),jt=At[0]*this.lineWidth/2,Dt=At[1]*this.lineWidth/2;vt[0]-=jt,vt[1]-=Dt,vt[2]+=jt,vt[3]+=Dt}return vt}updateClipFromPath(){const pt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(pt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(pt){this.clipBox=pt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(pt=c.PathType.FILL,mt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(pt,mt))}}function ot(bt,pt){if(typeof ImageData<"u"&&pt instanceof ImageData){bt.putImageData(pt,0,0);return}const mt=pt.height,vt=pt.width,At=mt%tt,jt=(mt-At)/tt,Dt=At===0?jt:jt+1,Vt=bt.createImageData(vt,tt);let Wt=0,Qt;const Jt=pt.data,on=Vt.data;let rn,Gt,Ft,Bt;if(pt.kind===o.ImageKind.GRAYSCALE_1BPP){const Et=Jt.byteLength,_t=new Uint32Array(on.buffer,0,on.byteLength>>2),$t=_t.length,Ht=vt+7>>3,nn=4294967295,dn=o.FeatureTest.isLittleEndian?4278190080:255;for(rn=0;rn<Dt;rn++){for(Ft=rn<jt?tt:At,Qt=0,Gt=0;Gt<Ft;Gt++){const ln=Et-Wt;let Ut=0;const fn=ln>Ht?vt:ln*8-7,pn=fn&-8;let Pn=0,jn=0;for(;Ut<pn;Ut+=8)jn=Jt[Wt++],_t[Qt++]=jn&128?nn:dn,_t[Qt++]=jn&64?nn:dn,_t[Qt++]=jn&32?nn:dn,_t[Qt++]=jn&16?nn:dn,_t[Qt++]=jn&8?nn:dn,_t[Qt++]=jn&4?nn:dn,_t[Qt++]=jn&2?nn:dn,_t[Qt++]=jn&1?nn:dn;for(;Ut<fn;Ut++)Pn===0&&(jn=Jt[Wt++],Pn=128),_t[Qt++]=jn&Pn?nn:dn,Pn>>=1}for(;Qt<$t;)_t[Qt++]=0;bt.putImageData(Vt,0,rn*tt)}}else if(pt.kind===o.ImageKind.RGBA_32BPP){for(Gt=0,Bt=vt*tt*4,rn=0;rn<jt;rn++)on.set(Jt.subarray(Wt,Wt+Bt)),Wt+=Bt,bt.putImageData(Vt,0,Gt),Gt+=tt;rn<Dt&&(Bt=vt*At*4,on.set(Jt.subarray(Wt,Wt+Bt)),bt.putImageData(Vt,0,Gt))}else if(pt.kind===o.ImageKind.RGB_24BPP)for(Ft=tt,Bt=vt*Ft,rn=0;rn<Dt;rn++){for(rn>=jt&&(Ft=At,Bt=vt*Ft),Qt=0,Gt=Bt;Gt--;)on[Qt++]=Jt[Wt++],on[Qt++]=Jt[Wt++],on[Qt++]=Jt[Wt++],on[Qt++]=255;bt.putImageData(Vt,0,rn*tt)}else throw new Error(`bad image kind: ${pt.kind}`)}function lt(bt,pt){if(pt.bitmap){bt.drawImage(pt.bitmap,0,0);return}const mt=pt.height,vt=pt.width,At=mt%tt,jt=(mt-At)/tt,Dt=At===0?jt:jt+1,Vt=bt.createImageData(vt,tt);let Wt=0;const Qt=pt.data,Jt=Vt.data;for(let on=0;on<Dt;on++){const rn=on<jt?tt:At;({srcPos:Wt}=(0,d.convertBlackAndWhiteToRGBA)({src:Qt,srcPos:Wt,dest:Jt,width:vt,height:rn,nonBlackColor:0})),bt.putImageData(Vt,0,on*tt)}}function it(bt,pt){const mt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of mt)bt[vt]!==void 0&&(pt[vt]=bt[vt]);bt.setLineDash!==void 0&&(pt.setLineDash(bt.getLineDash()),pt.lineDashOffset=bt.lineDashOffset)}function dt(bt){if(bt.strokeStyle=bt.fillStyle="#000000",bt.fillRule="nonzero",bt.globalAlpha=1,bt.lineWidth=1,bt.lineCap="butt",bt.lineJoin="miter",bt.miterLimit=10,bt.globalCompositeOperation="source-over",bt.font="10px sans-serif",bt.setLineDash!==void 0&&(bt.setLineDash([]),bt.lineDashOffset=0),!o.isNodeJS){const{filter:pt}=bt;pt!=="none"&&pt!==""&&(bt.filter="none")}}function ct(bt,pt,mt,vt){const At=bt.length;for(let jt=3;jt<At;jt+=4){const Dt=bt[jt];if(Dt===0)bt[jt-3]=pt,bt[jt-2]=mt,bt[jt-1]=vt;else if(Dt<255){const Vt=255-Dt;bt[jt-3]=bt[jt-3]*Dt+pt*Vt>>8,bt[jt-2]=bt[jt-2]*Dt+mt*Vt>>8,bt[jt-1]=bt[jt-1]*Dt+vt*Vt>>8}}}function ut(bt,pt,mt){const vt=bt.length,At=1/255;for(let jt=3;jt<vt;jt+=4){const Dt=mt?mt[bt[jt]]:bt[jt];pt[jt]=pt[jt]*Dt*At|0}}function ft(bt,pt,mt){const vt=bt.length;for(let At=3;At<vt;At+=4){const jt=bt[At-3]*77+bt[At-2]*152+bt[At-1]*28;pt[At]=mt?pt[At]*mt[jt>>8]>>8:pt[At]*jt>>16}}function yt(bt,pt,mt,vt,At,jt,Dt,Vt,Wt,Qt,Jt){const on=!!jt,rn=on?jt[0]:0,Gt=on?jt[1]:0,Ft=on?jt[2]:0,Bt=At==="Luminosity"?ft:ut,_t=Math.min(vt,Math.ceil(1048576/mt));for(let $t=0;$t<vt;$t+=_t){const Ht=Math.min(_t,vt-$t),nn=bt.getImageData(Vt-Qt,$t+(Wt-Jt),mt,Ht),dn=pt.getImageData(Vt,$t+Wt,mt,Ht);on&&ct(nn.data,rn,Gt,Ft),Bt(nn.data,dn.data,Dt),pt.putImageData(dn,Vt,$t+Wt)}}function ht(bt,pt,mt,vt){const At=vt[0],jt=vt[1],Dt=vt[2]-At,Vt=vt[3]-jt;Dt===0||Vt===0||(yt(pt.context,mt,Dt,Vt,pt.subtype,pt.backdrop,pt.transferMap,At,jt,pt.offsetX,pt.offsetY),bt.save(),bt.globalAlpha=1,bt.globalCompositeOperation="source-over",bt.setTransform(1,0,0,1,0,0),bt.drawImage(mt.canvas,0,0),bt.restore())}function gt(bt,pt){const mt=o.Util.singularValueDecompose2dScale(bt);mt[0]=Math.fround(mt[0]),mt[1]=Math.fround(mt[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return pt!==void 0?pt:mt[0]<=vt||mt[1]<=vt}const St=["butt","round","square"],Nt=["miter","round","bevel"],Lt={},kt={},It=class It{constructor(pt,mt,vt,At,jt,{optionalContentConfig:Dt,markedContentStack:Vt=null},Wt,Qt){Kt(this,Tt);this.ctx=pt,this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=mt,this.objs=vt,this.canvasFactory=At,this.filterFactory=jt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Vt||[],this.optionalContentConfig=Dt,this.cachedCanvases=new st(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Qt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(pt,mt=null){return typeof pt=="string"?pt.startsWith("g_")?this.commonObjs.get(pt):this.objs.get(pt):mt}beginDrawing({transform:pt,viewport:mt,transparency:vt=!1,background:At=null}){const jt=this.ctx.canvas.width,Dt=this.ctx.canvas.height,Vt=this.ctx.fillStyle;if(this.ctx.fillStyle=At||"#ffffff",this.ctx.fillRect(0,0,jt,Dt),this.ctx.fillStyle=Vt,vt){const Wt=this.cachedCanvases.getCanvas("transparent",jt,Dt);this.compositeCtx=this.ctx,this.transparentCanvas=Wt.canvas,this.ctx=Wt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),dt(this.ctx),pt&&(this.ctx.transform(...pt),this.outputScaleX=pt[0],this.outputScaleY=pt[0]),this.ctx.transform(...mt.transform),this.viewportScale=mt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(pt,mt,vt,At){const jt=pt.argsArray,Dt=pt.fnArray;let Vt=mt||0;const Wt=jt.length;if(Wt===Vt)return Vt;const Qt=Wt-Vt>_&&typeof vt=="function",Jt=Qt?Date.now()+j:0;let on=0;const rn=this.commonObjs,Gt=this.objs;let Ft;for(;;){if(At!==void 0&&Vt===At.nextBreakPoint)return At.breakIt(Vt,vt),Vt;if(Ft=Dt[Vt],Ft!==o.OPS.dependency)this[Ft].apply(this,jt[Vt]);else for(const Bt of jt[Vt]){const Et=Bt.startsWith("g_")?rn:Gt;if(!Et.has(Bt))return Et.get(Bt,vt),Vt}if(Vt++,Vt===Wt)return Vt;if(Qt&&++on>_){if(Date.now()>Jt)return vt(),Vt;on=0}}}endDrawing(){zt(this,Tt,Ir).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const pt of this._cachedBitmapsMap.values()){for(const mt of pt.values())typeof HTMLCanvasElement<"u"&&mt instanceof HTMLCanvasElement&&(mt.width=mt.height=0);pt.clear()}this._cachedBitmapsMap.clear(),zt(this,Tt,Fr).call(this)}_scaleImage(pt,mt){const vt=pt.width,At=pt.height;let jt=Math.max(Math.hypot(mt[0],mt[1]),1),Dt=Math.max(Math.hypot(mt[2],mt[3]),1),Vt=vt,Wt=At,Qt="prescale1",Jt,on;for(;jt>2&&Vt>1||Dt>2&&Wt>1;){let rn=Vt,Gt=Wt;jt>2&&Vt>1&&(rn=Vt>=16384?Math.floor(Vt/2)-1||1:Math.ceil(Vt/2),jt/=Vt/rn),Dt>2&&Wt>1&&(Gt=Wt>=16384?Math.floor(Wt/2)-1||1:Math.ceil(Wt)/2,Dt/=Wt/Gt),Jt=this.cachedCanvases.getCanvas(Qt,rn,Gt),on=Jt.context,on.clearRect(0,0,rn,Gt),on.drawImage(pt,0,0,Vt,Wt,0,0,rn,Gt),pt=Jt.canvas,Vt=rn,Wt=Gt,Qt=Qt==="prescale1"?"prescale2":"prescale1"}return{img:pt,paintWidth:Vt,paintHeight:Wt}}_createMaskCanvas(pt){const mt=this.ctx,{width:vt,height:At}=pt,jt=this.current.fillColor,Dt=this.current.patternFill,Vt=(0,a.getCurrentTransform)(mt);let Wt,Qt,Jt,on;if((pt.bitmap||pt.data)&&pt.count>1){const Ut=pt.bitmap||pt.data.buffer;Qt=JSON.stringify(Dt?Vt:[Vt.slice(0,4),jt]),Wt=this._cachedBitmapsMap.get(Ut),Wt||(Wt=new Map,this._cachedBitmapsMap.set(Ut,Wt));const fn=Wt.get(Qt);if(fn&&!Dt){const pn=Math.round(Math.min(Vt[0],Vt[2])+Vt[4]),Pn=Math.round(Math.min(Vt[1],Vt[3])+Vt[5]);return{canvas:fn,offsetX:pn,offsetY:Pn}}Jt=fn}Jt||(on=this.cachedCanvases.getCanvas("maskCanvas",vt,At),lt(on.context,pt));let rn=o.Util.transform(Vt,[1/vt,0,0,-1/At,0,0]);rn=o.Util.transform(rn,[1,0,0,1,0,-At]);const Gt=o.Util.applyTransform([0,0],rn),Ft=o.Util.applyTransform([vt,At],rn),Bt=o.Util.normalizeRect([Gt[0],Gt[1],Ft[0],Ft[1]]),Et=Math.round(Bt[2]-Bt[0])||1,_t=Math.round(Bt[3]-Bt[1])||1,$t=this.cachedCanvases.getCanvas("fillCanvas",Et,_t),Ht=$t.context,nn=Math.min(Gt[0],Ft[0]),dn=Math.min(Gt[1],Ft[1]);Ht.translate(-nn,-dn),Ht.transform(...rn),Jt||(Jt=this._scaleImage(on.canvas,(0,a.getCurrentTransformInverse)(Ht)),Jt=Jt.img,Wt&&Dt&&Wt.set(Qt,Jt)),Ht.imageSmoothingEnabled=gt((0,a.getCurrentTransform)(Ht),pt.interpolate),nt(Ht,Jt,0,0,Jt.width,Jt.height,0,0,vt,At),Ht.globalCompositeOperation="source-in";const ln=o.Util.transform((0,a.getCurrentTransformInverse)(Ht),[1,0,0,1,-nn,-dn]);return Ht.fillStyle=Dt?jt.getPattern(mt,this,ln,c.PathType.FILL):jt,Ht.fillRect(0,0,vt,At),Wt&&!Dt&&(this.cachedCanvases.delete("fillCanvas"),Wt.set(Qt,$t.canvas)),{canvas:$t.canvas,offsetX:Math.round(nn),offsetY:Math.round(dn)}}setLineWidth(pt){pt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=pt,this.ctx.lineWidth=pt}setLineCap(pt){this.ctx.lineCap=St[pt]}setLineJoin(pt){this.ctx.lineJoin=Nt[pt]}setMiterLimit(pt){this.ctx.miterLimit=pt}setDash(pt,mt){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash(pt),vt.lineDashOffset=mt)}setRenderingIntent(pt){}setFlatness(pt){}setGState(pt){for(const[mt,vt]of pt)switch(mt){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const pt=this.inSMaskMode;this.current.activeSMask&&!pt?this.beginSMaskMode():!this.current.activeSMask&&pt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const pt=this.ctx.canvas.width,mt=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,At=this.cachedCanvases.getCanvas(vt,pt,mt);this.suspendedCtx=this.ctx,this.ctx=At.context;const jt=this.ctx;jt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),it(this.suspendedCtx,jt),rt(jt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),it(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(pt){if(!this.current.activeSMask)return;pt?(pt[0]=Math.floor(pt[0]),pt[1]=Math.floor(pt[1]),pt[2]=Math.ceil(pt[2]),pt[3]=Math.ceil(pt[3])):pt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const mt=this.current.activeSMask,vt=this.suspendedCtx;ht(vt,mt,this.ctx,pt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(it(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const pt=this.current;this.stateStack.push(pt),this.current=pt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),it(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(pt,mt,vt,At,jt,Dt){this.ctx.transform(pt,mt,vt,At,jt,Dt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(pt,mt,vt){const At=this.ctx,jt=this.current;let Dt=jt.x,Vt=jt.y,Wt,Qt;const Jt=(0,a.getCurrentTransform)(At),on=Jt[0]===0&&Jt[3]===0||Jt[1]===0&&Jt[2]===0,rn=on?vt.slice(0):null;for(let Gt=0,Ft=0,Bt=pt.length;Gt<Bt;Gt++)switch(pt[Gt]|0){case o.OPS.rectangle:Dt=mt[Ft++],Vt=mt[Ft++];const Et=mt[Ft++],_t=mt[Ft++],$t=Dt+Et,Ht=Vt+_t;At.moveTo(Dt,Vt),Et===0||_t===0?At.lineTo($t,Ht):(At.lineTo($t,Vt),At.lineTo($t,Ht),At.lineTo(Dt,Ht)),on||jt.updateRectMinMax(Jt,[Dt,Vt,$t,Ht]),At.closePath();break;case o.OPS.moveTo:Dt=mt[Ft++],Vt=mt[Ft++],At.moveTo(Dt,Vt),on||jt.updatePathMinMax(Jt,Dt,Vt);break;case o.OPS.lineTo:Dt=mt[Ft++],Vt=mt[Ft++],At.lineTo(Dt,Vt),on||jt.updatePathMinMax(Jt,Dt,Vt);break;case o.OPS.curveTo:Wt=Dt,Qt=Vt,Dt=mt[Ft+4],Vt=mt[Ft+5],At.bezierCurveTo(mt[Ft],mt[Ft+1],mt[Ft+2],mt[Ft+3],Dt,Vt),jt.updateCurvePathMinMax(Jt,Wt,Qt,mt[Ft],mt[Ft+1],mt[Ft+2],mt[Ft+3],Dt,Vt,rn),Ft+=6;break;case o.OPS.curveTo2:Wt=Dt,Qt=Vt,At.bezierCurveTo(Dt,Vt,mt[Ft],mt[Ft+1],mt[Ft+2],mt[Ft+3]),jt.updateCurvePathMinMax(Jt,Wt,Qt,Dt,Vt,mt[Ft],mt[Ft+1],mt[Ft+2],mt[Ft+3],rn),Dt=mt[Ft+2],Vt=mt[Ft+3],Ft+=4;break;case o.OPS.curveTo3:Wt=Dt,Qt=Vt,Dt=mt[Ft+2],Vt=mt[Ft+3],At.bezierCurveTo(mt[Ft],mt[Ft+1],Dt,Vt,Dt,Vt),jt.updateCurvePathMinMax(Jt,Wt,Qt,mt[Ft],mt[Ft+1],Dt,Vt,Dt,Vt,rn),Ft+=4;break;case o.OPS.closePath:At.closePath();break}on&&jt.updateScalingPathMinMax(Jt,rn),jt.setCurrentPoint(Dt,Vt)}closePath(){this.ctx.closePath()}stroke(pt=!0){const mt=this.ctx,vt=this.current.strokeColor;mt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(mt.save(),mt.strokeStyle=vt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.STROKE),this.rescaleAndStroke(!1),mt.restore()):this.rescaleAndStroke(!0)),pt&&this.consumePath(this.current.getClippedPathBoundingBox()),mt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(pt=!0){const mt=this.ctx,vt=this.current.fillColor,At=this.current.patternFill;let jt=!1;At&&(mt.save(),mt.fillStyle=vt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.FILL),jt=!0);const Dt=this.current.getClippedPathBoundingBox();this.contentVisible&&Dt!==null&&(this.pendingEOFill?(mt.fill("evenodd"),this.pendingEOFill=!1):mt.fill()),jt&&mt.restore(),pt&&this.consumePath(Dt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Lt}eoClip(){this.pendingClip=kt}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const pt=this.pendingTextPaths,mt=this.ctx;if(pt===void 0){mt.beginPath();return}mt.save(),mt.beginPath();for(const vt of pt)mt.setTransform(...vt.transform),mt.translate(vt.x,vt.y),vt.addToPath(mt,vt.fontSize);mt.restore(),mt.clip(),mt.beginPath(),delete this.pendingTextPaths}setCharSpacing(pt){this.current.charSpacing=pt}setWordSpacing(pt){this.current.wordSpacing=pt}setHScale(pt){this.current.textHScale=pt/100}setLeading(pt){this.current.leading=-pt}setFont(pt,mt){var Jt;const vt=this.commonObjs.get(pt),At=this.current;if(!vt)throw new Error(`Can't find font for ${pt}`);if(At.fontMatrix=vt.fontMatrix||o.FONT_IDENTITY_MATRIX,(At.fontMatrix[0]===0||At.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+pt),mt<0?(mt=-mt,At.fontDirection=-1):At.fontDirection=1,this.current.font=vt,this.current.fontSize=mt,vt.isType3Font)return;const jt=vt.loadedName||"sans-serif",Dt=((Jt=vt.systemFontInfo)==null?void 0:Jt.css)||`"${jt}", ${vt.fallbackName}`;let Vt="normal";vt.black?Vt="900":vt.bold&&(Vt="bold");const Wt=vt.italic?"italic":"normal";let Qt=mt;mt<h?Qt=h:mt>g&&(Qt=g),this.current.fontSizeScale=mt/Qt,this.ctx.font=`${Wt} ${Vt} ${Qt}px ${Dt}`}setTextRenderingMode(pt){this.current.textRenderingMode=pt}setTextRise(pt){this.current.textRise=pt}moveText(pt,mt){this.current.x=this.current.lineX+=pt,this.current.y=this.current.lineY+=mt}setLeadingMoveText(pt,mt){this.setLeading(-mt),this.moveText(pt,mt)}setTextMatrix(pt,mt,vt,At,jt,Dt){this.current.textMatrix=[pt,mt,vt,At,jt,Dt],this.current.textMatrixScale=Math.hypot(pt,mt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(pt,mt,vt,At){const jt=this.ctx,Dt=this.current,Vt=Dt.font,Wt=Dt.textRenderingMode,Qt=Dt.fontSize/Dt.fontSizeScale,Jt=Wt&o.TextRenderingMode.FILL_STROKE_MASK,on=!!(Wt&o.TextRenderingMode.ADD_TO_PATH_FLAG),rn=Dt.patternFill&&!Vt.missingFile;let Gt;(Vt.disableFontFace||on||rn)&&(Gt=Vt.getPathGenerator(this.commonObjs,pt)),Vt.disableFontFace||rn?(jt.save(),jt.translate(mt,vt),jt.beginPath(),Gt(jt,Qt),At&&jt.setTransform(...At),(Jt===o.TextRenderingMode.FILL||Jt===o.TextRenderingMode.FILL_STROKE)&&jt.fill(),(Jt===o.TextRenderingMode.STROKE||Jt===o.TextRenderingMode.FILL_STROKE)&&jt.stroke(),jt.restore()):((Jt===o.TextRenderingMode.FILL||Jt===o.TextRenderingMode.FILL_STROKE)&&jt.fillText(pt,mt,vt),(Jt===o.TextRenderingMode.STROKE||Jt===o.TextRenderingMode.FILL_STROKE)&&jt.strokeText(pt,mt,vt)),on&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(jt),x:mt,y:vt,fontSize:Qt,addToPath:Gt})}get isFontSubpixelAAEnabled(){const{context:pt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);pt.scale(1.5,1),pt.fillText("I",0,10);const mt=pt.getImageData(0,0,10,10).data;let vt=!1;for(let At=3;At<mt.length;At+=4)if(mt[At]>0&&mt[At]<255){vt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",vt)}showText(pt){const mt=this.current,vt=mt.font;if(vt.isType3Font)return this.showType3Text(pt);const At=mt.fontSize;if(At===0)return;const jt=this.ctx,Dt=mt.fontSizeScale,Vt=mt.charSpacing,Wt=mt.wordSpacing,Qt=mt.fontDirection,Jt=mt.textHScale*Qt,on=pt.length,rn=vt.vertical,Gt=rn?1:-1,Ft=vt.defaultVMetrics,Bt=At*mt.fontMatrix[0],Et=mt.textRenderingMode===o.TextRenderingMode.FILL&&!vt.disableFontFace&&!mt.patternFill;jt.save(),jt.transform(...mt.textMatrix),jt.translate(mt.x,mt.y+mt.textRise),Qt>0?jt.scale(Jt,-1):jt.scale(Jt,1);let _t;if(mt.patternFill){jt.save();const ln=mt.fillColor.getPattern(jt,this,(0,a.getCurrentTransformInverse)(jt),c.PathType.FILL);_t=(0,a.getCurrentTransform)(jt),jt.restore(),jt.fillStyle=ln}let $t=mt.lineWidth;const Ht=mt.textMatrixScale;if(Ht===0||$t===0){const ln=mt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(ln===o.TextRenderingMode.STROKE||ln===o.TextRenderingMode.FILL_STROKE)&&($t=this.getSinglePixelWidth())}else $t/=Ht;if(Dt!==1&&(jt.scale(Dt,Dt),$t/=Dt),jt.lineWidth=$t,vt.isInvalidPDFjsFont){const ln=[];let Ut=0;for(const fn of pt)ln.push(fn.unicode),Ut+=fn.width;jt.fillText(ln.join(""),0,0),mt.x+=Ut*Bt*Jt,jt.restore(),this.compose();return}let nn=0,dn;for(dn=0;dn<on;++dn){const ln=pt[dn];if(typeof ln=="number"){nn+=Gt*ln*At/1e3;continue}let Ut=!1;const fn=(ln.isSpace?Wt:0)+Vt,pn=ln.fontChar,Pn=ln.accent;let jn,Dn,vn=ln.width;if(rn){const kn=ln.vmetric||Ft,In=-(ln.vmetric?kn[1]:vn*.5)*Bt,un=kn[2]*Bt;vn=kn?-kn[0]:vn,jn=In/Dt,Dn=(nn+un)/Dt}else jn=nn/Dt,Dn=0;if(vt.remeasure&&vn>0){const kn=jt.measureText(pn).width*1e3/At*Dt;if(vn<kn&&this.isFontSubpixelAAEnabled){const In=vn/kn;Ut=!0,jt.save(),jt.scale(In,1),jn/=In}else vn!==kn&&(jn+=(vn-kn)/2e3*At/Dt)}if(this.contentVisible&&(ln.isInFont||vt.missingFile)){if(Et&&!Pn)jt.fillText(pn,jn,Dn);else if(this.paintChar(pn,jn,Dn,_t),Pn){const kn=jn+At*Pn.offset.x/Dt,In=Dn-At*Pn.offset.y/Dt;this.paintChar(Pn.fontChar,kn,In,_t)}}const Rn=rn?vn*Bt-fn*Qt:vn*Bt+fn*Qt;nn+=Rn,Ut&&jt.restore()}rn?mt.y-=nn:mt.x+=nn*Jt,jt.restore(),this.compose()}showType3Text(pt){const mt=this.ctx,vt=this.current,At=vt.font,jt=vt.fontSize,Dt=vt.fontDirection,Vt=At.vertical?1:-1,Wt=vt.charSpacing,Qt=vt.wordSpacing,Jt=vt.textHScale*Dt,on=vt.fontMatrix||o.FONT_IDENTITY_MATRIX,rn=pt.length,Gt=vt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Ft,Bt,Et,_t;if(!(Gt||jt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,mt.save(),mt.transform(...vt.textMatrix),mt.translate(vt.x,vt.y),mt.scale(Jt,Dt),Ft=0;Ft<rn;++Ft){if(Bt=pt[Ft],typeof Bt=="number"){_t=Vt*Bt*jt/1e3,this.ctx.translate(_t,0),vt.x+=_t*Jt;continue}const $t=(Bt.isSpace?Qt:0)+Wt,Ht=At.charProcOperatorList[Bt.operatorListId];if(!Ht){(0,o.warn)(`Type3 character "${Bt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Bt,this.save(),mt.scale(jt,jt),mt.transform(...on),this.executeOperatorList(Ht),this.restore()),Et=o.Util.applyTransform([Bt.width,0],on)[0]*jt+$t,mt.translate(Et,0),vt.x+=Et*Jt}mt.restore(),this.processingType3=null}}setCharWidth(pt,mt){}setCharWidthAndBounds(pt,mt,vt,At,jt,Dt){this.ctx.rect(vt,At,jt-vt,Dt-At),this.ctx.clip(),this.endPath()}getColorN_Pattern(pt){let mt;if(pt[0]==="TilingPattern"){const vt=pt[1],At=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),jt={createCanvasGraphics:Dt=>new It(Dt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};mt=new c.TilingPattern(pt,vt,this.ctx,jt,At)}else mt=this._getPattern(pt[1],pt[2]);return mt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(pt,mt,vt){const At=o.Util.makeHexColor(pt,mt,vt);this.ctx.strokeStyle=At,this.current.strokeColor=At}setFillRGBColor(pt,mt,vt){const At=o.Util.makeHexColor(pt,mt,vt);this.ctx.fillStyle=At,this.current.fillColor=At,this.current.patternFill=!1}_getPattern(pt,mt=null){let vt;return this.cachedPatterns.has(pt)?vt=this.cachedPatterns.get(pt):(vt=(0,c.getShadingPattern)(this.getObject(pt)),this.cachedPatterns.set(pt,vt)),mt&&(vt.matrix=mt),vt}shadingFill(pt){if(!this.contentVisible)return;const mt=this.ctx;this.save();const vt=this._getPattern(pt);mt.fillStyle=vt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.SHADING);const At=(0,a.getCurrentTransformInverse)(mt);if(At){const{width:jt,height:Dt}=mt.canvas,[Vt,Wt,Qt,Jt]=o.Util.getAxialAlignedBoundingBox([0,0,jt,Dt],At);this.ctx.fillRect(Vt,Wt,Qt-Vt,Jt-Wt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(pt,mt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(pt)&&pt.length===6&&this.transform(...pt),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),mt)){const vt=mt[2]-mt[0],At=mt[3]-mt[1];this.ctx.rect(mt[0],mt[1],vt,At),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),mt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(pt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const mt=this.ctx;pt.isolated||(0,o.info)("TODO: Support non-isolated groups."),pt.knockout&&(0,o.warn)("Knockout groups not supported.");const vt=(0,a.getCurrentTransform)(mt);if(pt.matrix&&mt.transform(...pt.matrix),!pt.bbox)throw new Error("Bounding box is required.");let At=o.Util.getAxialAlignedBoundingBox(pt.bbox,(0,a.getCurrentTransform)(mt));const jt=[0,0,mt.canvas.width,mt.canvas.height];At=o.Util.intersect(At,jt)||[0,0,0,0];const Dt=Math.floor(At[0]),Vt=Math.floor(At[1]);let Wt=Math.max(Math.ceil(At[2])-Dt,1),Qt=Math.max(Math.ceil(At[3])-Vt,1),Jt=1,on=1;Wt>b&&(Jt=Wt/b,Wt=b),Qt>b&&(on=Qt/b,Qt=b),this.current.startNewPathAndClipBox([0,0,Wt,Qt]);let rn="groupAt"+this.groupLevel;pt.smask&&(rn+="_smask_"+this.smaskCounter++%2);const Gt=this.cachedCanvases.getCanvas(rn,Wt,Qt),Ft=Gt.context;Ft.scale(1/Jt,1/on),Ft.translate(-Dt,-Vt),Ft.transform(...vt),pt.smask?this.smaskStack.push({canvas:Gt.canvas,context:Ft,offsetX:Dt,offsetY:Vt,scaleX:Jt,scaleY:on,subtype:pt.smask.subtype,backdrop:pt.smask.backdrop,transferMap:pt.smask.transferMap||null,startTransformInverse:null}):(mt.setTransform(1,0,0,1,0,0),mt.translate(Dt,Vt),mt.scale(Jt,on),mt.save()),it(mt,Ft),this.ctx=Ft,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(mt),this.groupLevel++}endGroup(pt){if(!this.contentVisible)return;this.groupLevel--;const mt=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,pt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const At=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...At);const jt=o.Util.getAxialAlignedBoundingBox([0,0,mt.canvas.width,mt.canvas.height],At);this.ctx.drawImage(mt.canvas,0,0),this.ctx.restore(),this.compose(jt)}}beginAnnotation(pt,mt,vt,At,jt){if(zt(this,Tt,Ir).call(this),dt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(mt)&&mt.length===4){const Dt=mt[2]-mt[0],Vt=mt[3]-mt[1];if(jt&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=mt[0],vt[5]-=mt[1],mt=mt.slice(),mt[0]=mt[1]=0,mt[2]=Dt,mt[3]=Vt;const[Wt,Qt]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:Jt}=this,on=Math.ceil(Dt*this.outputScaleX*Jt),rn=Math.ceil(Vt*this.outputScaleY*Jt);this.annotationCanvas=this.canvasFactory.create(on,rn);const{canvas:Gt,context:Ft}=this.annotationCanvas;this.annotationCanvasMap.set(pt,Gt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ft,this.ctx.save(),this.ctx.setTransform(Wt,0,0,-Qt,0,Vt*Qt),dt(this.ctx)}else dt(this.ctx),this.ctx.rect(mt[0],mt[1],Dt,Vt),this.ctx.clip(),this.endPath()}this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...At)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),zt(this,Tt,Fr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(pt){if(!this.contentVisible)return;const mt=pt.count;pt=this.getObject(pt.data,pt),pt.count=mt;const vt=this.ctx,At=this.processingType3;if(At&&(At.compiled===void 0&&(At.compiled=et(pt)),At.compiled)){At.compiled(vt);return}const jt=this._createMaskCanvas(pt),Dt=jt.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Dt,jt.offsetX,jt.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat(pt,mt,vt=0,At=0,jt,Dt){if(!this.contentVisible)return;pt=this.getObject(pt.data,pt);const Vt=this.ctx;Vt.save();const Wt=(0,a.getCurrentTransform)(Vt);Vt.transform(mt,vt,At,jt,0,0);const Qt=this._createMaskCanvas(pt);Vt.setTransform(1,0,0,1,Qt.offsetX-Wt[4],Qt.offsetY-Wt[5]);for(let Jt=0,on=Dt.length;Jt<on;Jt+=2){const rn=o.Util.transform(Wt,[mt,vt,At,jt,Dt[Jt],Dt[Jt+1]]),[Gt,Ft]=o.Util.applyTransform([0,0],rn);Vt.drawImage(Qt.canvas,Gt,Ft)}Vt.restore(),this.compose()}paintImageMaskXObjectGroup(pt){if(!this.contentVisible)return;const mt=this.ctx,vt=this.current.fillColor,At=this.current.patternFill;for(const jt of pt){const{data:Dt,width:Vt,height:Wt,transform:Qt}=jt,Jt=this.cachedCanvases.getCanvas("maskCanvas",Vt,Wt),on=Jt.context;on.save();const rn=this.getObject(Dt,jt);lt(on,rn),on.globalCompositeOperation="source-in",on.fillStyle=At?vt.getPattern(on,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.FILL):vt,on.fillRect(0,0,Vt,Wt),on.restore(),mt.save(),mt.transform(...Qt),mt.scale(1,-1),nt(mt,Jt.canvas,0,0,Vt,Wt,0,-1,1,1),mt.restore()}this.compose()}paintImageXObject(pt){if(!this.contentVisible)return;const mt=this.getObject(pt);if(!mt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(mt)}paintImageXObjectRepeat(pt,mt,vt,At){if(!this.contentVisible)return;const jt=this.getObject(pt);if(!jt){(0,o.warn)("Dependent image isn't ready yet");return}const Dt=jt.width,Vt=jt.height,Wt=[];for(let Qt=0,Jt=At.length;Qt<Jt;Qt+=2)Wt.push({transform:[mt,0,0,vt,At[Qt],At[Qt+1]],x:0,y:0,w:Dt,h:Vt});this.paintInlineImageXObjectGroup(jt,Wt)}applyTransferMapsToCanvas(pt){return this.current.transferMaps!=="none"&&(pt.filter=this.current.transferMaps,pt.drawImage(pt.canvas,0,0),pt.filter="none"),pt.canvas}applyTransferMapsToBitmap(pt){if(this.current.transferMaps==="none")return pt.bitmap;const{bitmap:mt,width:vt,height:At}=pt,jt=this.cachedCanvases.getCanvas("inlineImage",vt,At),Dt=jt.context;return Dt.filter=this.current.transferMaps,Dt.drawImage(mt,0,0),Dt.filter="none",jt.canvas}paintInlineImageXObject(pt){if(!this.contentVisible)return;const mt=pt.width,vt=pt.height,At=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Vt}=At;Vt!=="none"&&Vt!==""&&(At.filter="none")}At.scale(1/mt,-1/vt);let jt;if(pt.bitmap)jt=this.applyTransferMapsToBitmap(pt);else if(typeof HTMLElement=="function"&&pt instanceof HTMLElement||!pt.data)jt=pt;else{const Wt=this.cachedCanvases.getCanvas("inlineImage",mt,vt).context;ot(Wt,pt),jt=this.applyTransferMapsToCanvas(Wt)}const Dt=this._scaleImage(jt,(0,a.getCurrentTransformInverse)(At));At.imageSmoothingEnabled=gt((0,a.getCurrentTransform)(At),pt.interpolate),nt(At,Dt.img,0,0,Dt.paintWidth,Dt.paintHeight,0,-vt,mt,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup(pt,mt){if(!this.contentVisible)return;const vt=this.ctx;let At;if(pt.bitmap)At=pt.bitmap;else{const jt=pt.width,Dt=pt.height,Wt=this.cachedCanvases.getCanvas("inlineImage",jt,Dt).context;ot(Wt,pt),At=this.applyTransferMapsToCanvas(Wt)}for(const jt of mt)vt.save(),vt.transform(...jt.transform),vt.scale(1,-1),nt(vt,At,jt.x,jt.y,jt.w,jt.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(pt){}markPointProps(pt,mt){}beginMarkedContent(pt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(pt,mt){pt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(mt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(pt){const mt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(pt);const vt=this.ctx;this.pendingClip&&(mt||(this.pendingClip===kt?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const pt=(0,a.getCurrentTransform)(this.ctx);if(pt[1]===0&&pt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(pt[0]),Math.abs(pt[3]));else{const mt=Math.abs(pt[0]*pt[3]-pt[2]*pt[1]),vt=Math.hypot(pt[0],pt[2]),At=Math.hypot(pt[1],pt[3]);this._cachedGetSinglePixelWidth=Math.max(vt,At)/mt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:pt}=this.current,{a:mt,b:vt,c:At,d:jt}=this.ctx.getTransform();let Dt,Vt;if(vt===0&&At===0){const Wt=Math.abs(mt),Qt=Math.abs(jt);if(Wt===Qt)if(pt===0)Dt=Vt=1/Wt;else{const Jt=Wt*pt;Dt=Vt=Jt<1?1/Jt:1}else if(pt===0)Dt=1/Wt,Vt=1/Qt;else{const Jt=Wt*pt,on=Qt*pt;Dt=Jt<1?1/Jt:1,Vt=on<1?1/on:1}}else{const Wt=Math.abs(mt*jt-vt*At),Qt=Math.hypot(mt,vt),Jt=Math.hypot(At,jt);if(pt===0)Dt=Jt/Wt,Vt=Qt/Wt;else{const on=pt*Wt;Dt=Jt>on?Jt/on:1,Vt=Qt>on?Qt/on:1}}this._cachedScaleForStroking[0]=Dt,this._cachedScaleForStroking[1]=Vt}return this._cachedScaleForStroking}rescaleAndStroke(pt){const{ctx:mt}=this,{lineWidth:vt}=this.current,[At,jt]=this.getScaleForStroking();if(mt.lineWidth=vt||1,At===1&&jt===1){mt.stroke();return}const Dt=mt.getLineDash();if(pt&&mt.save(),mt.scale(At,jt),Dt.length>0){const Vt=Math.max(At,jt);mt.setLineDash(Dt.map(Wt=>Wt/Vt)),mt.lineDashOffset/=Vt}mt.stroke(),pt&&mt.restore()}isContentVisible(){for(let pt=this.markedContentStack.length-1;pt>=0;pt--)if(!this.markedContentStack[pt].visible)return!1;return!0}};Tt=new WeakSet,Ir=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Fr=function(){if(this.pageColors){const pt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(pt!=="none"){const mt=this.ctx.filter;this.ctx.filter=pt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=mt}}};let Ct=It;s.CanvasGraphics=Ct;for(const bt in o.OPS)Ct.prototype[bt]!==void 0&&(Ct.prototype[o.OPS[bt]]=Ct.prototype[bt])},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=tt;var o=i(1),a=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=c;function d(et,$){if(!$)return;const ot=$[2]-$[0],lt=$[3]-$[1],it=new Path2D;it.rect($[0],$[1],ot,lt),et.clip(it)}class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class g extends h{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ot;this._type==="axial"?ot=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const lt of this._colorStops)ot.addColorStop(lt[0],lt[1]);return ot}getPattern($,ot,lt,it){let dt;if(it===c.STROKE||it===c.FILL){const ct=ot.current.getClippedPathBoundingBox(it,(0,a.getCurrentTransform)($))||[0,0,0,0],ut=Math.ceil(ct[2]-ct[0])||1,ft=Math.ceil(ct[3]-ct[1])||1,yt=ot.cachedCanvases.getCanvas("pattern",ut,ft,!0),ht=yt.context;ht.clearRect(0,0,ht.canvas.width,ht.canvas.height),ht.beginPath(),ht.rect(0,0,ht.canvas.width,ht.canvas.height),ht.translate(-ct[0],-ct[1]),lt=o.Util.transform(lt,[1,0,0,1,ct[0],ct[1]]),ht.transform(...ot.baseTransform),this.matrix&&ht.transform(...this.matrix),d(ht,this._bbox),ht.fillStyle=this._createGradient(ht),ht.fill(),dt=$.createPattern(yt.canvas,"no-repeat");const gt=new DOMMatrix(lt);dt.setTransform(gt)}else d($,this._bbox),dt=this._createGradient($);return dt}}function b(et,$,ot,lt,it,dt,ct,ut){const ft=$.coords,yt=$.colors,ht=et.data,gt=et.width*4;let St;ft[ot+1]>ft[lt+1]&&(St=ot,ot=lt,lt=St,St=dt,dt=ct,ct=St),ft[lt+1]>ft[it+1]&&(St=lt,lt=it,it=St,St=ct,ct=ut,ut=St),ft[ot+1]>ft[lt+1]&&(St=ot,ot=lt,lt=St,St=dt,dt=ct,ct=St);const Nt=(ft[ot]+$.offsetX)*$.scaleX,Lt=(ft[ot+1]+$.offsetY)*$.scaleY,kt=(ft[lt]+$.offsetX)*$.scaleX,Ct=(ft[lt+1]+$.offsetY)*$.scaleY,Tt=(ft[it]+$.offsetX)*$.scaleX,xt=(ft[it+1]+$.offsetY)*$.scaleY;if(Lt>=xt)return;const Rt=yt[dt],It=yt[dt+1],bt=yt[dt+2],pt=yt[ct],mt=yt[ct+1],vt=yt[ct+2],At=yt[ut],jt=yt[ut+1],Dt=yt[ut+2],Vt=Math.round(Lt),Wt=Math.round(xt);let Qt,Jt,on,rn,Gt,Ft,Bt,Et;for(let _t=Vt;_t<=Wt;_t++){if(_t<Ct){const ln=_t<Lt?0:(Lt-_t)/(Lt-Ct);Qt=Nt-(Nt-kt)*ln,Jt=Rt-(Rt-pt)*ln,on=It-(It-mt)*ln,rn=bt-(bt-vt)*ln}else{let ln;_t>xt?ln=1:Ct===xt?ln=0:ln=(Ct-_t)/(Ct-xt),Qt=kt-(kt-Tt)*ln,Jt=pt-(pt-At)*ln,on=mt-(mt-jt)*ln,rn=vt-(vt-Dt)*ln}let $t;_t<Lt?$t=0:_t>xt?$t=1:$t=(Lt-_t)/(Lt-xt),Gt=Nt-(Nt-Tt)*$t,Ft=Rt-(Rt-At)*$t,Bt=It-(It-jt)*$t,Et=bt-(bt-Dt)*$t;const Ht=Math.round(Math.min(Qt,Gt)),nn=Math.round(Math.max(Qt,Gt));let dn=gt*_t+Ht*4;for(let ln=Ht;ln<=nn;ln++)$t=(Qt-ln)/(Qt-Gt),$t<0?$t=0:$t>1&&($t=1),ht[dn++]=Jt-(Jt-Ft)*$t|0,ht[dn++]=on-(on-Bt)*$t|0,ht[dn++]=rn-(rn-Et)*$t|0,ht[dn++]=255}}function j(et,$,ot){const lt=$.coords,it=$.colors;let dt,ct;switch($.type){case"lattice":const ut=$.verticesPerRow,ft=Math.floor(lt.length/ut)-1,yt=ut-1;for(dt=0;dt<ft;dt++){let ht=dt*ut;for(let gt=0;gt<yt;gt++,ht++)b(et,ot,lt[ht],lt[ht+1],lt[ht+ut],it[ht],it[ht+1],it[ht+ut]),b(et,ot,lt[ht+ut+1],lt[ht+1],lt[ht+ut],it[ht+ut+1],it[ht+1],it[ht+ut])}break;case"triangles":for(dt=0,ct=lt.length;dt<ct;dt+=3)b(et,ot,lt[dt],lt[dt+1],lt[dt+2],it[dt],it[dt+1],it[dt+2]);break;default:throw new Error("illegal figure")}}class _ extends h{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ot,lt){const ut=Math.floor(this._bounds[0]),ft=Math.floor(this._bounds[1]),yt=Math.ceil(this._bounds[2])-ut,ht=Math.ceil(this._bounds[3])-ft,gt=Math.min(Math.ceil(Math.abs(yt*$[0]*1.1)),3e3),St=Math.min(Math.ceil(Math.abs(ht*$[1]*1.1)),3e3),Nt=yt/gt,Lt=ht/St,kt={coords:this._coords,colors:this._colors,offsetX:-ut,offsetY:-ft,scaleX:1/Nt,scaleY:1/Lt},Ct=gt+2*2,Tt=St+2*2,xt=lt.getCanvas("mesh",Ct,Tt,!1),Rt=xt.context,It=Rt.createImageData(gt,St);if(ot){const pt=It.data;for(let mt=0,vt=pt.length;mt<vt;mt+=4)pt[mt]=ot[0],pt[mt+1]=ot[1],pt[mt+2]=ot[2],pt[mt+3]=255}for(const pt of this._figures)j(It,pt,kt);return Rt.putImageData(It,2,2),{canvas:xt.canvas,offsetX:ut-2*Nt,offsetY:ft-2*Lt,scaleX:Nt,scaleY:Lt}}getPattern($,ot,lt,it){d($,this._bbox);let dt;if(it===c.SHADING)dt=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)($));else if(dt=o.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const ut=o.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*ut[0],dt[1]*ut[1]]}const ct=this._createMeshCanvas(dt,it===c.SHADING?null:this._background,ot.cachedCanvases);return it!==c.SHADING&&($.setTransform(...ot.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(ct.offsetX,ct.offsetY),$.scale(ct.scaleX,ct.scaleY),$.createPattern(ct.canvas,"no-repeat")}}class _e extends h{getPattern(){return"hotpink"}}function tt(et){switch(et[0]){case"RadialAxial":return new g(et);case"Mesh":return new _(et);case"Dummy":return new _e}throw new Error(`Unknown IR type: ${et[0]}`)}const rt={COLORED:1,UNCOLORED:2},nt=class nt{constructor($,ot,lt,it,dt){this.operatorList=$[2],this.matrix=$[3]||[1,0,0,1,0,0],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ot,this.ctx=lt,this.canvasGraphicsFactory=it,this.baseTransform=dt}createPatternCanvas($){const ot=this.operatorList,lt=this.bbox,it=this.xstep,dt=this.ystep,ct=this.paintType,ut=this.tilingType,ft=this.color,yt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+ut);const ht=lt[0],gt=lt[1],St=lt[2],Nt=lt[3],Lt=o.Util.singularValueDecompose2dScale(this.matrix),kt=o.Util.singularValueDecompose2dScale(this.baseTransform),Ct=[Lt[0]*kt[0],Lt[1]*kt[1]],Tt=this.getSizeAndScale(it,this.ctx.canvas.width,Ct[0]),xt=this.getSizeAndScale(dt,this.ctx.canvas.height,Ct[1]),Rt=$.cachedCanvases.getCanvas("pattern",Tt.size,xt.size,!0),It=Rt.context,bt=yt.createCanvasGraphics(It);bt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(bt,ct,ft);let pt=ht,mt=gt,vt=St,At=Nt;return ht<0&&(pt=0,vt+=Math.abs(ht)),gt<0&&(mt=0,At+=Math.abs(gt)),It.translate(-(Tt.scale*pt),-(xt.scale*mt)),bt.transform(Tt.scale,0,0,xt.scale,0,0),It.save(),this.clipBbox(bt,pt,mt,vt,At),bt.baseTransform=(0,a.getCurrentTransform)(bt.ctx),bt.executeOperatorList(ot),bt.endDrawing(),{canvas:Rt.canvas,scaleX:Tt.scale,scaleY:xt.scale,offsetX:pt,offsetY:mt}}getSizeAndScale($,ot,lt){$=Math.abs($);const it=Math.max(nt.MAX_PATTERN_SIZE,ot);let dt=Math.ceil($*lt);return dt>=it?dt=it:lt=dt/$,{scale:lt,size:dt}}clipBbox($,ot,lt,it,dt){const ct=it-ot,ut=dt-lt;$.ctx.rect(ot,lt,ct,ut),$.current.updateRectMinMax((0,a.getCurrentTransform)($.ctx),[ot,lt,it,dt]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ot,lt){const it=$.ctx,dt=$.current;switch(ot){case rt.COLORED:const ct=this.ctx;it.fillStyle=ct.fillStyle,it.strokeStyle=ct.strokeStyle,dt.fillColor=ct.fillStyle,dt.strokeColor=ct.strokeStyle;break;case rt.UNCOLORED:const ut=o.Util.makeHexColor(lt[0],lt[1],lt[2]);it.fillStyle=ut,it.strokeStyle=ut,dt.fillColor=ut,dt.strokeColor=ut;break;default:throw new o.FormatError(`Unsupported paint type: ${ot}`)}}getPattern($,ot,lt,it){let dt=lt;it!==c.SHADING&&(dt=o.Util.transform(dt,ot.baseTransform),this.matrix&&(dt=o.Util.transform(dt,this.matrix)));const ct=this.createPatternCanvas(ot);let ut=new DOMMatrix(dt);ut=ut.translate(ct.offsetX,ct.offsetY),ut=ut.scale(1/ct.scaleX,1/ct.scaleY);const ft=$.createPattern(ct.canvas,"repeat");return ft.setTransform(ut),ft}};Vn(nt,"MAX_PATTERN_SIZE",3e3);let st=nt;s.TilingPattern=st},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=c,s.convertToRGBA=a,s.grayToRGBA=h;var o=i(1);function a(g){switch(g.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(g);case o.ImageKind.RGB_24BPP:return d(g)}return null}function c({src:g,srcPos:b=0,dest:j,width:_,height:_e,nonBlackColor:tt=4294967295,inverseDecode:rt=!1}){const st=o.FeatureTest.isLittleEndian?4278190080:255,[nt,et]=rt?[tt,st]:[st,tt],$=_>>3,ot=_&7,lt=g.length;j=new Uint32Array(j.buffer);let it=0;for(let dt=0;dt<_e;dt++){for(const ut=b+$;b<ut;b++){const ft=b<lt?g[b]:255;j[it++]=ft&128?et:nt,j[it++]=ft&64?et:nt,j[it++]=ft&32?et:nt,j[it++]=ft&16?et:nt,j[it++]=ft&8?et:nt,j[it++]=ft&4?et:nt,j[it++]=ft&2?et:nt,j[it++]=ft&1?et:nt}if(ot===0)continue;const ct=b<lt?g[b++]:255;for(let ut=0;ut<ot;ut++)j[it++]=ct&1<<7-ut?et:nt}return{srcPos:b,destPos:it}}function d({src:g,srcPos:b=0,dest:j,destPos:_=0,width:_e,height:tt}){let rt=0;const st=g.length>>2,nt=new Uint32Array(g.buffer,b,st);if(o.FeatureTest.isLittleEndian){for(;rt<st-2;rt+=3,_+=4){const et=nt[rt],$=nt[rt+1],ot=nt[rt+2];j[_]=et|4278190080,j[_+1]=et>>>24|$<<8|4278190080,j[_+2]=$>>>16|ot<<16|4278190080,j[_+3]=ot>>>8|4278190080}for(let et=rt*4,$=g.length;et<$;et+=3)j[_++]=g[et]|g[et+1]<<8|g[et+2]<<16|4278190080}else{for(;rt<st-2;rt+=3,_+=4){const et=nt[rt],$=nt[rt+1],ot=nt[rt+2];j[_]=et|255,j[_+1]=et<<24|$>>>8|255,j[_+2]=$<<16|ot>>>16|255,j[_+3]=ot<<8|255}for(let et=rt*4,$=g.length;et<$;et+=3)j[_++]=g[et]<<24|g[et+1]<<16|g[et+2]<<8|255}return{srcPos:b,destPos:_}}function h(g,b){if(o.FeatureTest.isLittleEndian)for(let j=0,_=g.length;j<_;j++)b[j]=g[j]*65793|4278190080;else for(let j=0,_=g.length;j<_;j++)b[j]=g[j]*16843008|255}},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const i=Object.create(null);s.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,s,i)=>{var g,fs,ms,hr;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var o=i(1);const a={DATA:1,ERROR:2},c={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new o.AbortException(_e.message);case"MissingPDFException":return new o.MissingPDFException(_e.message);case"PasswordException":return new o.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new o.UnknownErrorException(_e.message,_e.details);default:return new o.UnknownErrorException(_e.message,_e.toString())}}class h{constructor(tt,rt,st){Kt(this,g);this.sourceName=tt,this.targetName=rt,this.comObj=st,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=nt=>{const et=nt.data;if(et.targetName!==this.sourceName)return;if(et.stream){zt(this,g,ms).call(this,et);return}if(et.callback){const ot=et.callbackId,lt=this.callbackCapabilities[ot];if(!lt)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],et.callback===a.DATA)lt.resolve(et.data);else if(et.callback===a.ERROR)lt.reject(d(et.reason));else throw new Error("Unexpected callback case");return}const $=this.actionHandler[et.action];if(!$)throw new Error(`Unknown action from worker: ${et.action}`);if(et.callbackId){const ot=this.sourceName,lt=et.sourceName;new Promise(function(it){it($(et.data))}).then(function(it){st.postMessage({sourceName:ot,targetName:lt,callback:a.DATA,callbackId:et.callbackId,data:it})},function(it){st.postMessage({sourceName:ot,targetName:lt,callback:a.ERROR,callbackId:et.callbackId,reason:d(it)})});return}if(et.streamId){zt(this,g,fs).call(this,et);return}$(et.data)},st.addEventListener("message",this._onComObjOnMessage)}on(tt,rt){const st=this.actionHandler;if(st[tt])throw new Error(`There is already an actionName called "${tt}"`);st[tt]=rt}send(tt,rt,st){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,data:rt},st)}sendWithPromise(tt,rt,st){const nt=this.callbackId++,et=new o.PromiseCapability;this.callbackCapabilities[nt]=et;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,callbackId:nt,data:rt},st)}catch($){et.reject($)}return et.promise}sendWithStream(tt,rt,st,nt){const et=this.streamId++,$=this.sourceName,ot=this.targetName,lt=this.comObj;return new ReadableStream({start:it=>{const dt=new o.PromiseCapability;return this.streamControllers[et]={controller:it,startCall:dt,pullCall:null,cancelCall:null,isClosed:!1},lt.postMessage({sourceName:$,targetName:ot,action:tt,streamId:et,data:rt,desiredSize:it.desiredSize},nt),dt.promise},pull:it=>{const dt=new o.PromiseCapability;return this.streamControllers[et].pullCall=dt,lt.postMessage({sourceName:$,targetName:ot,stream:c.PULL,streamId:et,desiredSize:it.desiredSize}),dt.promise},cancel:it=>{(0,o.assert)(it instanceof Error,"cancel must have a valid reason");const dt=new o.PromiseCapability;return this.streamControllers[et].cancelCall=dt,this.streamControllers[et].isClosed=!0,lt.postMessage({sourceName:$,targetName:ot,stream:c.CANCEL,streamId:et,reason:d(it)}),dt.promise}},st)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g=new WeakSet,fs=function(tt){const rt=tt.streamId,st=this.sourceName,nt=tt.sourceName,et=this.comObj,$=this,ot=this.actionHandler[tt.action],lt={enqueue(it,dt=1,ct){if(this.isCancelled)return;const ut=this.desiredSize;this.desiredSize-=dt,ut>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),et.postMessage({sourceName:st,targetName:nt,stream:c.ENQUEUE,streamId:rt,chunk:it},ct)},close(){this.isCancelled||(this.isCancelled=!0,et.postMessage({sourceName:st,targetName:nt,stream:c.CLOSE,streamId:rt}),delete $.streamSinks[rt])},error(it){(0,o.assert)(it instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,et.postMessage({sourceName:st,targetName:nt,stream:c.ERROR,streamId:rt,reason:d(it)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:tt.desiredSize,ready:null};lt.sinkCapability.resolve(),lt.ready=lt.sinkCapability.promise,this.streamSinks[rt]=lt,new Promise(function(it){it(ot(tt.data,lt))}).then(function(){et.postMessage({sourceName:st,targetName:nt,stream:c.START_COMPLETE,streamId:rt,success:!0})},function(it){et.postMessage({sourceName:st,targetName:nt,stream:c.START_COMPLETE,streamId:rt,reason:d(it)})})},ms=function(tt){const rt=tt.streamId,st=this.sourceName,nt=tt.sourceName,et=this.comObj,$=this.streamControllers[rt],ot=this.streamSinks[rt];switch(tt.stream){case c.START_COMPLETE:tt.success?$.startCall.resolve():$.startCall.reject(d(tt.reason));break;case c.PULL_COMPLETE:tt.success?$.pullCall.resolve():$.pullCall.reject(d(tt.reason));break;case c.PULL:if(!ot){et.postMessage({sourceName:st,targetName:nt,stream:c.PULL_COMPLETE,streamId:rt,success:!0});break}ot.desiredSize<=0&&tt.desiredSize>0&&ot.sinkCapability.resolve(),ot.desiredSize=tt.desiredSize,new Promise(function(lt){var it;lt((it=ot.onPull)==null?void 0:it.call(ot))}).then(function(){et.postMessage({sourceName:st,targetName:nt,stream:c.PULL_COMPLETE,streamId:rt,success:!0})},function(lt){et.postMessage({sourceName:st,targetName:nt,stream:c.PULL_COMPLETE,streamId:rt,reason:d(lt)})});break;case c.ENQUEUE:if((0,o.assert)($,"enqueue should have stream controller"),$.isClosed)break;$.controller.enqueue(tt.chunk);break;case c.CLOSE:if((0,o.assert)($,"close should have stream controller"),$.isClosed)break;$.isClosed=!0,$.controller.close(),zt(this,g,hr).call(this,$,rt);break;case c.ERROR:(0,o.assert)($,"error should have stream controller"),$.controller.error(d(tt.reason)),zt(this,g,hr).call(this,$,rt);break;case c.CANCEL_COMPLETE:tt.success?$.cancelCall.resolve():$.cancelCall.reject(d(tt.reason)),zt(this,g,hr).call(this,$,rt);break;case c.CANCEL:if(!ot)break;new Promise(function(lt){var it;lt((it=ot.onCancel)==null?void 0:it.call(ot,d(tt.reason)))}).then(function(){et.postMessage({sourceName:st,targetName:nt,stream:c.CANCEL_COMPLETE,streamId:rt,success:!0})},function(lt){et.postMessage({sourceName:st,targetName:nt,stream:c.CANCEL_COMPLETE,streamId:rt,reason:d(lt)})}),ot.sinkCapability.reject(d(tt.reason)),ot.isCancelled=!0,delete this.streamSinks[rt];break;default:throw new Error("Unexpected stream case")}},hr=async function(tt,rt){var st,nt,et;await Promise.allSettled([(st=tt.startCall)==null?void 0:st.promise,(nt=tt.pullCall)==null?void 0:nt.promise,(et=tt.cancelCall)==null?void 0:et.promise]),delete this.streamControllers[rt]},s.MessageHandler=h},(e,s,i)=>{var c,d;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var o=i(1);class a{constructor({parsedData:g,rawData:b}){Kt(this,c);Kt(this,d);Xt(this,c,g),Xt(this,d,b)}getRaw(){return at(this,d)}get(g){return at(this,c).get(g)??null}getAll(){return(0,o.objectFromMap)(at(this,c))}has(g){return at(this,c).has(g)}}c=new WeakMap,d=new WeakMap,s.Metadata=a},(e,s,i)=>{var g,b,j,_,_e,tt,Or;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var o=i(1),a=i(8);const c=Symbol("INTERNAL");class d{constructor(nt,et){Kt(this,g,!0);this.name=nt,this.intent=et}get visible(){return at(this,g)}_setVisible(nt,et){nt!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),Xt(this,g,et)}}g=new WeakMap;class h{constructor(nt){Kt(this,tt);Kt(this,b,null);Kt(this,j,new Map);Kt(this,_,null);Kt(this,_e,null);if(this.name=null,this.creator=null,nt!==null){this.name=nt.name,this.creator=nt.creator,Xt(this,_e,nt.order);for(const et of nt.groups)at(this,j).set(et.id,new d(et.name,et.intent));if(nt.baseState==="OFF")for(const et of at(this,j).values())et._setVisible(c,!1);for(const et of nt.on)at(this,j).get(et)._setVisible(c,!0);for(const et of nt.off)at(this,j).get(et)._setVisible(c,!1);Xt(this,_,this.getHash())}}isVisible(nt){if(at(this,j).size===0)return!0;if(!nt)return(0,o.warn)("Optional content group not defined."),!0;if(nt.type==="OCG")return at(this,j).has(nt.id)?at(this,j).get(nt.id).visible:((0,o.warn)(`Optional content group not found: ${nt.id}`),!0);if(nt.type==="OCMD"){if(nt.expression)return zt(this,tt,Or).call(this,nt.expression);if(!nt.policy||nt.policy==="AnyOn"){for(const et of nt.ids){if(!at(this,j).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(at(this,j).get(et).visible)return!0}return!1}else if(nt.policy==="AllOn"){for(const et of nt.ids){if(!at(this,j).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!at(this,j).get(et).visible)return!1}return!0}else if(nt.policy==="AnyOff"){for(const et of nt.ids){if(!at(this,j).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!at(this,j).get(et).visible)return!0}return!1}else if(nt.policy==="AllOff"){for(const et of nt.ids){if(!at(this,j).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(at(this,j).get(et).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${nt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${nt.type}.`),!0}setVisibility(nt,et=!0){if(!at(this,j).has(nt)){(0,o.warn)(`Optional content group not found: ${nt}`);return}at(this,j).get(nt)._setVisible(c,!!et),Xt(this,b,null)}get hasInitialVisibility(){return at(this,_)===null||this.getHash()===at(this,_)}getOrder(){return at(this,j).size?at(this,_e)?at(this,_e).slice():[...at(this,j).keys()]:null}getGroups(){return at(this,j).size>0?(0,o.objectFromMap)(at(this,j)):null}getGroup(nt){return at(this,j).get(nt)||null}getHash(){if(at(this,b)!==null)return at(this,b);const nt=new a.MurmurHash3_64;for(const[et,$]of at(this,j))nt.update(`${et}:${$.visible}`);return Xt(this,b,nt.hexdigest())}}b=new WeakMap,j=new WeakMap,_=new WeakMap,_e=new WeakMap,tt=new WeakSet,Or=function(nt){const et=nt.length;if(et<2)return!0;const $=nt[0];for(let ot=1;ot<et;ot++){const lt=nt[ot];let it;if(Array.isArray(lt))it=zt(this,tt,Or).call(this,lt);else if(at(this,j).has(lt))it=at(this,j).get(lt).visible;else return(0,o.warn)(`Optional content group not found: ${lt}`),!0;switch($){case"And":if(!it)return!1;break;case"Or":if(it)return!0;break;case"Not":return!it;default:return!0}}return $==="And"},s.OptionalContentConfig=h},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var o=i(1),a=i(6);class c{constructor({length:b,initialData:j,progressiveDone:_=!1,contentDispositionFilename:_e=null,disableRange:tt=!1,disableStream:rt=!1},st){if((0,o.assert)(st,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_,this._contentDispositionFilename=_e,(j==null?void 0:j.length)>0){const nt=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;this._queuedChunks.push(nt)}this._pdfDataRangeTransport=st,this._isStreamingSupported=!rt,this._isRangeSupported=!tt,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((nt,et)=>{this._onReceiveData({begin:nt,chunk:et})}),this._pdfDataRangeTransport.addProgressListener((nt,et)=>{this._onProgress({loaded:nt,total:et})}),this._pdfDataRangeTransport.addProgressiveReadListener(nt=>{this._onReceiveData({chunk:nt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:j}){const _=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_):this._queuedChunks.push(_);else{const _e=this._rangeReaders.some(function(tt){return tt._begin!==b?!1:(tt._enqueue(_),!0)});(0,o.assert)(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var j,_,_e,tt;b.total===void 0?(_=(j=this._rangeReaders[0])==null?void 0:j.onProgress)==null||_.call(j,{loaded:b.loaded}):(tt=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||tt.call(_e,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const j=this._rangeReaders.indexOf(b);j>=0&&this._rangeReaders.splice(j,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,j){if(j<=this._progressiveDataLength)return null;const _=new h(this,b,j);return this._pdfDataRangeTransport.requestDataRange(b,j),this._rangeReaders.push(_),_}cancelAllRequests(b){var j;(j=this._fullRequestReader)==null||j.cancel(b);for(const _ of this._rangeReaders.slice(0))_.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=c;class d{constructor(b,j,_=!1,_e=null){this._stream=b,this._done=_||!1,this._filename=(0,a.isPdfFile)(_e)?_e:null,this._queuedChunks=j||[],this._loaded=0;for(const tt of this._queuedChunks)this._loaded+=tt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(b,j,_){this._stream=b,this._begin=j,this._end=_,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const j=this._queuedChunk;return this._queuedChunk=null,{value:j,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var o=i(1),a=i(20);function c(_,_e,tt){return{method:"GET",headers:_,signal:tt.signal,mode:"cors",credentials:_e?"include":"same-origin",redirect:"follow"}}function d(_){const _e=new Headers;for(const tt in _){const rt=_[tt];rt!==void 0&&_e.append(tt,rt)}return _e}function h(_){return _ instanceof Uint8Array?_.buffer:_ instanceof ArrayBuffer?_:((0,o.warn)(`getArrayBuffer - unexpected data format: ${_}`),new Uint8Array(_).buffer)}class g{constructor(_e){this.source=_e,this.isHttp=/^https?:/i.test(_e.url),this.httpHeaders=this.isHttp&&_e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(_e,tt){if(tt<=this._progressiveDataLength)return null;const rt=new j(this,_e,tt);return this._rangeRequestReaders.push(rt),rt}cancelAllRequests(_e){var tt;(tt=this._fullRequestReader)==null||tt.cancel(_e);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(_e)}}s.PDFFetchStream=g;class b{constructor(_e){this._stream=_e,this._reader=null,this._loaded=0,this._filename=null;const tt=_e.source;this._withCredentials=tt.withCredentials||!1,this._contentLength=tt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._headers=d(this._stream.httpHeaders);const rt=tt.url;fetch(rt,c(this._headers,this._withCredentials,this._abortController)).then(st=>{if(!(0,a.validateResponseStatus)(st.status))throw(0,a.createResponseStatusError)(st.status,rt);this._reader=st.body.getReader(),this._headersCapability.resolve();const nt=ot=>st.headers.get(ot),{allowRangeRequests:et,suggestedLength:$}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:nt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=et,this._contentLength=$||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(nt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._headersCapability.promise;const{value:_e,done:tt}=await this._reader.read();return tt?{value:_e,done:tt}:(this._loaded+=_e.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h(_e),done:!1})}cancel(_e){var tt;(tt=this._reader)==null||tt.cancel(_e),this._abortController.abort()}}class j{constructor(_e,tt,rt){this._stream=_e,this._reader=null,this._loaded=0;const st=_e.source;this._withCredentials=st.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!st.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${tt}-${rt-1}`);const nt=st.url;fetch(nt,c(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!(0,a.validateResponseStatus)(et.status))throw(0,a.createResponseStatusError)(et.status,nt);this._readCapability.resolve(),this._reader=et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._readCapability.promise;const{value:_e,done:tt}=await this._reader.read();return tt?{value:_e,done:tt}:(this._loaded+=_e.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded}),{value:h(_e),done:!1})}cancel(_e){var tt;(tt=this._reader)==null||tt.cancel(_e),this._abortController.abort()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=g,s.extractFilenameFromHeader=h,s.validateRangeRequestCapabilities=d,s.validateResponseStatus=b;var o=i(1),a=i(21),c=i(6);function d({getResponseHeader:j,isHttp:_,rangeChunkSize:_e,disableRange:tt}){const rt={allowRangeRequests:!1,suggestedLength:void 0},st=parseInt(j("Content-Length"),10);return!Number.isInteger(st)||(rt.suggestedLength=st,st<=2*_e)||tt||!_||j("Accept-Ranges")!=="bytes"||(j("Content-Encoding")||"identity")!=="identity"||(rt.allowRangeRequests=!0),rt}function h(j){const _=j("Content-Disposition");if(_){let _e=(0,a.getFilenameFromContentDispositionHeader)(_);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if((0,c.isPdfFile)(_e))return _e}return null}function g(j,_){return j===404||j===0&&_.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+_+'".'):new o.UnexpectedResponseException(`Unexpected server response (${j}) while retrieving PDF "${_}".`,j)}function b(j){return j===200||j===206}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=a;var o=i(1);function a(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let st=_e(h);return st=unescape(st),st=tt(st),st=rt(st),j(st)}if(h=_(c),h){const st=rt(h);return j(st)}if(h=g("filename","i").exec(c),h){h=h[1];let st=_e(h);return st=rt(st),j(st)}function g(st,nt){return new RegExp("(?:^|;)\\s*"+st+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',nt)}function b(st,nt){if(st){if(!/^[\x00-\xFF]+$/.test(nt))return nt;try{const et=new TextDecoder(st,{fatal:!0}),$=(0,o.stringToBytes)(nt);nt=et.decode($),d=!1}catch{}}return nt}function j(st){return d&&/[\x80-\xff]/.test(st)&&(st=b("utf-8",st),d&&(st=b("iso-8859-1",st))),st}function _(st){const nt=[];let et;const $=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(et=$.exec(st))!==null;){let[,lt,it,dt]=et;if(lt=parseInt(lt,10),lt in nt){if(lt===0)break;continue}nt[lt]=[it,dt]}const ot=[];for(let lt=0;lt<nt.length&&lt in nt;++lt){let[it,dt]=nt[lt];dt=_e(dt),it&&(dt=unescape(dt),lt===0&&(dt=tt(dt))),ot.push(dt)}return ot.join("")}function _e(st){if(st.startsWith('"')){const nt=st.slice(1).split('\\"');for(let et=0;et<nt.length;++et){const $=nt[et].indexOf('"');$!==-1&&(nt[et]=nt[et].slice(0,$),nt.length=et+1),nt[et]=nt[et].replaceAll(/\\(.)/g,"$1")}st=nt.join('"')}return st}function tt(st){const nt=st.indexOf("'");if(nt===-1)return st;const et=st.slice(0,nt),ot=st.slice(nt+1).replace(/^[^']*'/,"");return b(et,ot)}function rt(st){return!st.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(st)?st:st.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(nt,et,$,ot){if($==="q"||$==="Q")return ot=ot.replaceAll("_"," "),ot=ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(lt,it){return String.fromCharCode(parseInt(it,16))}),b(et,ot);try{ot=atob(ot)}catch{}return b(et,ot)})}return""}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var o=i(1),a=i(20);const c=200,d=206;function h(_e){const tt=_e.response;return typeof tt!="string"?tt:(0,o.stringToBytes)(tt).buffer}class g{constructor(tt,rt={}){this.url=tt,this.isHttp=/^https?:/i.test(tt),this.httpHeaders=this.isHttp&&rt.httpHeaders||Object.create(null),this.withCredentials=rt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(tt,rt,st){const nt={begin:tt,end:rt};for(const et in st)nt[et]=st[et];return this.request(nt)}requestFull(tt){return this.request(tt)}request(tt){const rt=new XMLHttpRequest,st=this.currXhrId++,nt=this.pendingRequests[st]={xhr:rt};rt.open("GET",this.url),rt.withCredentials=this.withCredentials;for(const et in this.httpHeaders){const $=this.httpHeaders[et];$!==void 0&&rt.setRequestHeader(et,$)}return this.isHttp&&"begin"in tt&&"end"in tt?(rt.setRequestHeader("Range",`bytes=${tt.begin}-${tt.end-1}`),nt.expectedStatus=d):nt.expectedStatus=c,rt.responseType="arraybuffer",tt.onError&&(rt.onerror=function(et){tt.onError(rt.status)}),rt.onreadystatechange=this.onStateChange.bind(this,st),rt.onprogress=this.onProgress.bind(this,st),nt.onHeadersReceived=tt.onHeadersReceived,nt.onDone=tt.onDone,nt.onError=tt.onError,nt.onProgress=tt.onProgress,rt.send(null),st}onProgress(tt,rt){var nt;const st=this.pendingRequests[tt];st&&((nt=st.onProgress)==null||nt.call(st,rt))}onStateChange(tt,rt){var lt,it,dt;const st=this.pendingRequests[tt];if(!st)return;const nt=st.xhr;if(nt.readyState>=2&&st.onHeadersReceived&&(st.onHeadersReceived(),delete st.onHeadersReceived),nt.readyState!==4||!(tt in this.pendingRequests))return;if(delete this.pendingRequests[tt],nt.status===0&&this.isHttp){(lt=st.onError)==null||lt.call(st,nt.status);return}const et=nt.status||c;if(!(et===c&&st.expectedStatus===d)&&et!==st.expectedStatus){(it=st.onError)==null||it.call(st,nt.status);return}const ot=h(nt);if(et===d){const ct=nt.getResponseHeader("Content-Range"),ut=/bytes (\d+)-(\d+)\/(\d+)/.exec(ct);st.onDone({begin:parseInt(ut[1],10),chunk:ot})}else ot?st.onDone({begin:0,chunk:ot}):(dt=st.onError)==null||dt.call(st,nt.status)}getRequestXhr(tt){return this.pendingRequests[tt].xhr}isPendingRequest(tt){return tt in this.pendingRequests}abortRequest(tt){const rt=this.pendingRequests[tt].xhr;delete this.pendingRequests[tt],rt.abort()}}class b{constructor(tt){this._source=tt,this._manager=new g(tt.url,{httpHeaders:tt.httpHeaders,withCredentials:tt.withCredentials}),this._rangeChunkSize=tt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(tt){const rt=this._rangeRequestReaders.indexOf(tt);rt>=0&&this._rangeRequestReaders.splice(rt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new j(this._manager,this._source),this._fullRequestReader}getRangeReader(tt,rt){const st=new _(this._manager,tt,rt);return st.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(st),st}cancelAllRequests(tt){var rt;(rt=this._fullRequestReader)==null||rt.cancel(tt);for(const st of this._rangeRequestReaders.slice(0))st.cancel(tt)}}s.PDFNetworkStream=b;class j{constructor(tt,rt){this._manager=tt;const st={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=rt.url,this._fullRequestId=tt.requestFull(st),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=rt.disableRange||!1,this._contentLength=rt.length,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const tt=this._fullRequestId,rt=this._manager.getRequestXhr(tt),st=$=>rt.getResponseHeader($),{allowRangeRequests:nt,suggestedLength:et}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});nt&&(this._isRangeSupported=!0),this._contentLength=et||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(st),this._isRangeSupported&&this._manager.abortRequest(tt),this._headersReceivedCapability.resolve()}_onDone(tt){if(tt&&(this._requests.length>0?this._requests.shift().resolve({value:tt.chunk,done:!1}):this._cachedChunks.push(tt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(tt){this._storedError=(0,a.createResponseStatusError)(tt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(tt){var rt;(rt=this.onProgress)==null||rt.call(this,{loaded:tt.loaded,total:tt.lengthComputable?tt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0,this._headersReceivedCapability.reject(tt);for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _{constructor(tt,rt,st){this._manager=tt;const nt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._requestId=tt.requestRange(rt,st,nt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var tt;(tt=this.onClosed)==null||tt.call(this,this)}_onDone(tt){const rt=tt.chunk;this._requests.length>0?this._requests.shift().resolve({value:rt,done:!1}):this._queuedChunk=rt,this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(tt){this._storedError=(0,a.createResponseStatusError)(tt,this._url);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(tt){var rt;this.isStreamingSupported||(rt=this.onProgress)==null||rt.call(this,{loaded:tt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const rt=this._queuedChunk;return this._queuedChunk=null,{value:rt,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var o=i(1),a=i(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(st){const nt=require$$5,et=nt.parse(st);return et.protocol==="file:"||et.host?et:/^[a-z]:[/\\]/i.test(st)?nt.parse(`file:///${st}`):(et.host||(et.protocol="file:"),et)}class h{constructor(nt){this.source=nt,this.url=d(nt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&nt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var nt;return((nt=this._fullRequestReader)==null?void 0:nt._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tt(this):new _(this),this._fullRequestReader}getRangeReader(nt,et){if(et<=this._progressiveDataLength)return null;const $=this.isFsUrl?new rt(this,nt,et):new _e(this,nt,et);return this._rangeRequestReaders.push($),$}cancelAllRequests(nt){var et;(et=this._fullRequestReader)==null||et.cancel(nt);for(const $ of this._rangeRequestReaders.slice(0))$.cancel(nt)}}s.PDFNodeStream=h;class g{constructor(nt){this._url=nt.url,this._done=!1,this._storedError=null,this.onProgress=null;const et=nt.source;this._contentLength=et.length,this._loaded=0,this._filename=null,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const nt=this._readableStream.read();return nt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=nt.length,($=this.onProgress)==null||$.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(nt).buffer,done:!1})}cancel(nt){if(!this._readableStream){this._error(nt);return}this._readableStream.destroy(nt)}_error(nt){this._storedError=nt,this._readCapability.resolve()}_setReadableStream(nt){this._readableStream=nt,nt.on("readable",()=>{this._readCapability.resolve()}),nt.on("end",()=>{nt.destroy(),this._done=!0,this._readCapability.resolve()}),nt.on("error",et=>{this._error(et)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(nt){this._url=nt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const et=nt.source;this._isStreamingSupported=!et.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const nt=this._readableStream.read();return nt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=nt.length,($=this.onProgress)==null||$.call(this,{loaded:this._loaded}),{value:new Uint8Array(nt).buffer,done:!1})}cancel(nt){if(!this._readableStream){this._error(nt);return}this._readableStream.destroy(nt)}_error(nt){this._storedError=nt,this._readCapability.resolve()}_setReadableStream(nt){this._readableStream=nt,nt.on("readable",()=>{this._readCapability.resolve()}),nt.on("end",()=>{nt.destroy(),this._done=!0,this._readCapability.resolve()}),nt.on("error",et=>{this._error(et)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function j(st,nt){return{protocol:st.protocol,auth:st.auth,host:st.hostname,port:st.port,path:st.path,method:"GET",headers:nt}}class _ extends g{constructor(nt){super(nt);const et=$=>{if($.statusCode===404){const dt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dt,this._headersCapability.reject(dt);return}this._headersCapability.resolve(),this._setReadableStream($);const ot=dt=>this._readableStream.headers[dt.toLowerCase()],{allowRangeRequests:lt,suggestedLength:it}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:nt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=lt,this._contentLength=it||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ot)};if(this._request=null,this._url.protocol==="http:"){const $=require$$5;this._request=$.request(j(this._url,nt.httpHeaders),et)}else{const $=require$$5;this._request=$.request(j(this._url,nt.httpHeaders),et)}this._request.on("error",$=>{this._storedError=$,this._headersCapability.reject($)}),this._request.end()}}class _e extends b{constructor(nt,et,$){super(nt),this._httpHeaders={};for(const lt in nt.httpHeaders){const it=nt.httpHeaders[lt];it!==void 0&&(this._httpHeaders[lt]=it)}this._httpHeaders.Range=`bytes=${et}-${$-1}`;const ot=lt=>{if(lt.statusCode===404){const it=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=it;return}this._setReadableStream(lt)};if(this._request=null,this._url.protocol==="http:"){const lt=require$$5;this._request=lt.request(j(this._url,this._httpHeaders),ot)}else{const lt=require$$5;this._request=lt.request(j(this._url,this._httpHeaders),ot)}this._request.on("error",lt=>{this._storedError=lt}),this._request.end()}}class tt extends g{constructor(nt){super(nt);let et=decodeURIComponent(this._url.path);c.test(this._url.href)&&(et=et.replace(/^\//,""));const $=require$$5;$.lstat(et,(ot,lt)=>{if(ot){ot.code==="ENOENT"&&(ot=new o.MissingPDFException(`Missing PDF "${et}".`)),this._storedError=ot,this._headersCapability.reject(ot);return}this._contentLength=lt.size,this._setReadableStream($.createReadStream(et)),this._headersCapability.resolve()})}}class rt extends b{constructor(nt,et,$){super(nt);let ot=decodeURIComponent(this._url.path);c.test(this._url.href)&&(ot=ot.replace(/^\//,""));const lt=require$$5;this._setReadableStream(lt.createReadStream(ot,{start:et,end:$-1}))}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var o=i(6),a=i(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",g=["butt","round","square"],b=["miter","round","bevel"],j=function(lt,it="",dt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!dt)return URL.createObjectURL(new Blob([lt],{type:it}));const ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ut=`data:${it};base64,`;for(let ft=0,yt=lt.length;ft<yt;ft+=3){const ht=lt[ft]&255,gt=lt[ft+1]&255,St=lt[ft+2]&255,Nt=ht>>2,Lt=(ht&3)<<4|gt>>4,kt=ft+1<yt?(gt&15)<<2|St>>6:64,Ct=ft+2<yt?St&63:64;ut+=ct[Nt]+ct[Lt]+ct[kt]+ct[Ct]}return ut},_=function(){const lt=new Uint8Array([137,80,78,71,13,10,26,10]),it=12,dt=new Int32Array(256);for(let St=0;St<256;St++){let Nt=St;for(let Lt=0;Lt<8;Lt++)Nt=Nt&1?3988292384^Nt>>1&2147483647:Nt>>1&2147483647;dt[St]=Nt}function ct(St,Nt,Lt){let kt=-1;for(let Ct=Nt;Ct<Lt;Ct++){const Tt=(kt^St[Ct])&255,xt=dt[Tt];kt=kt>>>8^xt}return kt^-1}function ut(St,Nt,Lt,kt){let Ct=kt;const Tt=Nt.length;Lt[Ct]=Tt>>24&255,Lt[Ct+1]=Tt>>16&255,Lt[Ct+2]=Tt>>8&255,Lt[Ct+3]=Tt&255,Ct+=4,Lt[Ct]=St.charCodeAt(0)&255,Lt[Ct+1]=St.charCodeAt(1)&255,Lt[Ct+2]=St.charCodeAt(2)&255,Lt[Ct+3]=St.charCodeAt(3)&255,Ct+=4,Lt.set(Nt,Ct),Ct+=Nt.length;const xt=ct(Lt,kt+4,Ct);Lt[Ct]=xt>>24&255,Lt[Ct+1]=xt>>16&255,Lt[Ct+2]=xt>>8&255,Lt[Ct+3]=xt&255}function ft(St,Nt,Lt){let kt=1,Ct=0;for(let Tt=Nt;Tt<Lt;++Tt)kt=(kt+(St[Tt]&255))%65521,Ct=(Ct+kt)%65521;return Ct<<16|kt}function yt(St){if(!a.isNodeJS)return ht(St);try{const Nt=parseInt(process.versions.node)>=8?St:Buffer.from(St),Lt=require$$5.deflateSync(Nt,{level:9});return Lt instanceof Uint8Array?Lt:new Uint8Array(Lt)}catch(Nt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Nt)}return ht(St)}function ht(St){let Nt=St.length;const Lt=65535,kt=Math.ceil(Nt/Lt),Ct=new Uint8Array(2+Nt+kt*5+4);let Tt=0;Ct[Tt++]=120,Ct[Tt++]=156;let xt=0;for(;Nt>Lt;)Ct[Tt++]=0,Ct[Tt++]=255,Ct[Tt++]=255,Ct[Tt++]=0,Ct[Tt++]=0,Ct.set(St.subarray(xt,xt+Lt),Tt),Tt+=Lt,xt+=Lt,Nt-=Lt;Ct[Tt++]=1,Ct[Tt++]=Nt&255,Ct[Tt++]=Nt>>8&255,Ct[Tt++]=~Nt&65535&255,Ct[Tt++]=(~Nt&65535)>>8&255,Ct.set(St.subarray(xt),Tt),Tt+=St.length-xt;const Rt=ft(St,0,St.length);return Ct[Tt++]=Rt>>24&255,Ct[Tt++]=Rt>>16&255,Ct[Tt++]=Rt>>8&255,Ct[Tt++]=Rt&255,Ct}function gt(St,Nt,Lt,kt){const Ct=St.width,Tt=St.height;let xt,Rt,It;const bt=St.data;switch(Nt){case a.ImageKind.GRAYSCALE_1BPP:Rt=0,xt=1,It=Ct+7>>3;break;case a.ImageKind.RGB_24BPP:Rt=2,xt=8,It=Ct*3;break;case a.ImageKind.RGBA_32BPP:Rt=6,xt=8,It=Ct*4;break;default:throw new Error("invalid format")}const pt=new Uint8Array((1+It)*Tt);let mt=0,vt=0;for(let Qt=0;Qt<Tt;++Qt)pt[mt++]=0,pt.set(bt.subarray(vt,vt+It),mt),vt+=It,mt+=It;if(Nt===a.ImageKind.GRAYSCALE_1BPP&&kt){mt=0;for(let Qt=0;Qt<Tt;Qt++){mt++;for(let Jt=0;Jt<It;Jt++)pt[mt++]^=255}}const At=new Uint8Array([Ct>>24&255,Ct>>16&255,Ct>>8&255,Ct&255,Tt>>24&255,Tt>>16&255,Tt>>8&255,Tt&255,xt,Rt,0,0,0]),jt=yt(pt),Dt=lt.length+it*3+At.length+jt.length,Vt=new Uint8Array(Dt);let Wt=0;return Vt.set(lt,Wt),Wt+=lt.length,ut("IHDR",At,Vt,Wt),Wt+=it+At.length,ut("IDATA",jt,Vt,Wt),Wt+=it+jt.length,ut("IEND",new Uint8Array(0),Vt,Wt),j(Vt,"image/png",Lt)}return function(Nt,Lt,kt){const Ct=Nt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:Nt.kind;return gt(Nt,Ct,Lt,kt)}}();class _e{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(it,dt){this.x=it,this.y=dt}}function tt(lt){let it=[];const dt=[];for(const ct of lt){if(ct.fn==="save"){it.push({fnId:92,fn:"group",items:[]}),dt.push(it),it=it.at(-1).items;continue}ct.fn==="restore"?it=dt.pop():it.push(ct)}return it}function rt(lt){if(Number.isInteger(lt))return lt.toString();const it=lt.toFixed(10);let dt=it.length-1;if(it[dt]!=="0")return it;do dt--;while(it[dt]==="0");return it.substring(0,it[dt]==="."?dt:dt+1)}function st(lt){if(lt[4]===0&&lt[5]===0){if(lt[1]===0&&lt[2]===0)return lt[0]===1&&lt[3]===1?"":`scale(${rt(lt[0])} ${rt(lt[3])})`;if(lt[0]===lt[3]&&lt[1]===-lt[2]){const it=Math.acos(lt[0])*180/Math.PI;return`rotate(${rt(it)})`}}else if(lt[0]===1&&lt[1]===0&&lt[2]===0&&lt[3]===1)return`translate(${rt(lt[4])} ${rt(lt[5])})`;return`matrix(${rt(lt[0])} ${rt(lt[1])} ${rt(lt[2])} ${rt(lt[3])} ${rt(lt[4])} ${rt(lt[5])})`}let nt=0,et=0,$=0;class ot{constructor(it,dt,ct=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new _e,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=it,this.objs=dt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ct,this._operatorIdMapping=[];for(const ut in a.OPS)this._operatorIdMapping[a.OPS[ut]]=ut}getObject(it,dt=null){return typeof it=="string"?it.startsWith("g_")?this.commonObjs.get(it):this.objs.get(it):dt}save(){this.transformStack.push(this.transformMatrix);const it=this.current;this.extraStack.push(it),this.current=it.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(it){this.save(),this.executeOpTree(it),this.restore()}loadDependencies(it){const dt=it.fnArray,ct=it.argsArray;for(let ut=0,ft=dt.length;ut<ft;ut++)if(dt[ut]===a.OPS.dependency)for(const yt of ct[ut]){const ht=yt.startsWith("g_")?this.commonObjs:this.objs,gt=new Promise(St=>{ht.get(yt,St)});this.current.dependencies.push(gt)}return Promise.all(this.current.dependencies)}transform(it,dt,ct,ut,ft,yt){const ht=[it,dt,ct,ut,ft,yt];this.transformMatrix=a.Util.transform(this.transformMatrix,ht),this.tgrp=null}getSVG(it,dt){this.viewport=dt;const ct=this._initialize(dt);return this.loadDependencies(it).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(it)),ct))}convertOpList(it){const dt=this._operatorIdMapping,ct=it.argsArray,ut=it.fnArray,ft=[];for(let yt=0,ht=ut.length;yt<ht;yt++){const gt=ut[yt];ft.push({fnId:gt,fn:dt[gt],args:ct[yt]})}return tt(ft)}executeOpTree(it){for(const dt of it){const ct=dt.fn,ut=dt.fnId,ft=dt.args;switch(ut|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(ft);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(ft[0],ft[1]);break;case a.OPS.setFont:this.setFont(ft);break;case a.OPS.showText:this.showText(ft[0]);break;case a.OPS.showSpacedText:this.showText(ft[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(ft[0],ft[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(ft[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(ft[0]);break;case a.OPS.setHScale:this.setHScale(ft[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);break;case a.OPS.setTextRise:this.setTextRise(ft[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(ft[0]);break;case a.OPS.setLineWidth:this.setLineWidth(ft[0]);break;case a.OPS.setLineJoin:this.setLineJoin(ft[0]);break;case a.OPS.setLineCap:this.setLineCap(ft[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(ft[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(ft[0],ft[1],ft[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ft[0],ft[1],ft[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(ft);break;case a.OPS.setFillColorN:this.setFillColorN(ft);break;case a.OPS.shadingFill:this.shadingFill(ft[0]);break;case a.OPS.setDash:this.setDash(ft[0],ft[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(ft[0]);break;case a.OPS.setFlatness:this.setFlatness(ft[0]);break;case a.OPS.setGState:this.setGState(ft[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(ft[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ft[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ft[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ft[0],ft[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);break;case a.OPS.constructPath:this.constructPath(ft[0],ft[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(dt.items);break;default:(0,a.warn)(`Unimplemented operator ${ct}`);break}}}setWordSpacing(it){this.current.wordSpacing=it}setCharSpacing(it){this.current.charSpacing=it}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(it,dt,ct,ut,ft,yt){const ht=this.current;ht.textMatrix=ht.lineMatrix=[it,dt,ct,ut,ft,yt],ht.textMatrixScale=Math.hypot(it,dt),ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.xcoords=[],ht.ycoords=[],ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.tspan.setAttributeNS(null,"font-family",ht.fontFamily),ht.tspan.setAttributeNS(null,"font-size",`${rt(ht.fontSize)}px`),ht.tspan.setAttributeNS(null,"y",rt(-ht.y)),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtElement.append(ht.tspan)}beginText(){const it=this.current;it.x=it.lineX=0,it.y=it.lineY=0,it.textMatrix=a.IDENTITY_MATRIX,it.lineMatrix=a.IDENTITY_MATRIX,it.textMatrixScale=1,it.tspan=this.svgFactory.createElement("svg:tspan"),it.txtElement=this.svgFactory.createElement("svg:text"),it.txtgrp=this.svgFactory.createElement("svg:g"),it.xcoords=[],it.ycoords=[]}moveText(it,dt){const ct=this.current;ct.x=ct.lineX+=it,ct.y=ct.lineY+=dt,ct.xcoords=[],ct.ycoords=[],ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${rt(ct.fontSize)}px`),ct.tspan.setAttributeNS(null,"y",rt(-ct.y))}showText(it){const dt=this.current,ct=dt.font,ut=dt.fontSize;if(ut===0)return;const ft=dt.fontSizeScale,yt=dt.charSpacing,ht=dt.wordSpacing,gt=dt.fontDirection,St=dt.textHScale*gt,Nt=ct.vertical,Lt=Nt?1:-1,kt=ct.defaultVMetrics,Ct=ut*dt.fontMatrix[0];let Tt=0;for(const It of it){if(It===null){Tt+=gt*ht;continue}else if(typeof It=="number"){Tt+=Lt*It*ut/1e3;continue}const bt=(It.isSpace?ht:0)+yt,pt=It.fontChar;let mt,vt,At=It.width;if(Nt){let Dt;const Vt=It.vmetric||kt;Dt=It.vmetric?Vt[1]:At*.5,Dt=-Dt*Ct;const Wt=Vt[2]*Ct;At=Vt?-Vt[0]:At,mt=Dt/ft,vt=(Tt+Wt)/ft}else mt=Tt/ft,vt=0;(It.isInFont||ct.missingFile)&&(dt.xcoords.push(dt.x+mt),Nt&&dt.ycoords.push(-dt.y+vt),dt.tspan.textContent+=pt);const jt=Nt?At*Ct-bt*gt:At*Ct+bt*gt;Tt+=jt}dt.tspan.setAttributeNS(null,"x",dt.xcoords.map(rt).join(" ")),Nt?dt.tspan.setAttributeNS(null,"y",dt.ycoords.map(rt).join(" ")):dt.tspan.setAttributeNS(null,"y",rt(-dt.y)),Nt?dt.y-=Tt:dt.x+=Tt*St,dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${rt(dt.fontSize)}px`),dt.fontStyle!==c.fontStyle&&dt.tspan.setAttributeNS(null,"font-style",dt.fontStyle),dt.fontWeight!==c.fontWeight&&dt.tspan.setAttributeNS(null,"font-weight",dt.fontWeight);const xt=dt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(xt===a.TextRenderingMode.FILL||xt===a.TextRenderingMode.FILL_STROKE?(dt.fillColor!==c.fillColor&&dt.tspan.setAttributeNS(null,"fill",dt.fillColor),dt.fillAlpha<1&&dt.tspan.setAttributeNS(null,"fill-opacity",dt.fillAlpha)):dt.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?dt.tspan.setAttributeNS(null,"fill","transparent"):dt.tspan.setAttributeNS(null,"fill","none"),xt===a.TextRenderingMode.STROKE||xt===a.TextRenderingMode.FILL_STROKE){const It=1/(dt.textMatrixScale||1);this._setStrokeAttributes(dt.tspan,It)}let Rt=dt.textMatrix;dt.textRise!==0&&(Rt=Rt.slice(),Rt[5]+=dt.textRise),dt.txtElement.setAttributeNS(null,"transform",`${st(Rt)} scale(${rt(St)}, -1)`),dt.txtElement.setAttributeNS(d,"xml:space","preserve"),dt.txtElement.append(dt.tspan),dt.txtgrp.append(dt.txtElement),this._ensureTransformGroup().append(dt.txtElement)}setLeadingMoveText(it,dt){this.setLeading(-dt),this.moveText(it,dt)}addFontStyle(it){if(!it.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const dt=j(it.data,it.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${it.loadedName}"; src: url(${dt}); }
`}setFont(it){const dt=this.current,ct=this.commonObjs.get(it[0]);let ut=it[1];dt.font=ct,this.embedFonts&&!ct.missingFile&&!this.embeddedFonts[ct.loadedName]&&(this.addFontStyle(ct),this.embeddedFonts[ct.loadedName]=ct),dt.fontMatrix=ct.fontMatrix||a.FONT_IDENTITY_MATRIX;let ft="normal";ct.black?ft="900":ct.bold&&(ft="bold");const yt=ct.italic?"italic":"normal";ut<0?(ut=-ut,dt.fontDirection=-1):dt.fontDirection=1,dt.fontSize=ut,dt.fontFamily=ct.loadedName,dt.fontWeight=ft,dt.fontStyle=yt,dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"y",rt(-dt.y)),dt.xcoords=[],dt.ycoords=[]}endText(){var dt;const it=this.current;it.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((dt=it.txtElement)!=null&&dt.hasChildNodes())&&(it.element=it.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(it){it>0&&(this.current.lineWidth=it)}setLineCap(it){this.current.lineCap=g[it]}setLineJoin(it){this.current.lineJoin=b[it]}setMiterLimit(it){this.current.miterLimit=it}setStrokeAlpha(it){this.current.strokeAlpha=it}setStrokeRGBColor(it,dt,ct){this.current.strokeColor=a.Util.makeHexColor(it,dt,ct)}setFillAlpha(it){this.current.fillAlpha=it}setFillRGBColor(it,dt,ct){this.current.fillColor=a.Util.makeHexColor(it,dt,ct),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(it){this.current.strokeColor=this._makeColorN_Pattern(it)}setFillColorN(it){this.current.fillColor=this._makeColorN_Pattern(it)}shadingFill(it){const{width:dt,height:ct}=this.viewport,ut=a.Util.inverseTransform(this.transformMatrix),[ft,yt,ht,gt]=a.Util.getAxialAlignedBoundingBox([0,0,dt,ct],ut),St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x",ft),St.setAttributeNS(null,"y",yt),St.setAttributeNS(null,"width",ht-ft),St.setAttributeNS(null,"height",gt-yt),St.setAttributeNS(null,"fill",this._makeShadingPattern(it)),this.current.fillAlpha<1&&St.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(St)}_makeColorN_Pattern(it){return it[0]==="TilingPattern"?this._makeTilingPattern(it):this._makeShadingPattern(it)}_makeTilingPattern(it){const dt=it[1],ct=it[2],ut=it[3]||a.IDENTITY_MATRIX,[ft,yt,ht,gt]=it[4],St=it[5],Nt=it[6],Lt=it[7],kt=`shading${$++}`,[Ct,Tt,xt,Rt]=a.Util.normalizeRect([...a.Util.applyTransform([ft,yt],ut),...a.Util.applyTransform([ht,gt],ut)]),[It,bt]=a.Util.singularValueDecompose2dScale(ut),pt=St*It,mt=Nt*bt,vt=this.svgFactory.createElement("svg:pattern");vt.setAttributeNS(null,"id",kt),vt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),vt.setAttributeNS(null,"width",pt),vt.setAttributeNS(null,"height",mt),vt.setAttributeNS(null,"x",`${Ct}`),vt.setAttributeNS(null,"y",`${Tt}`);const At=this.svg,jt=this.transformMatrix,Dt=this.current.fillColor,Vt=this.current.strokeColor,Wt=this.svgFactory.create(xt-Ct,Rt-Tt);if(this.svg=Wt,this.transformMatrix=ut,Lt===2){const Qt=a.Util.makeHexColor(...dt);this.current.fillColor=Qt,this.current.strokeColor=Qt}return this.executeOpTree(this.convertOpList(ct)),this.svg=At,this.transformMatrix=jt,this.current.fillColor=Dt,this.current.strokeColor=Vt,vt.append(Wt.childNodes[0]),this.defs.append(vt),`url(#${kt})`}_makeShadingPattern(it){switch(typeof it=="string"&&(it=this.objs.get(it)),it[0]){case"RadialAxial":const dt=`shading${$++}`,ct=it[3];let ut;switch(it[1]){case"axial":const ft=it[4],yt=it[5];ut=this.svgFactory.createElement("svg:linearGradient"),ut.setAttributeNS(null,"id",dt),ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ut.setAttributeNS(null,"x1",ft[0]),ut.setAttributeNS(null,"y1",ft[1]),ut.setAttributeNS(null,"x2",yt[0]),ut.setAttributeNS(null,"y2",yt[1]);break;case"radial":const ht=it[4],gt=it[5],St=it[6],Nt=it[7];ut=this.svgFactory.createElement("svg:radialGradient"),ut.setAttributeNS(null,"id",dt),ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ut.setAttributeNS(null,"cx",gt[0]),ut.setAttributeNS(null,"cy",gt[1]),ut.setAttributeNS(null,"r",Nt),ut.setAttributeNS(null,"fx",ht[0]),ut.setAttributeNS(null,"fy",ht[1]),ut.setAttributeNS(null,"fr",St);break;default:throw new Error(`Unknown RadialAxial type: ${it[1]}`)}for(const ft of ct){const yt=this.svgFactory.createElement("svg:stop");yt.setAttributeNS(null,"offset",ft[0]),yt.setAttributeNS(null,"stop-color",ft[1]),ut.append(yt)}return this.defs.append(ut),`url(#${dt})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${it[0]}`)}}setDash(it,dt){this.current.dashArray=it,this.current.dashPhase=dt}constructPath(it,dt){const ct=this.current;let ut=ct.x,ft=ct.y,yt=[],ht=0;for(const gt of it)switch(gt|0){case a.OPS.rectangle:ut=dt[ht++],ft=dt[ht++];const St=dt[ht++],Nt=dt[ht++],Lt=ut+St,kt=ft+Nt;yt.push("M",rt(ut),rt(ft),"L",rt(Lt),rt(ft),"L",rt(Lt),rt(kt),"L",rt(ut),rt(kt),"Z");break;case a.OPS.moveTo:ut=dt[ht++],ft=dt[ht++],yt.push("M",rt(ut),rt(ft));break;case a.OPS.lineTo:ut=dt[ht++],ft=dt[ht++],yt.push("L",rt(ut),rt(ft));break;case a.OPS.curveTo:ut=dt[ht+4],ft=dt[ht+5],yt.push("C",rt(dt[ht]),rt(dt[ht+1]),rt(dt[ht+2]),rt(dt[ht+3]),rt(ut),rt(ft)),ht+=6;break;case a.OPS.curveTo2:yt.push("C",rt(ut),rt(ft),rt(dt[ht]),rt(dt[ht+1]),rt(dt[ht+2]),rt(dt[ht+3])),ut=dt[ht+2],ft=dt[ht+3],ht+=4;break;case a.OPS.curveTo3:ut=dt[ht+2],ft=dt[ht+3],yt.push("C",rt(dt[ht]),rt(dt[ht+1]),rt(ut),rt(ft),rt(ut),rt(ft)),ht+=4;break;case a.OPS.closePath:yt.push("Z");break}yt=yt.join(" "),ct.path&&it.length>0&&it[0]!==a.OPS.rectangle&&it[0]!==a.OPS.moveTo?yt=ct.path.getAttributeNS(null,"d")+yt:(ct.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ct.path)),ct.path.setAttributeNS(null,"d",yt),ct.path.setAttributeNS(null,"fill","none"),ct.element=ct.path,ct.setCurrentPoint(ut,ft)}endPath(){const it=this.current;if(it.path=null,!this.pendingClip)return;if(!it.element){this.pendingClip=null;return}const dt=`clippath${nt++}`,ct=this.svgFactory.createElement("svg:clipPath");ct.setAttributeNS(null,"id",dt),ct.setAttributeNS(null,"transform",st(this.transformMatrix));const ut=it.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ut.setAttributeNS(null,"clip-rule","evenodd"):ut.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ct.append(ut),this.defs.append(ct),it.activeClipUrl){it.clipGroup=null;for(const ft of this.extraStack)ft.clipGroup=null;ct.setAttributeNS(null,"clip-path",it.activeClipUrl)}it.activeClipUrl=`url(#${dt})`,this.tgrp=null}clip(it){this.pendingClip=it}closePath(){const it=this.current;if(it.path){const dt=`${it.path.getAttributeNS(null,"d")}Z`;it.path.setAttributeNS(null,"d",dt)}}setLeading(it){this.current.leading=-it}setTextRise(it){this.current.textRise=it}setTextRenderingMode(it){this.current.textRenderingMode=it}setHScale(it){this.current.textHScale=it/100}setRenderingIntent(it){}setFlatness(it){}setGState(it){for(const[dt,ct]of it)switch(dt){case"LW":this.setLineWidth(ct);break;case"LC":this.setLineCap(ct);break;case"LJ":this.setLineJoin(ct);break;case"ML":this.setMiterLimit(ct);break;case"D":this.setDash(ct[0],ct[1]);break;case"RI":this.setRenderingIntent(ct);break;case"FL":this.setFlatness(ct);break;case"Font":this.setFont(ct);break;case"CA":this.setStrokeAlpha(ct);break;case"ca":this.setFillAlpha(ct);break;default:(0,a.warn)(`Unimplemented graphic state operator ${dt}`);break}}fill(){const it=this.current;it.element&&(it.element.setAttributeNS(null,"fill",it.fillColor),it.element.setAttributeNS(null,"fill-opacity",it.fillAlpha),this.endPath())}stroke(){const it=this.current;it.element&&(this._setStrokeAttributes(it.element),it.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(it,dt=1){const ct=this.current;let ut=ct.dashArray;dt!==1&&ut.length>0&&(ut=ut.map(function(ft){return dt*ft})),it.setAttributeNS(null,"stroke",ct.strokeColor),it.setAttributeNS(null,"stroke-opacity",ct.strokeAlpha),it.setAttributeNS(null,"stroke-miterlimit",rt(ct.miterLimit)),it.setAttributeNS(null,"stroke-linecap",ct.lineCap),it.setAttributeNS(null,"stroke-linejoin",ct.lineJoin),it.setAttributeNS(null,"stroke-width",rt(dt*ct.lineWidth)+"px"),it.setAttributeNS(null,"stroke-dasharray",ut.map(rt).join(" ")),it.setAttributeNS(null,"stroke-dashoffset",rt(dt*ct.dashPhase)+"px")}eoFill(){var it;(it=this.current.element)==null||it.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var it;(it=this.current.element)==null||it.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const it=this.svgFactory.createElement("svg:rect");it.setAttributeNS(null,"x","0"),it.setAttributeNS(null,"y","0"),it.setAttributeNS(null,"width","1px"),it.setAttributeNS(null,"height","1px"),it.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(it)}paintImageXObject(it){const dt=this.getObject(it);if(!dt){(0,a.warn)(`Dependent image with object ID ${it} is not ready yet`);return}this.paintInlineImageXObject(dt)}paintInlineImageXObject(it,dt){const ct=it.width,ut=it.height,ft=_(it,this.forceDataSchema,!!dt),yt=this.svgFactory.createElement("svg:rect");yt.setAttributeNS(null,"x","0"),yt.setAttributeNS(null,"y","0"),yt.setAttributeNS(null,"width",rt(ct)),yt.setAttributeNS(null,"height",rt(ut)),this.current.element=yt,this.clip("nonzero");const ht=this.svgFactory.createElement("svg:image");ht.setAttributeNS(h,"xlink:href",ft),ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y",rt(-ut)),ht.setAttributeNS(null,"width",rt(ct)+"px"),ht.setAttributeNS(null,"height",rt(ut)+"px"),ht.setAttributeNS(null,"transform",`scale(${rt(1/ct)} ${rt(-1/ut)})`),dt?dt.append(ht):this._ensureTransformGroup().append(ht)}paintImageMaskXObject(it){const dt=this.getObject(it.data,it);if(dt.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ct=this.current,ut=dt.width,ft=dt.height,yt=ct.fillColor;ct.maskId=`mask${et++}`;const ht=this.svgFactory.createElement("svg:mask");ht.setAttributeNS(null,"id",ct.maskId);const gt=this.svgFactory.createElement("svg:rect");gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y","0"),gt.setAttributeNS(null,"width",rt(ut)),gt.setAttributeNS(null,"height",rt(ft)),gt.setAttributeNS(null,"fill",yt),gt.setAttributeNS(null,"mask",`url(#${ct.maskId})`),this.defs.append(ht),this._ensureTransformGroup().append(gt),this.paintInlineImageXObject(dt,ht)}paintFormXObjectBegin(it,dt){if(Array.isArray(it)&&it.length===6&&this.transform(it[0],it[1],it[2],it[3],it[4],it[5]),dt){const ct=dt[2]-dt[0],ut=dt[3]-dt[1],ft=this.svgFactory.createElement("svg:rect");ft.setAttributeNS(null,"x",dt[0]),ft.setAttributeNS(null,"y",dt[1]),ft.setAttributeNS(null,"width",rt(ct)),ft.setAttributeNS(null,"height",rt(ut)),this.current.element=ft,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(it){const dt=this.svgFactory.create(it.width,it.height),ct=this.svgFactory.createElement("svg:defs");dt.append(ct),this.defs=ct;const ut=this.svgFactory.createElement("svg:g");return ut.setAttributeNS(null,"transform",st(it.transform)),dt.append(ut),this.svg=ut,dt}_ensureClipGroup(){if(!this.current.clipGroup){const it=this.svgFactory.createElement("svg:g");it.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(it),this.current.clipGroup=it}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",st(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=ot},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class i{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function h(g){var _;if(!g)return;let b=null;const j=g.name;if(j==="#text")b=g.value;else if(i.shouldBuildText(j))(_=g==null?void 0:g.attributes)!=null&&_.textContent?b=g.attributes.textContent:g.value&&(b=g.value);else return;if(b!==null&&c.push({str:b}),!!g.children)for(const _e of g.children)h(_e)}return h(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}s.XfaText=i},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=st,s.updateTextLayer=nt;var o=i(1),a=i(6);const c=1e5,d=30,h=.8,g=new Map;function b(et,$){let ot;if($&&o.FeatureTest.isOffscreenCanvasSupported)ot=new OffscreenCanvas(et,et).getContext("2d",{alpha:!1});else{const lt=document.createElement("canvas");lt.width=lt.height=et,ot=lt.getContext("2d",{alpha:!1})}return ot}function j(et,$){const ot=g.get(et);if(ot)return ot;const lt=b(d,$);lt.font=`${d}px ${et}`;const it=lt.measureText("");let dt=it.fontBoundingBoxAscent,ct=Math.abs(it.fontBoundingBoxDescent);if(dt){const ft=dt/(dt+ct);return g.set(et,ft),lt.canvas.width=lt.canvas.height=0,ft}lt.strokeStyle="red",lt.clearRect(0,0,d,d),lt.strokeText("g",0,0);let ut=lt.getImageData(0,0,d,d).data;ct=0;for(let ft=ut.length-1-3;ft>=0;ft-=4)if(ut[ft]>0){ct=Math.ceil(ft/4/d);break}lt.clearRect(0,0,d,d),lt.strokeText("A",0,d),ut=lt.getImageData(0,0,d,d).data,dt=0;for(let ft=0,yt=ut.length;ft<yt;ft+=4)if(ut[ft]>0){dt=d-Math.floor(ft/4/d);break}if(lt.canvas.width=lt.canvas.height=0,dt){const ft=dt/(dt+ct);return g.set(et,ft),ft}return g.set(et,h),h}function _(et,$,ot){const lt=document.createElement("span"),it={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};et._textDivs.push(lt);const dt=o.Util.transform(et._transform,$.transform);let ct=Math.atan2(dt[1],dt[0]);const ut=ot[$.fontName];ut.vertical&&(ct+=Math.PI/2);const ft=Math.hypot(dt[2],dt[3]),yt=ft*j(ut.fontFamily,et._isOffscreenCanvasSupported);let ht,gt;ct===0?(ht=dt[4],gt=dt[5]-yt):(ht=dt[4]+yt*Math.sin(ct),gt=dt[5]-yt*Math.cos(ct));const St="calc(var(--scale-factor)*",Nt=lt.style;et._container===et._rootContainer?(Nt.left=`${(100*ht/et._pageWidth).toFixed(2)}%`,Nt.top=`${(100*gt/et._pageHeight).toFixed(2)}%`):(Nt.left=`${St}${ht.toFixed(2)}px)`,Nt.top=`${St}${gt.toFixed(2)}px)`),Nt.fontSize=`${St}${ft.toFixed(2)}px)`,Nt.fontFamily=ut.fontFamily,it.fontSize=ft,lt.setAttribute("role","presentation"),lt.textContent=$.str,lt.dir=$.dir,et._fontInspectorEnabled&&(lt.dataset.fontName=$.fontName),ct!==0&&(it.angle=ct*(180/Math.PI));let Lt=!1;if($.str.length>1)Lt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const kt=Math.abs($.transform[0]),Ct=Math.abs($.transform[3]);kt!==Ct&&Math.max(kt,Ct)/Math.min(kt,Ct)>1.5&&(Lt=!0)}Lt&&(it.canvasWidth=ut.vertical?$.height:$.width),et._textDivProperties.set(lt,it),et._isReadableStream&&et._layoutText(lt)}function _e(et){const{div:$,scale:ot,properties:lt,ctx:it,prevFontSize:dt,prevFontFamily:ct}=et,{style:ut}=$;let ft="";if(lt.canvasWidth!==0&&lt.hasText){const{fontFamily:yt}=ut,{canvasWidth:ht,fontSize:gt}=lt;(dt!==gt||ct!==yt)&&(it.font=`${gt*ot}px ${yt}`,et.prevFontSize=gt,et.prevFontFamily=yt);const{width:St}=it.measureText($.textContent);St>0&&(ft=`scaleX(${ht*ot/St})`)}lt.angle!==0&&(ft=`rotate(${lt.angle}deg) ${ft}`),ft.length>0&&(ut.transform=ft)}function tt(et){if(et._canceled)return;const $=et._textDivs,ot=et._capability;if($.length>c){ot.resolve();return}if(!et._isReadableStream)for(const it of $)et._layoutText(it);ot.resolve()}class rt{constructor({textContentSource:$,container:ot,viewport:lt,textDivs:it,textDivProperties:dt,textContentItemsStr:ct,isOffscreenCanvasSupported:ut}){var St;this._textContentSource=$,this._isReadableStream=$ instanceof ReadableStream,this._container=this._rootContainer=ot,this._textDivs=it||[],this._textContentItemsStr=ct||[],this._isOffscreenCanvasSupported=ut,this._fontInspectorEnabled=!!((St=globalThis.FontInspector)!=null&&St.enabled),this._reader=null,this._textDivProperties=dt||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,ut)};const{pageWidth:ft,pageHeight:yt,pageX:ht,pageY:gt}=lt.rawDims;this._transform=[1,0,0,-1,-ht,gt+yt],this._pageWidth=ft,this._pageHeight=yt,(0,a.setLayerDimensions)(ot,lt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems($,ot){for(const lt of $){if(lt.str===void 0){if(lt.type==="beginMarkedContentProps"||lt.type==="beginMarkedContent"){const it=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),lt.id!==null&&this._container.setAttribute("id",`${lt.id}`),it.append(this._container)}else lt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(lt.str),_(this,lt,ot)}}_layoutText($){const ot=this._layoutTextParams.properties=this._textDivProperties.get($);if(this._layoutTextParams.div=$,_e(this._layoutTextParams),ot.hasText&&this._container.append($),ot.hasEOL){const lt=document.createElement("br");lt.setAttribute("role","presentation"),this._container.append(lt)}}_render(){const $=new o.PromiseCapability;let ot=Object.create(null);if(this._isReadableStream){const lt=()=>{this._reader.read().then(({value:it,done:dt})=>{if(dt){$.resolve();return}Object.assign(ot,it.styles),this._processItems(it.items,ot),lt()},$.reject)};this._reader=this._textContentSource.getReader(),lt()}else if(this._textContentSource){const{items:lt,styles:it}=this._textContentSource;this._processItems(lt,it),$.resolve()}else throw new Error('No "textContentSource" parameter specified.');$.promise.then(()=>{ot=null,tt(this)},this._capability.reject)}}s.TextLayerRenderTask=rt;function st(et){!et.textContentSource&&(et.textContent||et.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),et.textContentSource=et.textContent||et.textContentStream);const{container:$,viewport:ot}=et,lt=getComputedStyle($),it=lt.getPropertyValue("visibility"),dt=parseFloat(lt.getPropertyValue("--scale-factor"));it==="visible"&&(!dt||Math.abs(dt-ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ct=new rt(et);return ct._render(),ct}function nt({container:et,viewport:$,textDivs:ot,textDivProperties:lt,isOffscreenCanvasSupported:it,mustRotate:dt=!0,mustRescale:ct=!0}){if(dt&&(0,a.setLayerDimensions)(et,{rotation:$.rotation}),ct){const ut=b(0,it),yt={prevFontSize:null,prevFontFamily:null,div:null,scale:$.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ut};for(const ht of ot)yt.properties=lt.get(ht),yt.div=ht,_e(yt)}}},(e,s,i)=>{var j,_,_e,tt,rt,st,nt,et,$,ot,lt,Vr,pr,Br,$r;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var o=i(1),a=i(4),c=i(28),d=i(33),h=i(6),g=i(34);const ft=class ft{constructor({uiManager:ht,pageIndex:gt,div:St,accessibilityManager:Nt,annotationLayer:Lt,viewport:kt,l10n:Ct}){Kt(this,lt);Kt(this,j);Kt(this,_,!1);Kt(this,_e,null);Kt(this,tt,this.pointerup.bind(this));Kt(this,rt,this.pointerdown.bind(this));Kt(this,st,new Map);Kt(this,nt,!1);Kt(this,et,!1);Kt(this,$,!1);Kt(this,ot);const Tt=[c.FreeTextEditor,d.InkEditor,g.StampEditor];if(!ft._initialized){ft._initialized=!0;for(const xt of Tt)xt.initialize(Ct)}ht.registerEditorTypes(Tt),Xt(this,ot,ht),this.pageIndex=gt,this.div=St,Xt(this,j,Nt),Xt(this,_e,Lt),this.viewport=kt,at(this,ot).addLayer(this)}get isEmpty(){return at(this,st).size===0}updateToolbar(ht){at(this,ot).updateToolbar(ht)}updateMode(ht=at(this,ot).getMode()){zt(this,lt,$r).call(this),ht===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ht!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ht===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ht===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ht===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ht){if(!ht&&at(this,ot).getMode()!==o.AnnotationEditorType.INK)return;if(!ht){for(const St of at(this,st).values())if(St.isEmpty()){St.setInBackground();return}}zt(this,lt,pr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ht){at(this,ot).setEditingState(ht)}addCommands(ht){at(this,ot).addCommands(ht)}enable(){this.div.style.pointerEvents="auto";const ht=new Set;for(const St of at(this,st).values())St.enableEditing(),St.annotationElementId&&ht.add(St.annotationElementId);if(!at(this,_e))return;const gt=at(this,_e).getEditableAnnotations();for(const St of gt){if(St.hide(),at(this,ot).isDeletedAnnotationElement(St.data.id)||ht.has(St.data.id))continue;const Nt=this.deserialize(St);Nt&&(this.addOrRebuild(Nt),Nt.enableEditing())}}disable(){var gt;Xt(this,$,!0),this.div.style.pointerEvents="none";const ht=new Set;for(const St of at(this,st).values()){if(St.disableEditing(),!St.annotationElementId||St.serialize()!==null){ht.add(St.annotationElementId);continue}(gt=this.getEditableAnnotation(St.annotationElementId))==null||gt.show(),St.remove()}if(at(this,_e)){const St=at(this,_e).getEditableAnnotations();for(const Nt of St){const{id:Lt}=Nt.data;ht.has(Lt)||at(this,ot).isDeletedAnnotationElement(Lt)||Nt.show()}}zt(this,lt,$r).call(this),this.isEmpty&&(this.div.hidden=!0),Xt(this,$,!1)}getEditableAnnotation(ht){var gt;return((gt=at(this,_e))==null?void 0:gt.getEditableAnnotation(ht))||null}setActiveEditor(ht){at(this,ot).getActive()!==ht&&at(this,ot).setActiveEditor(ht)}enableClick(){this.div.addEventListener("pointerdown",at(this,rt)),this.div.addEventListener("pointerup",at(this,tt))}disableClick(){this.div.removeEventListener("pointerdown",at(this,rt)),this.div.removeEventListener("pointerup",at(this,tt))}attach(ht){at(this,st).set(ht.id,ht);const{annotationElementId:gt}=ht;gt&&at(this,ot).isDeletedAnnotationElement(gt)&&at(this,ot).removeDeletedAnnotationElement(ht)}detach(ht){var gt;at(this,st).delete(ht.id),(gt=at(this,j))==null||gt.removePointerInTextLayer(ht.contentDiv),!at(this,$)&&ht.annotationElementId&&at(this,ot).addDeletedAnnotationElement(ht)}remove(ht){this.detach(ht),at(this,ot).removeEditor(ht),ht.div.contains(document.activeElement)&&setTimeout(()=>{at(this,ot).focusMainContainer()},0),ht.div.remove(),ht.isAttachedToDOM=!1,at(this,et)||this.addInkEditorIfNeeded(!1)}changeParent(ht){var gt;ht.parent!==this&&(ht.annotationElementId&&(at(this,ot).addDeletedAnnotationElement(ht.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(ht),ht.annotationElementId=null),this.attach(ht),(gt=ht.parent)==null||gt.detach(ht),ht.setParent(this),ht.div&&ht.isAttachedToDOM&&(ht.div.remove(),this.div.append(ht.div)))}add(ht){if(this.changeParent(ht),at(this,ot).addEditor(ht),this.attach(ht),!ht.isAttachedToDOM){const gt=ht.render();this.div.append(gt),ht.isAttachedToDOM=!0}ht.fixAndSetPosition(),ht.onceAdded(),at(this,ot).addToAnnotationStorage(ht)}moveEditorInDOM(ht){var St;if(!ht.isAttachedToDOM)return;const{activeElement:gt}=document;ht.div.contains(gt)&&(ht._focusEventsAllowed=!1,setTimeout(()=>{ht.div.contains(document.activeElement)?ht._focusEventsAllowed=!0:(ht.div.addEventListener("focusin",()=>{ht._focusEventsAllowed=!0},{once:!0}),gt.focus())},0)),ht._structTreeParentId=(St=at(this,j))==null?void 0:St.moveElementInDOM(this.div,ht.div,ht.contentDiv,!0)}addOrRebuild(ht){ht.needsToBeRebuilt()?ht.rebuild():this.add(ht)}addUndoableEditor(ht){const gt=()=>ht._uiManager.rebuild(ht),St=()=>{ht.remove()};this.addCommands({cmd:gt,undo:St,mustExec:!1})}getNextId(){return at(this,ot).getId()}pasteEditor(ht,gt){at(this,ot).updateToolbar(ht),at(this,ot).updateMode(ht);const{offsetX:St,offsetY:Nt}=zt(this,lt,Br).call(this),Lt=this.getNextId(),kt=zt(this,lt,Vr).call(this,{parent:this,id:Lt,x:St,y:Nt,uiManager:at(this,ot),isCentered:!0,...gt});kt&&this.add(kt)}deserialize(ht){switch(ht.annotationType??ht.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(ht,this,at(this,ot));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(ht,this,at(this,ot));case o.AnnotationEditorType.STAMP:return g.StampEditor.deserialize(ht,this,at(this,ot))}return null}addNewEditor(){zt(this,lt,pr).call(this,zt(this,lt,Br).call(this),!0)}setSelected(ht){at(this,ot).setSelected(ht)}toggleSelected(ht){at(this,ot).toggleSelected(ht)}isSelected(ht){return at(this,ot).isSelected(ht)}unselect(ht){at(this,ot).unselect(ht)}pointerup(ht){const{isMac:gt}=o.FeatureTest.platform;if(!(ht.button!==0||ht.ctrlKey&&gt)&&ht.target===this.div&&at(this,nt)){if(Xt(this,nt,!1),!at(this,_)){Xt(this,_,!0);return}if(at(this,ot).getMode()===o.AnnotationEditorType.STAMP){at(this,ot).unselectAll();return}zt(this,lt,pr).call(this,ht,!1)}}pointerdown(ht){if(at(this,nt)){Xt(this,nt,!1);return}const{isMac:gt}=o.FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&gt||ht.target!==this.div)return;Xt(this,nt,!0);const St=at(this,ot).getActive();Xt(this,_,!St||St.isEmpty())}findNewParent(ht,gt,St){const Nt=at(this,ot).findParent(gt,St);return Nt===null||Nt===this?!1:(Nt.changeParent(ht),!0)}destroy(){var ht,gt;((ht=at(this,ot).getActive())==null?void 0:ht.parent)===this&&(at(this,ot).commitOrRemove(),at(this,ot).setActiveEditor(null));for(const St of at(this,st).values())(gt=at(this,j))==null||gt.removePointerInTextLayer(St.contentDiv),St.setParent(null),St.isAttachedToDOM=!1,St.div.remove();this.div=null,at(this,st).clear(),at(this,ot).removeLayer(this)}render({viewport:ht}){this.viewport=ht,(0,h.setLayerDimensions)(this.div,ht);for(const gt of at(this,ot).getEditors(this.pageIndex))this.add(gt);this.updateMode()}update({viewport:ht}){at(this,ot).commitOrRemove(),this.viewport=ht,(0,h.setLayerDimensions)(this.div,{rotation:ht.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ht,pageHeight:gt}=this.viewport.rawDims;return[ht,gt]}};j=new WeakMap,_=new WeakMap,_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,st=new WeakMap,nt=new WeakMap,et=new WeakMap,$=new WeakMap,ot=new WeakMap,lt=new WeakSet,Vr=function(ht){switch(at(this,ot).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(ht);case o.AnnotationEditorType.INK:return new d.InkEditor(ht);case o.AnnotationEditorType.STAMP:return new g.StampEditor(ht)}return null},pr=function(ht,gt){const St=this.getNextId(),Nt=zt(this,lt,Vr).call(this,{parent:this,id:St,x:ht.offsetX,y:ht.offsetY,uiManager:at(this,ot),isCentered:gt});return Nt&&this.add(Nt),Nt},Br=function(){const{x:ht,y:gt,width:St,height:Nt}=this.div.getBoundingClientRect(),Lt=Math.max(0,ht),kt=Math.max(0,gt),Ct=Math.min(window.innerWidth,ht+St),Tt=Math.min(window.innerHeight,gt+Nt),xt=(Lt+Ct)/2-ht,Rt=(kt+Tt)/2-gt,[It,bt]=this.viewport.rotation%180===0?[xt,Rt]:[Rt,xt];return{offsetX:It,offsetY:bt}},$r=function(){Xt(this,et,!0);for(const ht of at(this,st).values())ht.isEmpty()&&ht.remove();Xt(this,et,!1)},Vn(ft,"_initialized",!1);let b=ft;s.AnnotationEditorLayer=b},(e,s,i)=>{var g,b,j,_,_e,tt,rt,st,nt,et,gs,xs,ys,sr,zr,vs,Ur;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var o=i(1),a=i(5),c=i(4),d=i(29);const ft=class ft extends c.AnnotationEditor{constructor(gt){super({...gt,name:"freeTextEditor"});Kt(this,et);Kt(this,g,this.editorDivBlur.bind(this));Kt(this,b,this.editorDivFocus.bind(this));Kt(this,j,this.editorDivInput.bind(this));Kt(this,_,this.editorDivKeydown.bind(this));Kt(this,_e);Kt(this,tt,"");Kt(this,rt,`${this.id}-editor`);Kt(this,st);Kt(this,nt,null);Xt(this,_e,gt.color||ft._defaultColor||c.AnnotationEditor._defaultLineColor),Xt(this,st,gt.fontSize||ft._defaultFontSize)}static get _keyboardManager(){const gt=ft.prototype,St=kt=>kt.isEmpty(),Nt=a.AnnotationEditorUIManager.TRANSLATE_SMALL,Lt=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],gt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],gt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],gt._translateEmpty,{args:[-Nt,0],checker:St}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],gt._translateEmpty,{args:[-Lt,0],checker:St}],[["ArrowRight","mac+ArrowRight"],gt._translateEmpty,{args:[Nt,0],checker:St}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],gt._translateEmpty,{args:[Lt,0],checker:St}],[["ArrowUp","mac+ArrowUp"],gt._translateEmpty,{args:[0,-Nt],checker:St}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],gt._translateEmpty,{args:[0,-Lt],checker:St}],[["ArrowDown","mac+ArrowDown"],gt._translateEmpty,{args:[0,Nt],checker:St}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],gt._translateEmpty,{args:[0,Lt],checker:St}]]))}static initialize(gt){c.AnnotationEditor.initialize(gt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const St=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(St.getPropertyValue("--freetext-padding"))}static updateDefaultParams(gt,St){switch(gt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:ft._defaultFontSize=St;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:ft._defaultColor=St;break}}updateParams(gt,St){switch(gt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:zt(this,et,gs).call(this,St);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:zt(this,et,xs).call(this,St);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,ft._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,ft._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,at(this,st)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,at(this,_e)]]}_translateEmpty(gt,St){this._uiManager.translateSelectedEditors(gt,St,!0)}getInitialTranslation(){const gt=this.parentScale;return[-ft._internalPadding*gt,-(ft._internalPadding+at(this,st))*gt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",at(this,_)),this.editorDiv.addEventListener("focus",at(this,b)),this.editorDiv.addEventListener("blur",at(this,g)),this.editorDiv.addEventListener("input",at(this,j)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",at(this,rt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",at(this,_)),this.editorDiv.removeEventListener("focus",at(this,b)),this.editorDiv.removeEventListener("blur",at(this,g)),this.editorDiv.removeEventListener("input",at(this,j)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(gt){this._focusEventsAllowed&&(super.focusin(gt),gt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var gt;if(this.width){zt(this,et,Ur).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(gt=this._initialOptions)!=null&&gt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const gt=at(this,tt),St=Xt(this,tt,zt(this,et,ys).call(this).trimEnd());if(gt===St)return;const Nt=Lt=>{if(Xt(this,tt,Lt),!Lt){this.remove();return}zt(this,et,zr).call(this),this._uiManager.rebuild(this),zt(this,et,sr).call(this)};this.addCommands({cmd:()=>{Nt(St)},undo:()=>{Nt(gt)},mustExec:!1}),zt(this,et,sr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(gt){this.enterInEditMode()}keydown(gt){gt.target===this.div&&gt.key==="Enter"&&(this.enterInEditMode(),gt.preventDefault())}editorDivKeydown(gt){ft._keyboardManager.exec(this,gt)}editorDivFocus(gt){this.isEditing=!0}editorDivBlur(gt){this.isEditing=!1}editorDivInput(gt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let gt,St;this.width&&(gt=this.x,St=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",at(this,rt)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Lt=>{var kt;return(kt=this.editorDiv)==null?void 0:kt.setAttribute("aria-label",Lt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Lt=>{var kt;return(kt=this.editorDiv)==null?void 0:kt.setAttribute("default-content",Lt)}),this.editorDiv.contentEditable=!0;const{style:Nt}=this.editorDiv;if(Nt.fontSize=`calc(${at(this,st)}px * var(--scale-factor))`,Nt.color=at(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Lt,kt]=this.parentDimensions;if(this.annotationElementId){const{position:Ct}=at(this,nt);let[Tt,xt]=this.getInitialTranslation();[Tt,xt]=this.pageTranslationToScreen(Tt,xt);const[Rt,It]=this.pageDimensions,[bt,pt]=this.pageTranslation;let mt,vt;switch(this.rotation){case 0:mt=gt+(Ct[0]-bt)/Rt,vt=St+this.height-(Ct[1]-pt)/It;break;case 90:mt=gt+(Ct[0]-bt)/Rt,vt=St-(Ct[1]-pt)/It,[Tt,xt]=[xt,-Tt];break;case 180:mt=gt-this.width+(Ct[0]-bt)/Rt,vt=St-(Ct[1]-pt)/It,[Tt,xt]=[-Tt,-xt];break;case 270:mt=gt+(Ct[0]-bt-this.height*It)/Rt,vt=St+(Ct[1]-pt-this.width*Rt)/It,[Tt,xt]=[-xt,Tt];break}this.setAt(mt*Lt,vt*kt,Tt,xt)}else this.setAt(gt*Lt,St*kt,this.width*Lt,this.height*kt);zt(this,et,zr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(gt,St,Nt){let Lt=null;if(gt instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ct,fontColor:Tt},rect:xt,rotation:Rt,id:It},textContent:bt,textPosition:pt,parent:{page:{pageNumber:mt}}}=gt;if(!bt||bt.length===0)return null;Lt=gt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Tt),fontSize:Ct,value:bt.join(`
`),position:pt,pageIndex:mt-1,rect:xt,rotation:Rt,id:It,deleted:!1}}const kt=super.deserialize(gt,St,Nt);return Xt(kt,st,gt.fontSize),Xt(kt,_e,o.Util.makeHexColor(...gt.color)),Xt(kt,tt,gt.value),kt.annotationElementId=gt.id||null,Xt(kt,nt,Lt),kt}serialize(gt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const St=ft._internalPadding*this.parentScale,Nt=this.getRect(St,St),Lt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:at(this,_e)),kt={annotationType:o.AnnotationEditorType.FREETEXT,color:Lt,fontSize:at(this,st),value:at(this,tt),pageIndex:this.pageIndex,rect:Nt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return gt?kt:this.annotationElementId&&!zt(this,et,vs).call(this,kt)?null:(kt.id=this.annotationElementId,kt)}};g=new WeakMap,b=new WeakMap,j=new WeakMap,_=new WeakMap,_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,st=new WeakMap,nt=new WeakMap,et=new WeakSet,gs=function(gt){const St=Lt=>{this.editorDiv.style.fontSize=`calc(${Lt}px * var(--scale-factor))`,this.translate(0,-(Lt-at(this,st))*this.parentScale),Xt(this,st,Lt),zt(this,et,sr).call(this)},Nt=at(this,st);this.addCommands({cmd:()=>{St(gt)},undo:()=>{St(Nt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xs=function(gt){const St=at(this,_e);this.addCommands({cmd:()=>{Xt(this,_e,this.editorDiv.style.color=gt)},undo:()=>{Xt(this,_e,this.editorDiv.style.color=St)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ys=function(){const gt=this.editorDiv.getElementsByTagName("div");if(gt.length===0)return this.editorDiv.innerText;const St=[];for(const Nt of gt)St.push(Nt.innerText.replace(/\r\n?|\n/,""));return St.join(`
`)},sr=function(){const[gt,St]=this.parentDimensions;let Nt;if(this.isAttachedToDOM)Nt=this.div.getBoundingClientRect();else{const{currentLayer:Lt,div:kt}=this,Ct=kt.style.display;kt.style.display="hidden",Lt.div.append(this.div),Nt=kt.getBoundingClientRect(),kt.remove(),kt.style.display=Ct}this.rotation%180===this.parentRotation%180?(this.width=Nt.width/gt,this.height=Nt.height/St):(this.width=Nt.height/gt,this.height=Nt.width/St),this.fixAndSetPosition()},zr=function(){if(this.editorDiv.replaceChildren(),!!at(this,tt))for(const gt of at(this,tt).split(`
`)){const St=document.createElement("div");St.append(gt?document.createTextNode(gt):document.createElement("br")),this.editorDiv.append(St)}},vs=function(gt){const{value:St,fontSize:Nt,color:Lt,rect:kt,pageIndex:Ct}=at(this,nt);return gt.value!==St||gt.fontSize!==Nt||gt.rect.some((Tt,xt)=>Math.abs(Tt-kt[xt])>=1)||gt.color.some((Tt,xt)=>Tt!==Lt[xt])||gt.pageIndex!==Ct},Ur=function(gt=!1){if(!this.annotationElementId)return;if(zt(this,et,sr).call(this),!gt&&(this.width===0||this.height===0)){setTimeout(()=>zt(this,et,Ur).call(this,!0),0);return}const St=ft._internalPadding*this.parentScale;at(this,nt).rect=this.getRect(St,St)},Vn(ft,"_freeTextDefaultContent",""),Vn(ft,"_internalPadding",0),Vn(ft,"_defaultColor",null),Vn(ft,"_defaultFontSize",10),Vn(ft,"_type","freetext");let h=ft;s.FreeTextEditor=h},(e,s,i)=>{var vt,jt,Kn,Es,Wt,Qt,Jt,on,rn,Gt,Ft,Bt,Et,_t,$t,Ht,nn,dn,ln,Ut,fn,pn,bs,fr,Wr,Hr,Rn,kn,In,un,qt,Yt,yn,Gr,Ln,Mt,sn,mn,Ss,Kr;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var o=i(1),a=i(6),c=i(3),d=i(30),h=i(31),g=i(32);const b=1e3,j=9,_=new WeakSet;function _e(xn){return{width:xn[2]-xn[0],height:xn[3]-xn[1]}}class tt{static create(Pt){switch(Pt.data.annotationType){case o.AnnotationType.LINK:return new st(Pt);case o.AnnotationType.TEXT:return new nt(Pt);case o.AnnotationType.WIDGET:switch(Pt.data.fieldType){case"Tx":return new $(Pt);case"Btn":return Pt.data.radioButton?new it(Pt):Pt.data.checkBox?new lt(Pt):new dt(Pt);case"Ch":return new ct(Pt);case"Sig":return new ot(Pt)}return new et(Pt);case o.AnnotationType.POPUP:return new ut(Pt);case o.AnnotationType.FREETEXT:return new yt(Pt);case o.AnnotationType.LINE:return new ht(Pt);case o.AnnotationType.SQUARE:return new gt(Pt);case o.AnnotationType.CIRCLE:return new St(Pt);case o.AnnotationType.POLYLINE:return new Nt(Pt);case o.AnnotationType.CARET:return new kt(Pt);case o.AnnotationType.INK:return new Ct(Pt);case o.AnnotationType.POLYGON:return new Lt(Pt);case o.AnnotationType.HIGHLIGHT:return new Tt(Pt);case o.AnnotationType.UNDERLINE:return new xt(Pt);case o.AnnotationType.SQUIGGLY:return new Rt(Pt);case o.AnnotationType.STRIKEOUT:return new It(Pt);case o.AnnotationType.STAMP:return new bt(Pt);case o.AnnotationType.FILEATTACHMENT:return new pt(Pt);default:return new rt(Pt)}}}const At=class At{constructor(Pt,{isRenderable:wt=!1,ignoreBorder:Ot=!1,createQuadrilaterals:Zt=!1}={}){Kt(this,vt,!1);this.isRenderable=wt,this.data=Pt.data,this.layer=Pt.layer,this.linkService=Pt.linkService,this.downloadManager=Pt.downloadManager,this.imageResourcesPath=Pt.imageResourcesPath,this.renderForms=Pt.renderForms,this.svgFactory=Pt.svgFactory,this.annotationStorage=Pt.annotationStorage,this.enableScripting=Pt.enableScripting,this.hasJSActions=Pt.hasJSActions,this._fieldObjects=Pt.fieldObjects,this.parent=Pt.parent,wt&&(this.container=this._createContainer(Ot)),Zt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Pt,contentsObj:wt,richText:Ot}){return!!(Pt!=null&&Pt.str||wt!=null&&wt.str||Ot!=null&&Ot.str)}get hasPopupData(){return At._hasPopupData(this.data)}_createContainer(Pt){const{data:wt,parent:{page:Ot,viewport:Zt}}=this,tn=document.createElement("section");tn.setAttribute("data-annotation-id",wt.id),this instanceof et||(tn.tabIndex=b),tn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&tn.setAttribute("aria-haspopup","dialog"),wt.noRotate&&tn.classList.add("norotate");const{pageWidth:an,pageHeight:hn,pageX:wn,pageY:En}=Zt.rawDims;if(!wt.rect||this instanceof ut){const{rotation:Tn}=wt;return!wt.hasOwnCanvas&&Tn!==0&&this.setRotation(Tn,tn),tn}const{width:gn,height:_n}=_e(wt.rect),bn=o.Util.normalizeRect([wt.rect[0],Ot.view[3]-wt.rect[1]+Ot.view[1],wt.rect[2],Ot.view[3]-wt.rect[3]+Ot.view[1]]);if(!Pt&&wt.borderStyle.width>0){tn.style.borderWidth=`${wt.borderStyle.width}px`;const Tn=wt.borderStyle.horizontalCornerRadius,Nn=wt.borderStyle.verticalCornerRadius;if(Tn>0||Nn>0){const On=`calc(${Tn}px * var(--scale-factor)) / calc(${Nn}px * var(--scale-factor))`;tn.style.borderRadius=On}else if(this instanceof it){const On=`calc(${gn}px * var(--scale-factor)) / calc(${_n}px * var(--scale-factor))`;tn.style.borderRadius=On}switch(wt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:tn.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:tn.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:tn.style.borderBottomStyle="solid";break}const Fn=wt.borderColor||null;Fn?(Xt(this,vt,!0),tn.style.borderColor=o.Util.makeHexColor(Fn[0]|0,Fn[1]|0,Fn[2]|0)):tn.style.borderWidth=0}tn.style.left=`${100*(bn[0]-wn)/an}%`,tn.style.top=`${100*(bn[1]-En)/hn}%`;const{rotation:An}=wt;return wt.hasOwnCanvas||An===0?(tn.style.width=`${100*gn/an}%`,tn.style.height=`${100*_n/hn}%`):this.setRotation(An,tn),tn}setRotation(Pt,wt=this.container){if(!this.data.rect)return;const{pageWidth:Ot,pageHeight:Zt}=this.parent.viewport.rawDims,{width:tn,height:an}=_e(this.data.rect);let hn,wn;Pt%180===0?(hn=100*tn/Ot,wn=100*an/Zt):(hn=100*an/Ot,wn=100*tn/Zt),wt.style.width=`${hn}%`,wt.style.height=`${wn}%`,wt.setAttribute("data-main-rotation",(360-Pt)%360)}get _commonActions(){const Pt=(wt,Ot,Zt)=>{const tn=Zt.detail[wt],an=tn[0],hn=tn.slice(1);Zt.target.style[Ot]=d.ColorConverters[`${an}_HTML`](hn),this.annotationStorage.setValue(this.data.id,{[Ot]:d.ColorConverters[`${an}_rgb`](hn)})};return(0,o.shadow)(this,"_commonActions",{display:wt=>{const{display:Ot}=wt.detail,Zt=Ot%2===1;this.container.style.visibility=Zt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Zt,noPrint:Ot===1||Ot===2})},print:wt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!wt.detail.print})},hidden:wt=>{const{hidden:Ot}=wt.detail;this.container.style.visibility=Ot?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ot,noView:Ot})},focus:wt=>{setTimeout(()=>wt.target.focus({preventScroll:!1}),0)},userName:wt=>{wt.target.title=wt.detail.userName},readonly:wt=>{wt.target.disabled=wt.detail.readonly},required:wt=>{this._setRequired(wt.target,wt.detail.required)},bgColor:wt=>{Pt("bgColor","backgroundColor",wt)},fillColor:wt=>{Pt("fillColor","backgroundColor",wt)},fgColor:wt=>{Pt("fgColor","color",wt)},textColor:wt=>{Pt("textColor","color",wt)},borderColor:wt=>{Pt("borderColor","borderColor",wt)},strokeColor:wt=>{Pt("strokeColor","borderColor",wt)},rotation:wt=>{const Ot=wt.detail.rotation;this.setRotation(Ot),this.annotationStorage.setValue(this.data.id,{rotation:Ot})}})}_dispatchEventFromSandbox(Pt,wt){const Ot=this._commonActions;for(const Zt of Object.keys(wt.detail)){const tn=Pt[Zt]||Ot[Zt];tn==null||tn(wt)}}_setDefaultPropertiesFromJS(Pt){if(!this.enableScripting)return;const wt=this.annotationStorage.getRawValue(this.data.id);if(!wt)return;const Ot=this._commonActions;for(const[Zt,tn]of Object.entries(wt)){const an=Ot[Zt];if(an){const hn={detail:{[Zt]:tn},target:Pt};an(hn),delete wt[Zt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Pt}=this.data;if(!Pt)return;const[wt,Ot,Zt,tn]=this.data.rect;if(Pt.length===1){const[,{x:Nn,y:Fn},{x:On,y:$n}]=Pt[0];if(Zt===Nn&&tn===Fn&&wt===On&&Ot===$n)return}const{style:an}=this.container;let hn;if(at(this,vt)){const{borderColor:Nn,borderWidth:Fn}=an;an.borderWidth=0,hn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Nn}" stroke-width="${Fn}">`],this.container.classList.add("hasBorder")}const wn=Zt-wt,En=tn-Ot,{svgFactory:gn}=this,_n=gn.createElement("svg");_n.classList.add("quadrilateralsContainer"),_n.setAttribute("width",0),_n.setAttribute("height",0);const bn=gn.createElement("defs");_n.append(bn);const An=gn.createElement("clipPath"),Tn=`clippath_${this.data.id}`;An.setAttribute("id",Tn),An.setAttribute("clipPathUnits","objectBoundingBox"),bn.append(An);for(const[,{x:Nn,y:Fn},{x:On,y:$n}]of Pt){const Bn=gn.createElement("rect"),Un=(On-wt)/wn,Hn=(tn-Fn)/En,Gn=(Nn-On)/wn,ns=(Fn-$n)/En;Bn.setAttribute("x",Un),Bn.setAttribute("y",Hn),Bn.setAttribute("width",Gn),Bn.setAttribute("height",ns),An.append(Bn),hn==null||hn.push(`<rect vector-effect="non-scaling-stroke" x="${Un}" y="${Hn}" width="${Gn}" height="${ns}"/>`)}at(this,vt)&&(hn.push("</g></svg>')"),an.backgroundImage=hn.join("")),this.container.append(_n),this.container.style.clipPath=`url(#${Tn})`}_createPopup(){const{container:Pt,data:wt}=this;Pt.setAttribute("aria-haspopup","dialog");const Ot=new ut({data:{color:wt.color,titleObj:wt.titleObj,modificationDate:wt.modificationDate,contentsObj:wt.contentsObj,richText:wt.richText,parentRect:wt.rect,borderStyle:0,id:`popup_${wt.id}`,rotation:wt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ot.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Pt,wt=null){const Ot=[];if(this._fieldObjects){const Zt=this._fieldObjects[Pt];if(Zt)for(const{page:tn,id:an,exportValues:hn}of Zt){if(tn===-1||an===wt)continue;const wn=typeof hn=="string"?hn:null,En=document.querySelector(`[data-element-id="${an}"]`);if(En&&!_.has(En)){(0,o.warn)(`_getElementsByName - element not allowed: ${an}`);continue}Ot.push({id:an,exportValue:wn,domElement:En})}return Ot}for(const Zt of document.getElementsByName(Pt)){const{exportValue:tn}=Zt,an=Zt.getAttribute("data-element-id");an!==wt&&_.has(Zt)&&Ot.push({id:an,exportValue:tn,domElement:Zt})}return Ot}show(){var Pt;this.container&&(this.container.hidden=!1),(Pt=this.popup)==null||Pt.maybeShow()}hide(){var Pt;this.container&&(this.container.hidden=!0),(Pt=this.popup)==null||Pt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Pt=this.getElementsToTriggerPopup();if(Array.isArray(Pt))for(const wt of Pt)wt.classList.add("highlightArea");else Pt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Pt,data:{id:wt}}=this;this.container.addEventListener("dblclick",()=>{var Ot;(Ot=this.linkService.eventBus)==null||Ot.dispatch("switchannotationeditormode",{source:this,mode:Pt,editId:wt})})}};vt=new WeakMap;let rt=At;class st extends rt{constructor(wt,Ot=null){super(wt,{isRenderable:!0,ignoreBorder:!!(Ot!=null&&Ot.ignoreBorder),createQuadrilaterals:!0});Kt(this,jt);this.isTooltipOnly=wt.data.isTooltipOnly}render(){const{data:wt,linkService:Ot}=this,Zt=document.createElement("a");Zt.setAttribute("data-element-id",wt.id);let tn=!1;return wt.url?(Ot.addLinkAttributes(Zt,wt.url,wt.newWindow),tn=!0):wt.action?(this._bindNamedAction(Zt,wt.action),tn=!0):wt.attachment?(this._bindAttachment(Zt,wt.attachment),tn=!0):wt.setOCGState?(zt(this,jt,Es).call(this,Zt,wt.setOCGState),tn=!0):wt.dest?(this._bindLink(Zt,wt.dest),tn=!0):(wt.actions&&(wt.actions.Action||wt.actions["Mouse Up"]||wt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Zt,wt),tn=!0),wt.resetForm?(this._bindResetFormAction(Zt,wt.resetForm),tn=!0):this.isTooltipOnly&&!tn&&(this._bindLink(Zt,""),tn=!0)),this.container.classList.add("linkAnnotation"),tn&&this.container.append(Zt),this.container}_bindLink(wt,Ot){wt.href=this.linkService.getDestinationHash(Ot),wt.onclick=()=>(Ot&&this.linkService.goToDestination(Ot),!1),(Ot||Ot==="")&&zt(this,jt,Kn).call(this)}_bindNamedAction(wt,Ot){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>(this.linkService.executeNamedAction(Ot),!1),zt(this,jt,Kn).call(this)}_bindAttachment(wt,Ot){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>{var Zt;return(Zt=this.downloadManager)==null||Zt.openOrDownloadData(this.container,Ot.content,Ot.filename),!1},zt(this,jt,Kn).call(this)}_bindJSAction(wt,Ot){wt.href=this.linkService.getAnchorUrl("");const Zt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const tn of Object.keys(Ot.actions)){const an=Zt.get(tn);an&&(wt[an]=()=>{var hn;return(hn=this.linkService.eventBus)==null||hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot.id,name:tn}}),!1})}wt.onclick||(wt.onclick=()=>!1),zt(this,jt,Kn).call(this)}_bindResetFormAction(wt,Ot){const Zt=wt.onclick;if(Zt||(wt.href=this.linkService.getAnchorUrl("")),zt(this,jt,Kn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Zt||(wt.onclick=()=>!1);return}wt.onclick=()=>{var _n;Zt==null||Zt();const{fields:tn,refs:an,include:hn}=Ot,wn=[];if(tn.length!==0||an.length!==0){const bn=new Set(an);for(const An of tn){const Tn=this._fieldObjects[An]||[];for(const{id:Nn}of Tn)bn.add(Nn)}for(const An of Object.values(this._fieldObjects))for(const Tn of An)bn.has(Tn.id)===hn&&wn.push(Tn)}else for(const bn of Object.values(this._fieldObjects))wn.push(...bn);const En=this.annotationStorage,gn=[];for(const bn of wn){const{id:An}=bn;switch(gn.push(An),bn.type){case"text":{const Nn=bn.defaultValue||"";En.setValue(An,{value:Nn});break}case"checkbox":case"radiobutton":{const Nn=bn.defaultValue===bn.exportValues;En.setValue(An,{value:Nn});break}case"combobox":case"listbox":{const Nn=bn.defaultValue||"";En.setValue(An,{value:Nn});break}default:continue}const Tn=document.querySelector(`[data-element-id="${An}"]`);if(Tn){if(!_.has(Tn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${An}`);continue}}else continue;Tn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:gn,name:"ResetForm"}})),!1}}}jt=new WeakSet,Kn=function(){this.container.setAttribute("data-internal-link","")},Es=function(wt,Ot){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>(this.linkService.executeSetOCGState(Ot),!1),zt(this,jt,Kn).call(this)};class nt extends rt{constructor(Pt){super(Pt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Pt=document.createElement("img");return Pt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Pt.alt="[{{type}} Annotation]",Pt.dataset.l10nId="text_annotation_type",Pt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Pt),this.container}}class et extends rt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Pt){var wt;this.data.hasOwnCanvas&&(((wt=Pt.previousSibling)==null?void 0:wt.nodeName)==="CANVAS"&&(Pt.previousSibling.hidden=!0),Pt.hidden=!1)}_getKeyModifier(Pt){const{isWin:wt,isMac:Ot}=o.FeatureTest.platform;return wt&&Pt.ctrlKey||Ot&&Pt.metaKey}_setEventListener(Pt,wt,Ot,Zt,tn){Ot.includes("mouse")?Pt.addEventListener(Ot,an=>{var hn;(hn=this.linkService.eventBus)==null||hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Zt,value:tn(an),shift:an.shiftKey,modifier:this._getKeyModifier(an)}})}):Pt.addEventListener(Ot,an=>{var hn;if(Ot==="blur"){if(!wt.focused||!an.relatedTarget)return;wt.focused=!1}else if(Ot==="focus"){if(wt.focused)return;wt.focused=!0}tn&&((hn=this.linkService.eventBus)==null||hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Zt,value:tn(an)}}))})}_setEventListeners(Pt,wt,Ot,Zt){var tn,an,hn;for(const[wn,En]of Ot)(En==="Action"||(tn=this.data.actions)!=null&&tn[En])&&((En==="Focus"||En==="Blur")&&(wt||(wt={focused:!1})),this._setEventListener(Pt,wt,wn,En,Zt),En==="Focus"&&!((an=this.data.actions)!=null&&an.Blur)?this._setEventListener(Pt,wt,"blur","Blur",null):En==="Blur"&&!((hn=this.data.actions)!=null&&hn.Focus)&&this._setEventListener(Pt,wt,"focus","Focus",null))}_setBackgroundColor(Pt){const wt=this.data.backgroundColor||null;Pt.style.backgroundColor=wt===null?"transparent":o.Util.makeHexColor(wt[0],wt[1],wt[2])}_setTextStyle(Pt){const wt=["left","center","right"],{fontColor:Ot}=this.data.defaultAppearanceData,Zt=this.data.defaultAppearanceData.fontSize||j,tn=Pt.style;let an;const hn=2,wn=En=>Math.round(10*En)/10;if(this.data.multiLine){const En=Math.abs(this.data.rect[3]-this.data.rect[1]-hn),gn=Math.round(En/(o.LINE_FACTOR*Zt))||1,_n=En/gn;an=Math.min(Zt,wn(_n/o.LINE_FACTOR))}else{const En=Math.abs(this.data.rect[3]-this.data.rect[1]-hn);an=Math.min(Zt,wn(En/o.LINE_FACTOR))}tn.fontSize=`calc(${an}px * var(--scale-factor))`,tn.color=o.Util.makeHexColor(Ot[0],Ot[1],Ot[2]),this.data.textAlignment!==null&&(tn.textAlign=wt[this.data.textAlignment])}_setRequired(Pt,wt){wt?Pt.setAttribute("required",!0):Pt.removeAttribute("required"),Pt.setAttribute("aria-required",wt)}}class $ extends et{constructor(Pt){const wt=Pt.renderForms||!Pt.data.hasAppearance&&!!Pt.data.fieldValue;super(Pt,{isRenderable:wt})}setPropertyOnSiblings(Pt,wt,Ot,Zt){const tn=this.annotationStorage;for(const an of this._getElementsByName(Pt.name,Pt.id))an.domElement&&(an.domElement[wt]=Ot),tn.setValue(an.id,{[Zt]:Ot})}render(){var Zt,tn;const Pt=this.annotationStorage,wt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ot=null;if(this.renderForms){const an=Pt.getValue(wt,{value:this.data.fieldValue});let hn=an.value||"";const wn=Pt.getValue(wt,{charLimit:this.data.maxLen}).charLimit;wn&&hn.length>wn&&(hn=hn.slice(0,wn));let En=an.formattedValue||((Zt=this.data.textContent)==null?void 0:Zt.join(`
`))||null;En&&this.data.comb&&(En=En.replaceAll(/\s+/g,""));const gn={userValue:hn,formattedValue:En,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ot=document.createElement("textarea"),Ot.textContent=En??hn,this.data.doNotScroll&&(Ot.style.overflowY="hidden")):(Ot=document.createElement("input"),Ot.type="text",Ot.setAttribute("value",En??hn),this.data.doNotScroll&&(Ot.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ot.hidden=!0),_.add(Ot),Ot.setAttribute("data-element-id",wt),Ot.disabled=this.data.readOnly,Ot.name=this.data.fieldName,Ot.tabIndex=b,this._setRequired(Ot,this.data.required),wn&&(Ot.maxLength=wn),Ot.addEventListener("input",bn=>{Pt.setValue(wt,{value:bn.target.value}),this.setPropertyOnSiblings(Ot,"value",bn.target.value,"value"),gn.formattedValue=null}),Ot.addEventListener("resetform",bn=>{const An=this.data.defaultFieldValue??"";Ot.value=gn.userValue=An,gn.formattedValue=null});let _n=bn=>{const{formattedValue:An}=gn;An!=null&&(bn.target.value=An),bn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ot.addEventListener("focus",An=>{if(gn.focused)return;const{target:Tn}=An;gn.userValue&&(Tn.value=gn.userValue),gn.lastCommittedValue=Tn.value,gn.commitKey=1,gn.focused=!0}),Ot.addEventListener("updatefromsandbox",An=>{this.showElementAndHideCanvas(An.target);const Tn={value(Nn){gn.userValue=Nn.detail.value??"",Pt.setValue(wt,{value:gn.userValue.toString()}),Nn.target.value=gn.userValue},formattedValue(Nn){const{formattedValue:Fn}=Nn.detail;gn.formattedValue=Fn,Fn!=null&&Nn.target!==document.activeElement&&(Nn.target.value=Fn),Pt.setValue(wt,{formattedValue:Fn})},selRange(Nn){Nn.target.setSelectionRange(...Nn.detail.selRange)},charLimit:Nn=>{var Bn;const{charLimit:Fn}=Nn.detail,{target:On}=Nn;if(Fn===0){On.removeAttribute("maxLength");return}On.setAttribute("maxLength",Fn);let $n=gn.userValue;!$n||$n.length<=Fn||($n=$n.slice(0,Fn),On.value=gn.userValue=$n,Pt.setValue(wt,{value:$n}),(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:$n,willCommit:!0,commitKey:1,selStart:On.selectionStart,selEnd:On.selectionEnd}}))}};this._dispatchEventFromSandbox(Tn,An)}),Ot.addEventListener("keydown",An=>{var Fn;gn.commitKey=1;let Tn=-1;if(An.key==="Escape"?Tn=0:An.key==="Enter"&&!this.data.multiLine?Tn=2:An.key==="Tab"&&(gn.commitKey=3),Tn===-1)return;const{value:Nn}=An.target;gn.lastCommittedValue!==Nn&&(gn.lastCommittedValue=Nn,gn.userValue=Nn,(Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Nn,willCommit:!0,commitKey:Tn,selStart:An.target.selectionStart,selEnd:An.target.selectionEnd}}))});const bn=_n;_n=null,Ot.addEventListener("blur",An=>{var Nn;if(!gn.focused||!An.relatedTarget)return;gn.focused=!1;const{value:Tn}=An.target;gn.userValue=Tn,gn.lastCommittedValue!==Tn&&((Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Tn,willCommit:!0,commitKey:gn.commitKey,selStart:An.target.selectionStart,selEnd:An.target.selectionEnd}})),bn(An)}),(tn=this.data.actions)!=null&&tn.Keystroke&&Ot.addEventListener("beforeinput",An=>{var Hn;gn.lastCommittedValue=null;const{data:Tn,target:Nn}=An,{value:Fn,selectionStart:On,selectionEnd:$n}=Nn;let Bn=On,Un=$n;switch(An.inputType){case"deleteWordBackward":{const Gn=Fn.substring(0,On).match(/\w*[^\w]*$/);Gn&&(Bn-=Gn[0].length);break}case"deleteWordForward":{const Gn=Fn.substring(On).match(/^[^\w]*\w*/);Gn&&(Un+=Gn[0].length);break}case"deleteContentBackward":On===$n&&(Bn-=1);break;case"deleteContentForward":On===$n&&(Un+=1);break}An.preventDefault(),(Hn=this.linkService.eventBus)==null||Hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Fn,change:Tn||"",willCommit:!1,selStart:Bn,selEnd:Un}})}),this._setEventListeners(Ot,gn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],An=>An.target.value)}if(_n&&Ot.addEventListener("blur",_n),this.data.comb){const An=(this.data.rect[2]-this.data.rect[0])/wn;Ot.classList.add("comb"),Ot.style.letterSpacing=`calc(${An}px * var(--scale-factor) - 1ch)`}}else Ot=document.createElement("div"),Ot.textContent=this.data.fieldValue,Ot.style.verticalAlign="middle",Ot.style.display="table-cell";return this._setTextStyle(Ot),this._setBackgroundColor(Ot),this._setDefaultPropertiesFromJS(Ot),this.container.append(Ot),this.container}}class ot extends et{constructor(Pt){super(Pt,{isRenderable:!!Pt.data.hasOwnCanvas})}}class lt extends et{constructor(Pt){super(Pt,{isRenderable:Pt.renderForms})}render(){const Pt=this.annotationStorage,wt=this.data,Ot=wt.id;let Zt=Pt.getValue(Ot,{value:wt.exportValue===wt.fieldValue}).value;typeof Zt=="string"&&(Zt=Zt!=="Off",Pt.setValue(Ot,{value:Zt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const tn=document.createElement("input");return _.add(tn),tn.setAttribute("data-element-id",Ot),tn.disabled=wt.readOnly,this._setRequired(tn,this.data.required),tn.type="checkbox",tn.name=wt.fieldName,Zt&&tn.setAttribute("checked",!0),tn.setAttribute("exportValue",wt.exportValue),tn.tabIndex=b,tn.addEventListener("change",an=>{const{name:hn,checked:wn}=an.target;for(const En of this._getElementsByName(hn,Ot)){const gn=wn&&En.exportValue===wt.exportValue;En.domElement&&(En.domElement.checked=gn),Pt.setValue(En.id,{value:gn})}Pt.setValue(Ot,{value:wn})}),tn.addEventListener("resetform",an=>{const hn=wt.defaultFieldValue||"Off";an.target.checked=hn===wt.exportValue}),this.enableScripting&&this.hasJSActions&&(tn.addEventListener("updatefromsandbox",an=>{const hn={value(wn){wn.target.checked=wn.detail.value!=="Off",Pt.setValue(Ot,{value:wn.target.checked})}};this._dispatchEventFromSandbox(hn,an)}),this._setEventListeners(tn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],an=>an.target.checked)),this._setBackgroundColor(tn),this._setDefaultPropertiesFromJS(tn),this.container.append(tn),this.container}}class it extends et{constructor(Pt){super(Pt,{isRenderable:Pt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Pt=this.annotationStorage,wt=this.data,Ot=wt.id;let Zt=Pt.getValue(Ot,{value:wt.fieldValue===wt.buttonValue}).value;typeof Zt=="string"&&(Zt=Zt!==wt.buttonValue,Pt.setValue(Ot,{value:Zt}));const tn=document.createElement("input");if(_.add(tn),tn.setAttribute("data-element-id",Ot),tn.disabled=wt.readOnly,this._setRequired(tn,this.data.required),tn.type="radio",tn.name=wt.fieldName,Zt&&tn.setAttribute("checked",!0),tn.tabIndex=b,tn.addEventListener("change",an=>{const{name:hn,checked:wn}=an.target;for(const En of this._getElementsByName(hn,Ot))Pt.setValue(En.id,{value:!1});Pt.setValue(Ot,{value:wn})}),tn.addEventListener("resetform",an=>{const hn=wt.defaultFieldValue;an.target.checked=hn!=null&&hn===wt.buttonValue}),this.enableScripting&&this.hasJSActions){const an=wt.buttonValue;tn.addEventListener("updatefromsandbox",hn=>{const wn={value:En=>{const gn=an===En.detail.value;for(const _n of this._getElementsByName(En.target.name)){const bn=gn&&_n.id===Ot;_n.domElement&&(_n.domElement.checked=bn),Pt.setValue(_n.id,{value:bn})}}};this._dispatchEventFromSandbox(wn,hn)}),this._setEventListeners(tn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],hn=>hn.target.checked)}return this._setBackgroundColor(tn),this._setDefaultPropertiesFromJS(tn),this.container.append(tn),this.container}}class dt extends st{constructor(Pt){super(Pt,{ignoreBorder:Pt.data.hasAppearance})}render(){const Pt=super.render();Pt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Pt.title=this.data.alternativeText);const wt=Pt.lastChild;return this.enableScripting&&this.hasJSActions&&wt&&(this._setDefaultPropertiesFromJS(wt),wt.addEventListener("updatefromsandbox",Ot=>{this._dispatchEventFromSandbox({},Ot)})),Pt}}class ct extends et{constructor(Pt){super(Pt,{isRenderable:Pt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Pt=this.annotationStorage,wt=this.data.id,Ot=Pt.getValue(wt,{value:this.data.fieldValue}),Zt=document.createElement("select");_.add(Zt),Zt.setAttribute("data-element-id",wt),Zt.disabled=this.data.readOnly,this._setRequired(Zt,this.data.required),Zt.name=this.data.fieldName,Zt.tabIndex=b;let tn=this.data.combo&&this.data.options.length>0;this.data.combo||(Zt.size=this.data.options.length,this.data.multiSelect&&(Zt.multiple=!0)),Zt.addEventListener("resetform",gn=>{const _n=this.data.defaultFieldValue;for(const bn of Zt.options)bn.selected=bn.value===_n});for(const gn of this.data.options){const _n=document.createElement("option");_n.textContent=gn.displayValue,_n.value=gn.exportValue,Ot.value.includes(gn.exportValue)&&(_n.setAttribute("selected",!0),tn=!1),Zt.append(_n)}let an=null;if(tn){const gn=document.createElement("option");gn.value=" ",gn.setAttribute("hidden",!0),gn.setAttribute("selected",!0),Zt.prepend(gn),an=()=>{gn.remove(),Zt.removeEventListener("input",an),an=null},Zt.addEventListener("input",an)}const hn=gn=>{const _n=gn?"value":"textContent",{options:bn,multiple:An}=Zt;return An?Array.prototype.filter.call(bn,Tn=>Tn.selected).map(Tn=>Tn[_n]):bn.selectedIndex===-1?null:bn[bn.selectedIndex][_n]};let wn=hn(!1);const En=gn=>{const _n=gn.target.options;return Array.prototype.map.call(_n,bn=>({displayValue:bn.textContent,exportValue:bn.value}))};return this.enableScripting&&this.hasJSActions?(Zt.addEventListener("updatefromsandbox",gn=>{const _n={value(bn){an==null||an();const An=bn.detail.value,Tn=new Set(Array.isArray(An)?An:[An]);for(const Nn of Zt.options)Nn.selected=Tn.has(Nn.value);Pt.setValue(wt,{value:hn(!0)}),wn=hn(!1)},multipleSelection(bn){Zt.multiple=!0},remove(bn){const An=Zt.options,Tn=bn.detail.remove;An[Tn].selected=!1,Zt.remove(Tn),An.length>0&&Array.prototype.findIndex.call(An,Fn=>Fn.selected)===-1&&(An[0].selected=!0),Pt.setValue(wt,{value:hn(!0),items:En(bn)}),wn=hn(!1)},clear(bn){for(;Zt.length!==0;)Zt.remove(0);Pt.setValue(wt,{value:null,items:[]}),wn=hn(!1)},insert(bn){const{index:An,displayValue:Tn,exportValue:Nn}=bn.detail.insert,Fn=Zt.children[An],On=document.createElement("option");On.textContent=Tn,On.value=Nn,Fn?Fn.before(On):Zt.append(On),Pt.setValue(wt,{value:hn(!0),items:En(bn)}),wn=hn(!1)},items(bn){const{items:An}=bn.detail;for(;Zt.length!==0;)Zt.remove(0);for(const Tn of An){const{displayValue:Nn,exportValue:Fn}=Tn,On=document.createElement("option");On.textContent=Nn,On.value=Fn,Zt.append(On)}Zt.options.length>0&&(Zt.options[0].selected=!0),Pt.setValue(wt,{value:hn(!0),items:En(bn)}),wn=hn(!1)},indices(bn){const An=new Set(bn.detail.indices);for(const Tn of bn.target.options)Tn.selected=An.has(Tn.index);Pt.setValue(wt,{value:hn(!0)}),wn=hn(!1)},editable(bn){bn.target.disabled=!bn.detail.editable}};this._dispatchEventFromSandbox(_n,gn)}),Zt.addEventListener("input",gn=>{var bn;const _n=hn(!0);Pt.setValue(wt,{value:_n}),gn.preventDefault(),(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:wn,changeEx:_n,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Zt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],gn=>gn.target.value)):Zt.addEventListener("input",function(gn){Pt.setValue(wt,{value:hn(!0)})}),this.data.combo&&this._setTextStyle(Zt),this._setBackgroundColor(Zt),this._setDefaultPropertiesFromJS(Zt),this.container.append(Zt),this.container}}class ut extends rt{constructor(Pt){const{data:wt,elements:Ot}=Pt;super(Pt,{isRenderable:rt._hasPopupData(wt)}),this.elements=Ot}render(){this.container.classList.add("popupAnnotation");const Pt=new ft({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),wt=[];for(const Ot of this.elements)Ot.popup=Pt,wt.push(Ot.data.id),Ot.addHighlightArea();return this.container.setAttribute("aria-controls",wt.map(Ot=>`${o.AnnotationPrefix}${Ot}`).join(",")),this.container}}class ft{constructor({container:Pt,color:wt,elements:Ot,titleObj:Zt,modificationDate:tn,contentsObj:an,richText:hn,parent:wn,rect:En,parentRect:gn,open:_n}){Kt(this,pn);Kt(this,Wt,null);Kt(this,Qt,zt(this,pn,bs).bind(this));Kt(this,Jt,zt(this,pn,Hr).bind(this));Kt(this,on,zt(this,pn,Wr).bind(this));Kt(this,rn,zt(this,pn,fr).bind(this));Kt(this,Gt,null);Kt(this,Ft,null);Kt(this,Bt,null);Kt(this,Et,null);Kt(this,_t,null);Kt(this,$t,null);Kt(this,Ht,!1);Kt(this,nn,null);Kt(this,dn,null);Kt(this,ln,null);Kt(this,Ut,null);Kt(this,fn,!1);var An;Xt(this,Ft,Pt),Xt(this,Ut,Zt),Xt(this,Bt,an),Xt(this,ln,hn),Xt(this,_t,wn),Xt(this,Gt,wt),Xt(this,dn,En),Xt(this,$t,gn),Xt(this,Et,Ot);const bn=a.PDFDateString.toDateObject(tn);bn&&Xt(this,Wt,wn.l10n.get("annotation_date_string",{date:bn.toLocaleDateString(),time:bn.toLocaleTimeString()})),this.trigger=Ot.flatMap(Tn=>Tn.getElementsToTriggerPopup());for(const Tn of this.trigger)Tn.addEventListener("click",at(this,rn)),Tn.addEventListener("mouseenter",at(this,on)),Tn.addEventListener("mouseleave",at(this,Jt)),Tn.classList.add("popupTriggerArea");for(const Tn of Ot)(An=Tn.container)==null||An.addEventListener("keydown",at(this,Qt));at(this,Ft).hidden=!0,_n&&zt(this,pn,fr).call(this)}render(){if(at(this,nn))return;const{page:{view:Pt},viewport:{rawDims:{pageWidth:wt,pageHeight:Ot,pageX:Zt,pageY:tn}}}=at(this,_t),an=Xt(this,nn,document.createElement("div"));if(an.className="popup",at(this,Gt)){const Bn=an.style.outlineColor=o.Util.makeHexColor(...at(this,Gt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?an.style.backgroundColor=`color-mix(in srgb, ${Bn} 30%, white)`:an.style.backgroundColor=o.Util.makeHexColor(...at(this,Gt).map(Hn=>Math.floor(.7*(255-Hn)+Hn)))}const hn=document.createElement("span");hn.className="header";const wn=document.createElement("h1");if(hn.append(wn),{dir:wn.dir,str:wn.textContent}=at(this,Ut),an.append(hn),at(this,Wt)){const Bn=document.createElement("span");Bn.classList.add("popupDate"),at(this,Wt).then(Un=>{Bn.textContent=Un}),hn.append(Bn)}const En=at(this,Bt),gn=at(this,ln);if(gn!=null&&gn.str&&(!(En!=null&&En.str)||En.str===gn.str))g.XfaLayer.render({xfaHtml:gn.html,intent:"richText",div:an}),an.lastChild.classList.add("richText","popupContent");else{const Bn=this._formatContents(En);an.append(Bn)}let _n=!!at(this,$t),bn=_n?at(this,$t):at(this,dn);for(const Bn of at(this,Et))if(!bn||o.Util.intersect(Bn.data.rect,bn)!==null){bn=Bn.data.rect,_n=!0;break}const An=o.Util.normalizeRect([bn[0],Pt[3]-bn[1]+Pt[1],bn[2],Pt[3]-bn[3]+Pt[1]]),Nn=_n?bn[2]-bn[0]+5:0,Fn=An[0]+Nn,On=An[1],{style:$n}=at(this,Ft);$n.left=`${100*(Fn-Zt)/wt}%`,$n.top=`${100*(On-tn)/Ot}%`,at(this,Ft).append(an)}_formatContents({str:Pt,dir:wt}){const Ot=document.createElement("p");Ot.classList.add("popupContent"),Ot.dir=wt;const Zt=Pt.split(/(?:\r\n?|\n)/);for(let tn=0,an=Zt.length;tn<an;++tn){const hn=Zt[tn];Ot.append(document.createTextNode(hn)),tn<an-1&&Ot.append(document.createElement("br"))}return Ot}forceHide(){Xt(this,fn,this.isVisible),at(this,fn)&&(at(this,Ft).hidden=!0)}maybeShow(){at(this,fn)&&(Xt(this,fn,!1),at(this,Ft).hidden=!1)}get isVisible(){return at(this,Ft).hidden===!1}}Wt=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,on=new WeakMap,rn=new WeakMap,Gt=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,Et=new WeakMap,_t=new WeakMap,$t=new WeakMap,Ht=new WeakMap,nn=new WeakMap,dn=new WeakMap,ln=new WeakMap,Ut=new WeakMap,fn=new WeakMap,pn=new WeakSet,bs=function(Pt){Pt.altKey||Pt.shiftKey||Pt.ctrlKey||Pt.metaKey||(Pt.key==="Enter"||Pt.key==="Escape"&&at(this,Ht))&&zt(this,pn,fr).call(this)},fr=function(){Xt(this,Ht,!at(this,Ht)),at(this,Ht)?(zt(this,pn,Wr).call(this),at(this,Ft).addEventListener("click",at(this,rn)),at(this,Ft).addEventListener("keydown",at(this,Qt))):(zt(this,pn,Hr).call(this),at(this,Ft).removeEventListener("click",at(this,rn)),at(this,Ft).removeEventListener("keydown",at(this,Qt)))},Wr=function(){at(this,nn)||this.render(),this.isVisible?at(this,Ht)&&at(this,Ft).classList.add("focused"):(at(this,Ft).hidden=!1,at(this,Ft).style.zIndex=parseInt(at(this,Ft).style.zIndex)+1e3)},Hr=function(){at(this,Ft).classList.remove("focused"),!(at(this,Ht)||!this.isVisible)&&(at(this,Ft).hidden=!0,at(this,Ft).style.zIndex=parseInt(at(this,Ft).style.zIndex)-1e3)};class yt extends rt{constructor(Pt){super(Pt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Pt.data.textContent,this.textPosition=Pt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Pt=document.createElement("div");Pt.classList.add("annotationTextContent"),Pt.setAttribute("role","comment");for(const wt of this.textContent){const Ot=document.createElement("span");Ot.textContent=wt,Pt.append(Ot)}this.container.append(Pt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=yt;class ht extends rt{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Kt(this,Rn,null)}render(){this.container.classList.add("lineAnnotation");const wt=this.data,{width:Ot,height:Zt}=_e(wt.rect),tn=this.svgFactory.create(Ot,Zt,!0),an=Xt(this,Rn,this.svgFactory.createElement("svg:line"));return an.setAttribute("x1",wt.rect[2]-wt.lineCoordinates[0]),an.setAttribute("y1",wt.rect[3]-wt.lineCoordinates[1]),an.setAttribute("x2",wt.rect[2]-wt.lineCoordinates[2]),an.setAttribute("y2",wt.rect[3]-wt.lineCoordinates[3]),an.setAttribute("stroke-width",wt.borderStyle.width||1),an.setAttribute("stroke","transparent"),an.setAttribute("fill","transparent"),tn.append(an),this.container.append(tn),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Rn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rn=new WeakMap;class gt extends rt{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Kt(this,kn,null)}render(){this.container.classList.add("squareAnnotation");const wt=this.data,{width:Ot,height:Zt}=_e(wt.rect),tn=this.svgFactory.create(Ot,Zt,!0),an=wt.borderStyle.width,hn=Xt(this,kn,this.svgFactory.createElement("svg:rect"));return hn.setAttribute("x",an/2),hn.setAttribute("y",an/2),hn.setAttribute("width",Ot-an),hn.setAttribute("height",Zt-an),hn.setAttribute("stroke-width",an||1),hn.setAttribute("stroke","transparent"),hn.setAttribute("fill","transparent"),tn.append(hn),this.container.append(tn),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}kn=new WeakMap;class St extends rt{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Kt(this,In,null)}render(){this.container.classList.add("circleAnnotation");const wt=this.data,{width:Ot,height:Zt}=_e(wt.rect),tn=this.svgFactory.create(Ot,Zt,!0),an=wt.borderStyle.width,hn=Xt(this,In,this.svgFactory.createElement("svg:ellipse"));return hn.setAttribute("cx",Ot/2),hn.setAttribute("cy",Zt/2),hn.setAttribute("rx",Ot/2-an/2),hn.setAttribute("ry",Zt/2-an/2),hn.setAttribute("stroke-width",an||1),hn.setAttribute("stroke","transparent"),hn.setAttribute("fill","transparent"),tn.append(hn),this.container.append(tn),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,In)}addHighlightArea(){this.container.classList.add("highlightArea")}}In=new WeakMap;class Nt extends rt{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Kt(this,un,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const wt=this.data,{width:Ot,height:Zt}=_e(wt.rect),tn=this.svgFactory.create(Ot,Zt,!0);let an=[];for(const wn of wt.vertices){const En=wn.x-wt.rect[0],gn=wt.rect[3]-wn.y;an.push(En+","+gn)}an=an.join(" ");const hn=Xt(this,un,this.svgFactory.createElement(this.svgElementName));return hn.setAttribute("points",an),hn.setAttribute("stroke-width",wt.borderStyle.width||1),hn.setAttribute("stroke","transparent"),hn.setAttribute("fill","transparent"),tn.append(hn),this.container.append(tn),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,un)}addHighlightArea(){this.container.classList.add("highlightArea")}}un=new WeakMap;class Lt extends Nt{constructor(Pt){super(Pt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class kt extends rt{constructor(Pt){super(Pt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ct extends rt{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Kt(this,qt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const wt=this.data,{width:Ot,height:Zt}=_e(wt.rect),tn=this.svgFactory.create(Ot,Zt,!0);for(const an of wt.inkLists){let hn=[];for(const En of an){const gn=En.x-wt.rect[0],_n=wt.rect[3]-En.y;hn.push(`${gn},${_n}`)}hn=hn.join(" ");const wn=this.svgFactory.createElement(this.svgElementName);at(this,qt).push(wn),wn.setAttribute("points",hn),wn.setAttribute("stroke-width",wt.borderStyle.width||1),wn.setAttribute("stroke","transparent"),wn.setAttribute("fill","transparent"),!wt.popupRef&&this.hasPopupData&&this._createPopup(),tn.append(wn)}return this.container.append(tn),this.container}getElementsToTriggerPopup(){return at(this,qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}qt=new WeakMap,s.InkAnnotationElement=Ct;class Tt extends rt{constructor(Pt){super(Pt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class xt extends rt{constructor(Pt){super(Pt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Rt extends rt{constructor(Pt){super(Pt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class It extends rt{constructor(Pt){super(Pt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class bt extends rt{constructor(Pt){super(Pt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=bt;class pt extends rt{constructor(wt){var tn;super(wt,{isRenderable:!0});Kt(this,yn);Kt(this,Yt,null);const{filename:Ot,content:Zt}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(Ot,!0),this.content=Zt,(tn=this.linkService.eventBus)==null||tn.dispatch("fileattachmentannotation",{source:this,filename:Ot,content:Zt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:wt,data:Ot}=this;let Zt;Ot.hasAppearance||Ot.fillAlpha===0?Zt=document.createElement("div"):(Zt=document.createElement("img"),Zt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ot.name)?"paperclip":"pushpin"}.svg`,Ot.fillAlpha&&Ot.fillAlpha<1&&(Zt.style=`filter: opacity(${Math.round(Ot.fillAlpha*100)}%);`)),Zt.addEventListener("dblclick",zt(this,yn,Gr).bind(this)),Xt(this,Yt,Zt);const{isMac:tn}=o.FeatureTest.platform;return wt.addEventListener("keydown",an=>{an.key==="Enter"&&(tn?an.metaKey:an.ctrlKey)&&zt(this,yn,Gr).call(this)}),!Ot.popupRef&&this.hasPopupData?this._createPopup():Zt.classList.add("popupTriggerArea"),wt.append(Zt),wt}getElementsToTriggerPopup(){return at(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap,yn=new WeakSet,Gr=function(){var wt;(wt=this.downloadManager)==null||wt.openOrDownloadData(this.container,this.content,this.filename)};class mt{constructor({div:Pt,accessibilityManager:wt,annotationCanvasMap:Ot,l10n:Zt,page:tn,viewport:an}){Kt(this,mn);Kt(this,Ln,null);Kt(this,Mt,null);Kt(this,sn,new Map);this.div=Pt,Xt(this,Ln,wt),Xt(this,Mt,Ot),this.l10n=Zt,this.page=tn,this.viewport=an,this.zIndex=0,this.l10n||(this.l10n=h.NullL10n)}async render(Pt){const{annotations:wt}=Pt,Ot=this.div;(0,a.setLayerDimensions)(Ot,this.viewport);const Zt=new Map,tn={data:null,layer:Ot,linkService:Pt.linkService,downloadManager:Pt.downloadManager,imageResourcesPath:Pt.imageResourcesPath||"",renderForms:Pt.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:Pt.annotationStorage||new c.AnnotationStorage,enableScripting:Pt.enableScripting===!0,hasJSActions:Pt.hasJSActions,fieldObjects:Pt.fieldObjects,parent:this,elements:null};for(const an of wt){if(an.noHTML)continue;const hn=an.annotationType===o.AnnotationType.POPUP;if(hn){const gn=Zt.get(an.id);if(!gn)continue;tn.elements=gn}else{const{width:gn,height:_n}=_e(an.rect);if(gn<=0||_n<=0)continue}tn.data=an;const wn=tt.create(tn);if(!wn.isRenderable)continue;if(!hn&&an.popupRef){const gn=Zt.get(an.popupRef);gn?gn.push(wn):Zt.set(an.popupRef,[wn])}wn.annotationEditorType>0&&at(this,sn).set(wn.data.id,wn);const En=wn.render();an.hidden&&(En.style.visibility="hidden"),zt(this,mn,Ss).call(this,En,an.id)}zt(this,mn,Kr).call(this),await this.l10n.translate(Ot)}update({viewport:Pt}){const wt=this.div;this.viewport=Pt,(0,a.setLayerDimensions)(wt,{rotation:Pt.rotation}),zt(this,mn,Kr).call(this),wt.hidden=!1}getEditableAnnotations(){return Array.from(at(this,sn).values())}getEditableAnnotation(Pt){return at(this,sn).get(Pt)}}Ln=new WeakMap,Mt=new WeakMap,sn=new WeakMap,mn=new WeakSet,Ss=function(Pt,wt){var Zt;const Ot=Pt.firstChild||Pt;Ot.id=`${o.AnnotationPrefix}${wt}`,this.div.append(Pt),(Zt=at(this,Ln))==null||Zt.moveElementInDOM(this.div,Pt,Ot,!1)},Kr=function(){if(!at(this,Mt))return;const Pt=this.div;for(const[wt,Ot]of at(this,Mt)){const Zt=Pt.querySelector(`[data-annotation-id="${wt}"]`);if(!Zt)continue;const{firstChild:tn}=Zt;tn?tn.nodeName==="CANVAS"?tn.replaceWith(Ot):tn.before(Ot):Zt.append(Ot)}at(this,Mt).clear()},s.AnnotationLayer=mt},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function i(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function o(c){return Math.max(0,Math.min(255,255*c))}class a{static CMYK_G([d,h,g,b]){return["G",1-Math.min(1,.3*d+.59*g+.11*h+b)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const h=i(d);return`#${h}${h}${h}`}static RGB_G([d,h,g]){return["G",.3*d+.59*h+.11*g]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,h,g,b]){return["RGB",1-Math.min(1,d+b),1-Math.min(1,g+b),1-Math.min(1,h+b)]}static CMYK_rgb([d,h,g,b]){return[o(1-Math.min(1,d+b)),o(1-Math.min(1,g+b)),o(1-Math.min(1,h+b))]}static CMYK_HTML(d){const h=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(h)}static RGB_CMYK([d,h,g]){const b=1-d,j=1-h,_=1-g,_e=Math.min(b,j,_);return["CMYK",b,j,_,_e]}}s.ColorConverters=a},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=o;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function o(d,h){switch(d){case"find_match_count":d=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return i[d]||""}function a(d,h){return h?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,b)=>b in h?h[b]:"{{"+b+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,h=null,g=o(d,h)){return a(g,h)},async translate(d){}};s.NullL10n=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var o=i(25);class a{static setupStorage(d,h,g,b,j){const _=b.getValue(h,{value:null});switch(g.name){case"textarea":if(_.value!==null&&(d.textContent=_.value),j==="print")break;d.addEventListener("input",_e=>{b.setValue(h,{value:_e.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(_.value===g.attributes.xfaOn?d.setAttribute("checked",!0):_.value===g.attributes.xfaOff&&d.removeAttribute("checked"),j==="print")break;d.addEventListener("change",_e=>{b.setValue(h,{value:_e.target.checked?_e.target.getAttribute("xfaOn"):_e.target.getAttribute("xfaOff")})})}else{if(_.value!==null&&d.setAttribute("value",_.value),j==="print")break;d.addEventListener("input",_e=>{b.setValue(h,{value:_e.target.value})})}break;case"select":if(_.value!==null){d.setAttribute("value",_.value);for(const _e of g.children)_e.attributes.value===_.value?_e.attributes.selected=!0:_e.attributes.hasOwnProperty("selected")&&delete _e.attributes.selected}d.addEventListener("input",_e=>{const tt=_e.target.options,rt=tt.selectedIndex===-1?"":tt[tt.selectedIndex].value;b.setValue(h,{value:rt})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:b,linkService:j}){const{attributes:_}=h,_e=d instanceof HTMLAnchorElement;_.type==="radio"&&(_.name=`${_.name}-${b}`);for(const[tt,rt]of Object.entries(_))if(rt!=null)switch(tt){case"class":rt.length&&d.setAttribute(tt,rt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",rt);break;case"style":Object.assign(d.style,rt);break;case"textContent":d.textContent=rt;break;default:(!_e||tt!=="href"&&tt!=="newWindow")&&d.setAttribute(tt,rt)}_e&&j.addLinkAttributes(d,_.href,_.newWindow),g&&_.dataId&&this.setupStorage(d,_.dataId,h,g)}static render(d){var st;const h=d.annotationStorage,g=d.linkService,b=d.xfaHtml,j=d.intent||"display",_=document.createElement(b.name);b.attributes&&this.setAttributes({html:_,element:b,intent:j,linkService:g});const _e=[[b,-1,_]],tt=d.div;if(tt.append(_),d.viewport){const nt=`matrix(${d.viewport.transform.join(",")})`;tt.style.transform=nt}j!=="richText"&&tt.setAttribute("class","xfaLayer xfaFont");const rt=[];for(;_e.length>0;){const[nt,et,$]=_e.at(-1);if(et+1===nt.children.length){_e.pop();continue}const ot=nt.children[++_e.at(-1)[1]];if(ot===null)continue;const{name:lt}=ot;if(lt==="#text"){const dt=document.createTextNode(ot.value);rt.push(dt),$.append(dt);continue}const it=(st=ot==null?void 0:ot.attributes)!=null&&st.xmlns?document.createElementNS(ot.attributes.xmlns,lt):document.createElement(lt);if($.append(it),ot.attributes&&this.setAttributes({html:it,element:ot,storage:h,intent:j,linkService:g}),ot.children&&ot.children.length>0)_e.push([ot,-1,it]);else if(ot.value){const dt=document.createTextNode(ot.value);o.XfaText.shouldBuildText(lt)&&rt.push(dt),it.append(dt)}}for(const nt of tt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))nt.setAttribute("readOnly",!0);return{textDivs:rt}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}s.XfaLayer=a},(e,s,i)=>{var b,j,_,_e,tt,rt,st,nt,et,$,ot,lt,it,dt,ct,ws,Rs,As,Cs,qr,js,Xr,Ts,Ps,_s,ks,Ns,Wn,Yr,mr,gr,Qn,Qr,xr,jt,Ls,Zr,Ds,Ms,Jr,yr,Zn;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var o=i(1),a=i(4),c=i(29),d=i(6),h=i(5);const Gt=class Gt extends a.AnnotationEditor{constructor(Et){super({...Et,name:"inkEditor"});Kt(this,ct);Kt(this,b,0);Kt(this,j,0);Kt(this,_,this.canvasPointermove.bind(this));Kt(this,_e,this.canvasPointerleave.bind(this));Kt(this,tt,this.canvasPointerup.bind(this));Kt(this,rt,this.canvasPointerdown.bind(this));Kt(this,st,new Path2D);Kt(this,nt,!1);Kt(this,et,!1);Kt(this,$,!1);Kt(this,ot,null);Kt(this,lt,0);Kt(this,it,0);Kt(this,dt,null);this.color=Et.color||null,this.thickness=Et.thickness||null,this.opacity=Et.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Et){a.AnnotationEditor.initialize(Et,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Et,_t){switch(Et){case o.AnnotationEditorParamsType.INK_THICKNESS:Gt._defaultThickness=_t;break;case o.AnnotationEditorParamsType.INK_COLOR:Gt._defaultColor=_t;break;case o.AnnotationEditorParamsType.INK_OPACITY:Gt._defaultOpacity=_t/100;break}}updateParams(Et,_t){switch(Et){case o.AnnotationEditorParamsType.INK_THICKNESS:zt(this,ct,ws).call(this,_t);break;case o.AnnotationEditorParamsType.INK_COLOR:zt(this,ct,Rs).call(this,_t);break;case o.AnnotationEditorParamsType.INK_OPACITY:zt(this,ct,As).call(this,_t);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,Gt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,Gt._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(Gt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Gt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||Gt._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Gt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(zt(this,ct,mr).call(this),zt(this,ct,gr).call(this)),this.isAttachedToDOM||(this.parent.add(this),zt(this,ct,Qn).call(this)),zt(this,ct,Zn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,at(this,ot).disconnect(),Xt(this,ot,null),super.remove())}setParent(Et){!this.parent&&Et?this._uiManager.removeShouldRescale(this):this.parent&&Et===null&&this._uiManager.addShouldRescale(this),super.setParent(Et)}onScaleChanging(){const[Et,_t]=this.parentDimensions,$t=this.width*Et,Ht=this.height*_t;this.setDimensions($t,Ht)}enableEditMode(){at(this,nt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",at(this,rt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",at(this,rt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){at(this,nt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Xt(this,nt,!0),this.div.classList.add("disabled"),zt(this,ct,Zn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Et){this._focusEventsAllowed&&(super.focusin(Et),this.enableEditMode())}canvasPointerdown(Et){Et.button!==0||!this.isInEditMode()||at(this,nt)||(this.setInForeground(),Et.preventDefault(),Et.type!=="mouse"&&this.div.focus(),zt(this,ct,js).call(this,Et.offsetX,Et.offsetY))}canvasPointermove(Et){Et.preventDefault(),zt(this,ct,Xr).call(this,Et.offsetX,Et.offsetY)}canvasPointerup(Et){Et.preventDefault(),zt(this,ct,Yr).call(this,Et)}canvasPointerleave(Et){zt(this,ct,Yr).call(this,Et)}get isResizable(){return!this.isEmpty()&&at(this,nt)}render(){if(this.div)return this.div;let Et,_t;this.width&&(Et=this.x,_t=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ln=>{var Ut;return(Ut=this.div)==null?void 0:Ut.setAttribute("aria-label",ln)});const[$t,Ht,nn,dn]=zt(this,ct,Cs).call(this);if(this.setAt($t,Ht,0,0),this.setDims(nn,dn),zt(this,ct,mr).call(this),this.width){const[ln,Ut]=this.parentDimensions;this.setAspectRatio(this.width*ln,this.height*Ut),this.setAt(Et*ln,_t*Ut,this.width*ln,this.height*Ut),Xt(this,$,!0),zt(this,ct,Qn).call(this),this.setDims(this.width*ln,this.height*Ut),zt(this,ct,Wn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return zt(this,ct,gr).call(this),this.div}setDimensions(Et,_t){const $t=Math.round(Et),Ht=Math.round(_t);if(at(this,lt)===$t&&at(this,it)===Ht)return;Xt(this,lt,$t),Xt(this,it,Ht),this.canvas.style.visibility="hidden";const[nn,dn]=this.parentDimensions;this.width=Et/nn,this.height=_t/dn,this.fixAndSetPosition(),at(this,nt)&&zt(this,ct,Qr).call(this,Et,_t),zt(this,ct,Qn).call(this),zt(this,ct,Wn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Et,_t,$t){var Rn,kn,In;if(Et instanceof c.InkAnnotationElement)return null;const Ht=super.deserialize(Et,_t,$t);Ht.thickness=Et.thickness,Ht.color=o.Util.makeHexColor(...Et.color),Ht.opacity=Et.opacity;const[nn,dn]=Ht.pageDimensions,ln=Ht.width*nn,Ut=Ht.height*dn,fn=Ht.parentScale,pn=Et.thickness/2;Xt(Ht,nt,!0),Xt(Ht,lt,Math.round(ln)),Xt(Ht,it,Math.round(Ut));const{paths:Pn,rect:jn,rotation:Dn}=Et;for(let{bezier:un}of Pn){un=zt(Rn=Gt,jt,Ds).call(Rn,un,jn,Dn);const qt=[];Ht.paths.push(qt);let Yt=fn*(un[0]-pn),yn=fn*(un[1]-pn);for(let Ln=2,Mt=un.length;Ln<Mt;Ln+=6){const sn=fn*(un[Ln]-pn),mn=fn*(un[Ln+1]-pn),Sn=fn*(un[Ln+2]-pn),Cn=fn*(un[Ln+3]-pn),xn=fn*(un[Ln+4]-pn),Pt=fn*(un[Ln+5]-pn);qt.push([[Yt,yn],[sn,mn],[Sn,Cn],[xn,Pt]]),Yt=xn,yn=Pt}const Mn=zt(this,jt,Ls).call(this,qt);Ht.bezierPath2D.push(Mn)}const vn=zt(kn=Ht,ct,Jr).call(kn);return Xt(Ht,j,Math.max(a.AnnotationEditor.MIN_SIZE,vn[2]-vn[0])),Xt(Ht,b,Math.max(a.AnnotationEditor.MIN_SIZE,vn[3]-vn[1])),zt(In=Ht,ct,Qr).call(In,ln,Ut),Ht}serialize(){if(this.isEmpty())return null;const Et=this.getRect(0,0),_t=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:_t,thickness:this.thickness,opacity:this.opacity,paths:zt(this,ct,Ms).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Et),pageIndex:this.pageIndex,rect:Et,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,j=new WeakMap,_=new WeakMap,_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,st=new WeakMap,nt=new WeakMap,et=new WeakMap,$=new WeakMap,ot=new WeakMap,lt=new WeakMap,it=new WeakMap,dt=new WeakMap,ct=new WeakSet,ws=function(Et){const _t=this.thickness;this.addCommands({cmd:()=>{this.thickness=Et,zt(this,ct,Zn).call(this)},undo:()=>{this.thickness=_t,zt(this,ct,Zn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Rs=function(Et){const _t=this.color;this.addCommands({cmd:()=>{this.color=Et,zt(this,ct,Wn).call(this)},undo:()=>{this.color=_t,zt(this,ct,Wn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},As=function(Et){Et/=100;const _t=this.opacity;this.addCommands({cmd:()=>{this.opacity=Et,zt(this,ct,Wn).call(this)},undo:()=>{this.opacity=_t,zt(this,ct,Wn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Cs=function(){const{parentRotation:Et,parentDimensions:[_t,$t]}=this;switch(Et){case 90:return[0,$t,$t,_t];case 180:return[_t,$t,_t,$t];case 270:return[_t,0,$t,_t];default:return[0,0,_t,$t]}},qr=function(){const{ctx:Et,color:_t,opacity:$t,thickness:Ht,parentScale:nn,scaleFactor:dn}=this;Et.lineWidth=Ht*nn/dn,Et.lineCap="round",Et.lineJoin="round",Et.miterLimit=10,Et.strokeStyle=`${_t}${(0,h.opacityToHex)($t)}`},js=function(Et,_t){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",at(this,_e)),this.canvas.addEventListener("pointermove",at(this,_)),this.canvas.addEventListener("pointerup",at(this,tt)),this.canvas.removeEventListener("pointerdown",at(this,rt)),this.isEditing=!0,at(this,$)||(Xt(this,$,!0),zt(this,ct,Qn).call(this),this.thickness||(this.thickness=Gt._defaultThickness),this.color||(this.color=Gt._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Gt._defaultOpacity)),this.currentPath.push([Et,_t]),Xt(this,et,!1),zt(this,ct,qr).call(this),Xt(this,dt,()=>{zt(this,ct,_s).call(this),at(this,dt)&&window.requestAnimationFrame(at(this,dt))}),window.requestAnimationFrame(at(this,dt))},Xr=function(Et,_t){const[$t,Ht]=this.currentPath.at(-1);if(this.currentPath.length>1&&Et===$t&&_t===Ht)return;const nn=this.currentPath;let dn=at(this,st);if(nn.push([Et,_t]),Xt(this,et,!0),nn.length<=2){dn.moveTo(...nn[0]),dn.lineTo(Et,_t);return}nn.length===3&&(Xt(this,st,dn=new Path2D),dn.moveTo(...nn[0])),zt(this,ct,ks).call(this,dn,...nn.at(-3),...nn.at(-2),Et,_t)},Ts=function(){if(this.currentPath.length===0)return;const Et=this.currentPath.at(-1);at(this,st).lineTo(...Et)},Ps=function(Et,_t){Xt(this,dt,null),Et=Math.min(Math.max(Et,0),this.canvas.width),_t=Math.min(Math.max(_t,0),this.canvas.height),zt(this,ct,Xr).call(this,Et,_t),zt(this,ct,Ts).call(this);let $t;if(this.currentPath.length!==1)$t=zt(this,ct,Ns).call(this);else{const Ut=[Et,_t];$t=[[Ut,Ut.slice(),Ut.slice(),Ut]]}const Ht=at(this,st),nn=this.currentPath;this.currentPath=[],Xt(this,st,new Path2D);const dn=()=>{this.allRawPaths.push(nn),this.paths.push($t),this.bezierPath2D.push(Ht),this.rebuild()},ln=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(zt(this,ct,mr).call(this),zt(this,ct,gr).call(this)),zt(this,ct,Zn).call(this))};this.addCommands({cmd:dn,undo:ln,mustExec:!0})},_s=function(){if(!at(this,et))return;Xt(this,et,!1);const Et=Math.ceil(this.thickness*this.parentScale),_t=this.currentPath.slice(-3),$t=_t.map(dn=>dn[0]),Ht=_t.map(dn=>dn[1]);Math.min(...$t)-Et,Math.max(...$t)+Et,Math.min(...Ht)-Et,Math.max(...Ht)+Et;const{ctx:nn}=this;nn.save(),nn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const dn of this.bezierPath2D)nn.stroke(dn);nn.stroke(at(this,st)),nn.restore()},ks=function(Et,_t,$t,Ht,nn,dn,ln){const Ut=(_t+Ht)/2,fn=($t+nn)/2,pn=(Ht+dn)/2,Pn=(nn+ln)/2;Et.bezierCurveTo(Ut+2*(Ht-Ut)/3,fn+2*(nn-fn)/3,pn+2*(Ht-pn)/3,Pn+2*(nn-Pn)/3,pn,Pn)},Ns=function(){const Et=this.currentPath;if(Et.length<=2)return[[Et[0],Et[0],Et.at(-1),Et.at(-1)]];const _t=[];let $t,[Ht,nn]=Et[0];for($t=1;$t<Et.length-2;$t++){const[jn,Dn]=Et[$t],[vn,Rn]=Et[$t+1],kn=(jn+vn)/2,In=(Dn+Rn)/2,un=[Ht+2*(jn-Ht)/3,nn+2*(Dn-nn)/3],qt=[kn+2*(jn-kn)/3,In+2*(Dn-In)/3];_t.push([[Ht,nn],un,qt,[kn,In]]),[Ht,nn]=[kn,In]}const[dn,ln]=Et[$t],[Ut,fn]=Et[$t+1],pn=[Ht+2*(dn-Ht)/3,nn+2*(ln-nn)/3],Pn=[Ut+2*(dn-Ut)/3,fn+2*(ln-fn)/3];return _t.push([[Ht,nn],pn,Pn,[Ut,fn]]),_t},Wn=function(){if(this.isEmpty()){zt(this,ct,xr).call(this);return}zt(this,ct,qr).call(this);const{canvas:Et,ctx:_t}=this;_t.setTransform(1,0,0,1,0,0),_t.clearRect(0,0,Et.width,Et.height),zt(this,ct,xr).call(this);for(const $t of this.bezierPath2D)_t.stroke($t)},Yr=function(Et){this.canvas.removeEventListener("pointerleave",at(this,_e)),this.canvas.removeEventListener("pointermove",at(this,_)),this.canvas.removeEventListener("pointerup",at(this,tt)),this.canvas.addEventListener("pointerdown",at(this,rt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),zt(this,ct,Ps).call(this,Et.offsetX,Et.offsetY),this.addToAnnotationStorage(),this.setInBackground()},mr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Et=>{var _t;return(_t=this.canvas)==null?void 0:_t.setAttribute("aria-label",Et)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},gr=function(){Xt(this,ot,new ResizeObserver(Et=>{const _t=Et[0].contentRect;_t.width&&_t.height&&this.setDimensions(_t.width,_t.height)})),at(this,ot).observe(this.div)},Qn=function(){if(!at(this,$))return;const[Et,_t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Et),this.canvas.height=Math.ceil(this.height*_t),zt(this,ct,xr).call(this)},Qr=function(Et,_t){const $t=zt(this,ct,yr).call(this),Ht=(Et-$t)/at(this,j),nn=(_t-$t)/at(this,b);this.scaleFactor=Math.min(Ht,nn)},xr=function(){const Et=zt(this,ct,yr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Et,this.translationY*this.scaleFactor+Et)},jt=new WeakSet,Ls=function(Et){const _t=new Path2D;for(let $t=0,Ht=Et.length;$t<Ht;$t++){const[nn,dn,ln,Ut]=Et[$t];$t===0&&_t.moveTo(...nn),_t.bezierCurveTo(dn[0],dn[1],ln[0],ln[1],Ut[0],Ut[1])}return _t},Zr=function(Et,_t,$t){const[Ht,nn,dn,ln]=_t;switch($t){case 0:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2)Et[Ut]+=Ht,Et[Ut+1]=ln-Et[Ut+1];break;case 90:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2){const pn=Et[Ut];Et[Ut]=Et[Ut+1]+Ht,Et[Ut+1]=pn+nn}break;case 180:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2)Et[Ut]=dn-Et[Ut],Et[Ut+1]+=nn;break;case 270:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2){const pn=Et[Ut];Et[Ut]=dn-Et[Ut+1],Et[Ut+1]=ln-pn}break;default:throw new Error("Invalid rotation")}return Et},Ds=function(Et,_t,$t){const[Ht,nn,dn,ln]=_t;switch($t){case 0:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2)Et[Ut]-=Ht,Et[Ut+1]=ln-Et[Ut+1];break;case 90:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2){const pn=Et[Ut];Et[Ut]=Et[Ut+1]-nn,Et[Ut+1]=pn-Ht}break;case 180:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2)Et[Ut]=dn-Et[Ut],Et[Ut+1]-=nn;break;case 270:for(let Ut=0,fn=Et.length;Ut<fn;Ut+=2){const pn=Et[Ut];Et[Ut]=ln-Et[Ut+1],Et[Ut+1]=dn-pn}break;default:throw new Error("Invalid rotation")}return Et},Ms=function(Et,_t,$t,Ht){var fn,pn;const nn=[],dn=this.thickness/2,ln=Et*_t+dn,Ut=Et*$t+dn;for(const Pn of this.paths){const jn=[],Dn=[];for(let vn=0,Rn=Pn.length;vn<Rn;vn++){const[kn,In,un,qt]=Pn[vn],Yt=Et*kn[0]+ln,yn=Et*kn[1]+Ut,Mn=Et*In[0]+ln,Ln=Et*In[1]+Ut,Mt=Et*un[0]+ln,sn=Et*un[1]+Ut,mn=Et*qt[0]+ln,Sn=Et*qt[1]+Ut;vn===0&&(jn.push(Yt,yn),Dn.push(Yt,yn)),jn.push(Mn,Ln,Mt,sn,mn,Sn),Dn.push(Mn,Ln),vn===Rn-1&&Dn.push(mn,Sn)}nn.push({bezier:zt(fn=Gt,jt,Zr).call(fn,jn,Ht,this.rotation),points:zt(pn=Gt,jt,Zr).call(pn,Dn,Ht,this.rotation)})}return nn},Jr=function(){let Et=1/0,_t=-1/0,$t=1/0,Ht=-1/0;for(const nn of this.paths)for(const[dn,ln,Ut,fn]of nn){const pn=o.Util.bezierBoundingBox(...dn,...ln,...Ut,...fn);Et=Math.min(Et,pn[0]),$t=Math.min($t,pn[1]),_t=Math.max(_t,pn[2]),Ht=Math.max(Ht,pn[3])}return[Et,$t,_t,Ht]},yr=function(){return at(this,nt)?Math.ceil(this.thickness*this.parentScale):0},Zn=function(Et=!1){if(this.isEmpty())return;if(!at(this,nt)){zt(this,ct,Wn).call(this);return}const _t=zt(this,ct,Jr).call(this),$t=zt(this,ct,yr).call(this);Xt(this,j,Math.max(a.AnnotationEditor.MIN_SIZE,_t[2]-_t[0])),Xt(this,b,Math.max(a.AnnotationEditor.MIN_SIZE,_t[3]-_t[1]));const Ht=Math.ceil($t+at(this,j)*this.scaleFactor),nn=Math.ceil($t+at(this,b)*this.scaleFactor),[dn,ln]=this.parentDimensions;this.width=Ht/dn,this.height=nn/ln,this.setAspectRatio(Ht,nn);const Ut=this.translationX,fn=this.translationY;this.translationX=-_t[0],this.translationY=-_t[1],zt(this,ct,Qn).call(this),zt(this,ct,Wn).call(this),Xt(this,lt,Ht),Xt(this,it,nn),this.setDims(Ht,nn);const pn=Et?$t/this.scaleFactor/2:0;this.translate(Ut-this.translationX-pn,fn-this.translationY-pn)},Kt(Gt,jt),Vn(Gt,"_defaultColor",null),Vn(Gt,"_defaultOpacity",1),Vn(Gt,"_defaultThickness",1),Vn(Gt,"_type","ink");let g=Gt;s.InkEditor=g},(e,s,i)=>{var g,b,j,_,_e,tt,rt,st,nt,et,$,ir,or,vr,es,Is,Fs,ts,Er,Os;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var o=i(1),a=i(4),c=i(6),d=i(29);const gt=class gt extends a.AnnotationEditor{constructor(Lt){super({...Lt,name:"stampEditor"});Kt(this,$);Kt(this,g,null);Kt(this,b,null);Kt(this,j,null);Kt(this,_,null);Kt(this,_e,null);Kt(this,tt,null);Kt(this,rt,null);Kt(this,st,null);Kt(this,nt,!1);Kt(this,et,!1);Xt(this,_,Lt.bitmapUrl),Xt(this,_e,Lt.bitmapFile)}static initialize(Lt){a.AnnotationEditor.initialize(Lt)}static get supportedTypes(){const Lt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Lt.map(kt=>`image/${kt}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Lt){return this.supportedTypes.includes(Lt)}static paste(Lt,kt){kt.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Lt.getAsFile()})}remove(){var Lt,kt;at(this,b)&&(Xt(this,g,null),this._uiManager.imageManager.deleteId(at(this,b)),(Lt=at(this,tt))==null||Lt.remove(),Xt(this,tt,null),(kt=at(this,rt))==null||kt.disconnect(),Xt(this,rt,null)),super.remove()}rebuild(){if(!this.parent){at(this,b)&&zt(this,$,vr).call(this);return}super.rebuild(),this.div!==null&&(at(this,b)&&zt(this,$,vr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(at(this,j)||at(this,g)||at(this,_)||at(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let Lt,kt;if(this.width&&(Lt=this.x,kt=this.y),super.render(),this.div.hidden=!0,at(this,g)?zt(this,$,es).call(this):zt(this,$,vr).call(this),this.width){const[Ct,Tt]=this.parentDimensions;this.setAt(Lt*Ct,kt*Tt,this.width*Ct,this.height*Tt)}return this.div}static deserialize(Lt,kt,Ct){if(Lt instanceof d.StampAnnotationElement)return null;const Tt=super.deserialize(Lt,kt,Ct),{rect:xt,bitmapUrl:Rt,bitmapId:It,isSvg:bt,accessibilityData:pt}=Lt;It&&Ct.imageManager.isValidId(It)?Xt(Tt,b,It):Xt(Tt,_,Rt),Xt(Tt,nt,bt);const[mt,vt]=Tt.pageDimensions;return Tt.width=(xt[2]-xt[0])/mt,Tt.height=(xt[3]-xt[1])/vt,pt&&(Tt.altTextData=pt),Tt}serialize(Lt=!1,kt=null){if(this.isEmpty())return null;const Ct={annotationType:o.AnnotationEditorType.STAMP,bitmapId:at(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:at(this,nt),structTreeParentId:this._structTreeParentId};if(Lt)return Ct.bitmapUrl=zt(this,$,Er).call(this,!0),Ct.accessibilityData=this.altTextData,Ct;const{decorative:Tt,altText:xt}=this.altTextData;if(!Tt&&xt&&(Ct.accessibilityData={type:"Figure",alt:xt}),kt===null)return Ct;kt.stamps||(kt.stamps=new Map);const Rt=at(this,nt)?(Ct.rect[2]-Ct.rect[0])*(Ct.rect[3]-Ct.rect[1]):null;if(!kt.stamps.has(at(this,b)))kt.stamps.set(at(this,b),{area:Rt,serialized:Ct}),Ct.bitmap=zt(this,$,Er).call(this,!1);else if(at(this,nt)){const It=kt.stamps.get(at(this,b));Rt>It.area&&(It.area=Rt,It.serialized.bitmap.close(),It.serialized.bitmap=zt(this,$,Er).call(this,!1))}return Ct}};g=new WeakMap,b=new WeakMap,j=new WeakMap,_=new WeakMap,_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,st=new WeakMap,nt=new WeakMap,et=new WeakMap,$=new WeakSet,ir=function(Lt,kt=!1){if(!Lt){this.remove();return}Xt(this,g,Lt.bitmap),kt||(Xt(this,b,Lt.id),Xt(this,nt,Lt.isSvg)),zt(this,$,es).call(this)},or=function(){Xt(this,j,null),this._uiManager.enableWaiting(!1),at(this,tt)&&this.div.focus()},vr=function(){if(at(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(at(this,b)).then(kt=>zt(this,$,ir).call(this,kt,!0)).finally(()=>zt(this,$,or).call(this));return}if(at(this,_)){const kt=at(this,_);Xt(this,_,null),this._uiManager.enableWaiting(!0),Xt(this,j,this._uiManager.imageManager.getFromUrl(kt).then(Ct=>zt(this,$,ir).call(this,Ct)).finally(()=>zt(this,$,or).call(this)));return}if(at(this,_e)){const kt=at(this,_e);Xt(this,_e,null),this._uiManager.enableWaiting(!0),Xt(this,j,this._uiManager.imageManager.getFromFile(kt).then(Ct=>zt(this,$,ir).call(this,Ct)).finally(()=>zt(this,$,or).call(this)));return}const Lt=document.createElement("input");Lt.type="file",Lt.accept=gt.supportedTypesStr,Xt(this,j,new Promise(kt=>{Lt.addEventListener("change",async()=>{if(!Lt.files||Lt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ct=await this._uiManager.imageManager.getFromFile(Lt.files[0]);zt(this,$,ir).call(this,Ct)}kt()}),Lt.addEventListener("cancel",()=>{this.remove(),kt()})}).finally(()=>zt(this,$,or).call(this))),Lt.click()},es=function(){const{div:Lt}=this;let{width:kt,height:Ct}=at(this,g);const[Tt,xt]=this.pageDimensions,Rt=.75;if(this.width)kt=this.width*Tt,Ct=this.height*xt;else if(kt>Rt*Tt||Ct>Rt*xt){const mt=Math.min(Rt*Tt/kt,Rt*xt/Ct);kt*=mt,Ct*=mt}const[It,bt]=this.parentDimensions;this.setDims(kt*It/Tt,Ct*bt/xt),this._uiManager.enableWaiting(!1);const pt=Xt(this,tt,document.createElement("canvas"));Lt.append(pt),Lt.hidden=!1,zt(this,$,ts).call(this,kt,Ct),zt(this,$,Os).call(this),at(this,et)||(this.parent.addUndoableEditor(this),Xt(this,et,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Is=function(Lt,kt){var Rt;const[Ct,Tt]=this.parentDimensions;this.width=Lt/Ct,this.height=kt/Tt,this.setDims(Lt,kt),(Rt=this._initialOptions)!=null&&Rt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,at(this,st)!==null&&clearTimeout(at(this,st)),Xt(this,st,setTimeout(()=>{Xt(this,st,null),zt(this,$,ts).call(this,Lt,kt)},200))},Fs=function(Lt,kt){const{width:Ct,height:Tt}=at(this,g);let xt=Ct,Rt=Tt,It=at(this,g);for(;xt>2*Lt||Rt>2*kt;){const bt=xt,pt=Rt;xt>2*Lt&&(xt=xt>=16384?Math.floor(xt/2)-1:Math.ceil(xt/2)),Rt>2*kt&&(Rt=Rt>=16384?Math.floor(Rt/2)-1:Math.ceil(Rt/2));const mt=new OffscreenCanvas(xt,Rt);mt.getContext("2d").drawImage(It,0,0,bt,pt,0,0,xt,Rt),It=mt.transferToImageBitmap()}return It},ts=function(Lt,kt){Lt=Math.ceil(Lt),kt=Math.ceil(kt);const Ct=at(this,tt);if(!Ct||Ct.width===Lt&&Ct.height===kt)return;Ct.width=Lt,Ct.height=kt;const Tt=at(this,nt)?at(this,g):zt(this,$,Fs).call(this,Lt,kt),xt=Ct.getContext("2d");xt.filter=this._uiManager.hcmFilter,xt.drawImage(Tt,0,0,Tt.width,Tt.height,0,0,Lt,kt)},Er=function(Lt){if(Lt){if(at(this,nt)){const Tt=this._uiManager.imageManager.getSvgUrl(at(this,b));if(Tt)return Tt}const kt=document.createElement("canvas");return{width:kt.width,height:kt.height}=at(this,g),kt.getContext("2d").drawImage(at(this,g),0,0),kt.toDataURL()}if(at(this,nt)){const[kt,Ct]=this.pageDimensions,Tt=Math.round(this.width*kt*c.PixelsPerInch.PDF_TO_CSS_UNITS),xt=Math.round(this.height*Ct*c.PixelsPerInch.PDF_TO_CSS_UNITS),Rt=new OffscreenCanvas(Tt,xt);return Rt.getContext("2d").drawImage(at(this,g),0,0,at(this,g).width,at(this,g).height,0,0,Tt,xt),Rt.transferToImageBitmap()}return structuredClone(at(this,g))},Os=function(){Xt(this,rt,new ResizeObserver(Lt=>{const kt=Lt[0].contentRect;kt.width&&kt.height&&zt(this,$,Is).call(this,kt.width,kt.height)})),at(this,rt).observe(this.div)},Vn(gt,"_type","stamp");let h=gt;s.StampEditor=h}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var s=__webpack_module_cache__[e];if(s!==void 0)return s.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var s=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),h=__w_pdfjs_require__(29),g=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdf_default=getDefaultExportFromCjs(pdfExports),pdfjs=pdf_default;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(o,a,c,d,h,g){if(g!==ReactPropTypesSecret){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function s(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,s,i){if(i||arguments.length===2)for(var o=0,a=s.length,c;o<a;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return e.concat(c||Array.prototype.slice.call(s))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,s){var i={};return allEvents.forEach(function(o){var a=e[o];a&&(s?i[o]=function(c){return a(c,s(o))}:i[o]=a)}),i}function makeCancellablePromise(e){var s=!1,i=new Promise(function(o,a){e.then(function(c){return!s&&o(c)}).catch(function(c){return!s&&a(c)})});return{promise:i,cancel:function(){s=!0}}}var prefix="Invariant failed";function invariant(e,s){if(!e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(e,s,i){for(i of e.keys())if(dequal(i,s))return i}function dequal(e,s){var i,o,a;if(e===s)return!0;if(e&&s&&(i=e.constructor)===s.constructor){if(i===Date)return e.getTime()===s.getTime();if(i===RegExp)return e.toString()===s.toString();if(i===Array){if((o=e.length)===s.length)for(;o--&&dequal(e[o],s[o]););return o===-1}if(i===Set){if(e.size!==s.size)return!1;for(o of e)if(a=o,a&&typeof a=="object"&&(a=find(s,a),!a)||!s.has(a))return!1;return!0}if(i===Map){if(e.size!==s.size)return!1;for(o of e)if(a=o[0],a&&typeof a=="object"&&(a=find(s,a),!a)||!dequal(o[1],s.get(a)))return!1;return!0}if(i===ArrayBuffer)e=new Uint8Array(e),s=new Uint8Array(s);else if(i===DataView){if((o=e.byteLength)===s.byteLength)for(;o--&&e.getInt8(o)===s.getInt8(o););return o===-1}if(ArrayBuffer.isView(e)){if((o=e.byteLength)===s.byteLength)for(;o--&&e[o]===s[o];);return o===-1}if(!i||typeof e=="object"){o=0;for(i in e)if(has.call(e,i)&&++o&&!has.call(s,i)||!(i in s)||!dequal(e[i],s[i]))return!1;return Object.keys(s).length===o}}return e!==e&&s!==s}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:s}){return React$2.createElement("div",{className:`react-pdf__message react-pdf__message--${s}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(s){this.pdfDocument=s}setViewer(s){this.pdfViewer=s}setExternalLinkRel(s){this.externalLinkRel=s}setExternalLinkTarget(s){this.externalLinkTarget=s}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(s){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=s}get rotation(){return 0}set rotation(s){}goToDestination(s){return new Promise(i=>{invariant(this.pdfDocument),invariant(s),typeof s=="string"?this.pdfDocument.getDestination(s).then(i):Array.isArray(s)?i(s):s.then(i)}).then(i=>{invariant(Array.isArray(i));const o=i[0];new Promise(a=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(c=>{a(c)}).catch(()=>{invariant(!1)}):typeof o=="number"?a(o):invariant(!1)}).then(a=>{const c=a+1;invariant(this.pdfViewer),invariant(c>=1&&c<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:a,pageNumber:c})})})}navigateTo(s){this.goToDestination(s)}goToPage(s){const i=s-1;invariant(this.pdfViewer),invariant(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:s})}addLinkAttributes(s,i,o){s.href=i,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e));const[s="",i=""]=e.split(",");return s.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,s){return Object.defineProperty(e,"width",{get(){return this.view[2]*s},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*s},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((s,i)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return i(new Error("Error while reading a file."));s(o.result)},o.onerror=a=>{if(!a.target)return i(new Error("Error while reading a file."));const{error:c}=a.target;if(!c)return i(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},o.readAsArrayBuffer(e)})}function reducer(e,s){switch(s.type){case"RESOLVE":return{value:s.value,error:void 0};case"REJECT":return{value:!1,error:s.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(s=>{e[s]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(s,i,o){const{[i]:a,pageNumber:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${i}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:h}=d;if(a+1>h)return new Error(`Expected \`${i}\` to be less or equal to ${h-1}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function e(s,i,o){const{[i]:a,pageIndex:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${i}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:h}=d;if(a>h)return new Error(`Expected \`${i}\` to be less or equal to ${h}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,s,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function h(j){try{b(o.next(j))}catch(_){d(_)}}function g(j){try{b(o.throw(j))}catch(_){d(_)}}function b(j){j.done?c(j.value):a(j.value).then(h,g)}b((o=o.apply(e,s||[])).next())})},__rest$1=function(e,s){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(i[o[a]]=e[o[a]]);return i};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,s)=>{switch(s){case PasswordResponses.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");e(i);break}case PasswordResponses.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");e(i);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(s,i){var{children:o,className:a,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:h,file:g,inputRef:b,imageResourcesPath:j,loading:_="Loading PDF",noData:_e="No PDF file specified.",onItemClick:tt,onLoadError:rt,onLoadProgress:st,onLoadSuccess:nt,onPassword:et=defaultOnPassword,onSourceError:$,onSourceSuccess:ot,options:lt,renderMode:it,rotate:dt}=s,ct=__rest$1(s,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[ut,ft]=useResolver(),{value:yt,error:ht}=ut,[gt,St]=useResolver(),{value:Nt,error:Lt}=gt,kt=reactExports.useRef(new LinkService),Ct=reactExports.useRef([]),Tt=reactExports.useRef(),xt=reactExports.useRef();reactExports.useEffect(()=>{g&&g!==Tt.current&&isParameterObject(g)&&(warning$1(!dequal(g,Tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Tt.current=g)},[g]),reactExports.useEffect(()=>{lt&&lt!==xt.current&&(warning$1(!dequal(lt,xt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),xt.current=lt)},[lt]);const Rt=reactExports.useRef({scrollPageIntoView:Ft=>{const{dest:Bt,pageNumber:Et,pageIndex:_t=Et-1}=Ft;if(tt){tt({dest:Bt,pageIndex:_t,pageNumber:Et});return}const $t=Ct.current[_t];if($t){$t.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Et} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(i,()=>({linkService:kt,pages:Ct,viewer:Rt}),[]);function It(){ot&&ot()}function bt(){ht&&(warning$1(!1,ht.toString()),$&&$(ht))}function pt(){ft({type:"RESET"})}reactExports.useEffect(pt,[g,ft]);const mt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!g)return null;if(typeof g=="string")return isDataURI(g)?{data:dataURItoByteString(g)}:(displayCORSWarning(),{url:g});if(g instanceof PDFDataRangeTransport)return{range:g};if(isArrayBuffer(g))return{data:g};if(isBrowser&&isBlob(g))return{data:yield loadFromFile(g)};if(invariant(typeof g=="object"),invariant(isParameterObject(g)),"url"in g&&typeof g.url=="string"){if(isDataURI(g.url)){const{url:Ft}=g,Bt=__rest$1(g,["url"]),Et=dataURItoByteString(Ft);return Object.assign({data:Et},Bt)}displayCORSWarning()}return g}),[g]);reactExports.useEffect(()=>{const Ft=makeCancellablePromise(mt());return Ft.promise.then(Bt=>{ft({type:"RESOLVE",value:Bt})}).catch(Bt=>{ft({type:"REJECT",error:Bt})}),()=>{cancelRunningTask(Ft)}},[mt,ft]),reactExports.useEffect(()=>{if(!(typeof yt>"u")){if(yt===!1){bt();return}It()}},[yt]);function vt(){Nt&&(nt&&nt(Nt),Ct.current=new Array(Nt.numPages),kt.current.setDocument(Nt))}function At(){Lt&&(warning$1(!1,Lt.toString()),rt&&rt(Lt))}function jt(){St({type:"RESET"})}reactExports.useEffect(jt,[St,yt]);function Dt(){if(!yt)return;const Ft=Object.assign(Object.assign({},lt),{isEvalSupported:!1}),Bt=Object.assign(Object.assign({},yt),Ft),Et=pdfjs.getDocument(Bt);st&&(Et.onProgress=st),et&&(Et.onPassword=et);const _t=Et;return _t.promise.then($t=>{St({type:"RESOLVE",value:$t})}).catch($t=>{_t.destroyed||St({type:"REJECT",error:$t})}),()=>{_t.destroy()}}reactExports.useEffect(Dt,[lt,St,yt]),reactExports.useEffect(()=>{if(!(typeof Nt>"u")){if(Nt===!1){At();return}vt()}},[Nt]);function Vt(){kt.current.setViewer(Rt.current),kt.current.setExternalLinkRel(d),kt.current.setExternalLinkTarget(h)}reactExports.useEffect(Vt,[d,h]);function Wt(Ft,Bt){Ct.current[Ft]=Bt}function Qt(Ft){delete Ct.current[Ft]}const Jt=reactExports.useMemo(()=>({imageResourcesPath:j,linkService:kt.current,onItemClick:tt,pdf:Nt,registerPage:Wt,renderMode:it,rotate:dt,unregisterPage:Qt}),[j,tt,Nt,it,dt]),on=reactExports.useMemo(()=>makeEventProps(ct,()=>Nt),[ct,Nt]);function rn(){return React$2.createElement(DocumentContext.Provider,{value:Jt},o)}function Gt(){return g?Nt==null?React$2.createElement(Message,{type:"loading"},typeof _=="function"?_():_):Nt===!1?React$2.createElement(Message,{type:"error"},typeof c=="function"?c():c):rn():React$2.createElement(Message,{type:"no-data"},typeof _e=="function"?_e():_e)}return React$2.createElement("div",Object.assign({className:clsx("react-pdf__Document",a),ref:b,style:{"--scale-factor":"1"}},on),Gt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var i=e.filter(Boolean);if(i.length<=1){var o=i[0];return o||null}return function(c){i.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const s={};if(isStructTreeNode(e)){const{role:i}=e,o=i.match(HEADING_PATTERN);if(o)s.role="heading",s["aria-level"]=Number(o[1]);else if(isPdfRole(i)){const a=PDF_ROLE_TO_HTML_ROLE[i];a&&(s.role=a)}}return s}function getBaseAttributes(e){const s={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(s["aria-label"]=e.alt),e.lang!==void 0&&(s.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[i]=e.children;if(i){const o=getBaseAttributes(i);return Object.assign(Object.assign({},s),o)}}}else"id"in e&&(s["aria-owns"]=e.id);return s}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:s}){const i=reactExports.useMemo(()=>getAttributes(s),[s]),o=reactExports.useMemo(()=>!isStructTreeNode(s)||isStructTreeNodeWithOnlyContentChild(s)?null:s.children.map((a,c)=>React$2.createElement(StructTreeItem,{key:c,node:a})),[s]);return React$2.createElement("span",Object.assign({className:e},i),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e);const{onGetStructTreeError:s,onGetStructTreeSuccess:i}=e,[o,a]=useResolver(),{value:c,error:d}=o,{customTextRenderer:h,page:g}=e;function b(){c&&i&&i(c)}function j(){d&&(warning$1(!1,d.toString()),s&&s(d))}function _(){a({type:"RESET"})}reactExports.useEffect(_,[a,g]);function _e(){if(h||!g)return;const tt=makeCancellablePromise(g.getStructTree()),rt=tt;return tt.promise.then(st=>{a({type:"RESOLVE",value:st})}).catch(st=>{a({type:"REJECT",error:st})}),()=>cancelRunningTask(rt)}return reactExports.useEffect(_e,[h,g,a]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){j();return}b()}},[c]),c?React$2.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},s),e),{_className:o,canvasBackground:a,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:h,page:g,renderForms:b,renderTextLayer:j,rotate:_,scale:_e}=i,{canvasRef:tt}=e;invariant(g);const rt=reactExports.useRef(null);function st(){g&&h&&h(makePageCallback(g,_e))}function nt(it){isCancelException(it)||(warning$1(!1,it.toString()),d&&d(it))}const et=reactExports.useMemo(()=>g.getViewport({scale:_e*c,rotation:_}),[c,g,_,_e]),$=reactExports.useMemo(()=>g.getViewport({scale:_e,rotation:_}),[g,_,_e]);function ot(){if(!g)return;g.cleanup();const{current:it}=rt;if(!it)return;it.width=et.width,it.height=et.height,it.style.width=`${Math.floor($.width)}px`,it.style.height=`${Math.floor($.height)}px`,it.style.visibility="hidden";const dt={annotationMode:b?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:it.getContext("2d",{alpha:!1}),viewport:et};a&&(dt.background=a);const ct=g.render(dt),ut=ct;return ct.promise.then(()=>{it.style.visibility="",st()}).catch(nt),()=>cancelRunningTask(ut)}reactExports.useEffect(ot,[a,rt,c,g,b,et,$]);const lt=reactExports.useCallback(()=>{const{current:it}=rt;it&&(it.width=0,it.height=0)},[rt]);return reactExports.useEffect(()=>lt,[lt]),React$2.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(tt,rt),style:{display:"block",userSelect:"none"}},j?React$2.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e);const{_className:s,onRenderSuccess:i,onRenderError:o,page:a,rotate:c,scale:d}=e;invariant(a);const[h,g]=useResolver(),{value:b,error:j}=h;function _(){a&&i&&i(makePageCallback(a,d))}function _e(){j&&(isCancelException(j)||(warning$1(!1,j.toString()),o&&o(j)))}const tt=reactExports.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);function rt(){g({type:"RESET"})}reactExports.useEffect(rt,[a,g,tt]);function st(){if(!a)return;const ot=makeCancellablePromise(a.getOperatorList());return ot.promise.then(lt=>{new pdfjs.SVGGraphics(a.commonObjs,a.objs).getSVG(lt,tt).then(dt=>{if(!(dt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");g({type:"RESOLVE",value:dt})}).catch(dt=>{g({type:"REJECT",error:dt})})}).catch(lt=>{g({type:"REJECT",error:lt})}),()=>cancelRunningTask(ot)}reactExports.useEffect(st,[a,g,tt]),reactExports.useEffect(()=>{if(b!==void 0){if(b===!1){_e();return}_()}},[b]);function nt(ot){if(!ot||!b)return;ot.firstElementChild||ot.appendChild(b);const{width:lt,height:it}=tt;b.setAttribute("width",`${lt}`),b.setAttribute("height",`${it}`)}const{width:et,height:$}=tt;return React$2.createElement("div",{className:`${s}__svg`,ref:ot=>nt(ot),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:et,height:$,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e);const{customTextRenderer:s,onGetTextError:i,onGetTextSuccess:o,onRenderTextLayerError:a,onRenderTextLayerSuccess:c,page:d,pageIndex:h,pageNumber:g,rotate:b,scale:j}=e;invariant(d);const[_,_e]=useResolver(),{value:tt,error:rt}=_,st=reactExports.useRef(null),nt=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function et(){tt&&o&&o(tt)}function $(){rt&&(warning$1(!1,rt.toString()),i&&i(rt))}function ot(){_e({type:"RESET"})}reactExports.useEffect(ot,[d,_e]);function lt(){if(!d)return;const ht=makeCancellablePromise(d.getTextContent()),gt=ht;return ht.promise.then(St=>{_e({type:"RESOLVE",value:St})}).catch(St=>{_e({type:"REJECT",error:St})}),()=>cancelRunningTask(gt)}reactExports.useEffect(lt,[d,_e]),reactExports.useEffect(()=>{if(tt!==void 0){if(tt===!1){$();return}et()}},[tt]);const it=reactExports.useCallback(()=>{c&&c()},[c]),dt=reactExports.useCallback(ht=>{warning$1(!1,ht.toString()),a&&a(ht)},[a]);function ct(){const ht=nt.current;ht&&ht.classList.add("active")}function ut(){const ht=nt.current;ht&&ht.classList.remove("active")}const ft=reactExports.useMemo(()=>d.getViewport({scale:j,rotation:b}),[d,b,j]);function yt(){if(!d||!tt)return;const{current:ht}=st;if(!ht)return;ht.innerHTML="";const gt=d.streamTextContent({includeMarkedContent:!0}),St={container:ht,textContentSource:gt,viewport:ft},Nt=pdfjs.renderTextLayer(St),Lt=Nt;return Nt.promise.then(()=>{const kt=document.createElement("div");kt.className="endOfContent",ht.append(kt),nt.current=kt;const Ct=ht.querySelectorAll('[role="presentation"]');if(s){let Tt=0;tt.items.forEach((xt,Rt)=>{if(!isTextItem(xt))return;const It=Ct[Tt];if(!It)return;const bt=s(Object.assign({pageIndex:h,pageNumber:g,itemIndex:Rt},xt));It.innerHTML=bt,Tt+=xt.str&&xt.hasEOL?2:1})}it()}).catch(dt),()=>cancelRunningTask(Lt)}return reactExports.useLayoutEffect(yt,[s,dt,it,d,h,g,tt,ft]),React$2.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:ut,onMouseDown:ct,ref:st})}function AnnotationLayer(){const e=useDocumentContext(),s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},e),s),{imageResourcesPath:o,linkService:a,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:g,page:b,pdf:j,renderForms:_,rotate:_e,scale:tt=1}=i;invariant(j),invariant(b),invariant(a);const[rt,st]=useResolver(),{value:nt,error:et}=rt,$=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ot(){nt&&d&&d(nt)}function lt(){et&&(warning$1(!1,et.toString()),c&&c(et))}function it(){st({type:"RESET"})}reactExports.useEffect(it,[st,b]);function dt(){if(!b)return;const ht=makeCancellablePromise(b.getAnnotations()),gt=ht;return ht.promise.then(St=>{st({type:"RESOLVE",value:St})}).catch(St=>{st({type:"REJECT",error:St})}),()=>{cancelRunningTask(gt)}}reactExports.useEffect(dt,[st,b,_]),reactExports.useEffect(()=>{if(nt!==void 0){if(nt===!1){lt();return}ot()}},[nt]);function ct(){g&&g()}function ut(ht){warning$1(!1,`${ht}`),h&&h(ht)}const ft=reactExports.useMemo(()=>b.getViewport({scale:tt,rotation:_e}),[b,_e,tt]);function yt(){if(!j||!b||!a||!nt)return;const{current:ht}=$;if(!ht)return;const gt=ft.clone({dontFlip:!0}),St={accessibilityManager:null,annotationCanvasMap:null,div:ht,l10n:null,page:b,viewport:gt},Nt={annotations:nt,annotationStorage:j.annotationStorage,div:ht,downloadManager:null,imageResourcesPath:o,linkService:a,page:b,renderForms:_,viewport:gt};ht.innerHTML="";try{new pdfjs.AnnotationLayer(St).render(Nt),ct()}catch(Lt){ut(Lt)}return()=>{}}return reactExports.useEffect(yt,[nt,o,a,b,_,ft]),React$2.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:$})}var __rest=function(e,s){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(i[o[a]]=e[o[a]]);return i};const defaultScale=1,Page=function e(s){const i=useDocumentContext(),o=Object.assign(Object.assign({},i),s),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:h,children:g,className:b,customRenderer:j,customTextRenderer:_,devicePixelRatio:_e,error:tt="Failed to load the page.",height:rt,inputRef:st,loading:nt="Loading page",noData:et="No page specified.",onGetAnnotationsError:$,onGetAnnotationsSuccess:ot,onGetStructTreeError:lt,onGetStructTreeSuccess:it,onGetTextError:dt,onGetTextSuccess:ct,onLoadError:ut,onLoadSuccess:ft,onRenderAnnotationLayerError:yt,onRenderAnnotationLayerSuccess:ht,onRenderError:gt,onRenderSuccess:St,onRenderTextLayerError:Nt,onRenderTextLayerSuccess:Lt,pageIndex:kt,pageNumber:Ct,pdf:Tt,registerPage:xt,renderAnnotationLayer:Rt=!0,renderForms:It=!1,renderMode:bt="canvas",renderTextLayer:pt=!0,rotate:mt,scale:vt=defaultScale,unregisterPage:At,width:jt}=o,Dt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Vt,Wt]=useResolver(),{value:Qt,error:Jt}=Vt,on=reactExports.useRef(null);invariant(Tt);const rn=isProvided(Ct)?Ct-1:kt??null,Gt=Ct??(isProvided(kt)?kt+1:null),Ft=mt??(Qt?Qt.rotate:null),Bt=reactExports.useMemo(()=>{if(!Qt)return null;let Rn=1;const kn=vt??defaultScale;if(jt||rt){const In=Qt.getViewport({scale:1,rotation:Ft});jt?Rn=jt/In.width:rt&&(Rn=rt/In.height)}return kn*Rn},[rt,Qt,Ft,vt,jt]);function Et(){return()=>{isProvided(rn)&&c&&At&&At(rn)}}reactExports.useEffect(Et,[c,Tt,rn,At]);function _t(){if(ft){if(!Qt||!Bt)return;ft(makePageCallback(Qt,Bt))}if(c&&xt){if(!isProvided(rn)||!on.current)return;xt(rn,on.current)}}function $t(){Jt&&(warning$1(!1,Jt.toString()),ut&&ut(Jt))}function Ht(){Wt({type:"RESET"})}reactExports.useEffect(Ht,[Wt,Tt,rn]);function nn(){if(!Tt||!Gt)return;const Rn=makeCancellablePromise(Tt.getPage(Gt)),kn=Rn;return Rn.promise.then(In=>{Wt({type:"RESOLVE",value:In})}).catch(In=>{Wt({type:"REJECT",error:In})}),()=>cancelRunningTask(kn)}reactExports.useEffect(nn,[Wt,Tt,rn,Gt,xt]),reactExports.useEffect(()=>{if(Qt!==void 0){if(Qt===!1){$t();return}_t()}},[Qt,Bt]);const dn=reactExports.useMemo(()=>Qt&&isProvided(rn)&&Gt&&isProvided(Ft)&&isProvided(Bt)?{_className:a,canvasBackground:d,customTextRenderer:_,devicePixelRatio:_e,onGetAnnotationsError:$,onGetAnnotationsSuccess:ot,onGetStructTreeError:lt,onGetStructTreeSuccess:it,onGetTextError:dt,onGetTextSuccess:ct,onRenderAnnotationLayerError:yt,onRenderAnnotationLayerSuccess:ht,onRenderError:gt,onRenderSuccess:St,onRenderTextLayerError:Nt,onRenderTextLayerSuccess:Lt,page:Qt,pageIndex:rn,pageNumber:Gt,renderForms:It,renderTextLayer:pt,rotate:Ft,scale:Bt}:null,[a,d,_,_e,$,ot,lt,it,dt,ct,yt,ht,gt,St,Nt,Lt,Qt,rn,Gt,It,pt,Ft,Bt]),ln=reactExports.useMemo(()=>makeEventProps(Dt,()=>Qt&&(Bt?makePageCallback(Qt,Bt):void 0)),[Dt,Qt,Bt]),Ut=`${rn}@${Bt}/${Ft}`,fn=`${rn}/${Ft}`;function pn(){switch(bt){case"custom":return invariant(j),React$2.createElement(j,{key:`${Ut}_custom`});case"none":return null;case"svg":return React$2.createElement(PageSVG,{key:`${fn}_svg`});case"canvas":default:return React$2.createElement(PageCanvas,{key:`${Ut}_canvas`,canvasRef:h})}}function Pn(){return pt?React$2.createElement(TextLayer,{key:`${Ut}_text`}):null}function jn(){return Rt?React$2.createElement(AnnotationLayer,{key:`${Ut}_annotations`}):null}function Dn(){return React$2.createElement(PageContext.Provider,{value:dn},pn(),Pn(),jn(),g)}function vn(){return Gt?Tt===null||Qt===void 0||Qt===null?React$2.createElement(Message,{type:"loading"},typeof nt=="function"?nt():nt):Tt===!1||Qt===!1?React$2.createElement(Message,{type:"error"},typeof tt=="function"?tt():tt):Dn():React$2.createElement(Message,{type:"no-data"},typeof et=="function"?et():et)}return React$2.createElement("div",Object.assign({className:clsx(a,b),"data-page-number":Gt,ref:mergeRefs(st,on),style:{"--scale-factor":`${Bt}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ln),vn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";function PageJumpInput({currentPage:e,totalPages:s,onPageChange:i,className:o=""}){const[a,c]=reactExports.useState(e.toString()),[d,h]=reactExports.useState(!1);reactExports.useEffect(()=>{d||c(e.toString())},[e,d]);const g=reactExports.useCallback(_e=>{const tt=_e.target.value;/^\d*$/.test(tt)&&c(tt)},[]),b=reactExports.useCallback(()=>{const _e=parseInt(a,10);!isNaN(_e)&&_e>=1&&_e<=s?i(_e):c(e.toString()),h(!1)},[a,s,i,e]),j=reactExports.useCallback(_e=>{_e.key==="Enter"?(b(),_e.target.blur()):_e.key==="Escape"&&(c(e.toString()),h(!1),_e.target.blur())},[b,e]),_=reactExports.useCallback(()=>{h(!0),setTimeout(()=>{const _e=document.activeElement;_e&&_e.select()},0)},[]);return jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 ${o}`,children:[jsxRuntimeExports.jsx("input",{type:"text",value:a,onChange:g,onBlur:b,onFocus:_,onKeyDown:j,className:`w-12 px-2 py-1 text-sm text-center bg-bg-tertiary border border-border rounded-md 
                   focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent
                   text-text-primary font-mono`,"aria-label":`Current page ${e} of ${s}`}),jsxRuntimeExports.jsx("span",{className:"text-sm text-text-muted",children:"/"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-text-secondary font-mono min-w-[24px]",children:s})]})}function PDFToolbar({currentPage:e,totalPages:s,scale:i,viewMode:o,onPageChange:a,onZoomIn:c,onZoomOut:d,onViewModeChange:h,onToggleFullscreen:g,className:b=""}){reactExports.useEffect(()=>{const rt=st=>{if(!(st.target instanceof HTMLInputElement||st.target instanceof HTMLTextAreaElement))switch(st.key){case"ArrowLeft":st.preventDefault(),e>1&&a(e-1);break;case"ArrowRight":st.preventDefault(),e<s&&a(e+1);break;case"Home":st.preventDefault(),a(1);break;case"End":st.preventDefault(),a(s);break;case"+":case"=":(st.ctrlKey||st.metaKey)&&(st.preventDefault(),c());break;case"-":(st.ctrlKey||st.metaKey)&&(st.preventDefault(),d());break;case"v":!st.ctrlKey&&!st.metaKey&&h(o==="single"?"continuous":"single");break}};return window.addEventListener("keydown",rt),()=>window.removeEventListener("keydown",rt)},[e,s,o,a,c,d,h]);const j=reactExports.useCallback(()=>a(1),[a]),_=reactExports.useCallback(()=>a(s),[a,s]),_e=reactExports.useCallback(()=>{e>1&&a(e-1)},[e,a]),tt=reactExports.useCallback(()=>{e<s&&a(e+1)},[e,s,a]);return jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between px-4 py-2 bg-bg-secondary border-b border-border ${b}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:j,disabled:e<=1,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"First page (Home)",children:jsxRuntimeExports.jsx(ChevronsLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:_e,disabled:e<=1,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Previous page ()",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(PageJumpInput,{currentPage:e,totalPages:s,onPageChange:a,className:"mx-2"}),jsxRuntimeExports.jsx("button",{onClick:tt,disabled:e>=s,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Next page ()",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:_,disabled:e>=s,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Last page (End)",children:jsxRuntimeExports.jsx(ChevronsRight,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-bg-tertiary rounded-lg p-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>h("single"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o==="single"?"bg-accent text-white":"text-text-secondary hover:text-text-primary"}`,title:"Single page view",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>h("continuous"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o==="continuous"?"bg-accent text-white":"text-text-secondary hover:text-text-primary"}`,title:"Continuous scroll view (V)",children:jsxRuntimeExports.jsx(Columns2,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:d,disabled:i<=.5,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Zoom out (Ctrl+-)",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-secondary font-mono min-w-[50px] text-center",children:[Math.round(i*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:c,disabled:i>=3,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Zoom in (Ctrl++)",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4"})}),g&&jsxRuntimeExports.jsx("button",{onClick:g,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary 
                       flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Toggle fullscreen",children:jsxRuntimeExports.jsx(Maximize2,{className:"w-4 h-4"})})]})]})}pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFContinuousView({file:e,scale:s,onTextSelect:i,onPageChange:o,onPageContent:a,onLoadSuccess:c,onLoadError:d,className:h=""}){const[g,b]=reactExports.useState(0),[j,_]=reactExports.useState(!0),[_e,tt]=reactExports.useState(null),[rt,st]=reactExports.useState(new Set([1])),nt=reactExports.useRef(null),et=reactExports.useRef(new Map),$=reactExports.useRef(null),ot=reactExports.useCallback(ut=>{b(ut.numPages),_(!1),$.current=ut,c==null||c(ut.numPages)},[c]),lt=reactExports.useCallback(ut=>{console.error("Error loading PDF:",ut),tt("Failed to load PDF. Please try again."),_(!1),d==null||d(ut)},[d]),it=reactExports.useCallback(async ut=>{if(!$.current)return"";try{return(await(await $.current.getPage(ut)).getTextContent()).items.map(gt=>gt.str).join(" ")}catch(ft){return console.error("Error extracting page text:",ft),""}},[]);reactExports.useEffect(()=>{if(!nt.current||g===0)return;const ut=new IntersectionObserver(ft=>{const yt=new Set(rt);ft.forEach(gt=>{const St=parseInt(gt.target.getAttribute("data-page")||"0",10);St>0&&(gt.isIntersecting?yt.add(St):gt.intersectionRatio<.1&&yt.delete(St))}),st(yt);const ht=Array.from(yt).sort((gt,St)=>gt-St)[0];ht&&ht>0&&(o==null||o(ht,g),a&&it(ht).then(gt=>{gt&&a(gt,ht)}))},{root:nt.current,rootMargin:"100px",threshold:[0,.1,.5,1]});return et.current.forEach(ft=>{ut.observe(ft)}),()=>ut.disconnect()},[g,rt,o,a,it]);const dt=reactExports.useCallback(()=>{if(!i)return;const ut=window.getSelection(),ft=ut==null?void 0:ut.toString().trim();ft&&ft.length>0&&i(ft)},[i]),ct=reactExports.useCallback(ut=>ft=>{ft?et.current.set(ut,ft):et.current.delete(ut)},[]);return _e?jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${h}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-2",children:_e}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"The PDF might be corrupted or unavailable."})]}):jsxRuntimeExports.jsx("div",{ref:nt,className:`overflow-auto bg-bg-tertiary ${h}`,onMouseUp:dt,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center py-4 gap-4 min-h-full",children:[j&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Loading PDF..."})]}),jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:ot,onLoadError:lt,loading:"",children:Array.from({length:g},(ut,ft)=>{const yt=ft+1,ht=rt.has(yt);return jsxRuntimeExports.jsxs(motion.div,{ref:ct(yt),"data-page":yt,initial:{opacity:0,y:20},animate:{opacity:ht||j?1:.3,y:0},transition:{duration:.3,delay:ht?0:.1},className:"bg-white shadow-lg",children:[jsxRuntimeExports.jsx(Page,{pageNumber:yt,scale:s,renderTextLayer:!0,renderAnnotationLayer:!0,loading:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-[600px] h-[800px] bg-bg-secondary",children:jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-accent"})})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-2 bg-bg-secondary text-text-muted text-sm border-t border-border",children:["Page ",yt," of ",g]})]},`page-${yt}`)})})]})})}pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFViewer({file:e,viewMode:s="single",onTextSelect:i,onPageChange:o,onPageContent:a,selectedPages:c,onSelectedPagesChange:d,className:h=""}){const[g,b]=reactExports.useState(0),[j,_]=reactExports.useState(1),[_e,tt]=reactExports.useState(1),[rt,st]=reactExports.useState(!0),[nt,et]=reactExports.useState(null),[$,ot]=reactExports.useState(s),lt=reactExports.useRef(null),it=reactExports.useRef(null);reactExports.useEffect(()=>{const kt=localStorage.getItem("pdf-view-mode");kt&&(kt==="single"||kt==="continuous")&&ot(kt)},[]);const dt=reactExports.useCallback(kt=>{ot(kt),localStorage.setItem("pdf-view-mode",kt)},[]),ct=reactExports.useCallback(kt=>{b(kt.numPages),st(!1),o==null||o(1,kt.numPages),lt.current=kt},[o]),ut=reactExports.useCallback(kt=>{console.error("Error loading PDF:",kt),et("Failed to load PDF. Please try again."),st(!1)},[]),ft=reactExports.useCallback(async kt=>{if(!lt.current)return"";try{return(await(await lt.current.getPage(kt)).getTextContent()).items.map(Rt=>Rt.str).join(" ")}catch(Ct){return console.error("Error extracting page text:",Ct),""}},[]),yt=reactExports.useCallback(kt=>{kt>=1&&kt<=g&&(_(kt),o==null||o(kt,g),a&&lt.current&&ft(kt).then(Ct=>{Ct&&a(Ct,kt)}))},[g,o,a,ft]),ht=reactExports.useCallback(()=>{tt(kt=>Math.min(kt+.25,3))},[]),gt=reactExports.useCallback(()=>{tt(kt=>Math.max(kt-.25,.5))},[]),St=reactExports.useCallback(()=>{if(!i)return;const kt=window.getSelection(),Ct=kt==null?void 0:kt.toString().trim();Ct&&Ct.length>0&&i(Ct)},[i]),Nt=reactExports.useCallback(kt=>{if($==="continuous"){const Ct=document.querySelector(`[data-page="${kt}"]`);Ct&&Ct.scrollIntoView({behavior:"smooth",block:"start"})}},[$]),Lt=reactExports.useCallback(kt=>{yt(kt),$==="continuous"&&Nt(kt)},[yt,$,Nt]);return nt?jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${h}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-2",children:nt}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"The PDF might be corrupted or unavailable."})]}):jsxRuntimeExports.jsxs("div",{className:`flex flex-col h-full ${h}`,children:[jsxRuntimeExports.jsx(PDFToolbar,{currentPage:j,totalPages:g,scale:_e,viewMode:$,onPageChange:Lt,onZoomIn:ht,onZoomOut:gt,onViewModeChange:dt}),$==="continuous"?jsxRuntimeExports.jsx(PDFContinuousView,{file:e,scale:_e,onTextSelect:i,onPageChange:o,onPageContent:a,onLoadSuccess:kt=>{b(kt),st(!1)},onLoadError:ut,className:"flex-1"}):jsxRuntimeExports.jsx("div",{ref:it,className:"flex-1 overflow-auto bg-bg-tertiary p-4 scrollbar-thin",onMouseUp:St,children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center min-h-full",children:[rt&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Loading PDF..."})]}),jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:ct,onLoadError:ut,loading:"",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:rt?0:1},transition:{duration:.3},className:"flex items-center justify-center min-h-full",children:jsxRuntimeExports.jsx(Page,{pageNumber:j,scale:_e,className:"shadow-lg",renderTextLayer:!0,renderAnnotationLayer:!0,loading:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-[600px] h-[800px] bg-bg-secondary",children:jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-accent"})})})})})]})})]})}pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function ChatPageSelector({totalPages:e,selectedPages:s,onSelectionChange:i,file:o,className:a=""}){const[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(new Set(s));reactExports.useEffect(()=>{g(new Set(s))},[s]);const b=reactExports.useCallback(rt=>{g(st=>{const nt=new Set(st);return nt.has(rt)?nt.delete(rt):nt.add(rt),nt})},[]),j=reactExports.useCallback(()=>{g(new Set(Array.from({length:e},(rt,st)=>st+1)))},[e]),_=reactExports.useCallback(()=>{g(new Set)},[]),_e=reactExports.useCallback(()=>{i(Array.from(h).sort((rt,st)=>rt-st)),d(!1)},[h,i]),tt=reactExports.useCallback(()=>{g(new Set(s)),d(!1)},[s]);return jsxRuntimeExports.jsxs("div",{className:a,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d(!c),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${s.length>0?"bg-accent/10 border-accent text-accent":"bg-bg-secondary border-border text-text-secondary hover:text-text-primary"}`,children:[jsxRuntimeExports.jsx(Layers,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:s.length>0?`${s.length} page${s.length>1?"s":""} selected`:"Select pages"})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:c&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute z-50 mt-2 w-80 bg-bg-secondary border border-border rounded-xl shadow-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Select Pages for Context"}),jsxRuntimeExports.jsx("button",{onClick:tt,className:"w-6 h-6 rounded-md hover:bg-bg-tertiary flex items-center justify-center text-text-muted hover:text-text-primary",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-border bg-bg-tertiary",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:j,className:"text-xs h-7",children:"Select All"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:_,className:"text-xs h-7",children:"Clear"}),jsxRuntimeExports.jsx("div",{className:"flex-1"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-text-muted",children:[h.size," selected"]})]}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-auto p-3",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:e},(rt,st)=>{const nt=st+1,et=h.has(nt);return jsxRuntimeExports.jsxs("button",{onClick:()=>b(nt),className:`relative aspect-[3/4] rounded-lg border-2 transition-all overflow-hidden ${et?"border-accent bg-accent/10":"border-border hover:border-border-strong bg-bg-tertiary"}`,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Document,{file:o,loading:"",children:jsxRuntimeExports.jsx(Page,{pageNumber:nt,scale:.1,renderTextLayer:!1,renderAnnotationLayer:!1,className:"opacity-50"})})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/60 to-transparent py-1",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-white font-medium",children:nt})}),et&&jsxRuntimeExports.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-accent rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"})})]},nt)})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-3 border-t border-border bg-bg-tertiary",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:tt,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:_e,className:"bg-accent hover:bg-accent-hover text-white",children:["Apply (",h.size,")"]})]})]})})]})}function PDFViewerPage(){const{id:e}=useParams(),{token:s}=useAuthStore(),[i,o]=reactExports.useState(null),[a,c]=reactExports.useState(!0),[d,h]=reactExports.useState(null),[g,b]=reactExports.useState(""),[j,_]=reactExports.useState(1),[_e,tt]=reactExports.useState(0),[rt,st]=reactExports.useState(""),[nt,et]=reactExports.useState([]),[$,ot]=reactExports.useState(!1),[lt,it]=reactExports.useState([]),[dt,ct]=reactExports.useState(""),[ut,ft]=reactExports.useState(!1),[yt,ht]=reactExports.useState(!1),[gt,St]=reactExports.useState(""),[Nt,Lt]=reactExports.useState(!1),[kt,Ct]=reactExports.useState(!1),[Tt,xt]=reactExports.useState([]),[Rt,It]=reactExports.useState(!1),[bt,pt]=reactExports.useState({}),[mt,vt]=reactExports.useState({}),{toast:At}=useToast();reactExports.useEffect(()=>{(async()=>{if(!e||!s){c(!1);return}try{const Ft=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(Ft.ok){const Bt=await Ft.json();if(o(Bt.document),Bt.document.filePath)try{const Et=await fetch(apiEndpoint(`api/documents/${e}/file`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(Et.ok){const _t=await Et.blob();h(_t)}else console.error("Failed to fetch PDF file:",Et.status)}catch(Et){console.error("Error fetching PDF file:",Et)}}}catch(Ft){console.error("Error fetching document:",Ft)}finally{c(!1)}})()},[e,s]);const jt=reactExports.useCallback(Gt=>{b(Gt)},[]),Dt=reactExports.useCallback((Gt,Ft)=>{st(Gt),_(Ft)},[]),Vt=reactExports.useCallback((Gt,Ft)=>{_(Gt),tt(Ft)},[]),Wt=()=>(localStorage.getItem("i18nextLng")||"en")==="pt-PT"?"Portuguese":"English",Qt=async()=>{if(!dt.trim()||ut)return;const Gt=dt.trim();ct(""),it(Ft=>[...Ft,{role:"user",content:Gt}]),ft(!0);try{const Ft=await fetch(apiEndpoint(`api/ai/documents/${e}/chat`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({message:Gt,selectedText:g,pageContent:rt,pageNumber:j,selectedPages:nt,language:Wt()})}),Bt=await Ft.json();if(Ft.ok)it(Et=>[...Et,{role:"assistant",content:Bt.response}]),b("");else throw new Error(Bt.error||"Failed to get response")}catch(Ft){At({variant:"destructive",title:"Error",description:Ft instanceof Error?Ft.message:"Failed to send message"})}finally{ft(!1)}},Jt=async()=>{ht(!0),Lt(!0),St("");try{const Gt=await fetch(apiEndpoint(`api/ai/documents/${e}/summarize`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({content:i==null?void 0:i.content,language:Wt()})}),Ft=await Gt.json();if(Gt.ok)St(Ft.summary);else throw new Error(Ft.error||"Failed to generate summary")}catch(Gt){At({variant:"destructive",title:"Error",description:Gt instanceof Error?Gt.message:"Failed to generate summary"}),ht(!1)}finally{Lt(!1)}},on=async()=>{Ct(!0),It(!0),xt([]),pt({}),vt({});try{const Gt=await fetch(apiEndpoint(`api/ai/documents/${e}/exercises`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({content:i==null?void 0:i.content,language:Wt()})}),Ft=await Gt.json();if(Gt.ok)xt(Ft.exercises||[]);else throw new Error(Ft.error||"Failed to generate exercises")}catch(Gt){At({variant:"destructive",title:"Error",description:Gt instanceof Error?Gt.message:"Failed to generate exercises"}),Ct(!1)}finally{It(!1)}},rn=Gt=>{vt(Ft=>({...Ft,[Gt]:!0}))};return a?jsxRuntimeExports.jsx("div",{className:"h-screen flex items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):i?jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col bg-bg-primary",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-border bg-bg-secondary px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsx("div",{className:"h-4 w-px bg-border"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"font-medium text-text-primary truncate max-w-md",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted",children:i.filename})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"text-text-secondary hover:text-text-primary",onClick:()=>ot(!$),children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4 mr-2"}),"Chat"]}),jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{size:"sm",className:"bg-accent hover:bg-accent-hover text-white",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Learning Mode"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:d?jsxRuntimeExports.jsx(PDFViewer,{file:d,onTextSelect:jt,onPageContent:Dt,onPageChange:Vt,selectedPages:nt,onSelectedPagesChange:et,className:"h-full"}):jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-bg-tertiary",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No PDF File"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-center max-w-md mb-4",children:"This document doesn't have an associated PDF file. The content may have been pasted as text."}),i.content&&jsxRuntimeExports.jsxs("div",{className:"w-full max-w-2xl bg-bg-secondary border border-border rounded-xl p-6 max-h-96 overflow-auto",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-text-muted mb-3",children:"Document Content:"}),jsxRuntimeExports.jsxs("div",{className:"prose prose-sm max-w-none text-text-secondary whitespace-pre-wrap",children:[i.content.slice(0,2e3),i.content.length>2e3&&"..."]})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:$&&jsxRuntimeExports.jsxs(motion.div,{initial:{width:0,opacity:0},animate:{width:384,opacity:1},exit:{width:0,opacity:0},transition:{duration:.2},className:"border-l border-border bg-bg-secondary flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-xs font-medium text-text-muted uppercase tracking-wider mb-3",children:"AI Tools"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"justify-start border-border hover:bg-bg-tertiary text-text-secondary hover:text-text-primary",onClick:Jt,disabled:Nt,children:[Nt?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 mr-2"}),"Summarize"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"justify-start border-border hover:bg-bg-tertiary text-text-secondary hover:text-text-primary",onClick:on,disabled:Rt,children:[Rt?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 mr-2"}),"Exercises"]})]})]}),yt&&jsxRuntimeExports.jsxs("div",{className:"border-b border-border p-4 max-h-64 overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-accent"}),"Summary"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-text-muted hover:text-text-primary",onClick:()=>ht(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),Nt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-4",children:jsxRuntimeExports.jsx(Loader2,{className:"w-5 h-5 animate-spin text-text-muted"})}):jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:gt})]}),kt&&jsxRuntimeExports.jsxs("div",{className:"border-b border-border p-4 max-h-80 overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-accent"}),"Exercises"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-text-muted hover:text-text-primary",onClick:()=>Ct(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),Rt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-4",children:jsxRuntimeExports.jsx(Loader2,{className:"w-5 h-5 animate-spin text-text-muted"})}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Tt.map((Gt,Ft)=>{var Bt;return jsxRuntimeExports.jsxs("div",{className:"p-3 border border-border rounded-lg bg-bg-tertiary space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-text-primary",children:[Ft+1,". ",Gt.question]}),Gt.type==="multiple_choice"&&Gt.options&&jsxRuntimeExports.jsx("div",{className:"space-y-1",children:Gt.options.map((Et,_t)=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-secondary cursor-pointer hover:text-text-primary",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:`exercise-${Ft}`,value:Et,onChange:()=>pt($t=>({...$t,[Ft]:Et})),className:"w-4 h-4 text-accent"}),Et]},_t))}),Gt.type==="fill_blank"&&jsxRuntimeExports.jsx(Input,{placeholder:"Fill in the blank...",value:bt[Ft]||"",onChange:Et=>pt(_t=>({..._t,[Ft]:Et.target.value})),className:"text-sm border-border bg-bg-secondary"}),Gt.type==="short_answer"&&jsxRuntimeExports.jsx(Input,{placeholder:"Your answer...",value:bt[Ft]||"",onChange:Et=>pt(_t=>({..._t,[Ft]:Et.target.value})),className:"text-sm border-border bg-bg-secondary"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",onClick:()=>rn(Ft),disabled:!bt[Ft],children:"Check"}),mt[Ft]&&jsxRuntimeExports.jsx("div",{className:"text-sm",children:((Bt=bt[Ft])==null?void 0:Bt.toLowerCase().trim())===Gt.correctAnswer.toLowerCase().trim()?jsxRuntimeExports.jsx("span",{className:"text-green-500",children:" Correct!"}):jsxRuntimeExports.jsxs("span",{className:"text-red-500",children:[" Answer: ",Gt.correctAnswer]})})]})]},Ft)})})]}),g&&jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border bg-accent-light/30",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-medium text-text-muted uppercase tracking-wider mb-2",children:"Selected Text"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary line-clamp-3",children:g}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"mt-2 text-xs text-accent",onClick:()=>{ct(Gt=>Gt+(Gt?" ":"")+`Regarding "${g.slice(0,50)}...", `)},children:"Ask about this"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[lt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-12 h-12 mx-auto text-text-muted mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm",children:"Ask questions about this document"})]}),lt.map((Gt,Ft)=>jsxRuntimeExports.jsx("div",{className:`flex ${Gt.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[80%] rounded-lg px-3 py-2 ${Gt.role==="user"?"bg-accent text-white":"bg-bg-tertiary text-text-primary"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Gt.content})})},Ft)),ut&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-bg-tertiary rounded-lg px-3 py-2",children:jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin text-text-muted"})})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border",children:[d&&_e>0&&jsxRuntimeExports.jsx("div",{className:"mb-3 relative",children:jsxRuntimeExports.jsx(ChatPageSelector,{totalPages:_e,selectedPages:nt,onSelectionChange:et,file:d})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Ask a question...",value:dt,onChange:Gt=>ct(Gt.target.value),onKeyDown:Gt=>Gt.key==="Enter"&&!Gt.shiftKey&&Qt(),className:"border-border bg-bg-tertiary"}),jsxRuntimeExports.jsx(Button,{onClick:Qt,disabled:!dt.trim()||ut,className:"bg-accent hover:bg-accent-hover text-white",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})]})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"h-screen bg-bg-primary p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-24 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Document not found"})]})]})})}function ChatPage(){const[e,s]=reactExports.useState([]),[i,o]=reactExports.useState(""),[a,c]=reactExports.useState(!1),d=reactExports.useRef(null),{token:h}=useAuthStore(),{toast:g}=useToast();reactExports.useEffect(()=>{var _;(_=d.current)==null||_.scrollIntoView({behavior:"smooth"})},[e]),reactExports.useEffect(()=>{const _=localStorage.getItem("chat-history");if(_)try{const _e=JSON.parse(_);s(_e.map(tt=>({...tt,timestamp:new Date(tt.timestamp)})))}catch(_e){console.error("Failed to load chat history:",_e)}},[]),reactExports.useEffect(()=>{e.length>0&&localStorage.setItem("chat-history",JSON.stringify(e))},[e]);const b=async()=>{if(!i.trim()||a)return;const _={id:Date.now().toString(),role:"user",content:i.trim(),timestamp:new Date};s(_e=>[..._e,_]),o(""),c(!0);try{const _e=await fetch(apiEndpoint("api/ai/chat"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},credentials:"include",body:JSON.stringify({message:_.content,history:e.slice(-10).map(rt=>({role:rt.role,content:rt.content}))})}),tt=await _e.json();if(_e.ok){const rt={id:(Date.now()+1).toString(),role:"assistant",content:tt.response,timestamp:new Date};s(st=>[...st,rt])}else throw new Error(tt.error||"Failed to get response")}catch(_e){g({variant:"destructive",title:"Error",description:_e instanceof Error?_e.message:"Failed to send message"}),s(tt=>tt.filter(rt=>rt.id!==_.id))}finally{c(!1)}},j=()=>{s([]),localStorage.removeItem("chat-history"),g({title:"Chat cleared",description:"Your chat history has been cleared."})};return jsxRuntimeExports.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent to-purple-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-text-primary",children:"AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Ask questions about your documents"})]})]}),e.length>0&&jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:j,className:"text-text-muted hover:text-error",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-2"}),"Clear"]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto bg-bg-secondary border border-border rounded-xl p-4 scrollbar-thin",children:e.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-16 h-16 text-text-muted mb-4 opacity-50"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"Start a conversation"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary max-w-md",children:"Ask me anything about your documents, request summaries, generate quizzes, or get help with your studies."}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:["Explain machine learning","Create a study plan","Help me understand this concept"].map(_=>jsxRuntimeExports.jsx("button",{onClick:()=>o(_),className:"px-3 py-1.5 bg-bg-tertiary hover:bg-bg-hover rounded-lg text-sm text-text-secondary hover:text-text-primary transition-colors",children:_},_))})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:e.map(_=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${_.role==="user"?"bg-accent text-white rounded-br-md":"bg-bg-tertiary text-text-primary rounded-bl-md"}`,children:[jsxRuntimeExports.jsx("p",{className:"whitespace-pre-wrap",children:_.content}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1 ${_.role==="user"?"text-white/60":"text-text-muted"}`,children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},_.id))}),a&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-bg-tertiary rounded-2xl rounded-bl-md px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin text-accent"}),jsxRuntimeExports.jsx("span",{className:"text-text-muted",children:"Thinking..."})]})})}),jsxRuntimeExports.jsx("div",{ref:d})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:i,onChange:_=>o(_.target.value),onKeyDown:_=>_.key==="Enter"&&!_.shiftKey&&b(),placeholder:"Type your message...",className:"flex-1 bg-bg-secondary border-border",disabled:a}),jsxRuntimeExports.jsx(Button,{onClick:b,disabled:!i.trim()||a,className:"bg-accent hover:bg-accent-hover text-white px-6",children:a?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})]})}function ProtectedRoute({children:e}){const{user:s,isLoading:i}=useAuthStore();return i?jsxRuntimeExports.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):s?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function PublicRoute({children:e}){const{user:s,isLoading:i}=useAuthStore();return i?jsxRuntimeExports.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):s?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e})}function App(){const e=useAuthStore(s=>s.initialize);return reactExports.useEffect(()=>{e()},[e]),jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(LoginPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(RegisterPage,{})})}),jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(AppShell,{})}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(DashboardPage,{})}),jsxRuntimeExports.jsx(Route,{path:"documents",element:jsxRuntimeExports.jsx(DocumentsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"documents/:id",element:jsxRuntimeExports.jsx(DocumentDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn",element:jsxRuntimeExports.jsx(LearningIndexPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId",element:jsxRuntimeExports.jsx(LearningExperiencePage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/quiz",element:jsxRuntimeExports.jsx(QuizPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/glossary",element:jsxRuntimeExports.jsx(GlossaryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/summary",element:jsxRuntimeExports.jsx(SummaryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/exercises",element:jsxRuntimeExports.jsx(ExercisesPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/flashcards",element:jsxRuntimeExports.jsx(FlashcardsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings",element:jsxRuntimeExports.jsx(SettingsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings/api-keys",element:jsxRuntimeExports.jsx(ApiKeysPage,{})}),jsxRuntimeExports.jsx(Route,{path:"chat",element:jsxRuntimeExports.jsx(ChatPage,{})})]}),jsxRuntimeExports.jsx(Route,{path:"documents/:id/view",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(PDFViewerPage,{})})})]}),jsxRuntimeExports.jsx(Toaster,{})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
