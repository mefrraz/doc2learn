var Os=Object.defineProperty;var ns=e=>{throw TypeError(e)};var Vs=(e,s,i)=>s in e?Os(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var On=(e,s,i)=>Vs(e,typeof s!="symbol"?s+"":s,i),Er=(e,s,i)=>s.has(e)||ns("Cannot "+i);var at=(e,s,i)=>(Er(e,s,"read from private field"),i?i.call(e):s.get(e)),Gt=(e,s,i)=>s.has(e)?ns("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,i),Xt=(e,s,i,o)=>(Er(e,s,"write to private field"),o?o.call(e,i):s.set(e,i),i),Bt=(e,s,i)=>(Er(e,s,"access private method"),i);var Zn=(e,s,i,o)=>({set _(a){Xt(e,s,a,i)},get _(){return at(e,s,o)}});function _mergeNamespaces(e,s){for(var i=0;i<s.length;i++){const o=s[i];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var i=function o(){return this instanceof o?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,i){var o,a={},c=null,d=null;if(s!=null)for(o in s.ref!==void 0&&(d=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,o)&&!L$1.hasOwnProperty(o)&&(a[o]=s[o]);var g=arguments.length-2;if(g===1)a.children=i;else if(1<g){for(var h=Array(g),b=0;b<g;b++)h[b]=arguments[b+2];a.children=h}if(e&&e.defaultProps)for(o in g=e.defaultProps,g)a[o]===void 0&&(a[o]=g[o]);return{$$typeof:l$1,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):s.toString(36)}function R$1(e,s,i,o,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Q$1(d,0):o,I$1(a)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(a,s,i,"",function(b){return b})):a!=null&&(O$1(a)&&(a=N$1(a,i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),s.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var g=0;g<e.length;g++){c=e[g];var h=o+Q$1(c,g);d+=R$1(c,s,i,h,a)}else if(h=A$1(e),typeof h=="function")for(e=h.call(e),g=0;!(c=e.next()).done;)c=c.value,h=o+Q$1(c,g++),d+=R$1(c,s,i,h,a);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,s,i){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(c){return s.call(i,c,a++)}),o}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,d=K$1.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(h in s)J.call(s,h)&&!L$1.hasOwnProperty(h)&&(o[h]=s[h]===void 0&&g!==void 0?g[h]:s[h])}var h=arguments.length-2;if(h===1)o.children=i;else if(1<h){g=Array(h);for(var b=0;b<h;b++)g[b]=arguments[b+2];o.children=g}return{$$typeof:l$1,type:e.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var o,a={},c=null,d=null;i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(d=s.ref);for(o in s)m$1.call(s,o)&&!p$1.hasOwnProperty(o)&&(a[o]=s[o]);if(e&&e.defaultProps)for(o in s=e.defaultProps,s)a[o]===void 0&&(a[o]=s[o]);return{$$typeof:k,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(Ct,xt){var _t=Ct.length;Ct.push(xt);e:for(;0<_t;){var Lt=_t-1>>>1,vt=Ct[Lt];if(0<a(vt,xt))Ct[Lt]=xt,Ct[_t]=vt,_t=Lt;else break e}}function i(Ct){return Ct.length===0?null:Ct[0]}function o(Ct){if(Ct.length===0)return null;var xt=Ct[0],_t=Ct.pop();if(_t!==xt){Ct[0]=_t;e:for(var Lt=0,vt=Ct.length,pt=vt>>>1;Lt<pt;){var ht=2*(Lt+1)-1,gt=Ct[ht],At=ht+1,Rt=Ct[At];if(0>a(gt,_t))At<vt&&0>a(Rt,gt)?(Ct[Lt]=Rt,Ct[At]=_t,Lt=At):(Ct[Lt]=gt,Ct[ht]=_t,Lt=ht);else if(At<vt&&0>a(Rt,_t))Ct[Lt]=Rt,Ct[At]=_t,Lt=At;else break e}}return xt}function a(Ct,xt){var _t=Ct.sortIndex-xt.sortIndex;return _t!==0?_t:Ct.id-xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var h=[],b=[],_=1,j=null,et=3,nt=!1,st=!1,rt=!1,tt=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Ct){for(var xt=i(b);xt!==null;){if(xt.callback===null)o(b);else if(xt.startTime<=Ct)o(b),xt.sortIndex=xt.expirationTime,s(h,xt);else break;xt=i(b)}}function lt(Ct){if(rt=!1,ot(Ct),!st)if(i(h)!==null)st=!0,It(it);else{var xt=i(b);xt!==null&&kt(lt,xt.startTime-Ct)}}function it(Ct,xt){st=!1,rt&&(rt=!1,_e(ut),ut=-1),nt=!0;var _t=et;try{for(ot(xt),j=i(h);j!==null&&(!(j.expirationTime>xt)||Ct&&!ft());){var Lt=j.callback;if(typeof Lt=="function"){j.callback=null,et=j.priorityLevel;var vt=Lt(j.expirationTime<=xt);xt=e.unstable_now(),typeof vt=="function"?j.callback=vt:j===i(h)&&o(h),ot(xt)}else o(h);j=i(h)}if(j!==null)var pt=!0;else{var ht=i(b);ht!==null&&kt(lt,ht.startTime-xt),pt=!1}return pt}finally{j=null,et=_t,nt=!1}}var dt=!1,ct=null,ut=-1,mt=5,bt=-1;function ft(){return!(e.unstable_now()-bt<mt)}function yt(){if(ct!==null){var Ct=e.unstable_now();bt=Ct;var xt=!0;try{xt=ct(!0,Ct)}finally{xt?St():(dt=!1,ct=null)}}else dt=!1}var St;if(typeof $=="function")St=function(){$(yt)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Mt=Dt.port2;Dt.port1.onmessage=yt,St=function(){Mt.postMessage(null)}}else St=function(){tt(yt,0)};function It(Ct){ct=Ct,dt||(dt=!0,St())}function kt(Ct,xt){ut=tt(function(){Ct(e.unstable_now())},xt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ct){Ct.callback=null},e.unstable_continueExecution=function(){st||nt||(st=!0,It(it))},e.unstable_forceFrameRate=function(Ct){0>Ct||125<Ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mt=0<Ct?Math.floor(1e3/Ct):5},e.unstable_getCurrentPriorityLevel=function(){return et},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(Ct){switch(et){case 1:case 2:case 3:var xt=3;break;default:xt=et}var _t=et;et=xt;try{return Ct()}finally{et=_t}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ct,xt){switch(Ct){case 1:case 2:case 3:case 4:case 5:break;default:Ct=3}var _t=et;et=Ct;try{return xt()}finally{et=_t}},e.unstable_scheduleCallback=function(Ct,xt,_t){var Lt=e.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Lt+_t:Lt):_t=Lt,Ct){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=_t+vt,Ct={id:_++,callback:xt,priorityLevel:Ct,startTime:_t,expirationTime:vt,sortIndex:-1},_t>Lt?(Ct.sortIndex=_t,s(b,Ct),i(h)===null&&Ct===i(b)&&(rt?(_e(ut),ut=-1):rt=!0,kt(lt,_t-Lt))):(Ct.sortIndex=vt,s(h,Ct),st||nt||(st=!0,It(it))),Ct},e.unstable_shouldYield=ft,e.unstable_wrapCallback=function(Ct){var xt=et;return function(){var _t=et;et=xt;try{return Ct.apply(this,arguments)}finally{et=_t}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,o){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,o){if(s===null||typeof s>"u"||pa(e,s,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,i,o,a,c,d){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,o){var a=z.hasOwnProperty(s)?z[s]:null;(a!==null?a.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,a,o)&&(i=null),o||a===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(s=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(s):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var o=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){o=b}e.call(s.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var a=b.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,g=c.length-1;1<=d&&0<=g&&a[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(a[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||a[d]!==c[g]){var h=`
`+a[d].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=d&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),o=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,c=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),o=s.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,o){if(e=e.options,s){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=s.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),o=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(s,i,o,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=rb(i,s[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var o=Db(i);if(o===null)return null;i=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,o,a,c,d,g,h){var b=Array.prototype.slice.call(arguments,3);try{s.apply(i,b)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,o,a,c,d,g,h){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,o,a,c,d,g,h){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var i=e,o=s;;){var a=i.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===i)return Xb(a),e;if(c===o)return Xb(a),s;c=c.sibling}throw Error(p(188))}if(i.return!==o.return)i=a,o=c;else{for(var d=!1,g=a.child;g;){if(g===i){d=!0,i=a,o=c;break}if(g===o){d=!0,o=a,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,o=a;break}if(g===o){d=!0,o=c,i=a;break}g=g.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==o)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var g=d&~a;g!==0?o=tc(g):(c&=d,c!==0&&(o=tc(c)))}else d=i&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(s!==0&&s!==o&&!(s&a)&&(a=o&-o,c=s&-s,a>=c||a===16&&(c&4194240)!==0))return s;if(o&4&&(o|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=o;0<s;)i=31-oc(s),a=1<<i,o|=e[i],s&=~a;return o}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),g=1<<d,h=a[d];h===-1?(!(g&i)||g&o)&&(a[d]=vc(g,s)):h<=s&&(e.expiredLanes|=g),c&=~g}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-oc(i),c=1<<a;s[a]=0,o[a]=-1,e[a]=-1,i&=~c}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var o=31-oc(i),a=1<<o;a&s|e[o]&s&&(e[o]|=s),i&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:i,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=o,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function Uc(e,s,i,o,a){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,i,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,i,o,a)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);wb=o,i.target.dispatchEvent(o),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var o=Kc[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)o=Qc[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,o)}finally{C=a,cd.transition=c}}function gd(e,s,i,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,o)}finally{C=a,cd.transition=c}}function fd(e,s,i,o){if(dd){var a=Yc(e,s,i,o);if(a===null)hd(e,s,o,id$2,i),Sc(e,o);else if(Uc(a,e,s,i,o))o.stopPropagation();else if(Sc(e,o),s&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,s,i,o),c===null&&hd(e,s,o,id$2,i),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(e,s,o,null,i)}}var id$2=null;function Yc(e,s,i,o){if(id$2=null,e=xb(o),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id$2=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<i&&s[e]===a[e];e++);var d=i-e;for(o=1;o<=d&&s[i-o]===a[c-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,o,a,c,d){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,i,o){Eb(o),s=oe(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,o),e.push({event:i,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe=s,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),o=Object.keys(s);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!ja.call(s,a)||!He(e[a],s[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=s&&o>=s)return{node:i,offset:s-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,o=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(o!==null&&Ne(i)){if(s=o.start,e=o.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=Ke(i,c);var d=Ke(i,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(s),e.extend(d.node,d.offset)):(s.setEnd(d.node,d.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:o}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var o=e.type||"unknown-event";e.currentTarget=i,Ub(o,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var c=void 0;if(s)for(var d=o.length-1;0<=d;d--){var g=o[d],h=g.instance,b=g.currentTarget;if(g=g.listener,h!==c&&a.isPropagationStopped())break e;nf(a,g,b),c=h}else for(d=0;d<o.length;d++){if(g=o[d],h=g.instance,b=g.currentTarget,g=g.listener,h!==c&&a.isPropagationStopped())break e;nf(a,g,b),c=h}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var o=e+"__bubble";i.has(o)||(pf(s,e,2,!1),i.add(o))}function qf(e,s,i){var o=0;s&&(o|=4),pf(i,e,o,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,o){switch(jd(s)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}i=a.bind(null,s,i,e),a=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(s,i,{capture:!0,passive:a}):e.addEventListener(s,i,!0):a!==void 0?e.addEventListener(s,i,{passive:a}):e.addEventListener(s,i,!1)}function hd(e,s,i,o,a){var c=o;if(!(s&1)&&!(s&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var g=o.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var h=d.tag;if((h===3||h===4)&&(h=d.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;d=d.return}for(;g!==null;){if(d=Wc(g),d===null)return;if(h=d.tag,h===5||h===6){o=c=d;continue e}g=g.parentNode}}o=o.return}Jb(function(){var b=c,_=xb(i),j=[];e:{var et=df.get(e);if(et!==void 0){var nt=td,st=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":nt=Rd;break;case"focusin":st="focus",nt=Fd;break;case"focusout":st="blur",nt=Fd;break;case"beforeblur":case"afterblur":nt=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Vd;break;case $e:case af:case bf:nt=Hd;break;case cf:nt=Xd;break;case"scroll":nt=vd;break;case"wheel":nt=Zd;break;case"copy":case"cut":case"paste":nt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Td}var rt=(s&4)!==0,tt=!rt&&e==="scroll",_e=rt?et!==null?et+"Capture":null:et;rt=[];for(var $=b,ot;$!==null;){ot=$;var lt=ot.stateNode;if(ot.tag===5&&lt!==null&&(ot=lt,_e!==null&&(lt=Kb($,_e),lt!=null&&rt.push(tf($,lt,ot)))),tt)break;$=$.return}0<rt.length&&(et=new nt(et,st,null,i,_),j.push({event:et,listeners:rt}))}}if(!(s&7)){e:{if(et=e==="mouseover"||e==="pointerover",nt=e==="mouseout"||e==="pointerout",et&&i!==wb&&(st=i.relatedTarget||i.fromElement)&&(Wc(st)||st[uf]))break e;if((nt||et)&&(et=_.window===_?_:(et=_.ownerDocument)?et.defaultView||et.parentWindow:window,nt?(st=i.relatedTarget||i.toElement,nt=b,st=st?Wc(st):null,st!==null&&(tt=Vb(st),st!==tt||st.tag!==5&&st.tag!==6)&&(st=null)):(nt=null,st=b),nt!==st)){if(rt=Bd,lt="onMouseLeave",_e="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(rt=Td,lt="onPointerLeave",_e="onPointerEnter",$="pointer"),tt=nt==null?et:ue(nt),ot=st==null?et:ue(st),et=new rt(lt,$+"leave",nt,i,_),et.target=tt,et.relatedTarget=ot,lt=null,Wc(_)===b&&(rt=new rt(_e,$+"enter",st,i,_),rt.target=ot,rt.relatedTarget=tt,lt=rt),tt=lt,nt&&st)t:{for(rt=nt,_e=st,$=0,ot=rt;ot;ot=vf(ot))$++;for(ot=0,lt=_e;lt;lt=vf(lt))ot++;for(;0<$-ot;)rt=vf(rt),$--;for(;0<ot-$;)_e=vf(_e),ot--;for(;$--;){if(rt===_e||_e!==null&&rt===_e.alternate)break t;rt=vf(rt),_e=vf(_e)}rt=null}else rt=null;nt!==null&&wf(j,et,nt,rt,!1),st!==null&&tt!==null&&wf(j,tt,st,rt,!0)}}e:{if(et=b?ue(b):window,nt=et.nodeName&&et.nodeName.toLowerCase(),nt==="select"||nt==="input"&&et.type==="file")var it=ve;else if(me(et))if(we)it=Fe;else{it=De;var dt=Ce}else(nt=et.nodeName)&&nt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(it=Ee);if(it&&(it=it(e,b))){ne(j,it,i,_);break e}dt&&dt(e,et,b),e==="focusout"&&(dt=et._wrapperState)&&dt.controlled&&et.type==="number"&&cb(et,"number",et.value)}switch(dt=b?ue(b):window,e){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(j,i,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,i,_)}var ct;if(ae)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ie?ge(e,i)&&(ut="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ut="onCompositionStart");ut&&(de&&i.locale!=="ko"&&(ie||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ie&&(ct=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(b,ut),0<dt.length&&(ut=new Ld(ut,e,null,i,_),j.push({event:ut,listeners:dt}),ct?ut.data=ct:(ct=he(i),ct!==null&&(ut.data=ct)))),(ct=ce?je(e,i):ke(e,i))&&(b=oe(b,"onBeforeInput"),0<b.length&&(_=new Ld("onBeforeInput","beforeinput",null,i,_),j.push({event:_,listeners:b}),_.data=ct))}se(j,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe(e,s){for(var i=s+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,i),c!=null&&o.unshift(tf(e,c,a)),c=Kb(e,s),c!=null&&o.push(tf(e,c,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,o,a){for(var c=s._reactName,d=[];i!==null&&i!==o;){var g=i,h=g.alternate,b=g.stateNode;if(h!==null&&h===o)break;g.tag===5&&b!==null&&(g=b,a?(h=Kb(i,c),h!=null&&d.unshift(tf(i,h,g))):a||(h=Kb(i,c),h!=null&&d.push(tf(i,h,g)))),i=i.return}d.length!==0&&e.push({event:s,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),bd(s);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in i)a[c]=s[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,i)}function bg(e,s,i){var o=e.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in s))throw Error(p(108,Ra(e)||"Unknown",a));return A({},i,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var o=e.stateNode;if(!o)throw Error(p(169));i?(e=bg(e,s,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),i+=1;var c=32-oc(s)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(s)+a|i<<a|o,sg=c+e}else rg=1<<c|i<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(i.nextSibling);var o=xg;s&&Cg(e,s)?Ag(o,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var o=i.stateNode}if(!o)throw Error(p(147,e));var a=o,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(d){var g=a.refs;d===null?delete g[c]:g[c]=d},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(_e,$){if(e){var ot=_e.deletions;ot===null?(_e.deletions=[$],_e.flags|=16):ot.push($)}}function i(_e,$){if(!e)return null;for(;$!==null;)s(_e,$),$=$.sibling;return null}function o(_e,$){for(_e=new Map;$!==null;)$.key!==null?_e.set($.key,$):_e.set($.index,$),$=$.sibling;return _e}function a(_e,$){return _e=Pg(_e,$),_e.index=0,_e.sibling=null,_e}function c(_e,$,ot){return _e.index=ot,e?(ot=_e.alternate,ot!==null?(ot=ot.index,ot<$?(_e.flags|=2,$):ot):(_e.flags|=2,$)):(_e.flags|=1048576,$)}function d(_e){return e&&_e.alternate===null&&(_e.flags|=2),_e}function g(_e,$,ot,lt){return $===null||$.tag!==6?($=Qg(ot,_e.mode,lt),$.return=_e,$):($=a($,ot),$.return=_e,$)}function h(_e,$,ot,lt){var it=ot.type;return it===ya?_(_e,$,ot.props.children,lt,ot.key):$!==null&&($.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ha&&Ng(it)===$.type)?(lt=a($,ot.props),lt.ref=Lg(_e,$,ot),lt.return=_e,lt):(lt=Rg(ot.type,ot.key,ot.props,null,_e.mode,lt),lt.ref=Lg(_e,$,ot),lt.return=_e,lt)}function b(_e,$,ot,lt){return $===null||$.tag!==4||$.stateNode.containerInfo!==ot.containerInfo||$.stateNode.implementation!==ot.implementation?($=Sg(ot,_e.mode,lt),$.return=_e,$):($=a($,ot.children||[]),$.return=_e,$)}function _(_e,$,ot,lt,it){return $===null||$.tag!==7?($=Tg(ot,_e.mode,lt,it),$.return=_e,$):($=a($,ot),$.return=_e,$)}function j(_e,$,ot){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Qg(""+$,_e.mode,ot),$.return=_e,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case va:return ot=Rg($.type,$.key,$.props,null,_e.mode,ot),ot.ref=Lg(_e,null,$),ot.return=_e,ot;case wa:return $=Sg($,_e.mode,ot),$.return=_e,$;case Ha:var lt=$._init;return j(_e,lt($._payload),ot)}if(eb($)||Ka($))return $=Tg($,_e.mode,ot,null),$.return=_e,$;Mg(_e,$)}return null}function et(_e,$,ot,lt){var it=$!==null?$.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return it!==null?null:g(_e,$,""+ot,lt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===it?h(_e,$,ot,lt):null;case wa:return ot.key===it?b(_e,$,ot,lt):null;case Ha:return it=ot._init,et(_e,$,it(ot._payload),lt)}if(eb(ot)||Ka(ot))return it!==null?null:_(_e,$,ot,lt,null);Mg(_e,ot)}return null}function nt(_e,$,ot,lt,it){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return _e=_e.get(ot)||null,g($,_e,""+lt,it);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return _e=_e.get(lt.key===null?ot:lt.key)||null,h($,_e,lt,it);case wa:return _e=_e.get(lt.key===null?ot:lt.key)||null,b($,_e,lt,it);case Ha:var dt=lt._init;return nt(_e,$,ot,dt(lt._payload),it)}if(eb(lt)||Ka(lt))return _e=_e.get(ot)||null,_($,_e,lt,it,null);Mg($,lt)}return null}function st(_e,$,ot,lt){for(var it=null,dt=null,ct=$,ut=$=0,mt=null;ct!==null&&ut<ot.length;ut++){ct.index>ut?(mt=ct,ct=null):mt=ct.sibling;var bt=et(_e,ct,ot[ut],lt);if(bt===null){ct===null&&(ct=mt);break}e&&ct&&bt.alternate===null&&s(_e,ct),$=c(bt,$,ut),dt===null?it=bt:dt.sibling=bt,dt=bt,ct=mt}if(ut===ot.length)return i(_e,ct),I&&tg(_e,ut),it;if(ct===null){for(;ut<ot.length;ut++)ct=j(_e,ot[ut],lt),ct!==null&&($=c(ct,$,ut),dt===null?it=ct:dt.sibling=ct,dt=ct);return I&&tg(_e,ut),it}for(ct=o(_e,ct);ut<ot.length;ut++)mt=nt(ct,_e,ut,ot[ut],lt),mt!==null&&(e&&mt.alternate!==null&&ct.delete(mt.key===null?ut:mt.key),$=c(mt,$,ut),dt===null?it=mt:dt.sibling=mt,dt=mt);return e&&ct.forEach(function(ft){return s(_e,ft)}),I&&tg(_e,ut),it}function rt(_e,$,ot,lt){var it=Ka(ot);if(typeof it!="function")throw Error(p(150));if(ot=it.call(ot),ot==null)throw Error(p(151));for(var dt=it=null,ct=$,ut=$=0,mt=null,bt=ot.next();ct!==null&&!bt.done;ut++,bt=ot.next()){ct.index>ut?(mt=ct,ct=null):mt=ct.sibling;var ft=et(_e,ct,bt.value,lt);if(ft===null){ct===null&&(ct=mt);break}e&&ct&&ft.alternate===null&&s(_e,ct),$=c(ft,$,ut),dt===null?it=ft:dt.sibling=ft,dt=ft,ct=mt}if(bt.done)return i(_e,ct),I&&tg(_e,ut),it;if(ct===null){for(;!bt.done;ut++,bt=ot.next())bt=j(_e,bt.value,lt),bt!==null&&($=c(bt,$,ut),dt===null?it=bt:dt.sibling=bt,dt=bt);return I&&tg(_e,ut),it}for(ct=o(_e,ct);!bt.done;ut++,bt=ot.next())bt=nt(ct,_e,ut,bt.value,lt),bt!==null&&(e&&bt.alternate!==null&&ct.delete(bt.key===null?ut:bt.key),$=c(bt,$,ut),dt===null?it=bt:dt.sibling=bt,dt=bt);return e&&ct.forEach(function(yt){return s(_e,yt)}),I&&tg(_e,ut),it}function tt(_e,$,ot,lt){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var it=ot.key,dt=$;dt!==null;){if(dt.key===it){if(it=ot.type,it===ya){if(dt.tag===7){i(_e,dt.sibling),$=a(dt,ot.props.children),$.return=_e,_e=$;break e}}else if(dt.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ha&&Ng(it)===dt.type){i(_e,dt.sibling),$=a(dt,ot.props),$.ref=Lg(_e,dt,ot),$.return=_e,_e=$;break e}i(_e,dt);break}else s(_e,dt);dt=dt.sibling}ot.type===ya?($=Tg(ot.props.children,_e.mode,lt,ot.key),$.return=_e,_e=$):(lt=Rg(ot.type,ot.key,ot.props,null,_e.mode,lt),lt.ref=Lg(_e,$,ot),lt.return=_e,_e=lt)}return d(_e);case wa:e:{for(dt=ot.key;$!==null;){if($.key===dt)if($.tag===4&&$.stateNode.containerInfo===ot.containerInfo&&$.stateNode.implementation===ot.implementation){i(_e,$.sibling),$=a($,ot.children||[]),$.return=_e,_e=$;break e}else{i(_e,$);break}else s(_e,$);$=$.sibling}$=Sg(ot,_e.mode,lt),$.return=_e,_e=$}return d(_e);case Ha:return dt=ot._init,tt(_e,$,dt(ot._payload),lt)}if(eb(ot))return st(_e,$,ot,lt);if(Ka(ot))return rt(_e,$,ot,lt);Mg(_e,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,$!==null&&$.tag===6?(i(_e,$.sibling),$=a($,ot),$.return=_e,_e=$):(i(_e,$),$=Qg(ot,_e.mode,lt),$.return=_e,_e=$),d(_e)):i(_e,$)}return tt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),e===i)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,i,o){var a=s.interleaved;return a===null?(i.next=i,gh(s)):(i.next=a.next,a.next=i),s.interleaved=i,ih(e,o)}function ih(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),o.pending=s,ih(e,i)}return a=o.interleaved,a===null?(s.next=s,gh(o)):(s.next=a.next,a.next=s),o.interleaved=s,ih(e,i)}function oh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var o=s.lanes;o&=e.pendingLanes,i|=o,s.lanes=i,Cc(e,i)}}function ph(e,s){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?a=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?a=c=s:c=c.next=s}else a=c=s;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function qh(e,s,i,o){var a=e.updateQueue;jh=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var h=g,b=h.next;h.next=null,d===null?c=b:d.next=b,d=h;var _=e.alternate;_!==null&&(_=_.updateQueue,g=_.lastBaseUpdate,g!==d&&(g===null?_.firstBaseUpdate=b:g.next=b,_.lastBaseUpdate=h))}if(c!==null){var j=a.baseState;d=0,_=b=h=null,g=c;do{var et=g.lane,nt=g.eventTime;if((o&et)===et){_!==null&&(_=_.next={eventTime:nt,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var st=e,rt=g;switch(et=s,nt=i,rt.tag){case 1:if(st=rt.payload,typeof st=="function"){j=st.call(nt,j,et);break e}j=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=rt.payload,et=typeof st=="function"?st.call(nt,j,et):st,et==null)break e;j=A({},j,et);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,et=a.effects,et===null?a.effects=[g]:et.push(g))}else nt={eventTime:nt,lane:et,tag:g.tag,payload:g.payload,callback:g.callback,next:null},_===null?(b=_=nt,h=j):_=_.next=nt,d|=et;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;et=g,g=et.next,et.next=null,a.lastBaseUpdate=et,a.shared.pending=null}}while(!0);if(_===null&&(h=j),a.baseState=h,a.firstBaseUpdate=b,a.lastBaseUpdate=_,s=a.shared.interleaved,s!==null){a=s;do d|=a.lane,a=a.next;while(a!==s)}else c===null&&(a.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=j}}function sh(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var o=e[s],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh$1,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),i=lb(s,e.type);s!==i&&(G(vh$1,e),G(uh,i))}function Bh(e){vh$1.current===e&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Nh(e,s,i,o,a,c){if(Hh=c,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(o,a),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=i(o,a)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var o=N,a=o.baseQueue,c=i.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,i.pending=null}if(a!==null){c=a.next,o=o.baseState;var g=d=null,h=null,b=c;do{var _=b.lane;if((Hh&_)===_)h!==null&&(h=h.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var j={lane:_,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};h===null?(g=h=j,d=o):h=h.next=j,M.lanes|=_,rh|=_}b=b.next}while(b!==null&&b!==c);h===null?d=o:h.next=g,He(o,s.memoizedState)||(dh=!0),s.memoizedState=o,s.baseState=d,s.baseQueue=h,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do c=a.lane,M.lanes|=c,rh|=c,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,c=s.memoizedState;if(a!==null){i.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),i.lastRenderedState=c}return[c,o]}function Yh(){}function Zh(e,s){var i=M,o=Uh(),a=s(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,dh=!0),o=o.queue,$h(ai.bind(null,i,o,e),[e]),o.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,o,a,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,s,a)}return a}function di(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function ci(e,s,i,o){s.value=i,s.getSnapshot=o,ei(s)&&fi(e)}function ai(e,s,i){return i(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M,e),[s.memoizedState,e]}function bi(e,s,i,o){return e={tag:e,create:s,destroy:i,deps:o,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,i,o){var a=Th();M.flags|=e,a.memoizedState=bi(1|s,i,void 0,o===void 0?null:o)}function li(e,s,i,o){var a=Uh();o=o===void 0?null:o;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,o!==null&&Mh(o,d.deps)){a.memoizedState=bi(s,i,c,o);return}}M.flags|=e,a.memoizedState=bi(1|s,i,c,o)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,s,e),i)}function ri(){}function si(e,s){var i=Uh();s=s===void 0?null:s;var o=i.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(i.memoizedState=[e,s],e)}function ti(e,s){var i=Uh();s=s===void 0?null:s;var o=i.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(e=e(),i.memoizedState=[e,s],e)}function ui(e,s,i){return Hh&21?(He(i,s)||(i=yc(),M.lanes|=i,rh|=i,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=i,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,s,i){var o=yi(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,i);else if(i=hh(e,s,i,o),i!==null){var a=R();gi(i,e,o,a),Bi(i,s,o)}}function ii(e,s,i){var o=yi(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var d=s.lastRenderedState,g=c(d,i);if(a.hasEagerState=!0,a.eagerState=g,He(g,d)){var h=s.interleaved;h===null?(a.next=a,gh(s)):(a.next=h.next,h.next=a),s.interleaved=a;return}}catch{}finally{}i=hh(e,s,a,o),i!==null&&(a=R(),gi(i,e,o,a),Bi(i,s,o))}}function zi(e){var s=e.alternate;return e===M||s!==null&&s===M}function Ai(e,s){Jh=Ih=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Bi(e,s,i){if(i&4194240){var o=s.lanes;o&=e.pendingLanes,i|=o,s.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var i=Th();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var o=Th();return s=i!==void 0?i(s):s,o.memoizedState=o.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var o=M,a=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=s(),Q===null)throw Error(p(349));Hh&30||di(o,s,i)}a.memoizedState=i;var c={value:i,getSnapshot:s};return a.queue=c,mi(ai.bind(null,o,c,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,c,i,s),void 0,null),i},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var i=sg,o=rg;i=(o&~(1<<32-oc(o)-1)).toString(32)+i,s=":"+s+"R"+i,i=Kh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Lh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}function Di(e,s,i,o){s=e.memoizedState,i=i(o,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,a),s!==null&&(gi(s,e,a,o),oh(s,e,a))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.tag=1,c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,a),s!==null&&(gi(s,e,a,o),oh(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=R(),o=yi(e),a=mh(i,o);a.tag=2,s!=null&&(a.callback=s),s=nh(e,a,o),s!==null&&(gi(s,e,o,i),oh(s,e,o))}};function Fi(e,s,i,o,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,o)||!Ie(a,c):!0}function Gi(e,s,i){var o=!1,a=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(a=Zf(s)?Xf:H.current,o=s.contextTypes,c=(o=o!=null)?Yf(e,a):Vf),s=new s(i,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,i,o){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,o),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?a.context=eh(c):(c=Zf(s)?Xf:H.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,i),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var i="",o=s;do i+=Pa(o),o=o.return;while(o);var a=i}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:a,digest:null}}function Ki(e,s,i){return{value:e,source:null,stack:i??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var o=s.value;return i.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,s)},i}function Qi(e,s,i){i=mh(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=s.value;i.payload=function(){return o(a)},i.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,s),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=s.stack;this.componentDidCatch(s.value,{componentStack:d!==null?d:""})}),i}function Si(e,s,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var a=new Set;o.set(s,a)}else a=o.get(s),a===void 0&&(a=new Set,o.set(s,a));a.has(i)||(a.add(i),e=Ti.bind(null,e,s,i),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,i,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=mh(-1,1),s.tag=2,nh(i,s,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,i,o){s.child=e===null?Vg(s,null,i,o):Ug(s,e.child,i,o)}function Yi(e,s,i,o,a){i=i.render;var c=s.ref;return ch(s,a),o=Nh(e,s,i,o,c,a),i=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,Zi(e,s,a)):(I&&i&&vg(s),s.flags|=1,Xi(e,s,o,a),s.child)}function $i(e,s,i,o,a){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,o,a)):(e=Rg(i.type,null,o,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,o)&&e.ref===s.ref)return Zi(e,s,a)}return s.flags|=1,e=Pg(c,o),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,i,o,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===s.ref)if(dh=!1,s.pendingProps=o=c,(e.lanes&a)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,a)}return cj(e,s,i,o,a)}function dj(e,s,i){var o=s.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:i,G(ej,fj),fj|=o}else c!==null?(o=c.baseLanes|i,s.memoizedState=null):o=i,G(ej,fj),fj|=o;return Xi(e,s,a,i),s.child}function gj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,i,o,a){var c=Zf(i)?Xf:H.current;return c=Yf(s,c),ch(s,a),i=Nh(e,s,i,o,c,a),o=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,Zi(e,s,a)):(I&&o&&vg(s),s.flags|=1,Xi(e,s,i,a),s.child)}function hj(e,s,i,o,a){if(Zf(i)){var c=!0;cg(s)}else c=!1;if(ch(s,a),s.stateNode===null)ij(e,s),Gi(s,i,o),Ii(s,i,o,a),o=!0;else if(e===null){var d=s.stateNode,g=s.memoizedProps;d.props=g;var h=d.context,b=i.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(s,b));var _=i.getDerivedStateFromProps,j=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==o||h!==b)&&Hi(s,d,o,b),jh=!1;var et=s.memoizedState;d.state=et,qh(s,o,d,a),h=s.memoizedState,g!==o||et!==h||Wf.current||jh?(typeof _=="function"&&(Di(s,i,_,o),h=s.memoizedState),(g=jh||Fi(s,i,g,o,et,h,b))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=h),d.props=o,d.state=h,d.context=b,o=g):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{d=s.stateNode,lh(e,s),g=s.memoizedProps,b=s.type===s.elementType?g:Ci(s.type,g),d.props=b,j=s.pendingProps,et=d.context,h=i.contextType,typeof h=="object"&&h!==null?h=eh(h):(h=Zf(i)?Xf:H.current,h=Yf(s,h));var nt=i.getDerivedStateFromProps;(_=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==j||et!==h)&&Hi(s,d,o,h),jh=!1,et=s.memoizedState,d.state=et,qh(s,o,d,a);var st=s.memoizedState;g!==j||et!==st||Wf.current||jh?(typeof nt=="function"&&(Di(s,i,nt,o),st=s.memoizedState),(b=jh||Fi(s,i,b,o,et,st,h)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,st,h),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,st,h)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&et===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&et===e.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=st),d.props=o,d.state=st,d.context=h,o=b):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&et===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&et===e.memoizedState||(s.flags|=1024),o=!1)}return jj(e,s,i,o,c,a)}function jj(e,s,i,o,a,c){gj(e,s);var d=(s.flags&128)!==0;if(!o&&!d)return a&&dg(s,i,!1),Zi(e,s,c);o=s.stateNode,Wi.current=s;var g=d&&typeof i.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,e!==null&&d?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,g,c)):Xi(e,s,g,c),s.memoizedState=o.state,a&&dg(s,i,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,i,o,a){return Ig(),Jg(a),s.flags|=256,Xi(e,s,i,o),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,i){var o=s.pendingProps,a=L.current,c=!1,d=(s.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(L,a&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(d=o.children,e=o.fallback,c?(o=s.mode,c=s.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,o,0,null),e=Tg(e,o,i,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(i),s.memoizedState=mj,e):qj(s,d));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return rj(e,s,d,o,g,a,i);if(c){c=o.fallback,d=s.mode,a=e.child,g=a.sibling;var h={mode:"hidden",children:o.children};return!(d&1)&&s.child!==a?(o=s.child,o.childLanes=0,o.pendingProps=h,s.deletions=null):(o=Pg(a,h),o.subtreeFlags=a.subtreeFlags&14680064),g!==null?c=Pg(g,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=s,o.return=s,o.sibling=c,s.child=o,o=c,c=s.child,d=e.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,s.memoizedState=mj,o}return c=e.child,e=c.sibling,o=Pg(c,{mode:"visible",children:o.children}),!(s.mode&1)&&(o.lanes=i),o.return=s,o.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=o,s.memoizedState=null,o}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,i,o){return o!==null&&Jg(o),Ug(s,e.child,null,i),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,i,o,a,c,d){if(i)return s.flags&256?(s.flags&=-257,o=Ki(Error(p(422))),sj(e,s,d,o)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=o.fallback,a=s.mode,o=pj({mode:"visible",children:o.children},a,0,null),c=Tg(c,a,d,null),c.flags|=2,o.return=s,c.return=s,o.sibling=c,s.child=o,s.mode&1&&Ug(s,e.child,null,d),s.child.memoizedState=nj(d),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var g=o.dgst;return o=g,c=Error(p(419)),o=Ki(c,o,void 0),sj(e,s,d,o)}if(g=(d&e.childLanes)!==0,dh||g){if(o=Q,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ih(e,a),gi(o,e,a,-1))}return tj(),o=Ki(Error(p(421))),sj(e,s,d,o)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),a._reactRetry=s,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,o.children),s.flags|=4096,s)}function vj(e,s,i){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s),bh(e.return,s,i)}function wj(e,s,i,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=i,c.tailMode=a)}function xj(e,s,i){var o=s.pendingProps,a=o.revealOrder,c=o.tail;if(Xi(e,s,o.children,i),o=L.current,o&2)o=o&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,s);else if(e.tag===19)vj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(i=s.child,a=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=s.child,s.child=null):(a=i.sibling,i.sibling=null),wj(s,!1,a,i,c);break;case"backwards":for(i=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){s.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}wj(s,!0,i,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(i&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,i=Pg(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function yj(e,s,i){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,a=s.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=a;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):i&s.child.childLanes?oj(e,s,i):(G(L,L.current&1),e=Zi(e,s,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(i&s.childLanes)!==0,e.flags&128){if(o)return xj(e,s,i);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,i)}return Zi(e,s,i)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,s,i,o){var a=e.memoizedProps;if(a!==o){e=s.stateNode,xh(uh.current);var c=null;switch(i){case"input":a=Ya(e,a),o=Ya(e,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),o=gb(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(i,o);var d;i=null;for(b in a)if(!o.hasOwnProperty(b)&&a.hasOwnProperty(b)&&a[b]!=null)if(b==="style"){var g=a[b];for(d in g)g.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in o){var h=o[b];if(g=a!=null?a[b]:void 0,o.hasOwnProperty(b)&&h!==g&&(h!=null||g!=null))if(b==="style")if(g){for(d in g)!g.hasOwnProperty(d)||h&&h.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in h)h.hasOwnProperty(d)&&g[d]!==h[d]&&(i||(i={}),i[d]=h[d])}else i||(c||(c=[]),c.push(b,i)),i=h;else b==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,g=g?g.__html:void 0,h!=null&&g!==h&&(c=c||[]).push(b,h)):b==="children"?typeof h!="string"&&typeof h!="number"||(c=c||[]).push(b,""+h):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(h!=null&&b==="onScroll"&&D("scroll",e),c||g===h||(c=[])):(c=c||[]).push(b,h))}i&&(c=c||[]).push("style",i);var b=c;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(e,s,i,o){i!==o&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(s)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,s}function Ej(e,s,i){var o=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return o=s.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var a=xh(wh.current);if(i=s.type,e!==null&&s.stateNode!=null)Bj(e,s,i,o,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){o=s.stateNode,i=s.type;var c=s.memoizedProps;switch(o[Of]=s,o[Pf]=c,e=(s.mode&1)!==0,i){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(i,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?o.textContent!==g&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,g,e),a=["children",g]):typeof g=="number"&&o.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,g,e),a=["children",""+g]):ea.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&D("scroll",o)}switch(i){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,s.updateQueue=o,o!==null&&(s.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(i,{is:o.is}):(e=d.createElement(i),i==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,i),e[Of]=s,e[Pf]=o,zj(e,s,!1,!1),s.stateNode=e;e:{switch(d=vb(i,o),i){case"dialog":D("cancel",e),D("close",e),a=o;break;case"iframe":case"object":case"embed":D("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=o;break;case"source":D("error",e),a=o;break;case"img":case"image":case"link":D("error",e),D("load",e),a=o;break;case"details":D("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D("invalid",e);break;default:a=o}ub(i,a),g=a;for(c in g)if(g.hasOwnProperty(c)){var h=g[c];c==="style"?sb(e,h):c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nb(e,h)):c==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&ob(e,h):typeof h=="number"&&ob(e,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?h!=null&&c==="onScroll"&&D("scroll",e):h!=null&&ta(e,c,h,d))}switch(i){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(s)){if(o=s.stateNode,i=s.memoizedProps,o[Of]=s,(c=o.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,i,(e.mode&1)!==0)}c&&(s.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Of]=s,s.stateNode=o}return S(s),null;case 13:if(E(L),o=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=i,s):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(o=(s.flags&128)!==0,d=c.rendering,d===null)if(o)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(d=Ch(e),d!==null){for(s.flags|=128,Dj(c,!1),o=d.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=i,i=s.child;i!==null;)c=i,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304)}else{if(!o)if(e=Ch(d),e!==null){if(s.flags|=128,o=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(i=c.last,i!==null?i.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,i=L.current,G(L,o?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Hj(),o=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(s.flags|=8192),o&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){W(e,s,o)}else i.current=null}function Mj(e,s,i){try{i()}catch(o){W(e,s,o)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,h=-1,b=0,_=0,j=e,et=null;t:for(;;){for(var nt;j!==i||a!==0&&j.nodeType!==3||(g=d+a),j!==c||o!==0&&j.nodeType!==3||(h=d+o),j.nodeType===3&&(d+=j.nodeValue.length),(nt=j.firstChild)!==null;)et=j,j=nt;for(;;){if(j===e)break t;if(et===i&&++b===a&&(g=d),et===c&&++_===o&&(h=d),(nt=j.nextSibling)!==null)break;j=et,et=j.parentNode}j=nt}i=g===-1||h===-1?null:{start:g,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var st=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var rt=st.memoizedProps,tt=st.memoizedState,_e=s.stateNode,$=_e.getSnapshotBeforeUpdate(s.elementType===s.type?rt:Ci(s.type,rt),tt);_e.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var ot=s.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(lt){W(s,s.return,lt)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return st=Nj,Nj=!1,st}function Pj(e,s,i){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Mj(s,i,c)}a=a.next}while(a!==o)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==s)}}function Rj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,s,i),e=e.sibling;e!==null;)Vj(e,s,i),e=e.sibling}function Wj(e,s,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,i){for(i=i.child;i!==null;)Zj(e,s,i),i=i.sibling}function Zj(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,s);case 6:var o=X$1,a=Xj;X$1=null,Yj(e,s,i),X$1=o,Xj=a,X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X$1.removeChild(i.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X$1,i.stateNode));break;case 4:o=X$1,a=Xj,X$1=i.stateNode.containerInfo,Xj=!0,Yj(e,s,i),X$1=o,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,s,d),a=a.next}while(a!==o)}Yj(e,s,i);break;case 1:if(!U&&(Lj(i,s),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(g){W(i,s,g)}Yj(e,s,i);break;case 21:Yj(e,s,i);break;case 22:i.mode&1?(U=(o=U)||i.memoizedState!==null,Yj(e,s,i),U=o):Yj(e,s,i);break;default:Yj(e,s,i)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),s.forEach(function(o){var a=bk.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function ck(e,s){var i=s.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var c=e,d=s,g=d;e:for(;g!==null;){switch(g.tag){case 5:X$1=g.stateNode,Xj=!1;break e;case 3:X$1=g.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X$1===null)throw Error(p(160));Zj(c,d,a),X$1=null,Xj=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(b){W(a,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(rt){W(e,e.return,rt)}try{Pj(5,e,e.return)}catch(rt){W(e,e.return,rt)}}break;case 1:ck(s,e),ek(e),o&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(s,e),ek(e),o&512&&i!==null&&Lj(i,i.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(rt){W(e,e.return,rt)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,g=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(g,d);var b=vb(g,c);for(d=0;d<h.length;d+=2){var _=h[d],j=h[d+1];_==="style"?sb(a,j):_==="dangerouslySetInnerHTML"?nb(a,j):_==="children"?ob(a,j):ta(a,_,j,b)}switch(g){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var et=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var nt=c.value;nt!=null?fb(a,!!c.multiple,nt,!1):et!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(rt){W(e,e.return,rt)}}break;case 6:if(ck(s,e),ek(e),o&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(rt){W(e,e.return,rt)}}break;case 3:if(ck(s,e),ek(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(rt){W(e,e.return,rt)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if(_=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||_,ck(s,e),U=b):ck(s,e),ek(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for(j=V=_;V!==null;){switch(et=V,nt=et.child,et.tag){case 0:case 11:case 14:case 15:Pj(4,et,et.return);break;case 1:Lj(et,et.return);var st=et.stateNode;if(typeof st.componentWillUnmount=="function"){o=et,i=et.return;try{s=o,st.props=s.memoizedProps,st.state=s.memoizedState,st.componentWillUnmount()}catch(rt){W(o,i,rt)}}break;case 5:Lj(et,et.return);break;case 22:if(et.memoizedState!==null){gk(j);continue}}nt!==null?(nt.return=et,V=nt):gk(j)}_=_.sibling}e:for(_=null,j=e;;){if(j.tag===5){if(_===null){_=j;try{a=j.stateNode,b?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=j.stateNode,h=j.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null,g.style.display=rb("display",d))}catch(rt){W(e,e.return,rt)}}}else if(j.tag===6){if(_===null)try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(rt){W(e,e.return,rt)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;_===j&&(_=null),j=j.return}_===j&&(_=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:ck(s,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var o=i;break e}i=i.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Uj(e);Wj(e,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,g=Uj(e);Vj(e,g,d);break;default:throw Error(p(161))}}catch(h){W(e,e.return,h)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,i){V=e,ik(e)}function ik(e,s,i){for(var o=(e.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Jj;if(!d){var g=a.alternate,h=g!==null&&g.memoizedState!==null||U;g=Jj;var b=U;if(Jj=d,(U=h)&&!b)for(V=a;V!==null;)d=V,h=d.child,d.tag===22&&d.memoizedState!==null?jk(a):h!==null?(h.return=d,V=h):jk(a);for(;c!==null;)V=c,ik(c),c=c.sibling;V=a,Jj=g,U=b}kk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var i=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!U)if(i===null)o.componentDidMount();else{var a=s.elementType===s.type?i.memoizedProps:Ci(s.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,o);break;case 3:var d=s.updateQueue;if(d!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}sh(s,d,i)}break;case 5:var g=s.stateNode;if(i===null&&s.flags&4){i=g;var h=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var _=b.memoizedState;if(_!==null){var j=_.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(et){W(s,s.return,et)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Qj(4,s)}catch(h){W(s,i,h)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var a=s.return;try{o.componentDidMount()}catch(h){W(s,a,h)}}var c=s.return;try{Rj(s)}catch(h){W(s,c,h)}break;case 5:var d=s.return;try{Rj(s)}catch(h){W(s,d,h)}}}catch(h){W(s,s.return,h)}if(s===e){V=null;break}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,i,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,o),i===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var i=e.callbackNode;wc(e,s);var o=uc(e,e===Q?Z:0);if(o===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=o&-o,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(o)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var o=uc(e,e===Q?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||s)s=Ik(e,o);else{s=o;var a=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(g){Mk(e,g)}while(!0);$g(),mk.current=c,K=a,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(a=xc(e),a!==0&&(o=a,s=Nk(e,a))),s===1)throw i=pk,Kk(e,0),Ck(e,o),Dk(e,B()),i;if(s===6)Ck(e,o);else{if(a=e.current.alternate,!(o&30)&&!Ok(a)&&(s=Ik(e,o),s===2&&(c=xc(e),c!==0&&(o=c,s=Nk(e,c))),s===1))throw i=pk,Kk(e,0),Ck(e,o),Dk(e,B()),i;switch(e.finishedWork=a,e.finishedLanes=o,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(s=e.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=s[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,s){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=i,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),o=1<<i;e[i]=-1,s&=~o}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var i=Ik(e,s);if(e.tag!==0&&i===2){var o=xc(e);o!==0&&(s=o,i=Nk(e,o))}if(i===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var i=ok.transition,o=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=o,ok.transition=i,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var o=i;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(i=fh[s],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,c=i.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}i.pending=o}fh=null}return e}function Mk(e,s){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=s,Y=null;break}e:{var c=e,d=i.return,g=i,h=s;if(s=Z,g.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var b=h,_=g,j=_.tag;if(!(_.mode&1)&&(j===0||j===11||j===15)){var et=_.alternate;et?(_.updateQueue=et.updateQueue,_.memoizedState=et.memoizedState,_.lanes=et.lanes):(_.updateQueue=null,_.memoizedState=null)}var nt=Ui(d);if(nt!==null){nt.flags&=-257,Vi(nt,d,g,c,s),nt.mode&1&&Si(c,b,s),s=nt,h=b;var st=s.updateQueue;if(st===null){var rt=new Set;rt.add(h),s.updateQueue=rt}else st.add(h);break e}else{if(!(s&1)){Si(c,b,s),tj();break e}h=Error(p(426))}}else if(I&&g.mode&1){var tt=Ui(d);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),Vi(tt,d,g,c,s),Jg(Ji(h,g));break e}}c=h=Ji(h,g),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var _e=Ni(c,h,s);ph(c,_e);break e;case 1:g=h;var $=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof $.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){c.flags|=65536,s&=-s,c.lanes|=s;var lt=Qi(c,g,s);ph(c,lt);break e}}c=c.return}while(c!==null)}Sk(i)}catch(it){s=it,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var i=K;K|=2;var o=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(a){Mk(e,a)}while(!0);if($g(),K=i,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var i=s.alternate;if(e=s.return,s.flags&32768){if(i=Ij(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,s,fj),i!==null){Y=i;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,i){var o=C,a=ok.transition;try{ok.transition=null,C=1,Wk(e,s,i,o)}finally{ok.transition=a,C=o}return null}function Wk(e,s,i,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var g=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=g,C=d,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=a),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),s!==null)for(o=e.onRecoverableError,i=0;i<s.length;i++)a=s[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var g=c.deletions;if(g!==null){for(var h=0;h<g.length;h++){var b=g[h];for(V=b;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Pj(8,_,c)}var j=_.child;if(j!==null)j.return=_,V=j;else for(;V!==null;){_=V;var et=_.sibling,nt=_.return;if(Sj(_),_===b){V=null;break}if(et!==null){et.return=nt,V=et;break}V=nt}}}var st=c.alternate;if(st!==null){var rt=st.child;if(rt!==null){st.child=null;do{var tt=rt.sibling;rt.sibling=null,rt=tt}while(rt!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var _e=c.sibling;if(_e!==null){_e.return=c.return,V=_e;break e}V=c.return}}var $=e.current;for(V=$;V!==null;){d=V;var ot=d.child;if(d.subtreeFlags&2064&&ot!==null)ot.return=d,V=ot;else e:for(d=$;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(it){W(g,g.return,it)}if(g===d){V=null;break e}var lt=g.sibling;if(lt!==null){lt.return=g.return,V=lt;break e}V=g.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=i,ok.transition=s}}return!1}function Xk(e,s,i){s=Ji(i,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,i){if(e.tag===3)Xk(e,e,i);else for(;s!==null;){if(s.tag===3){Xk(s,e,i);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(i,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,i){var o=e.pingCache;o!==null&&o.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var i=R();e=ih(e,s),e!==null&&(Ac(e,s,i),Dk(e,i))}function uj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Yk(e,i)}function bk(e,s){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(s),Yk(e,i)}var Vk;Vk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(s.flags&128))return dh=!1,yj(e,s,i);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;ij(e,s),e=s.pendingProps;var a=Yf(s,H.current);ch(s,i),a=Nh(null,s,o,e,a,i);var c=Sh();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(o)?(c=!0,cg(s)):c=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(s),a.updater=Ei,s.stateNode=a,a._reactInternals=s,Ii(s,o,e,i),s=jj(null,s,o,!0,c,i)):(s.tag=0,I&&c&&vg(s),Xi(null,s,a,i),s=s.child),s;case 16:o=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,a=o._init,o=a(o._payload),s.type=o,a=s.tag=Zk(o),e=Ci(o,e),a){case 0:s=cj(null,s,o,e,i);break e;case 1:s=hj(null,s,o,e,i);break e;case 11:s=Yi(null,s,o,e,i);break e;case 14:s=$i(null,s,o,Ci(o.type,e),i);break e}throw Error(p(306,o,""))}return s;case 0:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),cj(e,s,o,a,i);case 1:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),hj(e,s,o,a,i);case 3:e:{if(kj(s),e===null)throw Error(p(387));o=s.pendingProps,c=s.memoizedState,a=c.element,lh(e,s),qh(s,o,null,i);var d=s.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){a=Ji(Error(p(423)),s),s=lj(e,s,o,i,a);break e}else if(o!==a){a=Ji(Error(p(424)),s),s=lj(e,s,o,i,a);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Vg(s,null,o,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),o===a){s=Zi(e,s,i);break e}Xi(e,s,o,i)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),o=s.type,a=s.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(s.flags|=32),gj(e,s),Xi(e,s,d,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,i);case 4:return yh(s,s.stateNode.containerInfo),o=s.pendingProps,e===null?s.child=Ug(s,null,o,i):Xi(e,s,o,i),s.child;case 11:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),Yi(e,s,o,a,i);case 7:return Xi(e,s,s.pendingProps,i),s.child;case 8:return Xi(e,s,s.pendingProps.children,i),s.child;case 12:return Xi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(o=s.type._context,a=s.pendingProps,c=s.memoizedProps,d=a.value,G(Wg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){s=Zi(e,s,i);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var h=g.firstContext;h!==null;){if(h.context===o){if(c.tag===1){h=mh(-1,i&-i),h.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var _=b.pending;_===null?h.next=h:(h.next=_.next,_.next=h),b.pending=h}}c.lanes|=i,h=c.alternate,h!==null&&(h.lanes|=i),bh(c.return,i,s),g.lanes|=i;break}h=h.next}}else if(c.tag===10)d=c.type===s.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,g=d.alternate,g!==null&&(g.lanes|=i),bh(d,i,s),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===s){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,s,a.children,i),s=s.child}return s;case 9:return a=s.type,o=s.pendingProps.children,ch(s,i),a=eh(a),o=o(a),s.flags|=1,Xi(e,s,o,i),s.child;case 14:return o=s.type,a=Ci(o,s.pendingProps),a=Ci(o.type,a),$i(e,s,o,a,i);case 15:return bj(e,s,s.type,s.pendingProps,i);case 17:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),ij(e,s),s.tag=1,Zf(o)?(e=!0,cg(s)):e=!1,ch(s,i),Gi(s,o,a),Ii(s,o,a,i),jj(null,s,o,!0,e,i);case 19:return xj(e,s,i);case 22:return dj(e,s,i)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,o){return new $k(e,s,i,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,s,i,o,a,c){var d=2;if(o=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(i.children,a,c,s);case za:d=8,a|=8;break;case Aa:return e=Bg(12,i,s,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,s,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,s,a),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,a,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(d,i,s,a),s.elementType=e,s.type=o,s.lanes=c,s}function Tg(e,s,i,o){return e=Bg(7,e,o,s),e.lanes=i,e}function pj(e,s,i,o){return e=Bg(22,e,o,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function Sg(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,i,o,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(e,s,i,o,a,c,d,g,h){return e=new al(e,s,i,g,h),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:s,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function el(e,s,i,o,a,c,d,g,h){return e=bl(i,o,!0,e,a,c,d,g,h),e.context=dl(null),i=e.current,o=R(),a=yi(i),c=mh(o,a),c.callback=s??null,nh(i,c,a),e.current.lanes=a,Ac(e,a,o),Dk(e,o),e}function fl(e,s,i,o){var a=s.current,c=R(),d=yi(a);return i=dl(i),s.context===null?s.context=i:s.pendingContext=i,s=mh(c,d),s.payload={element:e},o=o===void 0?null:o,o!==null&&(s.callback=o),e=nh(a,s,d),e!==null&&(gi(e,a,d,c),oh(e,a,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,i,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var b=gl(d);c.call(b)}}var d=el(s,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var g=o;o=function(){var b=gl(h);g.call(b)}}var h=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,h,i,o)}),h}function rl(e,s,i,o,a){var c=i._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var g=a;a=function(){var h=gl(d);g.call(h)}}fl(s,d,e,a)}else d=ql(i,s,e,a,o);return gl(d)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var a=R();gi(o,e,1,a)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var i=R();gi(s,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),i=ih(e,s);if(i!==null){var o=R();gi(i,e,s,o)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var o=i[s];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var i=!1,o="",a=kl;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=bl(e,1,!1,null,null,i,!1,o,a),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!nl(e))throw Error(p(405));var o=i!=null&&i.hydratedSources||null,a=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),s=el(s,null,e,1,i??null,a,!1,c,d),e[uf]=s.current,sf(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,a]:s.mutableSourceEagerHydrationData.push(i,a);return new ml(s)};reactDom_production_min.render=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,o){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,i,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_extends$2.apply(this,arguments)}var Action$1;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function s(o,a){let{pathname:c,search:d,hash:g}=o.location;return createLocation("",{pathname:c,search:d,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(s,i,null,e)}function invariant$2(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function warning$2(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,s){return{usr:e.state,key:e.key,idx:s}}function createLocation(e,s,i,o){return i===void 0&&(i=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:i,key:s&&s.key||o||createKey()})}function createPath(e){let{pathname:s="/",search:i="",hash:o=""}=e;return i&&i!=="?"&&(s+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function parsePath(e){let s={};if(e){let i=e.indexOf("#");i>=0&&(s.hash=e.substr(i),e=e.substr(0,i));let o=e.indexOf("?");o>=0&&(s.search=e.substr(o),e=e.substr(0,o)),e&&(s.pathname=e)}return s}function getUrlBasedHistory(e,s,i,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,g=Action$1.Pop,h=null,b=_();b==null&&(b=0,d.replaceState(_extends$2({},d.state,{idx:b}),""));function _(){return(d.state||{idx:null}).idx}function j(){g=Action$1.Pop;let tt=_(),_e=tt==null?null:tt-b;b=tt,h&&h({action:g,location:rt.location,delta:_e})}function et(tt,_e){g=Action$1.Push;let $=createLocation(rt.location,tt,_e);b=_()+1;let ot=getHistoryState($,b),lt=rt.createHref($);try{d.pushState(ot,"",lt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;a.location.assign(lt)}c&&h&&h({action:g,location:rt.location,delta:1})}function nt(tt,_e){g=Action$1.Replace;let $=createLocation(rt.location,tt,_e);b=_();let ot=getHistoryState($,b),lt=rt.createHref($);d.replaceState(ot,"",lt),c&&h&&h({action:g,location:rt.location,delta:0})}function st(tt){let _e=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof tt=="string"?tt:createPath(tt);return $=$.replace(/ $/,"%20"),invariant$2(_e,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,_e)}let rt={get action(){return g},get location(){return e(a,d)},listen(tt){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,j),h=tt,()=>{a.removeEventListener(PopStateEventType,j),h=null}},createHref(tt){return s(a,tt)},createURL:st,encodeLocation(tt){let _e=st(tt);return{pathname:_e.pathname,search:_e.search,hash:_e.hash}},push:et,replace:nt,go(tt){return d.go(tt)}};return rt}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,s,i){return i===void 0&&(i="/"),matchRoutesImpl(e,s,i)}function matchRoutesImpl(e,s,i,o){let a=typeof s=="string"?parsePath(s):s,c=stripBasename(a.pathname||"/",i);if(c==null)return null;let d=flattenRoutes(e);rankRouteBranches(d);let g=null;for(let h=0;g==null&&h<d.length;++h){let b=decodePath(c);g=matchRouteBranch(d[h],b)}return g}function flattenRoutes(e,s,i,o){s===void 0&&(s=[]),i===void 0&&(i=[]),o===void 0&&(o="");let a=(c,d,g)=>{let h={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(invariant$2(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let b=joinPaths([o,h.relativePath]),_=i.concat(h);c.children&&c.children.length>0&&(invariant$2(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(c.children,s,_,b)),!(c.path==null&&!c.index)&&s.push({path:b,score:computeScore(b,c.index),routesMeta:_})};return e.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))a(c,d);else for(let h of explodeOptionalSegments(c.path))a(c,d,h)}),s}function explodeOptionalSegments(e){let s=e.split("/");if(s.length===0)return[];let[i,...o]=s,a=i.endsWith("?"),c=i.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=explodeOptionalSegments(o.join("/")),g=[];return g.push(...d.map(h=>h===""?c:[c,h].join("/"))),a&&g.push(...d),g.map(h=>e.startsWith("/")&&h===""?"/":h)}function rankRouteBranches(e){e.sort((s,i)=>s.score!==i.score?i.score-s.score:compareIndexes(s.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,s){let i=e.split("/"),o=i.length;return i.some(isSplat)&&(o+=splatPenalty),s&&(o+=indexRouteValue),i.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,s){return e.length===s.length&&e.slice(0,-1).every((o,a)=>o===s[a])?e[e.length-1]-s[s.length-1]:0}function matchRouteBranch(e,s,i){let{routesMeta:o}=e,a={},c="/",d=[];for(let g=0;g<o.length;++g){let h=o[g],b=g===o.length-1,_=c==="/"?s:s.slice(c.length)||"/",j=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:b},_),et=h.route;if(!j)return null;Object.assign(a,j.params),d.push({params:a,pathname:joinPaths([c,j.pathname]),pathnameBase:normalizePathname(joinPaths([c,j.pathnameBase])),route:et}),j.pathnameBase!=="/"&&(c=joinPaths([c,j.pathnameBase]))}return d}function matchPath(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,o]=compilePath(e.path,e.caseSensitive,e.end),a=s.match(i);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((b,_,j)=>{let{paramName:et,isOptional:nt}=_;if(et==="*"){let rt=g[j]||"";d=c.slice(0,c.length-rt.length).replace(/(.)\/+$/,"$1")}const st=g[j];return nt&&!st?b[et]=void 0:b[et]=(st||"").replace(/%2F/g,"/"),b},{}),pathname:c,pathnameBase:d,pattern:e}}function compilePath(e,s,i){s===void 0&&(s=!1),i===void 0&&(i=!0),warning$2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,h)=>(o.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),o]}function decodePath(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning$2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function stripBasename(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,o=e.charAt(i);return o&&o!=="/"?null:e.slice(i)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=e=>ABSOLUTE_URL_REGEX$1.test(e);function resolvePath(e,s){s===void 0&&(s="/");let{pathname:i,search:o="",hash:a=""}=typeof e=="string"?parsePath(e):e,c;if(i)if(isAbsoluteUrl(i))c=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),warning$2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+i))}i.startsWith("/")?c=resolvePathname(i.substring(1),"/"):c=resolvePathname(i,s)}else c=s;return{pathname:c,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(e,s){let i=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function getInvalidPathError(e,s,i,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(e,s){let i=getPathContributingMatches(e);return s?i.map((o,a)=>a===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function resolveTo(e,s,i,o){o===void 0&&(o=!1);let a;typeof e=="string"?a=parsePath(e):(a=_extends$2({},e),invariant$2(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant$2(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant$2(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=e===""||a.pathname==="",d=c?"/":a.pathname,g;if(d==null)g=i;else{let j=s.length-1;if(!o&&d.startsWith("..")){let et=d.split("/");for(;et[0]==="..";)et.shift(),j-=1;a.pathname=et.join("/")}g=j>=0?s[j]:"/"}let h=resolvePath(a,g),b=d&&d!=="/"&&d.endsWith("/"),_=(c||d===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(b||_)&&(h.pathname+="/"),h}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,s){let{relative:i}=s===void 0?{}:s;useInRouterContext()||invariant$2(!1);let{basename:o,navigator:a}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:g}=useResolvedPath(e,{relative:i}),h=d;return o!=="/"&&(h=d==="/"?o:joinPaths([o,d])),a.createHref({pathname:h,search:g,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let e=reactExports.useContext(DataRouterContext),{basename:s,future:i,navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(a,i.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{g.current=!0}),reactExports.useCallback(function(b,_){if(_===void 0&&(_={}),!g.current)return;if(typeof b=="number"){o.go(b);return}let j=resolveTo(b,JSON.parse(d),c,_.relative==="path");e==null&&s!=="/"&&(j.pathname=j.pathname==="/"?s:joinPaths([s,j.pathname])),(_.replace?o.replace:o.push)(j,_.state,_)},[s,o,d,c,e])}const OutletContext=reactExports.createContext(null);function useOutlet(e){let s=reactExports.useContext(RouteContext).outlet;return s&&reactExports.createElement(OutletContext.Provider,{value:e},s)}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),s=e[e.length-1];return s?s.params:{}}function useResolvedPath(e,s){let{relative:i}=s===void 0?{}:s,{future:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(a,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(d),c,i==="path"),[e,d,c,i])}function useRoutes(e,s){return useRoutesImpl(e,s)}function useRoutesImpl(e,s,i,o){useInRouterContext()||invariant$2(!1);let{navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],g=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let b=useLocation(),_;if(s){var j;let tt=typeof s=="string"?parsePath(s):s;h==="/"||(j=tt.pathname)!=null&&j.startsWith(h)||invariant$2(!1),_=tt}else _=b;let et=_.pathname||"/",nt=et;if(h!=="/"){let tt=h.replace(/^\//,"").split("/");nt="/"+et.replace(/^\//,"").split("/").slice(tt.length).join("/")}let st=matchRoutes(e,{pathname:nt}),rt=_renderMatches(st&&st.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:joinPaths([h,a.encodeLocation?a.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?h:joinPaths([h,a.encodeLocation?a.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),c,i,o);return s&&rt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Action$1.Pop}},rt):rt}function DefaultErrorComponent(){let e=useRouteError(),s=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),i?reactExports.createElement("pre",{style:a},i):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,i){return i.location!==s.location||i.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:i.error,location:i.location,revalidation:s.revalidation||i.revalidation}}componentDidCatch(s,i){console.error("React Router caught the following error during render",s,i)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:s,match:i,children:o}=e,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),reactExports.createElement(RouteContext.Provider,{value:s},o)}function _renderMatches(e,s,i,o){var a;if(s===void 0&&(s=[]),i===void 0&&(i=null),o===void 0&&(o=null),e==null){var c;if(!i)return null;if(i.errors)e=i.matches;else if((c=o)!=null&&c.v7_partialHydration&&s.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let d=e,g=(a=i)==null?void 0:a.errors;if(g!=null){let _=d.findIndex(j=>j.route.id&&(g==null?void 0:g[j.route.id])!==void 0);_>=0||invariant$2(!1),d=d.slice(0,Math.min(d.length,_+1))}let h=!1,b=-1;if(i&&o&&o.v7_partialHydration)for(let _=0;_<d.length;_++){let j=d[_];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(b=_),j.route.id){let{loaderData:et,errors:nt}=i,st=j.route.loader&&et[j.route.id]===void 0&&(!nt||nt[j.route.id]===void 0);if(j.route.lazy||st){h=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}return d.reduceRight((_,j,et)=>{let nt,st=!1,rt=null,tt=null;i&&(nt=g&&j.route.id?g[j.route.id]:void 0,rt=j.route.errorElement||defaultErrorElement,h&&(b<0&&et===0?(warningOnce("route-fallback"),st=!0,tt=null):b===et&&(st=!0,tt=j.route.hydrateFallbackElement||null)));let _e=s.concat(d.slice(0,et+1)),$=()=>{let ot;return nt?ot=rt:st?ot=tt:j.route.Component?ot=reactExports.createElement(j.route.Component,null):j.route.element?ot=j.route.element:ot=_,reactExports.createElement(RenderedRoute,{match:j,routeContext:{outlet:_,matches:_e,isDataRoute:i!=null},children:ot})};return i&&(j.route.ErrorBoundary||j.route.errorElement||et===0)?reactExports.createElement(RenderErrorBoundary,{location:i.location,revalidation:i.revalidation,component:rt,error:nt,children:$(),routeContext:{outlet:null,matches:_e,isDataRoute:!0}}):$()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let s=reactExports.useContext(DataRouterContext);return s||invariant$2(!1),s}function useDataRouterState(e){let s=reactExports.useContext(DataRouterStateContext);return s||invariant$2(!1),s}function useRouteContext(e){let s=reactExports.useContext(RouteContext);return s||invariant$2(!1),s}function useCurrentRouteId(e){let s=useRouteContext(),i=s.matches[s.matches.length-1];return i.route.id||invariant$2(!1),i.route.id}function useRouteError(){var e;let s=reactExports.useContext(RouteErrorContext),i=useDataRouterState(),o=useCurrentRouteId();return s!==void 0?s:(e=i.errors)==null?void 0:e[o]}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),i=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{i.current=!0}),reactExports.useCallback(function(a,c){c===void 0&&(c={}),i.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_extends$1({fromRouteId:s},c)))},[e,s])}const alreadyWarned$1={};function warningOnce(e,s,i){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0)}function logV6DeprecationWarnings(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Navigate(e){let{to:s,replace:i,state:o,relative:a}=e;useInRouterContext()||invariant$2(!1);let{future:c,static:d}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),b=useNavigate(),_=resolveTo(s,getResolveToMatches(g,c.v7_relativeSplatPath),h,a==="path"),j=JSON.stringify(_);return reactExports.useEffect(()=>b(JSON.parse(j),{replace:i,state:o,relative:a}),[b,j,a,i,o]),null}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant$2(!1)}function Router(e){let{basename:s="/",children:i=null,location:o,navigationType:a=Action$1.Pop,navigator:c,static:d=!1,future:g}=e;useInRouterContext()&&invariant$2(!1);let h=s.replace(/^\/*/,"/"),b=reactExports.useMemo(()=>({basename:h,navigator:c,static:d,future:_extends$1({v7_relativeSplatPath:!1},g)}),[h,g,c,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:_="/",search:j="",hash:et="",state:nt=null,key:st="default"}=o,rt=reactExports.useMemo(()=>{let tt=stripBasename(_,h);return tt==null?null:{location:{pathname:tt,search:j,hash:et,state:nt,key:st},navigationType:a}},[h,_,j,et,nt,st,a]);return rt==null?null:reactExports.createElement(NavigationContext.Provider,{value:b},reactExports.createElement(LocationContext.Provider,{children:i,value:rt}))}function Routes(e){let{children:s,location:i}=e;return useRoutes(createRoutesFromChildren(s),i)}new Promise(()=>{});function createRoutesFromChildren(e,s){s===void 0&&(s=[]);let i=[];return reactExports.Children.forEach(e,(o,a)=>{if(!reactExports.isValidElement(o))return;let c=[...s,a];if(o.type===reactExports.Fragment){i.push.apply(i,createRoutesFromChildren(o.props.children,c));return}o.type!==Route&&invariant$2(!1),!o.props.index||!o.props.children||invariant$2(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=createRoutesFromChildren(o.props.children,c)),i.push(d)}),i}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,s){if(e==null)return{};var i={},o=Object.keys(e),a,c;for(c=0;c<o.length;c++)a=o[c],!(s.indexOf(a)>=0)&&(i[a]=e[a]);return i}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,s){return e.button===0&&(!s||s==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function BrowserRouter(e){let{basename:s,children:i,future:o,window:a}=e,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:a,v5Compat:!0}));let d=c.current,[g,h]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:b}=o||{},_=reactExports.useCallback(j=>{b&&startTransitionImpl?startTransitionImpl(()=>h(j)):h(j)},[h,b]);return reactExports.useLayoutEffect(()=>d.listen(_),[d,_]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:s,children:i,location:g.location,navigationType:g.action,navigator:d,future:o})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(s,i){let{onClick:o,relative:a,reloadDocument:c,replace:d,state:g,target:h,to:b,preventScrollReset:_,viewTransition:j}=s,et=_objectWithoutPropertiesLoose(s,_excluded),{basename:nt}=reactExports.useContext(NavigationContext),st,rt=!1;if(typeof b=="string"&&ABSOLUTE_URL_REGEX.test(b)&&(st=b,isBrowser$2))try{let ot=new URL(window.location.href),lt=b.startsWith("//")?new URL(ot.protocol+b):new URL(b),it=stripBasename(lt.pathname,nt);lt.origin===ot.origin&&it!=null?b=it+lt.search+lt.hash:rt=!0}catch{}let tt=useHref(b,{relative:a}),_e=useLinkClickHandler(b,{replace:d,state:g,target:h,preventScrollReset:_,relative:a,viewTransition:j});function $(ot){o&&o(ot),ot.defaultPrevented||_e(ot)}return reactExports.createElement("a",_extends({},et,{href:st||tt,onClick:rt||c?o:$,ref:i,target:h}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,s){let{target:i,replace:o,state:a,preventScrollReset:c,relative:d,viewTransition:g}=s===void 0?{}:s,h=useNavigate(),b=useLocation(),_=useResolvedPath(e,{relative:d});return reactExports.useCallback(j=>{if(shouldProcessLinkClick(j,i)){j.preventDefault();let et=o!==void 0?o:createPath(b)===createPath(_);h(e,{replace:et,state:a,preventScrollReset:c,relative:d,viewTransition:g})}},[b,h,_,o,a,i,e,c,d,g])}function composeEventHandlers(e,s,{checkForDefaultPrevented:i=!0}={}){return function(a){if(e==null||e(a),i===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function setRef(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function composeRefs(...e){return s=>{let i=!1;const o=e.map(a=>{const c=setRef(a,s);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let a=0;a<o.length;a++){const c=o[a];typeof c=="function"?c():setRef(e[a],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}function createContextScope$1(e,s=[]){let i=[];function o(c,d){const g=reactExports.createContext(d),h=i.length;i=[...i,d];const b=j=>{var _e;const{scope:et,children:nt,...st}=j,rt=((_e=et==null?void 0:et[e])==null?void 0:_e[h])||g,tt=reactExports.useMemo(()=>st,Object.values(st));return jsxRuntimeExports.jsx(rt.Provider,{value:tt,children:nt})};b.displayName=c+"Provider";function _(j,et){var rt;const nt=((rt=et==null?void 0:et[e])==null?void 0:rt[h])||g,st=reactExports.useContext(nt);if(st)return st;if(d!==void 0)return d;throw new Error(`\`${j}\` must be used within \`${c}\``)}return[b,_]}const a=()=>{const c=i.map(d=>reactExports.createContext(d));return function(g){const h=(g==null?void 0:g[e])||c;return reactExports.useMemo(()=>({[`__scope${e}`]:{...g,[e]:h}}),[g,h])}};return a.scopeName=e,[o,composeContextScopes$1(a,...s)]}function composeContextScopes$1(...e){const s=e[0];if(e.length===1)return s;const i=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const d=o.reduce((g,{useScope:h,scopeName:b})=>{const j=h(c)[`__scope${b}`];return{...g,...j}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return i.scopeName=s.scopeName,i}function createSlot$5(e){const s=createSlotClone$5(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,g=reactExports.Children.toArray(c),h=g.find(isSlottable$5);if(h){const b=h.props.children,_=g.map(j=>j===h?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:j);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,_):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$5(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$6(a),g=mergeProps$5(c,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$5(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$5(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...g)=>{const h=c(...g);return a(...g),h}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$6(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function createCollection(e){const s=e+"CollectionProvider",[i,o]=createContextScope$1(s),[a,c]=i(s,{collectionRef:{current:null},itemMap:new Map}),d=rt=>{const{scope:tt,children:_e}=rt,$=React$2.useRef(null),ot=React$2.useRef(new Map).current;return jsxRuntimeExports.jsx(a,{scope:tt,itemMap:ot,collectionRef:$,children:_e})};d.displayName=s;const g=e+"CollectionSlot",h=createSlot$5(g),b=React$2.forwardRef((rt,tt)=>{const{scope:_e,children:$}=rt,ot=c(g,_e),lt=useComposedRefs(tt,ot.collectionRef);return jsxRuntimeExports.jsx(h,{ref:lt,children:$})});b.displayName=g;const _=e+"CollectionItemSlot",j="data-radix-collection-item",et=createSlot$5(_),nt=React$2.forwardRef((rt,tt)=>{const{scope:_e,children:$,...ot}=rt,lt=React$2.useRef(null),it=useComposedRefs(tt,lt),dt=c(_,_e);return React$2.useEffect(()=>(dt.itemMap.set(lt,{ref:lt,...ot}),()=>void dt.itemMap.delete(lt))),jsxRuntimeExports.jsx(et,{[j]:"",ref:it,children:$})});nt.displayName=_;function st(rt){const tt=c(e+"CollectionConsumer",rt);return React$2.useCallback(()=>{const $=tt.collectionRef.current;if(!$)return[];const ot=Array.from($.querySelectorAll(`[${j}]`));return Array.from(tt.itemMap.values()).sort((dt,ct)=>ot.indexOf(dt.ref.current)-ot.indexOf(ct.ref.current))},[tt.collectionRef,tt.itemMap])}return[{Provider:d,Slot:b,ItemSlot:nt},st,o]}function createContextScope(e,s=[]){let i=[];function o(c,d){const g=reactExports.createContext(d),h=i.length;i=[...i,d];const b=j=>{var _e;const{scope:et,children:nt,...st}=j,rt=((_e=et==null?void 0:et[e])==null?void 0:_e[h])||g,tt=reactExports.useMemo(()=>st,Object.values(st));return jsxRuntimeExports.jsx(rt.Provider,{value:tt,children:nt})};b.displayName=c+"Provider";function _(j,et){var rt;const nt=((rt=et==null?void 0:et[e])==null?void 0:rt[h])||g,st=reactExports.useContext(nt);if(st)return st;if(d!==void 0)return d;throw new Error(`\`${j}\` must be used within \`${c}\``)}return[b,_]}const a=()=>{const c=i.map(d=>reactExports.createContext(d));return function(g){const h=(g==null?void 0:g[e])||c;return reactExports.useMemo(()=>({[`__scope${e}`]:{...g,[e]:h}}),[g,h])}};return a.scopeName=e,[o,composeContextScopes(a,...s)]}function composeContextScopes(...e){const s=e[0];if(e.length===1)return s;const i=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const d=o.reduce((g,{useScope:h,scopeName:b})=>{const j=h(c)[`__scope${b}`];return{...g,...j}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return i.scopeName=s.scopeName,i}function createSlot$4(e){const s=createSlotClone$4(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,g=reactExports.Children.toArray(c),h=g.find(isSlottable$4);if(h){const b=h.props.children,_=g.map(j=>j===h?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:j);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,_):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$4(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$5(a),g=mergeProps$4(c,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...g)=>{const h=c(...g);return a(...g),h}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$5(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$4=NODES$4.reduce((e,s)=>{const i=createSlot$4(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...g}=a,h=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(h,{...g,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{});function dispatchDiscreteCustomEvent$1(e,s){e&&reactDomExports.flushSync(()=>e.dispatchEvent(s))}function useCallbackRef(e){const s=reactExports.useRef(e);return reactExports.useEffect(()=>{s.current=e}),reactExports.useMemo(()=>(...i)=>{var o;return(o=s.current)==null?void 0:o.call(s,...i)},[])}function useEscapeKeydown(e,s=globalThis==null?void 0:globalThis.document){const i=useCallbackRef(e);reactExports.useEffect(()=>{const o=a=>{a.key==="Escape"&&i(a)};return s.addEventListener("keydown",o,{capture:!0}),()=>s.removeEventListener("keydown",o,{capture:!0})},[i,s])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((e,s)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:d,onDismiss:g,...h}=e,b=reactExports.useContext(DismissableLayerContext),[_,j]=reactExports.useState(null),et=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,nt]=reactExports.useState({}),st=useComposedRefs(s,ct=>j(ct)),rt=Array.from(b.layers),[tt]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),_e=rt.indexOf(tt),$=_?rt.indexOf(_):-1,ot=b.layersWithOutsidePointerEventsDisabled.size>0,lt=$>=_e,it=usePointerDownOutside(ct=>{const ut=ct.target,mt=[...b.branches].some(bt=>bt.contains(ut));!lt||mt||(a==null||a(ct),d==null||d(ct),ct.defaultPrevented||g==null||g())},et),dt=useFocusOutside(ct=>{const ut=ct.target;[...b.branches].some(bt=>bt.contains(ut))||(c==null||c(ct),d==null||d(ct),ct.defaultPrevented||g==null||g())},et);return useEscapeKeydown(ct=>{$===b.layers.size-1&&(o==null||o(ct),!ct.defaultPrevented&&g&&(ct.preventDefault(),g()))},et),reactExports.useEffect(()=>{if(_)return i&&(b.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=et.body.style.pointerEvents,et.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add(_)),b.layers.add(_),dispatchUpdate(),()=>{i&&b.layersWithOutsidePointerEventsDisabled.size===1&&(et.body.style.pointerEvents=originalBodyPointerEvents)}},[_,et,i,b]),reactExports.useEffect(()=>()=>{_&&(b.layers.delete(_),b.layersWithOutsidePointerEventsDisabled.delete(_),dispatchUpdate())},[_,b]),reactExports.useEffect(()=>{const ct=()=>nt({});return document.addEventListener(CONTEXT_UPDATE,ct),()=>document.removeEventListener(CONTEXT_UPDATE,ct)},[]),jsxRuntimeExports.jsx(Primitive$4.div,{...h,ref:st,style:{pointerEvents:ot?lt?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,dt.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,dt.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,it.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((e,s)=>{const i=reactExports.useContext(DismissableLayerContext),o=reactExports.useRef(null),a=useComposedRefs(s,o);return reactExports.useEffect(()=>{const c=o.current;if(c)return i.branches.add(c),()=>{i.branches.delete(c)}},[i.branches]),jsxRuntimeExports.jsx(Primitive$4.div,{...e,ref:a})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(e,s=globalThis==null?void 0:globalThis.document){const i=useCallbackRef(e),o=reactExports.useRef(!1),a=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const c=g=>{if(g.target&&!o.current){let h=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,i,b,{discrete:!0})};const b={originalEvent:g};g.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=h,s.addEventListener("click",a.current,{once:!0})):h()}else s.removeEventListener("click",a.current);o.current=!1},d=window.setTimeout(()=>{s.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),s.removeEventListener("pointerdown",c),s.removeEventListener("click",a.current)}},[s,i]),{onPointerDownCapture:()=>o.current=!0}}function useFocusOutside(e,s=globalThis==null?void 0:globalThis.document){const i=useCallbackRef(e),o=reactExports.useRef(!1);return reactExports.useEffect(()=>{const a=c=>{c.target&&!o.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,i,{originalEvent:c},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function dispatchUpdate(){const e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(e)}function handleAndDispatchCustomEvent$1(e,s,i,{discrete:o}){const a=i.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});s&&a.addEventListener(e,s,{once:!0}),o?dispatchDiscreteCustomEvent$1(a,c):a.dispatchEvent(c)}var Root$1=DismissableLayer,Branch=DismissableLayerBranch;function createSlot$3(e){const s=createSlotClone$3(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,g=reactExports.Children.toArray(c),h=g.find(isSlottable$3);if(h){const b=h.props.children,_=g.map(j=>j===h?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:j);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,_):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$3(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$4(a),g=mergeProps$3(c,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...g)=>{const h=c(...g);return a(...g),h}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$4(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((e,s)=>{const i=createSlot$3(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...g}=a,h=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(h,{...g,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{}),useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME="Portal",Portal=reactExports.forwardRef((e,s)=>{var g;const{container:i,...o}=e,[a,c]=reactExports.useState(!1);useLayoutEffect2(()=>c(!0),[]);const d=i||a&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return d?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$3.div,{...o,ref:s}),d):null});Portal.displayName=PORTAL_NAME;function useStateMachine(e,s){return reactExports.useReducer((i,o)=>s[i][o]??i,e)}var Presence=e=>{const{present:s,children:i}=e,o=usePresence$1(s),a=typeof i=="function"?i({present:o.isPresent}):reactExports.Children.only(i),c=useComposedRefs(o.ref,getElementRef$3(a));return typeof i=="function"||o.isPresent?reactExports.cloneElement(a,{ref:c}):null};Presence.displayName="Presence";function usePresence$1(e){const[s,i]=reactExports.useState(),o=reactExports.useRef(null),a=reactExports.useRef(e),c=reactExports.useRef("none"),d=e?"mounted":"unmounted",[g,h]=useStateMachine(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const b=getAnimationName(o.current);c.current=g==="mounted"?b:"none"},[g]),useLayoutEffect2(()=>{const b=o.current,_=a.current;if(_!==e){const et=c.current,nt=getAnimationName(b);e?h("MOUNT"):nt==="none"||(b==null?void 0:b.display)==="none"?h("UNMOUNT"):h(_&&et!==nt?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),useLayoutEffect2(()=>{if(s){let b;const _=s.ownerDocument.defaultView??window,j=nt=>{const rt=getAnimationName(o.current).includes(CSS.escape(nt.animationName));if(nt.target===s&&rt&&(h("ANIMATION_END"),!a.current)){const tt=s.style.animationFillMode;s.style.animationFillMode="forwards",b=_.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=tt)})}},et=nt=>{nt.target===s&&(c.current=getAnimationName(o.current))};return s.addEventListener("animationstart",et),s.addEventListener("animationcancel",j),s.addEventListener("animationend",j),()=>{_.clearTimeout(b),s.removeEventListener("animationstart",et),s.removeEventListener("animationcancel",j),s.removeEventListener("animationend",j)}}else h("ANIMATION_END")},[s,h]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:reactExports.useCallback(b=>{o.current=b?getComputedStyle(b):null,i(b)},[])}}function getAnimationName(e){return(e==null?void 0:e.animationName)||"none"}function getElementRef$3(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function createSlot$2(e){const s=createSlotClone$2(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,g=reactExports.Children.toArray(c),h=g.find(isSlottable$2);if(h){const b=h.props.children,_=g.map(j=>j===h?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:j);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,_):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$2(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$2(a),g=mergeProps$2(c,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...g)=>{const h=c(...g);return a(...g),h}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$2(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((e,s)=>{const i=createSlot$2(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...g}=a,h=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(h,{...g,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{});function dispatchDiscreteCustomEvent(e,s){e&&reactDomExports.flushSync(()=>e.dispatchEvent(s))}var useInsertionEffect=React$3[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:e,defaultProp:s,onChange:i=()=>{},caller:o}){const[a,c,d]=useUncontrolledState({defaultProp:s,onChange:i}),g=e!==void 0,h=g?e:a;{const _=reactExports.useRef(e!==void 0);reactExports.useEffect(()=>{const j=_.current;j!==g&&console.warn(`${o} is changing from ${j?"controlled":"uncontrolled"} to ${g?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=g},[g,o])}const b=reactExports.useCallback(_=>{var j;if(g){const et=isFunction(_)?_(e):_;et!==e&&((j=d.current)==null||j.call(d,et))}else c(_)},[g,e,c,d]);return[h,b]}function useUncontrolledState({defaultProp:e,onChange:s}){const[i,o]=reactExports.useState(e),a=reactExports.useRef(i),c=reactExports.useRef(s);return useInsertionEffect(()=>{c.current=s},[s]),reactExports.useEffect(()=>{var d;a.current!==i&&((d=c.current)==null||d.call(c,i),a.current=i)},[i,a]),[i,o,c]}function isFunction(e){return typeof e=="function"}function createSlot$1(e){const s=createSlotClone$1(e),i=reactExports.forwardRef((o,a)=>{const{children:c,...d}=o,g=reactExports.Children.toArray(c),h=g.find(isSlottable$1);if(h){const b=h.props.children,_=g.map(j=>j===h?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:j);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,_):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}function createSlotClone$1(e){const s=reactExports.forwardRef((i,o)=>{const{children:a,...c}=i;if(reactExports.isValidElement(a)){const d=getElementRef$1(a),g=mergeProps$1(c,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...g)=>{const h=c(...g);return a(...g),h}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef$1(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((e,s)=>{const i=createSlot$1(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...g}=a,h=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(h,{...g,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{}),VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((e,s)=>jsxRuntimeExports.jsx(Primitive$1.span,{...e,ref:s,style:{...VISUALLY_HIDDEN_STYLES,...e.style}}));VisuallyHidden.displayName=NAME$1;var PROVIDER_NAME="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext]=createContextScope("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),ToastProvider$1=e=>{const{__scopeToast:s,label:i="Notification",duration:o=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:d}=e,[g,h]=reactExports.useState(null),[b,_]=reactExports.useState(0),j=reactExports.useRef(!1),et=reactExports.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:s,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:s,label:i,duration:o,swipeDirection:a,swipeThreshold:c,toastCount:b,viewport:g,onViewportChange:h,onToastAdd:reactExports.useCallback(()=>_(nt=>nt+1),[]),onToastRemove:reactExports.useCallback(()=>_(nt=>nt-1),[]),isFocusedToastEscapeKeyDownRef:j,isClosePausedRef:et,children:d})})};ToastProvider$1.displayName=PROVIDER_NAME;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,hotkey:o=VIEWPORT_DEFAULT_HOTKEY,label:a="Notifications ({hotkey})",...c}=e,d=useToastProviderContext(VIEWPORT_NAME,i),g=useCollection(i),h=reactExports.useRef(null),b=reactExports.useRef(null),_=reactExports.useRef(null),j=reactExports.useRef(null),et=useComposedRefs(s,j,d.onViewportChange),nt=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),st=d.toastCount>0;reactExports.useEffect(()=>{const tt=_e=>{var ot;o.length!==0&&o.every(lt=>_e[lt]||_e.code===lt)&&((ot=j.current)==null||ot.focus())};return document.addEventListener("keydown",tt),()=>document.removeEventListener("keydown",tt)},[o]),reactExports.useEffect(()=>{const tt=h.current,_e=j.current;if(st&&tt&&_e){const $=()=>{if(!d.isClosePausedRef.current){const dt=new CustomEvent(VIEWPORT_PAUSE);_e.dispatchEvent(dt),d.isClosePausedRef.current=!0}},ot=()=>{if(d.isClosePausedRef.current){const dt=new CustomEvent(VIEWPORT_RESUME);_e.dispatchEvent(dt),d.isClosePausedRef.current=!1}},lt=dt=>{!tt.contains(dt.relatedTarget)&&ot()},it=()=>{tt.contains(document.activeElement)||ot()};return tt.addEventListener("focusin",$),tt.addEventListener("focusout",lt),tt.addEventListener("pointermove",$),tt.addEventListener("pointerleave",it),window.addEventListener("blur",$),window.addEventListener("focus",ot),()=>{tt.removeEventListener("focusin",$),tt.removeEventListener("focusout",lt),tt.removeEventListener("pointermove",$),tt.removeEventListener("pointerleave",it),window.removeEventListener("blur",$),window.removeEventListener("focus",ot)}}},[st,d.isClosePausedRef]);const rt=reactExports.useCallback(({tabbingDirection:tt})=>{const $=g().map(ot=>{const lt=ot.ref.current,it=[lt,...getTabbableCandidates(lt)];return tt==="forwards"?it:it.reverse()});return(tt==="forwards"?$.reverse():$).flat()},[g]);return reactExports.useEffect(()=>{const tt=j.current;if(tt){const _e=$=>{var it,dt,ct;const ot=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!ot){const ut=document.activeElement,mt=$.shiftKey;if($.target===tt&&mt){(it=b.current)==null||it.focus();return}const yt=rt({tabbingDirection:mt?"backwards":"forwards"}),St=yt.findIndex(Dt=>Dt===ut);focusFirst(yt.slice(St+1))?$.preventDefault():mt?(dt=b.current)==null||dt.focus():(ct=_.current)==null||ct.focus()}};return tt.addEventListener("keydown",_e),()=>tt.removeEventListener("keydown",_e)}},[g,rt]),jsxRuntimeExports.jsxs(Branch,{ref:h,role:"region","aria-label":a.replace("{hotkey}",nt),tabIndex:-1,style:{pointerEvents:st?void 0:"none"},children:[st&&jsxRuntimeExports.jsx(FocusProxy,{ref:b,onFocusFromOutsideViewport:()=>{const tt=rt({tabbingDirection:"forwards"});focusFirst(tt)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:i,children:jsxRuntimeExports.jsx(Primitive$2.ol,{tabIndex:-1,...c,ref:et})}),st&&jsxRuntimeExports.jsx(FocusProxy,{ref:_,onFocusFromOutsideViewport:()=>{const tt=rt({tabbingDirection:"backwards"});focusFirst(tt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,onFocusFromOutsideViewport:o,...a}=e,c=useToastProviderContext(FOCUS_PROXY_NAME,i);return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:d=>{var b;const g=d.relatedTarget;!((b=c.viewport)!=null&&b.contains(g))&&o()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((e,s)=>{const{forceMount:i,open:o,defaultOpen:a,onOpenChange:c,...d}=e,[g,h]=useControllableState({prop:o,defaultProp:a??!0,onChange:c,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:i||g,children:jsxRuntimeExports.jsx(ToastImpl,{open:g,...d,ref:s,onClose:()=>h(!1),onPause:useCallbackRef(e.onPause),onResume:useCallbackRef(e.onResume),onSwipeStart:composeEventHandlers(e.onSwipeStart,b=>{b.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(e.onSwipeMove,b=>{const{x:_,y:j}=b.detail.delta;b.currentTarget.setAttribute("data-swipe","move"),b.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),b.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${j}px`)}),onSwipeCancel:composeEventHandlers(e.onSwipeCancel,b=>{b.currentTarget.setAttribute("data-swipe","cancel"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),b.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(e.onSwipeEnd,b=>{const{x:_,y:j}=b.detail.delta;b.currentTarget.setAttribute("data-swipe","end"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),b.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),b.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${j}px`),h(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,type:o="foreground",duration:a,open:c,onClose:d,onEscapeKeyDown:g,onPause:h,onResume:b,onSwipeStart:_,onSwipeMove:j,onSwipeCancel:et,onSwipeEnd:nt,...st}=e,rt=useToastProviderContext(TOAST_NAME,i),[tt,_e]=reactExports.useState(null),$=useComposedRefs(s,Dt=>_e(Dt)),ot=reactExports.useRef(null),lt=reactExports.useRef(null),it=a||rt.duration,dt=reactExports.useRef(0),ct=reactExports.useRef(it),ut=reactExports.useRef(0),{onToastAdd:mt,onToastRemove:bt}=rt,ft=useCallbackRef(()=>{var Mt;(tt==null?void 0:tt.contains(document.activeElement))&&((Mt=rt.viewport)==null||Mt.focus()),d()}),yt=reactExports.useCallback(Dt=>{!Dt||Dt===1/0||(window.clearTimeout(ut.current),dt.current=new Date().getTime(),ut.current=window.setTimeout(ft,Dt))},[ft]);reactExports.useEffect(()=>{const Dt=rt.viewport;if(Dt){const Mt=()=>{yt(ct.current),b==null||b()},It=()=>{const kt=new Date().getTime()-dt.current;ct.current=ct.current-kt,window.clearTimeout(ut.current),h==null||h()};return Dt.addEventListener(VIEWPORT_PAUSE,It),Dt.addEventListener(VIEWPORT_RESUME,Mt),()=>{Dt.removeEventListener(VIEWPORT_PAUSE,It),Dt.removeEventListener(VIEWPORT_RESUME,Mt)}}},[rt.viewport,it,h,b,yt]),reactExports.useEffect(()=>{c&&!rt.isClosePausedRef.current&&yt(it)},[c,it,rt.isClosePausedRef,yt]),reactExports.useEffect(()=>(mt(),()=>bt()),[mt,bt]);const St=reactExports.useMemo(()=>tt?getAnnounceTextContent(tt):null,[tt]);return rt.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[St&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:i,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:St}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:i,onClose:ft,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:i,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,onEscapeKeyDown:composeEventHandlers(g,()=>{rt.isFocusedToastEscapeKeyDownRef.current||ft(),rt.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive$2.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":rt.swipeDirection,...st,ref:$,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:composeEventHandlers(e.onKeyDown,Dt=>{Dt.key==="Escape"&&(g==null||g(Dt.nativeEvent),Dt.nativeEvent.defaultPrevented||(rt.isFocusedToastEscapeKeyDownRef.current=!0,ft()))}),onPointerDown:composeEventHandlers(e.onPointerDown,Dt=>{Dt.button===0&&(ot.current={x:Dt.clientX,y:Dt.clientY})}),onPointerMove:composeEventHandlers(e.onPointerMove,Dt=>{if(!ot.current)return;const Mt=Dt.clientX-ot.current.x,It=Dt.clientY-ot.current.y,kt=!!lt.current,Ct=["left","right"].includes(rt.swipeDirection),xt=["left","up"].includes(rt.swipeDirection)?Math.min:Math.max,_t=Ct?xt(0,Mt):0,Lt=Ct?0:xt(0,It),vt=Dt.pointerType==="touch"?10:2,pt={x:_t,y:Lt},ht={originalEvent:Dt,delta:pt};kt?(lt.current=pt,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,j,ht,{discrete:!1})):isDeltaInDirection(pt,rt.swipeDirection,vt)?(lt.current=pt,handleAndDispatchCustomEvent(TOAST_SWIPE_START,_,ht,{discrete:!1}),Dt.target.setPointerCapture(Dt.pointerId)):(Math.abs(Mt)>vt||Math.abs(It)>vt)&&(ot.current=null)}),onPointerUp:composeEventHandlers(e.onPointerUp,Dt=>{const Mt=lt.current,It=Dt.target;if(It.hasPointerCapture(Dt.pointerId)&&It.releasePointerCapture(Dt.pointerId),lt.current=null,ot.current=null,Mt){const kt=Dt.currentTarget,Ct={originalEvent:Dt,delta:Mt};isDeltaInDirection(Mt,rt.swipeDirection,rt.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,nt,Ct,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,et,Ct,{discrete:!0}),kt.addEventListener("click",xt=>xt.preventDefault(),{once:!0})}})})})}),rt.viewport)})]}):null}),ToastAnnounce=e=>{const{__scopeToast:s,children:i,...o}=e,a=useToastProviderContext(TOAST_NAME,s),[c,d]=reactExports.useState(!1),[g,h]=reactExports.useState(!1);return useNextFrame(()=>d(!0)),reactExports.useEffect(()=>{const b=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(b)},[]),g?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...o,children:c&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a.label," ",i]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,...o}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{...o,ref:s})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,...o}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{...o,ref:s})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((e,s)=>{const{altText:i,...o}=e;return i.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:i,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...o,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,...o}=e,a=useToastInteractiveContext(CLOSE_NAME,i);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...o,ref:s,onClick:composeEventHandlers(e.onClick,a.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((e,s)=>{const{__scopeToast:i,altText:o,...a}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...a,ref:s})});function getAnnounceTextContent(e){const s=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&s.push(o.textContent),isHTMLElement(o)){const a=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const d=o.dataset.radixToastAnnounceAlt;d&&s.push(d)}else s.push(...getAnnounceTextContent(o))}}),s}function handleAndDispatchCustomEvent(e,s,i,{discrete:o}){const a=i.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});s&&a.addEventListener(e,s,{once:!0}),o?dispatchDiscreteCustomEvent(a,c):a.dispatchEvent(c)}var isDeltaInDirection=(e,s,i=0)=>{const o=Math.abs(e.x),a=Math.abs(e.y),c=o>a;return s==="left"||s==="right"?c&&o>i:!c&&a>i};function useNextFrame(e=()=>{}){const s=useCallbackRef(e);useLayoutEffect2(()=>{let i=0,o=0;return i=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(o)}},[s])}function isHTMLElement(e){return e.nodeType===e.ELEMENT_NODE}function getTabbableCandidates(e){const s=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)s.push(i.currentNode);return s}function focusFirst(e){const s=document.activeElement;return e.some(i=>i===s?!0:(i.focus(),document.activeElement!==s))}var Provider=ToastProvider$1,Viewport=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action=ToastAction$1,Close=ToastClose$1;function r(e){var s,i,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(i=r(e[s]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function clsx(){for(var e,s,i=0,o="",a=arguments.length;i<a;i++)(e=arguments[i])&&(s=r(e))&&(o&&(o+=" "),o+=s);return o}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,s)=>i=>{var o;if((s==null?void 0:s.variants)==null)return cx(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:a,defaultVariants:c}=s,d=Object.keys(a).map(b=>{const _=i==null?void 0:i[b],j=c==null?void 0:c[b];if(_===null)return null;const et=falsyToString(_)||falsyToString(j);return a[b][et]}),g=i&&Object.entries(i).reduce((b,_)=>{let[j,et]=_;return et===void 0||(b[j]=et),b},{}),h=s==null||(o=s.compoundVariants)===null||o===void 0?void 0:o.reduce((b,_)=>{let{class:j,className:et,...nt}=_;return Object.entries(nt).every(st=>{let[rt,tt]=st;return Array.isArray(tt)?tt.includes({...c,...g}[rt]):{...c,...g}[rt]===tt})?[...b,j,et]:b},[]);return cx(e,d,h,i==null?void 0:i.class,i==null?void 0:i.className)};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,s)=>{const i=reactExports.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:g="",children:h,...b},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes,width:a,height:a,stroke:o,strokeWidth:d?Number(c)*24/Number(a):c,className:["lucide",`lucide-${toKebabCase(e)}`,g].join(" "),...b},[...s.map(([j,et])=>reactExports.createElement(j,et)),...Array.isArray(h)?h:[h]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Command=createLucideIcon("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Construction=createLucideIcon("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HelpCircle=createLucideIcon("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Key=createLucideIcon("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XCircle=createLucideIcon("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:d=>{const g=d.split(CLASS_PART_SEPARATOR);return g[0]===""&&g.length!==1&&g.shift(),getGroupRecursive(g,s)||getGroupIdForArbitraryProperty(d)},getConflictingClassGroupIds:(d,g)=>{const h=i[d]||[];return g&&o[d]?[...h,...o[d]]:h}}},getGroupRecursive=(e,s)=>{var d;if(e.length===0)return s.classGroupId;const i=e[0],o=s.nextPart.get(i),a=o?getGroupRecursive(e.slice(1),o):void 0;if(a)return a;if(s.validators.length===0)return;const c=e.join(CLASS_PART_SEPARATOR);return(d=s.validators.find(({validator:g})=>g(c)))==null?void 0:d.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const s=arbitraryPropertyRegex.exec(e)[1],i=s==null?void 0:s.substring(0,s.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:s,prefix:i}=e,o={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(e.classGroups),i).forEach(([c,d])=>{processClassesRecursively(d,o,c,s)}),o},processClassesRecursively=(e,s,i,o)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?s:getPart(s,a);c.classGroupId=i;return}if(typeof a=="function"){if(isThemeGetter(a)){processClassesRecursively(a(o),s,i,o);return}s.validators.push({validator:a,classGroupId:i});return}Object.entries(a).forEach(([c,d])=>{processClassesRecursively(d,getPart(s,c),i,o)})})},getPart=(e,s)=>{let i=e;return s.split(CLASS_PART_SEPARATOR).forEach(o=>{i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i},isThemeGetter=e=>e.isThemeGetter,getPrefixedClassGroupEntries=(e,s)=>s?e.map(([i,o])=>{const a=o.map(c=>typeof c=="string"?s+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,g])=>[s+d,g])):c);return[i,a]}):e,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,i=new Map,o=new Map;const a=(c,d)=>{i.set(c,d),s++,s>e&&(s=0,o=i,i=new Map)};return{get(c){let d=i.get(c);if(d!==void 0)return d;if((d=o.get(c))!==void 0)return a(c,d),d},set(c,d){i.has(c)?i.set(c,d):a(c,d)}}},IMPORTANT_MODIFIER="!",createParseClassName=e=>{const{separator:s,experimentalParseClassName:i}=e,o=s.length===1,a=s[0],c=s.length,d=g=>{const h=[];let b=0,_=0,j;for(let tt=0;tt<g.length;tt++){let _e=g[tt];if(b===0){if(_e===a&&(o||g.slice(tt,tt+c)===s)){h.push(g.slice(_,tt)),_=tt+c;continue}if(_e==="/"){j=tt;continue}}_e==="["?b++:_e==="]"&&b--}const et=h.length===0?g:g.substring(_),nt=et.startsWith(IMPORTANT_MODIFIER),st=nt?et.substring(1):et,rt=j&&j>_?j-_:void 0;return{modifiers:h,hasImportantModifier:nt,baseClassName:st,maybePostfixModifierPosition:rt}};return i?g=>i({className:g,parseClassName:d}):d},sortModifiers=e=>{if(e.length<=1)return e;const s=[];let i=[];return e.forEach(o=>{o[0]==="["?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,s)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:a}=s,c=[],d=e.trim().split(SPLIT_CLASSES_REGEX);let g="";for(let h=d.length-1;h>=0;h-=1){const b=d[h],{modifiers:_,hasImportantModifier:j,baseClassName:et,maybePostfixModifierPosition:nt}=i(b);let st=!!nt,rt=o(st?et.substring(0,nt):et);if(!rt){if(!st){g=b+(g.length>0?" "+g:g);continue}if(rt=o(et),!rt){g=b+(g.length>0?" "+g:g);continue}st=!1}const tt=sortModifiers(_).join(":"),_e=j?tt+IMPORTANT_MODIFIER:tt,$=_e+rt;if(c.includes($))continue;c.push($);const ot=a(rt,st);for(let lt=0;lt<ot.length;++lt){const it=ot[lt];c.push(_e+it)}g=b+(g.length>0?" "+g:g)}return g};function twJoin(){let e=0,s,i,o="";for(;e<arguments.length;)(s=arguments[e++])&&(i=toValue(s))&&(o&&(o+=" "),o+=i);return o}const toValue=e=>{if(typeof e=="string")return e;let s,i="";for(let o=0;o<e.length;o++)e[o]&&(s=toValue(e[o]))&&(i&&(i+=" "),i+=s);return i};function createTailwindMerge(e,...s){let i,o,a,c=d;function d(h){const b=s.reduce((_,j)=>j(_),e());return i=createConfigUtils(b),o=i.cache.get,a=i.cache.set,c=g,g(h)}function g(h){const b=o(h);if(b)return b;const _=mergeClassList(h,i);return a(h,_),_}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=e=>{const s=i=>i[e]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=e=>isNumber(e)||stringLengths.has(e)||fractionRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,"length",isLengthOnly),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isArbitraryNumber=e=>getIsArbitraryValue(e,"number",isNumber),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isArbitraryValue=e=>arbitraryValueRegex.test(e),isTshirtSize=e=>tshirtUnitRegex.test(e),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=e=>getIsArbitraryValue(e,sizeLabels,isNever),isArbitraryPosition=e=>getIsArbitraryValue(e,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=e=>getIsArbitraryValue(e,imageLabels,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(e,s,i)=>{const o=arbitraryValueRegex.exec(e);return o?o[1]?typeof s=="string"?o[1]===s:s.has(o[1]):i(o[2]):!1},isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),getDefaultConfig=()=>{const e=fromTheme("colors"),s=fromTheme("spacing"),i=fromTheme("blur"),o=fromTheme("brightness"),a=fromTheme("borderColor"),c=fromTheme("borderRadius"),d=fromTheme("borderSpacing"),g=fromTheme("borderWidth"),h=fromTheme("contrast"),b=fromTheme("grayscale"),_=fromTheme("hueRotate"),j=fromTheme("invert"),et=fromTheme("gap"),nt=fromTheme("gradientColorStops"),st=fromTheme("gradientColorStopPositions"),rt=fromTheme("inset"),tt=fromTheme("margin"),_e=fromTheme("opacity"),$=fromTheme("padding"),ot=fromTheme("saturate"),lt=fromTheme("scale"),it=fromTheme("sepia"),dt=fromTheme("skew"),ct=fromTheme("space"),ut=fromTheme("translate"),mt=()=>["auto","contain","none"],bt=()=>["auto","hidden","clip","visible","scroll"],ft=()=>["auto",isArbitraryValue,s],yt=()=>[isArbitraryValue,s],St=()=>["",isLength,isArbitraryLength],Dt=()=>["auto",isNumber,isArbitraryValue],Mt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],It=()=>["solid","dashed","dotted","double","none"],kt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ct=()=>["start","end","center","between","around","evenly","stretch"],xt=()=>["","0",isArbitraryValue],_t=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Lt=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Lt(),borderColor:[e],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:yt(),borderWidth:St(),contrast:Lt(),grayscale:xt(),hueRotate:Lt(),invert:xt(),gap:yt(),gradientColorStops:[e],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:ft(),margin:ft(),opacity:Lt(),padding:yt(),saturate:Lt(),scale:Lt(),sepia:xt(),skew:Lt(),space:yt(),translate:yt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":_t()}],"break-before":[{"break-before":_t()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Mt(),isArbitraryValue]}],overflow:[{overflow:bt()}],"overflow-x":[{"overflow-x":bt()}],"overflow-y":[{"overflow-y":bt()}],overscroll:[{overscroll:mt()}],"overscroll-x":[{"overscroll-x":mt()}],"overscroll-y":[{"overscroll-y":mt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[rt]}],"inset-x":[{"inset-x":[rt]}],"inset-y":[{"inset-y":[rt]}],start:[{start:[rt]}],end:[{end:[rt]}],top:[{top:[rt]}],right:[{right:[rt]}],bottom:[{bottom:[rt]}],left:[{left:[rt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:ft()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:xt()}],shrink:[{shrink:xt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Dt()}],"col-end":[{"col-end":Dt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Dt()}],"row-end":[{"row-end":Dt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[et]}],"gap-x":[{"gap-x":[et]}],"gap-y":[{"gap-y":[et]}],"justify-content":[{justify:["normal",...Ct()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Ct(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Ct(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[tt]}],mx:[{mx:[tt]}],my:[{my:[tt]}],ms:[{ms:[tt]}],me:[{me:[tt]}],mt:[{mt:[tt]}],mr:[{mr:[tt]}],mb:[{mb:[tt]}],ml:[{ml:[tt]}],"space-x":[{"space-x":[ct]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ct]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,s]}],"min-w":[{"min-w":[isArbitraryValue,s,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,s,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,s,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_e]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...It(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:yt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_e]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Mt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[st]}],"gradient-via-pos":[{via:[st]}],"gradient-to-pos":[{to:[st]}],"gradient-from":[{from:[nt]}],"gradient-via":[{via:[nt]}],"gradient-to":[{to:[nt]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[_e]}],"border-style":[{border:[...It(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_e]}],"divide-style":[{divide:It()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...It()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:St()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_e]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[_e]}],"mix-blend":[{"mix-blend":[...kt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":kt()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[b]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[j]}],saturate:[{saturate:[ot]}],sepia:[{sepia:[it]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[b]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[j]}],"backdrop-opacity":[{"backdrop-opacity":[_e]}],"backdrop-saturate":[{"backdrop-saturate":[ot]}],"backdrop-sepia":[{"backdrop-sepia":[it]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Lt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Lt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[lt]}],"scale-x":[{"scale-x":[lt]}],"scale-y":[{"scale-y":[lt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[ut]}],"translate-y":[{"translate-y":[ut]}],"skew-x":[{"skew-x":[dt]}],"skew-y":[{"skew-y":[dt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":yt()}],"scroll-mx":[{"scroll-mx":yt()}],"scroll-my":[{"scroll-my":yt()}],"scroll-ms":[{"scroll-ms":yt()}],"scroll-me":[{"scroll-me":yt()}],"scroll-mt":[{"scroll-mt":yt()}],"scroll-mr":[{"scroll-mr":yt()}],"scroll-mb":[{"scroll-mb":yt()}],"scroll-ml":[{"scroll-ml":yt()}],"scroll-p":[{"scroll-p":yt()}],"scroll-px":[{"scroll-px":yt()}],"scroll-py":[{"scroll-py":yt()}],"scroll-ps":[{"scroll-ps":yt()}],"scroll-pe":[{"scroll-pe":yt()}],"scroll-pt":[{"scroll-pt":yt()}],"scroll-pr":[{"scroll-pr":yt()}],"scroll-pb":[{"scroll-pb":yt()}],"scroll-pl":[{"scroll-pl":yt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}function formatDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e))}function formatFileSize(e){if(!e)return"0 B";const s=["B","KB","MB","GB"];let i=0,o=e;for(;o>=1024&&i<s.length-1;)o/=1024,i++;return`${o.toFixed(1)} ${s[i]}`}const ToastProvider=Provider,ToastViewport=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Viewport,{ref:i,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...s}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:e,variant:s,...i},o)=>jsxRuntimeExports.jsx(Root2,{ref:o,className:cn(toastVariants({variant:s}),e),...i}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Action,{ref:i,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Close,{ref:i,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Title,{ref:i,className:cn("text-sm font-semibold",e),...s}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Description,{ref:i,className:cn("text-sm opacity-90",e),...s}));ToastDescription.displayName=Description.displayName;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=e=>{if(toastTimeouts.has(e))return;const s=setTimeout(()=>{toastTimeouts.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},TOAST_REMOVE_DELAY);toastTimeouts.set(e,s)},reducer$1=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=s;return i?addToRemoveQueue(i):e.toasts.forEach(o=>{addToRemoveQueue(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==s.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(e){memoryState=reducer$1(memoryState,e),listeners.forEach(s=>{s(memoryState)})}function toast({...e}){const s=genId(),i=a=>dispatch({type:"UPDATE_TOAST",toast:{...a,id:s}}),o=()=>dispatch({type:"DISMISS_TOAST",toastId:s});return dispatch({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:a=>{a||o()}}}),{id:s,dismiss:o,update:i}}function useToast(){const[e,s]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(s),()=>{const i=listeners.indexOf(s);i>-1&&listeners.splice(i,1)}),[e]),{...e,toast,dismiss:i=>dispatch({type:"DISMISS_TOAST",toastId:i})}}function Toaster(){const{toasts:e}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[e.map(function({id:s,title:i,description:o,action:a,...c}){return jsxRuntimeExports.jsxs(Toast,{...c,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[i&&jsxRuntimeExports.jsx(ToastTitle,{children:i}),o&&jsxRuntimeExports.jsx(ToastDescription,{children:o})]}),a,jsxRuntimeExports.jsx(ToastClose,{})]},s)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}const __vite_import_meta_env__$2={},createStoreImpl=e=>{let s;const i=new Set,o=(_,j)=>{const et=typeof _=="function"?_(s):_;if(!Object.is(et,s)){const nt=s;s=j??(typeof et!="object"||et===null)?et:Object.assign({},s,et),i.forEach(st=>st(s,nt))}},a=()=>s,h={setState:o,getState:a,getInitialState:()=>b,subscribe:_=>(i.add(_),()=>i.delete(_)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},b=s=e(o,a,h);return h},createStore=e=>e?createStoreImpl(e):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(e,s){var i=s(),o=useState({inst:{value:i,getSnapshot:s}}),a=o[0].inst,c=o[1];return useLayoutEffect(function(){a.value=i,a.getSnapshot=s,checkIfSnapshotChanged(a)&&c({inst:a})},[e,i,s]),useEffect$1(function(){return checkIfSnapshotChanged(a)&&c({inst:a}),e(function(){checkIfSnapshotChanged(a)&&c({inst:a})})},[e]),useDebugValue$2(i),i}function checkIfSnapshotChanged(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!objectIs$1(e,i)}catch{return!0}}function useSyncExternalStore$1(e,s){return s()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(e,s,i,o,a){var c=useRef(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=useMemo(function(){function h(nt){if(!b){if(b=!0,_=nt,nt=o(nt),a!==void 0&&d.hasValue){var st=d.value;if(a(st,nt))return j=st}return j=nt}if(st=j,objectIs(_,nt))return st;var rt=o(nt);return a!==void 0&&a(st,rt)?(_=nt,st):(_=nt,j=rt)}var b=!1,_,j,et=i===void 0?null:i;return[function(){return h(s())},et===null?void 0:function(){return h(et())}]},[s,i,o,a]);var g=useSyncExternalStore(e,c[0],c[1]);return useEffect(function(){d.hasValue=!0,d.value=g},[g]),useDebugValue$1(g),g};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=e=>e;function useStore(e,s=identity,i){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&i&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const o=useSyncExternalStoreWithSelector(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,i);return useDebugValue(o),o}const createImpl=e=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?createStore(e):e,i=(o,a)=>useStore(s,o,a);return Object.assign(i,s),i},create=e=>createImpl,__vite_import_meta_env__={};function createJSONStorage(e,s){let i;try{i=e()}catch{return}return{getItem:a=>{var c;const d=h=>h===null?null:JSON.parse(h,void 0),g=(c=i.getItem(a))!=null?c:null;return g instanceof Promise?g.then(d):d(g)},setItem:(a,c)=>i.setItem(a,JSON.stringify(c,void 0)),removeItem:a=>i.removeItem(a)}}const toThenable=e=>s=>{try{const i=e(s);return i instanceof Promise?i:{then(o){return toThenable(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return toThenable(o)(i)}}}},oldImpl=(e,s)=>(i,o,a)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:tt=>tt,version:0,merge:(tt,_e)=>({..._e,...tt}),...s},d=!1;const g=new Set,h=new Set;let b;try{b=c.getStorage()}catch{}if(!b)return e((...tt)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...tt)},o,a);const _=toThenable(c.serialize),j=()=>{const tt=c.partialize({...o()});let _e;const $=_({state:tt,version:c.version}).then(ot=>b.setItem(c.name,ot)).catch(ot=>{_e=ot});if(_e)throw _e;return $},et=a.setState;a.setState=(tt,_e)=>{et(tt,_e),j()};const nt=e((...tt)=>{i(...tt),j()},o,a);let st;const rt=()=>{var tt;if(!b)return;d=!1,g.forEach($=>$(o()));const _e=((tt=c.onRehydrateStorage)==null?void 0:tt.call(c,o()))||void 0;return toThenable(b.getItem.bind(b))(c.name).then($=>{if($)return c.deserialize($)}).then($=>{if($)if(typeof $.version=="number"&&$.version!==c.version){if(c.migrate)return c.migrate($.state,$.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return $.state}).then($=>{var ot;return st=c.merge($,(ot=o())!=null?ot:nt),i(st,!0),j()}).then(()=>{_e==null||_e(st,void 0),d=!0,h.forEach($=>$(st))}).catch($=>{_e==null||_e(void 0,$)})};return a.persist={setOptions:tt=>{c={...c,...tt},tt.getStorage&&(b=tt.getStorage())},clearStorage:()=>{b==null||b.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>rt(),hasHydrated:()=>d,onHydrate:tt=>(g.add(tt),()=>{g.delete(tt)}),onFinishHydration:tt=>(h.add(tt),()=>{h.delete(tt)})},rt(),st||nt},newImpl=(e,s)=>(i,o,a)=>{let c={storage:createJSONStorage(()=>localStorage),partialize:rt=>rt,version:0,merge:(rt,tt)=>({...tt,...rt}),...s},d=!1;const g=new Set,h=new Set;let b=c.storage;if(!b)return e((...rt)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...rt)},o,a);const _=()=>{const rt=c.partialize({...o()});return b.setItem(c.name,{state:rt,version:c.version})},j=a.setState;a.setState=(rt,tt)=>{j(rt,tt),_()};const et=e((...rt)=>{i(...rt),_()},o,a);a.getInitialState=()=>et;let nt;const st=()=>{var rt,tt;if(!b)return;d=!1,g.forEach($=>{var ot;return $((ot=o())!=null?ot:et)});const _e=((tt=c.onRehydrateStorage)==null?void 0:tt.call(c,(rt=o())!=null?rt:et))||void 0;return toThenable(b.getItem.bind(b))(c.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==c.version){if(c.migrate)return[!0,c.migrate($.state,$.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var ot;const[lt,it]=$;if(nt=c.merge(it,(ot=o())!=null?ot:et),i(nt,!0),lt)return _()}).then(()=>{_e==null||_e(nt,void 0),nt=o(),d=!0,h.forEach($=>$(nt))}).catch($=>{_e==null||_e(void 0,$)})};return a.persist={setOptions:rt=>{c={...c,...rt},rt.storage&&(b=rt.storage)},clearStorage:()=>{b==null||b.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>st(),hasHydrated:()=>d,onHydrate:rt=>(g.add(rt),()=>{g.delete(rt)}),onFinishHydration:rt=>(h.add(rt),()=>{h.delete(rt)})},c.skipHydration||st(),nt||et},persistImpl=(e,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(e,s)):newImpl(e,s),persist=persistImpl,API_URL="http://localhost:3001",useAuthStore=create()(persist((e,s)=>({user:null,token:null,isLoading:!0,error:null,setUser:i=>e({user:i}),setToken:i=>e({token:i}),setLoading:i=>e({isLoading:i}),setError:i=>e({error:i}),signInWithEmail:async(i,o)=>{e({isLoading:!0,error:null});try{const a=await fetch(`${API_URL}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:i,password:o})}),c=await a.json();if(!a.ok)throw new Error(c.error||"Failed to sign in");e({user:c.user,token:c.token})}catch(a){const c=a instanceof Error?a.message:"Failed to sign in";throw e({error:c}),a}finally{e({isLoading:!1})}},signUpWithEmail:async(i,o,a)=>{e({isLoading:!0,error:null});try{const c=await fetch(`${API_URL}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:i,password:o,name:a})}),d=await c.json();if(!c.ok)throw new Error(d.error||"Failed to sign up");e({user:d.user,token:d.token})}catch(c){const d=c instanceof Error?c.message:"Failed to sign up";throw e({error:d}),c}finally{e({isLoading:!1})}},signOut:async()=>{e({isLoading:!0});try{await fetch(`${API_URL}/api/auth/logout`,{method:"POST",credentials:"include"}),e({user:null,token:null})}catch(i){const o=i instanceof Error?i.message:"Failed to sign out";e({error:o})}finally{e({isLoading:!1})}},fetchUser:async()=>{const{token:i}=s();if(i)try{const o=await fetch(`${API_URL}/api/auth/me`,{credentials:"include",headers:{Authorization:`Bearer ${i}`}});if(o.ok){const a=await o.json();e({user:a.user})}else e({user:null,token:null})}catch(o){console.error("Error fetching user:",o),e({user:null,token:null})}},initialize:async()=>{e({isLoading:!0});try{const{token:i}=s();i&&await s().fetchUser()}catch(i){console.error("Error initializing auth:",i)}finally{e({isLoading:!1})}}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user})})),LayoutGroupContext=reactExports.createContext({});function useConstant(e){const s=reactExports.useRef(null);return s.current===null&&(s.current=e()),s.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const i=this.props.childRef.current;if(i&&s.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=i.offsetHeight||0,o.width=i.offsetWidth||0,o.top=i.offsetTop,o.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:s}){const i=reactExports.useId(),o=reactExports.useRef(null),a=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:d,height:g,top:h,left:b}=a.current;if(s||!o.current||!d||!g)return;o.current.dataset.motionPopId=i;const _=document.createElement("style");return c&&(_.nonce=c),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${g}px !important;
            top: ${h}px !important;
            left: ${b}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:o,sizeRef:a,children:reactExports.cloneElement(e,{ref:o})})}const PresenceChild=({children:e,initial:s,isPresent:i,onExitComplete:o,custom:a,presenceAffectsLayout:c,mode:d})=>{const g=useConstant(newChildrenMap),h=reactExports.useId(),b=reactExports.useCallback(j=>{g.set(j,!0);for(const et of g.values())if(!et)return;o&&o()},[g,o]),_=reactExports.useMemo(()=>({id:h,initial:s,isPresent:i,custom:a,onExitComplete:b,register:j=>(g.set(j,!1),()=>g.delete(j))}),c?[Math.random(),b]:[i,b]);return reactExports.useMemo(()=>{g.forEach((j,et)=>g.set(et,!1))},[i]),reactExports.useEffect(()=>{!i&&!g.size&&o&&o()},[i]),d==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:i,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:_,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const s=reactExports.useContext(PresenceContext);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:o,register:a}=s,c=reactExports.useId();reactExports.useEffect(()=>{e&&a(c)},[e]);const d=reactExports.useCallback(()=>e&&o&&o(c),[c,o,e]);return!i&&o?[!1,d]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const s=[];return reactExports.Children.forEach(e,i=>{reactExports.isValidElement(i)&&s.push(i)}),s}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:e,custom:s,initial:i=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:c="sync",propagate:d=!1})=>{const[g,h]=usePresence(d),b=reactExports.useMemo(()=>onlyElements(e),[e]),_=d&&!g?[]:b.map(getChildKey),j=reactExports.useRef(!0),et=reactExports.useRef(b),nt=useConstant(()=>new Map),[st,rt]=reactExports.useState(b),[tt,_e]=reactExports.useState(b);useIsomorphicLayoutEffect(()=>{j.current=!1,et.current=b;for(let lt=0;lt<tt.length;lt++){const it=getChildKey(tt[lt]);_.includes(it)?nt.delete(it):nt.get(it)!==!0&&nt.set(it,!1)}},[tt,_.length,_.join("-")]);const $=[];if(b!==st){let lt=[...b];for(let it=0;it<tt.length;it++){const dt=tt[it],ct=getChildKey(dt);_.includes(ct)||(lt.splice(it,0,dt),$.push(dt))}c==="wait"&&$.length&&(lt=$),_e(onlyElements(lt)),rt(b);return}const{forceRender:ot}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:tt.map(lt=>{const it=getChildKey(lt),dt=d&&!g?!1:b===tt||_.includes(it),ct=()=>{if(nt.has(it))nt.set(it,!0);else return;let ut=!0;nt.forEach(mt=>{mt||(ut=!1)}),ut&&(ot==null||ot(),_e(et.current),d&&(h==null||h()),o&&o())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:dt,initial:!j.current||i?void 0:!1,custom:dt?void 0:s,presenceAffectsLayout:a,mode:c,onExitComplete:dt?void 0:ct,children:lt},it)})})},noop=e=>e;let invariant$1=noop;function memo(e){let s;return()=>(s===void 0&&(s=e()),s)}const progress=(e,s,i)=>{const o=s-e;return o===0?1:(i-e)/o},secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(e){let s=new Set,i=new Set,o=!1,a=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(b){c.has(b)&&(h.schedule(b),e()),b(d)}const h={schedule:(b,_=!1,j=!1)=>{const nt=j&&o?s:i;return _&&c.add(b),nt.has(b)||nt.add(b),b},cancel:b=>{i.delete(b),c.delete(b)},process:b=>{if(d=b,o){a=!0;return}o=!0,[s,i]=[i,s],s.forEach(g),s.clear(),o=!1,a&&(a=!1,h.process(b))}};return h}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,s){let i=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,d=stepsOrder.reduce((_e,$)=>(_e[$]=createRenderStep(c),_e),{}),{read:g,resolveKeyframes:h,update:b,preRender:_,render:j,postRender:et}=d,nt=()=>{const _e=performance.now();i=!1,a.delta=o?1e3/60:Math.max(Math.min(_e-a.timestamp,maxElapsed),1),a.timestamp=_e,a.isProcessing=!0,g.process(a),h.process(a),b.process(a),_.process(a),j.process(a),et.process(a),a.isProcessing=!1,i&&s&&(o=!1,e(nt))},st=()=>{i=!0,o=!0,a.isProcessing||e(nt)};return{schedule:stepsOrder.reduce((_e,$)=>{const ot=d[$];return _e[$]=(lt,it=!1,dt=!1)=>(i||st(),ot.schedule(lt,it,dt)),_e},{}),cancel:_e=>{for(let $=0;$<stepsOrder.length;$++)d[stepsOrder[$]].cancel(_e)},state:a,steps:d}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:s=>featureProps[e].some(i=>!!s[i])};function loadFeatures(e){for(const s in e)featureDefinitions[s]={...featureDefinitions[s],...e[s]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):e(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,s,i){const o={};for(const a in e)a==="values"&&typeof e.values=="object"||(shouldForward(a)||i===!0&&isValidMotionProp(a)||!s&&!isValidMotionProp(a)||e.draggable&&a.startsWith("onDrag"))&&(o[a]=e[a]);return o}function createDOMMotionComponentProxy(e){if(typeof Proxy>"u")return e;const s=new Map,i=(...o)=>e(...o);return new Proxy(i,{get:(o,a)=>a==="create"?e:(s.has(a)||s.set(a,e(a)),s.get(a))})}const MotionContext=reactExports.createContext({});function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(s=>isVariantLabel(e[s]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,s){if(isControllingVariants(e)){const{initial:i,animate:o}=e;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(o)?o:void 0}}return e.inherit!==!1?s:{}}function useCreateMotionContext(e){const{initial:s,animate:i}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:i}),[variantLabelsAsDependency(s),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,s,i){return reactExports.useCallback(o=>{o&&e.onMount&&e.onMount(o),s&&(o?s.mount(o):s.unmount()),i&&(typeof i=="function"?i(o):isRefObject(i)&&(i.current=o))},[s])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,s,i,o,a){var c,d;const{visualElement:g}=reactExports.useContext(MotionContext),h=reactExports.useContext(LazyContext),b=reactExports.useContext(PresenceContext),_=reactExports.useContext(MotionConfigContext).reducedMotion,j=reactExports.useRef(null);o=o||h.renderer,!j.current&&o&&(j.current=o(e,{visualState:s,parent:g,props:i,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:_}));const et=j.current,nt=reactExports.useContext(SwitchLayoutGroupContext);et&&!et.projection&&a&&(et.type==="html"||et.type==="svg")&&createProjectionNode$1(j.current,i,a,nt);const st=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{et&&st.current&&et.update(i,b)});const rt=i[optimizedAppearDataAttribute],tt=reactExports.useRef(!!rt&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,rt))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,rt)));return useIsomorphicLayoutEffect(()=>{et&&(st.current=!0,window.MotionIsMounted=!0,et.updateFeatures(),microtask.render(et.render),tt.current&&et.animationState&&et.animationState.animateChanges())}),reactExports.useEffect(()=>{et&&(!tt.current&&et.animationState&&et.animationState.animateChanges(),tt.current&&(queueMicrotask(()=>{var _e;(_e=window.MotionHandoffMarkAsComplete)===null||_e===void 0||_e.call(window,rt)}),tt.current=!1))}),et}function createProjectionNode$1(e,s,i,o){const{layoutId:a,layout:c,drag:d,dragConstraints:g,layoutScroll:h,layoutRoot:b}=s;e.projection=new i(e.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!d||g&&isRefObject(g),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:b})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createRendererMotionComponent({preloadedFeatures:e,createVisualElement:s,useRender:i,useVisualState:o,Component:a}){var c,d;e&&loadFeatures(e);function g(b,_){let j;const et={...reactExports.useContext(MotionConfigContext),...b,layoutId:useLayoutId(b)},{isStatic:nt}=et,st=useCreateMotionContext(b),rt=o(b,nt);if(!nt&&isBrowser$1){useStrictMode();const tt=getProjectionFunctionality(et);j=tt.MeasureLayout,st.visualElement=useVisualElement(a,rt,et,s,tt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:st,children:[j&&st.visualElement?jsxRuntimeExports.jsx(j,{visualElement:st.visualElement,...et}):null,i(a,b,useMotionRef(rt,st.visualElement,_),rt,nt,st.visualElement)]})}g.displayName=`motion.${typeof a=="string"?a:`create(${(d=(c=a.displayName)!==null&&c!==void 0?c:a.name)!==null&&d!==void 0?d:""})`}`;const h=reactExports.forwardRef(g);return h[motionComponentSymbol]=a,h}function useLayoutId({layoutId:e}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&e!==void 0?s+"-"+e:e}function useStrictMode(e,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:s,layout:i}=featureDefinitions;if(!s&&!i)return{};const o={...s,...i};return{MeasureLayout:s!=null&&s.isEnabled(e)||i!=null&&i.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function getValueState(e){const s=[{},{}];return e==null||e.values.forEach((i,o)=>{s[0][o]=i.get(),s[1][o]=i.getVelocity()}),s}function resolveVariantFromProps(e,s,i,o){if(typeof s=="function"){const[a,c]=getValueState(o);s=s(i!==void 0?i:e.custom,a,c)}if(typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"){const[a,c]=getValueState(o);s=s(i!==void 0?i:e.custom,a,c)}return s}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e,isMotionValue=e=>!!(e&&e.getVelocity);function resolveMotionValue(e){const s=isMotionValue(e)?e.get():e;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:e,createRenderState:s,onUpdate:i},o,a,c){const d={latestValues:makeLatestValues(o,a,c,e),renderState:s()};return i&&(d.onMount=g=>i({props:o,current:g,...d}),d.onUpdate=g=>i(g)),d}const makeUseVisualState=e=>(s,i)=>{const o=reactExports.useContext(MotionContext),a=reactExports.useContext(PresenceContext),c=()=>makeState(e,s,o,a);return i?c():useConstant(c)};function makeLatestValues(e,s,i,o){const a={},c=o(e,{});for(const et in c)a[et]=resolveMotionValue(c[et]);let{initial:d,animate:g}=e;const h=isControllingVariants(e),b=isVariantNode(e);s&&b&&!h&&e.inherit!==!1&&(d===void 0&&(d=s.initial),g===void 0&&(g=s.animate));let _=i?i.initial===!1:!1;_=_||d===!1;const j=_?g:d;if(j&&typeof j!="boolean"&&!isAnimationControls(j)){const et=Array.isArray(j)?j:[j];for(let nt=0;nt<et.length;nt++){const st=resolveVariantFromProps(e,et[nt]);if(st){const{transitionEnd:rt,transition:tt,..._e}=st;for(const $ in _e){let ot=_e[$];if(Array.isArray(ot)){const lt=_?ot.length-1:0;ot=ot[lt]}ot!==null&&(a[$]=ot)}for(const $ in rt)a[$]=rt[$]}}}return a}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=e=>s=>typeof s=="string"&&s.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(e,s)=>s&&typeof e=="number"?s.transform(e):e,clamp=(e,s,i)=>i>s?s:i<e?e:i,number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},createUnitType=e=>({test:s=>typeof s=="string"&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,s,i){let o="",a=!0;for(let c=0;c<numTransforms;c++){const d=transformPropOrder[c],g=e[d];if(g===void 0)continue;let h=!0;if(typeof g=="number"?h=g===(d.startsWith("scale")?1:0):h=parseFloat(g)===0,!h||i){const b=getValueAsType(g,numberValueTypes[d]);if(!h){a=!1;const _=translateAlias[d]||d;o+=`${_}(${b}) `}i&&(s[d]=b)}}return o=o.trim(),i?o=i(s,a?"":o):a&&(o="none"),o}function buildHTMLStyles(e,s,i){const{style:o,vars:a,transformOrigin:c}=e;let d=!1,g=!1;for(const h in s){const b=s[h];if(transformProps.has(h)){d=!0;continue}else if(isCSSVariableName(h)){a[h]=b;continue}else{const _=getValueAsType(b,numberValueTypes[h]);h.startsWith("origin")?(g=!0,c[h]=_):o[h]=_}}if(s.transform||(d||i?o.transform=buildTransform(s,e.transform,i):o.transform&&(o.transform="none")),g){const{originX:h="50%",originY:b="50%",originZ:_=0}=c;o.transformOrigin=`${h} ${b} ${_}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,s,i=1,o=0,a=!0){e.pathLength=1;const c=a?dashKeys:camelKeys;e[c.offset]=px.transform(-o);const d=px.transform(s),g=px.transform(i);e[c.array]=`${d} ${g}`}function calcOrigin$1(e,s,i){return typeof e=="string"?e:px.transform(s+i*e)}function calcSVGTransformOrigin(e,s,i){const o=calcOrigin$1(s,e.x,e.width),a=calcOrigin$1(i,e.y,e.height);return`${o} ${a}`}function buildSVGAttrs(e,{attrX:s,attrY:i,attrScale:o,originX:a,originY:c,pathLength:d,pathSpacing:g=1,pathOffset:h=0,...b},_,j){if(buildHTMLStyles(e,b,j),_){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:et,style:nt,dimensions:st}=e;et.transform&&(st&&(nt.transform=et.transform),delete et.transform),st&&(a!==void 0||c!==void 0||nt.transform)&&(nt.transformOrigin=calcSVGTransformOrigin(st,a!==void 0?a:.5,c!==void 0?c:.5)),s!==void 0&&(et.x=s),i!==void 0&&(et.y=i),o!==void 0&&(et.scale=o),d!==void 0&&buildSVGPath(et,d,g,h,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function renderHTML(e,{style:s,vars:i},o,a){Object.assign(e.style,s,a&&a.getProjectionStyles(o));for(const c in i)e.style.setProperty(c,i[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,s,i,o){renderHTML(e,s,void 0,o);for(const a in s.attrs)e.setAttribute(camelCaseAttributes.has(a)?a:camelToDash(a),s.attrs[a])}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}function isForcedMotionValue(e,{layout:s,layoutId:i}){return transformProps.has(e)||e.startsWith("origin")||(s||i!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}function scrapeMotionValuesFromProps$1(e,s,i){var o;const{style:a}=e,c={};for(const d in a)(isMotionValue(a[d])||s.style&&isMotionValue(s.style[d])||isForcedMotionValue(d,e)||((o=i==null?void 0:i.getValue(d))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(c[d]=a[d]);return c}function scrapeMotionValuesFromProps(e,s,i){const o=scrapeMotionValuesFromProps$1(e,s,i);for(const a in e)if(isMotionValue(e[a])||isMotionValue(s[a])){const c=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[c]=e[a]}return o}function updateSVGDimensions(e,s){try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:e,prevProps:s,current:i,renderState:o,latestValues:a})=>{if(!i)return;let c=!!e.drag;if(!c){for(const g in a)if(transformProps.has(g)){c=!0;break}}if(!c)return;let d=!s;if(s)for(let g=0;g<layoutProps.length;g++){const h=layoutProps[g];e[h]!==s[h]&&(d=!0)}d&&frame.read(()=>{updateSVGDimensions(i,o),frame.render(()=>{buildSVGAttrs(o,a,isSVGTag(i.tagName),e.transformTemplate),renderSVG(i,o)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(e,s,i){for(const o in s)!isMotionValue(s[o])&&!isForcedMotionValue(o,i)&&(e[o]=s[o])}function useInitialMotionValues({transformTemplate:e},s){return reactExports.useMemo(()=>{const i=createHtmlRenderState();return buildHTMLStyles(i,s,e),Object.assign({},i.vars,i.style)},[s])}function useStyle(e,s){const i=e.style||{},o={};return copyRawValuesOnly(o,i,e),Object.assign(o,useInitialMotionValues(e,s)),o}function useHTMLProps(e,s){const i={},o=useStyle(e,s);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=o,i}function useSVGProps(e,s,i,o){const a=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,s,isSVGTag(o),e.transformTemplate),{...c.attrs,style:{...c.style}}},[s]);if(e.style){const c={};copyRawValuesOnly(c,e.style,e),a.style={...c,...a.style}}return a}function createUseRender(e=!1){return(i,o,a,{latestValues:c},d)=>{const h=(isSVGComponent(i)?useSVGProps:useHTMLProps)(o,c,d,i),b=filterProps(o,typeof i=="string",e),_=i!==reactExports.Fragment?{...b,...h,ref:a}:{},{children:j}=o,et=reactExports.useMemo(()=>isMotionValue(j)?j.get():j,[j]);return reactExports.createElement(i,{..._,children:et})}}function createMotionComponentFactory(e,s){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const d={...isSVGComponent(o)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:e,useRender:createUseRender(a),createVisualElement:s,Component:o};return createRendererMotionComponent(d)}}function shallowCompare(e,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==e.length)return!1;for(let o=0;o<i;o++)if(s[o]!==e[o])return!1;return!0}function resolveVariant(e,s,i){const o=e.getProps();return resolveVariantFromProps(o,s,i!==void 0?i:o.custom,e)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,i){for(let o=0;o<this.animations.length;o++)this.animations[o][s]=i}attachTimeline(s,i){const o=this.animations.map(a=>{if(supportsScrollTimeline()&&a.attachTimeline)return a.attachTimeline(s);if(typeof i=="function")return i(a)});return()=>{o.forEach((a,c)=>{a&&a(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let i=0;i<this.animations.length;i++)s=Math.max(s,this.animations[i].duration);return s}runAll(s){this.animations.forEach(i=>i[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(s,i){return Promise.all(this.animations).then(s).catch(i)}}function getValueTransition(e,s){return e?e[s]||e.default||e:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let s=0;const i=50;let o=e.next(s);for(;!o.done&&s<maxGeneratorDuration;)s+=i,o=e.next(s);return s>=maxGeneratorDuration?1/0:s}function isGenerator(e){return typeof e=="function"}function attachTimeline(e,s){e.timeline=s,e.onfinish=null}const isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(e,s){const i=memo(e);return()=>{var o;return(o=supportsFlags[s])!==null&&o!==void 0?o:i()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(e,s,i=10)=>{let o="";const a=Math.max(Math.round(s/i),2);for(let c=0;c<a;c++)o+=e(progress(0,a-1,c))+", ";return`linear(${o.substring(0,o.length-2)})`};function isWaapiSupportedEasing(e){return!!(typeof e=="function"&&supportsLinearEasing()||!e||typeof e=="string"&&(e in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,s,i,o])=>`cubic-bezier(${e}, ${s}, ${i}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,s){if(e)return typeof e=="function"&&supportsLinearEasing()?generateLinearEasing(e,s):isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(i=>mapEasingToNativeEasing(i,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(e,s,i){var o;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const c=(o=void 0)!==null&&o!==void 0?o:a.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function setupGesture(e,s){const i=resolveElements(e),o=new AbortController,a={passive:!0,...s,signal:o.signal};return[i,a,()=>o.abort()]}function filterEvents$1(e){return s=>{s.pointerType==="touch"||isDragActive()||e(s)}}function hover(e,s,i={}){const[o,a,c]=setupGesture(e,i),d=filterEvents$1(g=>{const{target:h}=g,b=s(g);if(typeof b!="function"||!h)return;const _=filterEvents$1(j=>{b(j),h.removeEventListener("pointerleave",_)});h.addEventListener("pointerleave",_,a)});return o.forEach(g=>{g.addEventListener("pointerenter",d,a)}),c}const isNodeOrChild=(e,s)=>s?e===s?!0:isNodeOrChild(e,s.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return s=>{s.key==="Enter"&&e(s)}}function firePointerEvent(e,s){e.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,s)=>{const i=e.currentTarget;if(!i)return;const o=filterEvents(()=>{if(isPressing.has(i))return;firePointerEvent(i,"down");const a=filterEvents(()=>{firePointerEvent(i,"up")}),c=()=>firePointerEvent(i,"cancel");i.addEventListener("keyup",a,s),i.addEventListener("blur",c,s)});i.addEventListener("keydown",o,s),i.addEventListener("blur",()=>i.removeEventListener("keydown",o),s)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,s,i={}){const[o,a,c]=setupGesture(e,i),d=g=>{const h=g.currentTarget;if(!isValidPressEvent(g)||isPressing.has(h))return;isPressing.add(h);const b=s(g),_=(nt,st)=>{window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",et),!(!isValidPressEvent(nt)||!isPressing.has(h))&&(isPressing.delete(h),typeof b=="function"&&b(nt,{success:st}))},j=nt=>{_(nt,i.useGlobalTarget||isNodeOrChild(h,nt.target))},et=nt=>{_(nt,!1)};window.addEventListener("pointerup",j,a),window.addEventListener("pointercancel",et,a)};return o.forEach(g=>{!isElementKeyboardAccessible(g)&&g.getAttribute("tabindex")===null&&(g.tabIndex=0),(i.useGlobalTarget?window:g).addEventListener("pointerdown",d,a),g.addEventListener("focus",b=>enableKeyboardPress(b,a),a)}),c}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}};function addUniqueItem(e,s){e.indexOf(s)===-1&&e.push(s)}function removeItem(e,s){const i=e.indexOf(s);i>-1&&e.splice(i,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,i,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,i,o);else for(let c=0;c<a;c++){const d=this.subscriptions[c];d&&d(s,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(e,s){return s?e*(1e3/s):0}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(s,i={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{const c=time.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=i.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,i){this.events[s]||(this.events[s]=new SubscriptionManager);const o=this.events[s].add(i);return s==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,i){this.passiveEffect=s,this.stopPassiveEffect=i}set(s,i=!0){!i||!this.passiveEffect?this.updateAndNotify(s,i):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,i,o){this.set(i),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-o}jump(s,i=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(s){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=s(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,s){return new MotionValue(e,s)}function setMotionValue(e,s,i){e.hasValue(s)?e.getValue(s).set(i):e.addValue(s,motionValue(i))}function setTarget(e,s){const i=resolveVariant(e,s);let{transitionEnd:o={},transition:a={},...c}=i||{};c={...c,...o};for(const d in c){const g=resolveFinalValueInKeyframes(c[d]);setMotionValue(e,d,g)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,s){const i=e.getValue("willChange");if(isWillChangeMotionValue(i))return i.add(s)}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const calcBezier=(e,s,i)=>(((1-3*i+3*s)*e+(3*i-6*s))*e+3*s)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,s,i,o,a){let c,d,g=0;do d=s+(i-s)/2,c=calcBezier(d,o,a)-e,c>0?i=d:s=d;while(Math.abs(c)>subdivisionPrecision&&++g<subdivisionMaxIterations);return d}function cubicBezier(e,s,i,o){if(e===s&&i===o)return noop;const a=c=>binarySubdivide(c,0,1,e,i);return c=>c===0||c===1?c:calcBezier(a(c),s,o)}const mirrorEasing=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,reverseEasing=e=>s=>1-e(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,s)=>i=>!!(typeof i=="string"&&singleColorRegex.test(i)&&i.startsWith(e)||s&&!isNullish(i)&&Object.prototype.hasOwnProperty.call(i,s)),splitColor=(e,s,i)=>o=>{if(typeof o!="string")return o;const[a,c,d,g]=o.match(floatRegex);return{[e]:parseFloat(a),[s]:parseFloat(c),[i]:parseFloat(d),alpha:g!==void 0?parseFloat(g):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:s,blue:i,alpha:o=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(o))+")"};function parseHex(e){let s="",i="",o="",a="";return e.length>5?(s=e.substring(1,3),i=e.substring(3,5),o=e.substring(5,7),a=e.substring(7,9)):(s=e.substring(1,2),i=e.substring(2,3),o=e.substring(3,4),a=e.substring(4,5),s+=s,i+=i,o+=o,a+=a),{red:parseInt(s,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:i,alpha:o=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(o))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var s,i;return isNaN(e)&&typeof e=="string"&&(((s=e.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((i=e.match(colorRegex))===null||i===void 0?void 0:i.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const s=e.toString(),i=[],o={color:[],number:[],var:[]},a=[];let c=0;const g=s.replace(complexRegex,h=>(color.test(h)?(o.color.push(c),a.push(COLOR_TOKEN),i.push(color.parse(h))):h.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(c),a.push(VAR_TOKEN),i.push(h)):(o.number.push(c),a.push(NUMBER_TOKEN),i.push(parseFloat(h))),++c,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:i,split:g,indexes:o,types:a}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:s,types:i}=analyseComplexValue(e),o=s.length;return a=>{let c="";for(let d=0;d<o;d++)if(c+=s[d],a[d]!==void 0){const g=i[d];g===NUMBER_TOKEN?c+=sanitize(a[d]):g===COLOR_TOKEN?c+=color.transform(a[d]):c+=a[d]}return c}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const s=parseComplexValue(e);return createTransformer(e)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[s,i]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[o]=i.match(floatRegex)||[];if(!o)return e;const a=i.replace(o,"");let c=maxDefaults.has(s)?1:0;return o!==i&&(c*=100),s+"("+c+a+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const s=e.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,s){let i=getDefaultValueType(e);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,s,i){let o=0,a;for(;o<e.length&&!a;){const c=e[o];typeof c=="string"&&!invalidTemplates.has(c)&&analyseComplexValue(c).values.length&&(a=e[o]),o++}if(a&&i)for(const c of s)e[c]=getAnimatableNone(i,a)}const isNumOrPxType=e=>e===number||e===px,getPosFromMatrix=(e,s)=>parseFloat(e.split(", ")[s]),getTranslateFromMatrix=(e,s)=>(i,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/u);if(a)return getPosFromMatrix(a[1],s);{const c=o.match(/^matrix\((.+)\)$/u);return c?getPosFromMatrix(c[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const s=[];return nonTranslationalTransformKeys.forEach(i=>{const o=e.getValue(i);o!==void 0&&(s.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:e},{paddingLeft:s="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),height:({y:e},{paddingTop:s="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(o=>o.needsMeasurement),s=new Set(e.map(o=>o.element)),i=new Map;s.forEach(o=>{const a=removeNonTranslationalTransform(o);a.length&&(i.set(o,a),o.render())}),e.forEach(o=>o.measureInitialState()),s.forEach(o=>{o.render();const a=i.get(o);a&&a.forEach(([c,d])=>{var g;(g=o.getValue(c))===null||g===void 0||g.set(d)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,i,o,a,c,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=i,this.name=o,this.motionValue=a,this.element=c,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:i,element:o,motionValue:a}=this;for(let c=0;c<s.length;c++)if(s[c]===null)if(c===0){const d=a==null?void 0:a.get(),g=s[s.length-1];if(d!==void 0)s[0]=d;else if(o&&i){const h=o.readValue(i,g);h!=null&&(s[0]=h)}s[0]===void 0&&(s[0]=g),a&&d===void 0&&a.set(s[0])}else s[c]=s[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const s=splitCSSVariableRegex.exec(e);if(!s)return[,];const[,i,o,a]=s;return[`--${i??o}`,a]}function getVariableValue(e,s,i=1){const[o,a]=parseCSSVariable(e);if(!o)return;const c=window.getComputedStyle(s).getPropertyValue(o);if(c){const d=c.trim();return isNumericalString(d)?parseFloat(d):d}return isCSSVariableToken(a)?getVariableValue(a,s,i+1):a}const testValueType=e=>s=>s.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));class DOMKeyframesResolver extends KeyframeResolver{constructor(s,i,o,a,c){super(s,i,o,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:i,name:o}=this;if(!i||!i.current)return;super.readKeyframes();for(let h=0;h<s.length;h++){let b=s[h];if(typeof b=="string"&&(b=b.trim(),isCSSVariableToken(b))){const _=getVariableValue(b,i.current);_!==void 0&&(s[h]=_),h===s.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||s.length!==2)return;const[a,c]=s,d=findDimensionValueType(a),g=findDimensionValueType(c);if(d!==g)if(isNumOrPxType(d)&&isNumOrPxType(g))for(let h=0;h<s.length;h++){const b=s[h];typeof b=="string"&&(s[h]=parseFloat(b))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:i}=this,o=[];for(let a=0;a<s.length;a++)isNone(s[a])&&o.push(a);o.length&&makeNoneKeyframesAnimatable(s,o,i)}measureInitialState(){const{element:s,unresolvedKeyframes:i,name:o}=this;if(!s||!s.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](s.measureViewportBox(),window.getComputedStyle(s.current)),i[0]=this.measuredOrigin;const a=i[i.length-1];a!==void 0&&s.getValue(o,a).jump(a,!1)}measureEndState(){var s;const{element:i,name:o,unresolvedKeyframes:a}=this;if(!i||!i.current)return;const c=i.getValue(o);c&&c.jump(this.measuredOrigin,!1);const d=a.length-1,g=a[d];a[d]=positionalValues[o](i.measureViewportBox(),window.getComputedStyle(i.current)),g!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=g),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([h,b])=>{i.getValue(h).set(b)}),this.resolveNoneKeyframes()}}const isAnimatable=(e,s)=>s==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const s=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==s)return!0}function canAnimate(e,s,i,o){const a=e[0];if(a===null)return!1;if(s==="display"||s==="visibility")return!0;const c=e[e.length-1],d=isAnimatable(a,s),g=isAnimatable(c,s);return!d||!g?!1:hasKeyframesChanged(e)||(i==="spring"||isGenerator(i))&&o}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:s,repeatType:i="loop"},o){const a=e.filter(isNotNull),c=s&&i!=="loop"&&s%2===1?0:a.length-1;return!c||o===void 0?a[c]:o}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:i=0,type:o="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:d="loop",...g}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:i,type:o,repeat:a,repeatDelay:c,repeatType:d,...g},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,i){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:o,type:a,velocity:c,delay:d,onComplete:g,onUpdate:h,isGenerator:b}=this.options;if(!b&&!canAnimate(s,o,a,c))if(d)this.options.duration=0;else{h&&h(getFinalKeyframe(s,this.options,i)),g&&g(),this.resolveFinishedPromise();return}const _=this.initPlayback(s,i);_!==!1&&(this._resolved={keyframes:s,finalKeyframe:i,..._},this.onPostResolved())}onPostResolved(){}then(s,i){return this.currentFinishedPromise.then(s,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const mixNumber$1=(e,s,i)=>e+(s-e)*i;function hueToRgb(e,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(s-e)*6*i:i<1/2?s:i<2/3?e+(s-e)*(2/3-i)*6:e}function hslaToRgba({hue:e,saturation:s,lightness:i,alpha:o}){e/=360,s/=100,i/=100;let a=0,c=0,d=0;if(!s)a=c=d=i;else{const g=i<.5?i*(1+s):i+s-i*s,h=2*i-g;a=hueToRgb(h,g,e+1/3),c=hueToRgb(h,g,e),d=hueToRgb(h,g,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:o}}function mixImmediate(e,s){return i=>i>0?s:e}const mixLinearColor=(e,s,i)=>{const o=e*e,a=i*(s*s-o)+o;return a<0?0:Math.sqrt(a)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(s=>s.test(e));function asRGBA(e){const s=getColorType(e);if(!s)return!1;let i=s.parse(e);return s===hsla&&(i=hslaToRgba(i)),i}const mixColor=(e,s)=>{const i=asRGBA(e),o=asRGBA(s);if(!i||!o)return mixImmediate(e,s);const a={...i};return c=>(a.red=mixLinearColor(i.red,o.red,c),a.green=mixLinearColor(i.green,o.green,c),a.blue=mixLinearColor(i.blue,o.blue,c),a.alpha=mixNumber$1(i.alpha,o.alpha,c),rgba.transform(a))},combineFunctions=(e,s)=>i=>s(e(i)),pipe=(...e)=>e.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,s){return invisibleValues.has(e)?i=>i<=0?e:s:i=>i>=1?s:e}function mixNumber(e,s){return i=>mixNumber$1(e,s,i)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,s){const i=[...e],o=i.length,a=e.map((c,d)=>getMixer(c)(c,s[d]));return c=>{for(let d=0;d<o;d++)i[d]=a[d](c);return i}}function mixObject(e,s){const i={...e,...s},o={};for(const a in i)e[a]!==void 0&&s[a]!==void 0&&(o[a]=getMixer(e[a])(e[a],s[a]));return a=>{for(const c in o)i[c]=o[c](a);return i}}function matchOrder(e,s){var i;const o=[],a={color:0,var:0,number:0};for(let c=0;c<s.values.length;c++){const d=s.types[c],g=e.indexes[d][a[d]],h=(i=e.values[g])!==null&&i!==void 0?i:0;o[c]=h,a[d]++}return o}const mixComplex=(e,s)=>{const i=complex.createTransformer(s),o=analyseComplexValue(e),a=analyseComplexValue(s);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?invisibleValues.has(e)&&!a.values.length||invisibleValues.has(s)&&!o.values.length?mixVisibility(e,s):pipe(mixArray(matchOrder(o,a),a.values),i):mixImmediate(e,s)};function mix(e,s,i){return typeof e=="number"&&typeof s=="number"&&typeof i=="number"?mixNumber$1(e,s,i):getMixer(e)(e,s)}const velocitySampleDuration=5;function calcGeneratorVelocity(e,s,i){const o=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(i-e(o),s-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:s=springDefaults.bounce,velocity:i=springDefaults.velocity,mass:o=springDefaults.mass}){let a,c,d=1-s;d=clamp(springDefaults.minDamping,springDefaults.maxDamping,d),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),d<1?(a=b=>{const _=b*d,j=_*e,et=_-i,nt=calcAngularFreq(b,d),st=Math.exp(-j);return safeMin-et/nt*st},c=b=>{const j=b*d*e,et=j*i+i,nt=Math.pow(d,2)*Math.pow(b,2)*e,st=Math.exp(-j),rt=calcAngularFreq(Math.pow(b,2),d);return(-a(b)+safeMin>0?-1:1)*((et-nt)*st)/rt}):(a=b=>{const _=Math.exp(-b*e),j=(b-i)*e+1;return-safeMin+_*j},c=b=>{const _=Math.exp(-b*e),j=(i-b)*(e*e);return _*j});const g=5/e,h=approximateRoot(a,c,g);if(e=secondsToMilliseconds(e),isNaN(h))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const b=Math.pow(h,2)*o;return{stiffness:b,damping:d*2*Math.sqrt(o*b),duration:e}}}const rootIterations=12;function approximateRoot(e,s,i){let o=i;for(let a=1;a<rootIterations;a++)o=o-e(o)/s(o);return o}function calcAngularFreq(e,s){return e*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,s){return s.some(i=>e[i]!==void 0)}function getSpringOptions(e){let s={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const i=e.visualDuration,o=2*Math.PI/(i*1.2),a=o*o,c=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(a);s={...s,mass:springDefaults.mass,stiffness:a,damping:c}}else{const i=findSpring(e);s={...s,...i,mass:springDefaults.mass},s.isResolvedFromDuration=!0}return s}function spring(e=springDefaults.visualDuration,s=springDefaults.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:s}:e;let{restSpeed:o,restDelta:a}=i;const c=i.keyframes[0],d=i.keyframes[i.keyframes.length-1],g={done:!1,value:c},{stiffness:h,damping:b,mass:_,duration:j,velocity:et,isResolvedFromDuration:nt}=getSpringOptions({...i,velocity:-millisecondsToSeconds(i.velocity||0)}),st=et||0,rt=b/(2*Math.sqrt(h*_)),tt=d-c,_e=millisecondsToSeconds(Math.sqrt(h/_)),$=Math.abs(tt)<5;o||(o=$?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),a||(a=$?springDefaults.restDelta.granular:springDefaults.restDelta.default);let ot;if(rt<1){const it=calcAngularFreq(_e,rt);ot=dt=>{const ct=Math.exp(-rt*_e*dt);return d-ct*((st+rt*_e*tt)/it*Math.sin(it*dt)+tt*Math.cos(it*dt))}}else if(rt===1)ot=it=>d-Math.exp(-_e*it)*(tt+(st+_e*tt)*it);else{const it=_e*Math.sqrt(rt*rt-1);ot=dt=>{const ct=Math.exp(-rt*_e*dt),ut=Math.min(it*dt,300);return d-ct*((st+rt*_e*tt)*Math.sinh(ut)+it*tt*Math.cosh(ut))/it}}const lt={calculatedDuration:nt&&j||null,next:it=>{const dt=ot(it);if(nt)g.done=it>=j;else{let ct=0;rt<1&&(ct=it===0?secondsToMilliseconds(st):calcGeneratorVelocity(ot,it,dt));const ut=Math.abs(ct)<=o,mt=Math.abs(d-dt)<=a;g.done=ut&&mt}return g.value=g.done?d:dt,g},toString:()=>{const it=Math.min(calcGeneratorDuration(lt),maxGeneratorDuration),dt=generateLinearEasing(ct=>lt.next(it*ct).value,it,30);return it+"ms "+dt}};return lt}function inertia({keyframes:e,velocity:s=0,power:i=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:d,min:g,max:h,restDelta:b=.5,restSpeed:_}){const j=e[0],et={done:!1,value:j},nt=ut=>g!==void 0&&ut<g||h!==void 0&&ut>h,st=ut=>g===void 0?h:h===void 0||Math.abs(g-ut)<Math.abs(h-ut)?g:h;let rt=i*s;const tt=j+rt,_e=d===void 0?tt:d(tt);_e!==tt&&(rt=_e-j);const $=ut=>-rt*Math.exp(-ut/o),ot=ut=>_e+$(ut),lt=ut=>{const mt=$(ut),bt=ot(ut);et.done=Math.abs(mt)<=b,et.value=et.done?_e:bt};let it,dt;const ct=ut=>{nt(et.value)&&(it=ut,dt=spring({keyframes:[et.value,st(et.value)],velocity:calcGeneratorVelocity(ot,ut,et.value),damping:a,stiffness:c,restDelta:b,restSpeed:_}))};return ct(0),{calculatedDuration:null,next:ut=>{let mt=!1;return!dt&&it===void 0&&(mt=!0,lt(ut),ct(ut)),it!==void 0&&ut>=it?dt.next(ut-it):(!mt&&lt(ut),et)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant$1(e.length===4);const[s,i,o,a]=e;return cubicBezier(s,i,o,a)}else if(typeof e=="string")return easingLookup[e];return e};function createMixers(e,s,i){const o=[],a=i||mix,c=e.length-1;for(let d=0;d<c;d++){let g=a(e[d],e[d+1]);if(s){const h=Array.isArray(s)?s[d]||noop:s;g=pipe(h,g)}o.push(g)}return o}function interpolate(e,s,{clamp:i=!0,ease:o,mixer:a}={}){const c=e.length;if(invariant$1(c===s.length),c===1)return()=>s[0];if(c===2&&s[0]===s[1])return()=>s[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),s=[...s].reverse());const g=createMixers(s,o,a),h=g.length,b=_=>{if(d&&_<e[0])return s[0];let j=0;if(h>1)for(;j<e.length-2&&!(_<e[j+1]);j++);const et=progress(e[j],e[j+1],_);return g[j](et)};return i?_=>b(clamp(e[0],e[c-1],_)):b}function fillOffset(e,s){const i=e[e.length-1];for(let o=1;o<=s;o++){const a=progress(0,s,o);e.push(mixNumber$1(i,1,a))}}function defaultOffset(e){const s=[0];return fillOffset(s,e.length-1),s}function convertOffsetToTimes(e,s){return e.map(i=>i*s)}function defaultEasing(e,s){return e.map(()=>s||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:s,times:i,ease:o="easeInOut"}){const a=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),c={done:!1,value:s[0]},d=convertOffsetToTimes(i&&i.length===s.length?i:defaultOffset(s),e),g=interpolate(d,s,{ease:Array.isArray(a)?a:defaultEasing(s,a)});return{calculatedDuration:e,next:h=>(c.value=g(h),c.done=h>=e,c)}}const frameloopDriver=e=>{const s=({timestamp:i})=>e(i);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=e=>e/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:i,motionValue:o,element:a,keyframes:c}=this.options,d=(a==null?void 0:a.KeyframeResolver)||KeyframeResolver,g=(h,b)=>this.onKeyframesResolved(h,b);this.resolver=new d(c,g,i,o,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c,velocity:d=0}=this.options,g=isGenerator(i)?i:generators[i]||keyframes;let h,b;g!==keyframes&&typeof s[0]!="number"&&(h=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const _=g({...this.options,keyframes:s});c==="mirror"&&(b=g({...this.options,keyframes:[...s].reverse(),velocity:-d})),_.calculatedDuration===null&&(_.calculatedDuration=calcGeneratorDuration(_));const{calculatedDuration:j}=_,et=j+a,nt=et*(o+1)-a;return{generator:_,mirroredGenerator:b,mapPercentToKeyframes:h,calculatedDuration:j,resolvedDuration:et,totalDuration:nt}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,i=!1){const{resolved:o}=this;if(!o){const{keyframes:ut}=this.options;return{done:!0,value:ut[ut.length-1]}}const{finalKeyframe:a,generator:c,mirroredGenerator:d,mapPercentToKeyframes:g,keyframes:h,calculatedDuration:b,totalDuration:_,resolvedDuration:j}=o;if(this.startTime===null)return c.next(0);const{delay:et,repeat:nt,repeatType:st,repeatDelay:rt,onUpdate:tt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-_/this.speed,this.startTime)),i?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const _e=this.currentTime-et*(this.speed>=0?1:-1),$=this.speed>=0?_e<0:_e>_;this.currentTime=Math.max(_e,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let ot=this.currentTime,lt=c;if(nt){const ut=Math.min(this.currentTime,_)/j;let mt=Math.floor(ut),bt=ut%1;!bt&&ut>=1&&(bt=1),bt===1&&mt--,mt=Math.min(mt,nt+1),!!(mt%2)&&(st==="reverse"?(bt=1-bt,rt&&(bt-=rt/j)):st==="mirror"&&(lt=d)),ot=clamp(0,1,bt)*j}const it=$?{done:!1,value:h[0]}:lt.next(ot);g&&(it.value=g(it.value));let{done:dt}=it;!$&&b!==null&&(dt=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const ct=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return ct&&a!==void 0&&(it.value=getFinalKeyframe(h,this.options,a)),tt&&tt(it.value),ct&&this.finish(),it}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const i=this.playbackSpeed!==s;this.playbackSpeed=s,i&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:i,startTime:o}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),i&&i();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(e,s,i,{delay:o=0,duration:a=300,repeat:c=0,repeatType:d="loop",ease:g="easeInOut",times:h}={}){const b={[s]:i};h&&(b.offset=h);const _=mapEasingToNativeEasing(g,a);return Array.isArray(_)&&(b.easing=_),e.animate(b,{delay:o,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(e){return isGenerator(e.type)||e.type==="spring"||!isWaapiSupportedEasing(e.ease)}function pregenerateKeyframes(e,s){const i=new MainThreadAnimation({...s,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const a=[];let c=0;for(;!o.done&&c<maxDuration;)o=i.sample(c),a.push(o.value),c+=sampleDelta;return{times:void 0,keyframes:a,duration:c-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:i,motionValue:o,element:a,keyframes:c}=this.options;this.resolver=new DOMKeyframesResolver(c,(d,g)=>this.onKeyframesResolved(d,g),i,o,a),this.resolver.scheduleResolve()}initPlayback(s,i){let{duration:o=300,times:a,ease:c,type:d,motionValue:g,name:h,startTime:b}=this.options;if(!g.owner||!g.owner.current)return!1;if(typeof c=="string"&&supportsLinearEasing()&&isUnsupportedEase(c)&&(c=unsupportedEasingFunctions[c]),requiresPregeneratedKeyframes(this.options)){const{onComplete:j,onUpdate:et,motionValue:nt,element:st,...rt}=this.options,tt=pregenerateKeyframes(s,rt);s=tt.keyframes,s.length===1&&(s[1]=s[0]),o=tt.duration,a=tt.times,c=tt.ease,d="keyframes"}const _=startWaapiAnimation(g.owner.current,h,s,{...this.options,duration:o,times:a,ease:c});return _.startTime=b??this.calcStartTime(),this.pendingTimeline?(attachTimeline(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:j}=this.options;g.set(getFinalKeyframe(s,this.options,i)),j&&j(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:o,times:a,type:d,ease:c,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:i}=s;return millisecondsToSeconds(i)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:i}=s;return millisecondsToSeconds(i.currentTime||0)}set time(s){const{resolved:i}=this;if(!i)return;const{animation:o}=i;o.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:i}=s;return i.playbackRate}set speed(s){const{resolved:i}=this;if(!i)return;const{animation:o}=i;o.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:i}=s;return i.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:i}=s;return i.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:i}=this;if(!i)return noop;const{animation:o}=i;attachTimeline(o,s)}return noop}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:i,keyframes:o,duration:a,type:c,ease:d,times:g}=s;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:b,onUpdate:_,onComplete:j,element:et,...nt}=this.options,st=new MainThreadAnimation({...nt,keyframes:o,duration:a,type:c,ease:d,times:g,isGenerator:!0}),rt=secondsToMilliseconds(this.time);b.setWithVelocity(st.sample(rt-sampleDelta).value,st.sample(rt).value,sampleDelta)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:i,name:o,repeatDelay:a,repeatType:c,damping:d,type:g}=s;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:b}=i.owner.getProps();return supportsWaapi()&&o&&acceleratedValues.has(o)&&!h&&!b&&!a&&c!=="mirror"&&d!==0&&g!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:s,delayChildren:i,staggerChildren:o,staggerDirection:a,repeat:c,repeatType:d,repeatDelay:g,from:h,elapsed:b,..._}){return!!Object.keys(_).length}const animateMotionValue=(e,s,i,o={},a,c)=>d=>{const g=getValueTransition(o,e)||{},h=g.delay||o.delay||0;let{elapsed:b=0}=o;b=b-secondsToMilliseconds(h);let _={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:s.getVelocity(),...g,delay:-b,onUpdate:et=>{s.set(et),g.onUpdate&&g.onUpdate(et)},onComplete:()=>{d(),g.onComplete&&g.onComplete()},name:e,motionValue:s,element:c?void 0:a};isTransitionDefined(g)||(_={..._,...getDefaultTransition(e,_)}),_.duration&&(_.duration=secondsToMilliseconds(_.duration)),_.repeatDelay&&(_.repeatDelay=secondsToMilliseconds(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let j=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&(j=!0)),j&&!c&&s.get()!==void 0){const et=getFinalKeyframe(_.keyframes,g);if(et!==void 0)return frame.update(()=>{_.onUpdate(et),_.onComplete()}),new GroupPlaybackControls([])}return!c&&AcceleratedAnimation.supports(_)?new AcceleratedAnimation(_):new MainThreadAnimation(_)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:s},i){const o=e.hasOwnProperty(i)&&s[i]!==!0;return s[i]=!1,o}function animateTarget(e,s,{delay:i=0,transitionOverride:o,type:a}={}){var c;let{transition:d=e.getDefaultTransition(),transitionEnd:g,...h}=s;o&&(d=o);const b=[],_=a&&e.animationState&&e.animationState.getState()[a];for(const j in h){const et=e.getValue(j,(c=e.latestValues[j])!==null&&c!==void 0?c:null),nt=h[j];if(nt===void 0||_&&shouldBlockAnimation(_,j))continue;const st={delay:i,...getValueTransition(d||{},j)};let rt=!1;if(window.MotionHandoffAnimation){const _e=getOptimisedAppearId(e);if(_e){const $=window.MotionHandoffAnimation(_e,j,frame);$!==null&&(st.startTime=$,rt=!0)}}addValueToWillChange(e,j),et.start(animateMotionValue(j,et,nt,e.shouldReduceMotion&&positionalKeys.has(j)?{type:!1}:st,e,rt));const tt=et.animation;tt&&b.push(tt)}return g&&Promise.all(b).then(()=>{frame.update(()=>{g&&setTarget(e,g)})}),b}function animateVariant(e,s,i={}){var o;const a=resolveVariant(e,s,i.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(c=i.transitionOverride);const d=a?()=>Promise.all(animateTarget(e,a,i)):()=>Promise.resolve(),g=e.variantChildren&&e.variantChildren.size?(b=0)=>{const{delayChildren:_=0,staggerChildren:j,staggerDirection:et}=c;return animateChildren(e,s,_+b,j,et,i)}:()=>Promise.resolve(),{when:h}=c;if(h){const[b,_]=h==="beforeChildren"?[d,g]:[g,d];return b().then(()=>_())}else return Promise.all([d(),g(i.delay)])}function animateChildren(e,s,i=0,o=0,a=1,c){const d=[],g=(e.variantChildren.size-1)*o,h=a===1?(b=0)=>b*o:(b=0)=>g-b*o;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((b,_)=>{b.notify("AnimationStart",s),d.push(animateVariant(b,s,{...c,delay:i+h(_)}).then(()=>b.notify("AnimationComplete",s)))}),Promise.all(d)}function sortByTreeOrder(e,s){return e.sortNodePosition(s)}function animateVisualElement(e,s,i={}){e.notify("AnimationStart",s);let o;if(Array.isArray(s)){const a=s.map(c=>animateVariant(e,c,i));o=Promise.all(a)}else if(typeof s=="string")o=animateVariant(e,s,i);else{const a=typeof s=="function"?resolveVariant(e,s,i.custom):s;o=Promise.all(animateTarget(e,a,i))}return o.then(()=>{e.notify("AnimationComplete",s)})}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const s={};for(let i=0;i<numVariantProps;i++){const o=variantProps[i],a=e.props[o];(isVariantLabel(a)||a===!1)&&(s[o]=a)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return s=>Promise.all(s.map(({animation:i,options:o})=>animateVisualElement(e,i,o)))}function createAnimationState(e){let s=animateList(e),i=createState(),o=!0;const a=h=>(b,_)=>{var j;const et=resolveVariant(e,_,h==="exit"?(j=e.presenceContext)===null||j===void 0?void 0:j.custom:void 0);if(et){const{transition:nt,transitionEnd:st,...rt}=et;b={...b,...rt,...st}}return b};function c(h){s=h(e)}function d(h){const{props:b}=e,_=getVariantContext(e.parent)||{},j=[],et=new Set;let nt={},st=1/0;for(let tt=0;tt<numAnimationTypes;tt++){const _e=reversePriorityOrder[tt],$=i[_e],ot=b[_e]!==void 0?b[_e]:_[_e],lt=isVariantLabel(ot),it=_e===h?$.isActive:null;it===!1&&(st=tt);let dt=ot===_[_e]&&ot!==b[_e]&&lt;if(dt&&o&&e.manuallyAnimateOnMount&&(dt=!1),$.protectedKeys={...nt},!$.isActive&&it===null||!ot&&!$.prevProp||isAnimationControls(ot)||typeof ot=="boolean")continue;const ct=checkVariantsDidChange($.prevProp,ot);let ut=ct||_e===h&&$.isActive&&!dt&&lt||tt>st&&lt,mt=!1;const bt=Array.isArray(ot)?ot:[ot];let ft=bt.reduce(a(_e),{});it===!1&&(ft={});const{prevResolvedValues:yt={}}=$,St={...yt,...ft},Dt=kt=>{ut=!0,et.has(kt)&&(mt=!0,et.delete(kt)),$.needsAnimating[kt]=!0;const Ct=e.getValue(kt);Ct&&(Ct.liveStyle=!1)};for(const kt in St){const Ct=ft[kt],xt=yt[kt];if(nt.hasOwnProperty(kt))continue;let _t=!1;isKeyframesTarget(Ct)&&isKeyframesTarget(xt)?_t=!shallowCompare(Ct,xt):_t=Ct!==xt,_t?Ct!=null?Dt(kt):et.add(kt):Ct!==void 0&&et.has(kt)?Dt(kt):$.protectedKeys[kt]=!0}$.prevProp=ot,$.prevResolvedValues=ft,$.isActive&&(nt={...nt,...ft}),o&&e.blockInitialAnimation&&(ut=!1),ut&&(!(dt&&ct)||mt)&&j.push(...bt.map(kt=>({animation:kt,options:{type:_e}})))}if(et.size){const tt={};et.forEach(_e=>{const $=e.getBaseTarget(_e),ot=e.getValue(_e);ot&&(ot.liveStyle=!0),tt[_e]=$??null}),j.push({animation:tt})}let rt=!!j.length;return o&&(b.initial===!1||b.initial===b.animate)&&!e.manuallyAnimateOnMount&&(rt=!1),o=!1,rt?s(j):Promise.resolve()}function g(h,b){var _;if(i[h].isActive===b)return Promise.resolve();(_=e.variantChildren)===null||_===void 0||_.forEach(et=>{var nt;return(nt=et.animationState)===null||nt===void 0?void 0:nt.setActive(h,b)}),i[h].isActive=b;const j=d(h);for(const et in i)i[et].protectedKeys={};return j}return{animateChanges:d,setActive:g,setAnimateFunction:c,getState:()=>i,reset:()=>{i=createState(),o=!0}}}function checkVariantsDidChange(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!shallowCompare(s,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===o)return;const a=this.node.animationState.setActive("exit",!s);i&&!s&&a.then(()=>i(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,s,i,o={passive:!0}){return e.addEventListener(s,i,o),()=>e.removeEventListener(s,i)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>s=>isPrimaryPointer(s)&&e(s,extractEventInfo(s));function addPointerEvent(e,s,i,o){return addDomEvent(e,s,addPointerInfo(i),o)}const distance=(e,s)=>Math.abs(e-s);function distance2D(e,s){const i=distance(e.x,s.x),o=distance(e.y,s.y);return Math.sqrt(i**2+o**2)}class PanSession{constructor(s,i,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=getPanInfo(this.lastMoveEventInfo,this.history),et=this.startEvent!==null,nt=distance2D(j.offset,{x:0,y:0})>=3;if(!et&&!nt)return;const{point:st}=j,{timestamp:rt}=frameData;this.history.push({...st,timestamp:rt});const{onStart:tt,onMove:_e}=this.handlers;et||(tt&&tt(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),_e&&_e(this.lastMoveEvent,j)},this.handlePointerMove=(j,et)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=transformPoint(et,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(j,et)=>{this.end();const{onEnd:nt,onSessionEnd:st,resumeAnimation:rt}=this.handlers;if(this.dragSnapToOrigin&&rt&&rt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const tt=getPanInfo(j.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(et,this.transformPagePoint),this.history);this.startEvent&&nt&&nt(j,tt),st&&st(j,tt)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=o,this.contextWindow=a||window;const d=extractEventInfo(s),g=transformPoint(d,this.transformPagePoint),{point:h}=g,{timestamp:b}=frameData;this.history=[{...h,timestamp:b}];const{onSessionStart:_}=i;_&&_(s,getPanInfo(g,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,s){return s?{point:s(e.point)}:e}function subtractPoint(e,s){return{x:e.x-s.x,y:e.y-s.y}}function getPanInfo({point:e},s){return{point:e,delta:subtractPoint(e,lastDevicePoint(s)),offset:subtractPoint(e,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,s){if(e.length<2)return{x:0,y:0};let i=e.length-1,o=null;const a=lastDevicePoint(e);for(;i>=0&&(o=e[i],!(a.timestamp-o.timestamp>secondsToMilliseconds(s)));)i--;if(!o)return{x:0,y:0};const c=millisecondsToSeconds(a.timestamp-o.timestamp);if(c===0)return{x:0,y:0};const d={x:(a.x-o.x)/c,y:(a.y-o.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,s,i){return Math.abs(e-s)<=i}function calcAxisDelta(e,s,i,o=.5){e.origin=o,e.originPoint=mixNumber$1(s.min,s.max,e.origin),e.scale=calcLength(i)/calcLength(s),e.translate=mixNumber$1(i.min,i.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,s,i,o){calcAxisDelta(e.x,s.x,i.x,o?o.originX:void 0),calcAxisDelta(e.y,s.y,i.y,o?o.originY:void 0)}function calcRelativeAxis(e,s,i){e.min=i.min+s.min,e.max=e.min+calcLength(s)}function calcRelativeBox(e,s,i){calcRelativeAxis(e.x,s.x,i.x),calcRelativeAxis(e.y,s.y,i.y)}function calcRelativeAxisPosition(e,s,i){e.min=s.min-i.min,e.max=e.min+calcLength(s)}function calcRelativePosition(e,s,i){calcRelativeAxisPosition(e.x,s.x,i.x),calcRelativeAxisPosition(e.y,s.y,i.y)}function applyConstraints(e,{min:s,max:i},o){return s!==void 0&&e<s?e=o?mixNumber$1(s,e,o.min):Math.max(e,s):i!==void 0&&e>i&&(e=o?mixNumber$1(i,e,o.max):Math.min(e,i)),e}function calcRelativeAxisConstraints(e,s,i){return{min:s!==void 0?e.min+s:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:s,left:i,bottom:o,right:a}){return{x:calcRelativeAxisConstraints(e.x,i,a),y:calcRelativeAxisConstraints(e.y,s,o)}}function calcViewportAxisConstraints(e,s){let i=s.min-e.min,o=s.max-e.max;return s.max-s.min<e.max-e.min&&([i,o]=[o,i]),{min:i,max:o}}function calcViewportConstraints(e,s){return{x:calcViewportAxisConstraints(e.x,s.x),y:calcViewportAxisConstraints(e.y,s.y)}}function calcOrigin(e,s){let i=.5;const o=calcLength(e),a=calcLength(s);return a>o?i=progress(s.min,s.max-o,e.min):o>a&&(i=progress(e.min,e.max-a,s.min)),clamp(0,1,i)}function rebaseAxisConstraints(e,s){const i={};return s.min!==void 0&&(i.min=s.min-e.min),s.max!==void 0&&(i.max=s.max-e.min),i}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,s,i){return{min:resolvePointElastic(e,s),max:resolvePointElastic(e,i)}}function resolvePointElastic(e,s){return typeof e=="number"?e:e[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:s,right:i,bottom:o}){return{x:{min:s,max:i},y:{min:e,max:o}}}function convertBoxToBoundingBox({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function transformBoxPoints(e,s){if(!s)return e;const i=s({x:e.left,y:e.top}),o=s({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:s,scaleY:i}){return!isIdentityScale(e)||!isIdentityScale(s)||!isIdentityScale(i)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,s,i){const o=e-i,a=s*o;return i+a}function applyPointDelta(e,s,i,o,a){return a!==void 0&&(e=scalePoint(e,a,o)),scalePoint(e,i,o)+s}function applyAxisDelta(e,s=0,i=1,o,a){e.min=applyPointDelta(e.min,s,i,o,a),e.max=applyPointDelta(e.max,s,i,o,a)}function applyBoxDelta(e,{x:s,y:i}){applyAxisDelta(e.x,s.translate,s.scale,s.originPoint),applyAxisDelta(e.y,i.translate,i.scale,i.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,s,i,o=!1){const a=i.length;if(!a)return;s.x=s.y=1;let c,d;for(let g=0;g<a;g++){c=i[g],d=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(s.x*=d.x.scale,s.y*=d.y.scale,applyBoxDelta(e,d)),o&&hasTransform(c.latestValues)&&transformBox(e,c.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(e,s){e.min=e.min+s,e.max=e.max+s}function transformAxis(e,s,i,o,a=.5){const c=mixNumber$1(e.min,e.max,a);applyAxisDelta(e,s,i,c,o)}function transformBox(e,s){transformAxis(e.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(e.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(e,s){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),s))}function measurePageBox(e,s,i){const o=measureViewportBox(e,i),{scroll:a}=s;return a&&(translateAxis(o.x,a.offset.x),translateAxis(o.y,a.offset.y)),o}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:i=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(_).point)},c=(_,j)=>{const{drag:et,dragPropagation:nt,onDragStart:st}=this.getProps();if(et&&!nt&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(et),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(tt=>{let _e=this.getAxisMotionValue(tt).get()||0;if(percent.test(_e)){const{projection:$}=this.visualElement;if($&&$.layout){const ot=$.layout.layoutBox[tt];ot&&(_e=calcLength(ot)*(parseFloat(_e)/100))}}this.originPoint[tt]=_e}),st&&frame.postRender(()=>st(_,j)),addValueToWillChange(this.visualElement,"transform");const{animationState:rt}=this.visualElement;rt&&rt.setActive("whileDrag",!0)},d=(_,j)=>{const{dragPropagation:et,dragDirectionLock:nt,onDirectionLock:st,onDrag:rt}=this.getProps();if(!et&&!this.openDragLock)return;const{offset:tt}=j;if(nt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(tt),this.currentDirection!==null&&st&&st(this.currentDirection);return}this.updateAxis("x",j.point,tt),this.updateAxis("y",j.point,tt),this.visualElement.render(),rt&&rt(_,j)},g=(_,j)=>this.stop(_,j),h=()=>eachAxis(_=>{var j;return this.getAnimationState(_)==="paused"&&((j=this.getAxisMotionValue(_).animation)===null||j===void 0?void 0:j.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:g,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,contextWindow:getContextWindow(this.visualElement)})}stop(s,i){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,o){const{drag:a}=this.getProps();if(!o||!shouldDrag(s,a,this.currentDirection))return;const c=this.getAxisMotionValue(s);let d=this.originPoint[s]+o[s];this.constraints&&this.constraints[s]&&(d=applyConstraints(d,this.constraints[s],this.elastic[s])),c.set(d)}resolveConstraints(){var s;const{dragConstraints:i,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,c=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&a?this.constraints=calcRelativeConstraints(a.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(o),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=rebaseAxisConstraints(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!isRefObject(s))return!1;const o=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=measurePageBox(o,a.root,this.visualElement.getTransformPagePoint());let d=calcViewportConstraints(a.layout.layoutBox,c);if(i){const g=i(convertBoxToBoundingBox(d));this.hasMutatedConstraints=!!g,g&&(d=convertBoundingBoxToBox(g))}return d}startAnimation(s){const{drag:i,dragMomentum:o,dragElastic:a,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{},b=eachAxis(_=>{if(!shouldDrag(_,i,this.currentDirection))return;let j=h&&h[_]||{};d&&(j={min:0,max:0});const et=a?200:1e6,nt=a?40:1e7,st={type:"inertia",velocity:o?s[_]:0,bounceStiffness:et,bounceDamping:nt,timeConstant:750,restDelta:1,restSpeed:10,...c,...j};return this.startAxisValueAnimation(_,st)});return Promise.all(b).then(g)}startAxisValueAnimation(s,i){const o=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),o.start(animateMotionValue(s,o,0,i,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(s){var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(s){const i=`_drag${s.toUpperCase()}`,o=this.visualElement.getProps(),a=o[i];return a||this.visualElement.getValue(s,(o.initial?o.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(i=>{const{drag:o}=this.getProps();if(!shouldDrag(i,o,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(i);if(a&&a.layout){const{min:d,max:g}=a.layout.layoutBox[i];c.set(s[i]-mixNumber$1(d,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(i)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};eachAxis(d=>{const g=this.getAxisMotionValue(d);if(g&&this.constraints!==!1){const h=g.get();a[d]=calcOrigin({min:h,max:h},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(d=>{if(!shouldDrag(d,s,null))return;const g=this.getAxisMotionValue(d),{min:h,max:b}=this.constraints[d];g.set(mixNumber$1(h,b,a[d]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,i=addPointerEvent(s,"pointerdown",h=>{const{drag:b,dragListener:_=!0}=this.getProps();b&&_&&this.start(h)}),o=()=>{const{dragConstraints:h}=this.getProps();isRefObject(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),frame.read(o);const d=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),g=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:b})=>{this.isDragging&&b&&(eachAxis(_=>{const j=this.getAxisMotionValue(_);j&&(this.originPoint[_]+=h[_].translate,j.set(j.get()+h[_].translate))}),this.visualElement.render())});return()=>{d(),i(),c(),g&&g()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:d=defaultElastic,dragMomentum:g=!0}=s;return{...s,drag:i,dragDirectionLock:o,dragPropagation:a,dragConstraints:c,dragElastic:d,dragMomentum:g}}}function shouldDrag(e,s,i){return(s===!0||s===e)&&(i===null||i===e)}function getCurrentDirection(e,s=10){let i=null;return Math.abs(e.y)>s?i="y":Math.abs(e.x)>s&&(i="x"),i}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(s,i)=>{e&&frame.postRender(()=>e(s,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(i),onMove:o,onEnd:(c,d)=>{delete this.session,a&&frame.postRender(()=>a(c,d))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const correctBorderRadius={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const i=pixelsToPercent(e,s.target.x),o=pixelsToPercent(e,s.target.y);return`${i}% ${o}%`}},correctBoxShadow={correct:(e,{treeScale:s,projectionDelta:i})=>{const o=e,a=complex.parse(e);if(a.length>5)return o;const c=complex.createTransformer(e),d=typeof a[0]!="number"?1:0,g=i.x.scale*s.x,h=i.y.scale*s.y;a[0+d]/=g,a[1+d]/=h;const b=mixNumber$1(g,h,.5);return typeof a[2+d]=="number"&&(a[2+d]/=b),typeof a[3+d]=="number"&&(a[3+d]/=b),c(a)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:o,layoutId:a}=this.props,{projection:c}=s;addScaleCorrector(defaultScaleCorrectors),c&&(i.group&&i.group.add(c),o&&o.register&&a&&o.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:o,drag:a,isPresent:c}=this.props,d=o.projection;return d&&(d.isPresent=c,a||s.layoutDependency!==i||i===void 0?d.willUpdate():this.safeToRemove(),s.isPresent!==c&&(c?d.promote():d.relegate()||frame.postRender(()=>{const g=d.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:a}=s;a&&(a.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(e){const[s,i]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:i})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,s,i){const o=isMotionValue(e)?e:motionValue(e);return o.start(animateMotionValue("",o,s,i)),o.animation}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}const compareByDepth=(e,s)=>e.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(e,s){const i=time.now(),o=({timestamp:a})=>{const c=a-i;c>=s&&(cancelFrame(o),e(c-s))};return frame.read(o,!0),()=>cancelFrame(o)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,s,i,o,a,c){a?(e.opacity=mixNumber$1(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn(o)),e.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(o))):c&&(e.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,i.opacity!==void 0?i.opacity:1,o));for(let d=0;d<numBorders;d++){const g=`border${borders[d]}Radius`;let h=getRadius(s,g),b=getRadius(i,g);if(h===void 0&&b===void 0)continue;h||(h=0),b||(b=0),h===0||b===0||isPx(h)===isPx(b)?(e[g]=Math.max(mixNumber$1(asNumber(h),asNumber(b),o),0),(percent.test(b)||percent.test(h))&&(e[g]+="%")):e[g]=b}(s.rotate||i.rotate)&&(e.rotate=mixNumber$1(s.rotate||0,i.rotate||0,o))}function getRadius(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(e,s,i){return o=>o<e?0:o>s?1:i(progress(e,s,o))}function copyAxisInto(e,s){e.min=s.min,e.max=s.max}function copyBoxInto(e,s){copyAxisInto(e.x,s.x),copyAxisInto(e.y,s.y)}function copyAxisDeltaInto(e,s){e.translate=s.translate,e.scale=s.scale,e.originPoint=s.originPoint,e.origin=s.origin}function removePointDelta(e,s,i,o,a){return e-=s,e=scalePoint(e,1/i,o),a!==void 0&&(e=scalePoint(e,1/a,o)),e}function removeAxisDelta(e,s=0,i=1,o=.5,a,c=e,d=e){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(d.min,d.max,s/100)-d.min),typeof s!="number")return;let g=mixNumber$1(c.min,c.max,o);e===c&&(g-=s),e.min=removePointDelta(e.min,s,i,g,a),e.max=removePointDelta(e.max,s,i,g,a)}function removeAxisTransforms(e,s,[i,o,a],c,d){removeAxisDelta(e,s[i],s[o],s[a],s.scale,c,d)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,s,i,o){removeAxisTransforms(e.x,s,xKeys,i?i.x:void 0,o?o.x:void 0),removeAxisTransforms(e.y,s,yKeys,i?i.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,s){return e.min===s.min&&e.max===s.max}function boxEquals(e,s){return axisEquals(e.x,s.x)&&axisEquals(e.y,s.y)}function axisEqualsRounded(e,s){return Math.round(e.min)===Math.round(s.min)&&Math.round(e.max)===Math.round(s.max)}function boxEqualsRounded(e,s){return axisEqualsRounded(e.x,s.x)&&axisEqualsRounded(e.y,s.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,s){return e.translate===s.translate&&e.scale===s.scale&&e.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(a=>s===a);if(i===0)return!1;let o;for(let a=i;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){o=c;break}}return o?(this.promote(o),!0):!1}promote(s,i){const o=this.lead;if(s!==o&&(this.prevLead=o,this.lead=s,s.show(),o)){o.instance&&o.scheduleRender(),s.scheduleRender(),s.resumeFrom=o,i&&(s.resumeFrom.preserveOpacity=!0),o.snapshot&&(s.snapshot=o.snapshot,s.snapshot.latestValues=o.animationValues||o.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:o}=s;i.onExitComplete&&i.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,s,i){let o="";const a=e.x.translate/s.x,c=e.y.translate/s.y,d=(i==null?void 0:i.z)||0;if((a||c||d)&&(o=`translate3d(${a}px, ${c}px, ${d}px) `),(s.x!==1||s.y!==1)&&(o+=`scale(${1/s.x}, ${1/s.y}) `),i){const{transformPerspective:b,rotate:_,rotateX:j,rotateY:et,skewX:nt,skewY:st}=i;b&&(o=`perspective(${b}px) ${o}`),_&&(o+=`rotate(${_}deg) `),j&&(o+=`rotateX(${j}deg) `),et&&(o+=`rotateY(${et}deg) `),nt&&(o+=`skewX(${nt}deg) `),st&&(o+=`skewY(${st}deg) `)}const g=e.x.scale*s.x,h=e.y.scale*s.y;return(g!==1||h!==1)&&(o+=`scale(${g}, ${h})`),o||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(e,s,i,o){const{latestValues:a}=s;a[e]&&(i[e]=a[e],s.setStaticValue(e,0),o&&(o[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:s}=e.options;if(!s)return;const i=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",frame,!(a||c))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:e,defaultParent:s,measureScroll:i,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(d={},g=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(d,g){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new SubscriptionManager),this.eventHandlers.get(d).add(g)}notifyListeners(d,...g){const h=this.eventHandlers.get(d);h&&h.notify(...g)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(d),this.instance=d;const{layoutId:h,layout:b,visualElement:_}=this.options;if(_&&!_.current&&_.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(b||h)&&(this.isLayoutDirty=!0),e){let j;const et=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,j&&j(),j=delay(et,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&_&&(h||b)&&this.addEventListener("didUpdate",({delta:j,hasLayoutChanged:et,hasRelativeTargetChanged:nt,layout:st})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const rt=this.options.transition||_.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:tt,onLayoutAnimationComplete:_e}=_.getProps(),$=!this.targetLayout||!boxEqualsRounded(this.targetLayout,st)||nt,ot=!et&&nt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ot||et&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(j,ot);const lt={...getValueTransition(rt,"layout"),onPlay:tt,onComplete:_e};(_.shouldReduceMotion||this.options.layoutRoot)&&(lt.delay=0,lt.type=!1),this.startAnimation(lt)}else et||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=st})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const j=this.path[_];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:g,layout:h}=this.options;if(g===void 0&&!h)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const g=time.now();frameData.delta=clamp(0,1e3/60,g-frameData.timestamp),frameData.timestamp=g,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(g=!1),g){const h=o(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:h,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!isDeltaZero(this.projectionDelta),h=this.getTransformTemplate(),b=h?h(this.latestValues,""):void 0,_=b!==this.prevTransformTemplateValue;d&&(g||hasTransform(this.latestValues)||_)&&(a(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const g=this.measurePageBox();let h=this.removeElementScroll(g);return d&&(h=this.removeTransform(h)),roundBox(h),{animationId:this.root.animationId,measuredBox:g,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:g}=this.options;if(!g)return createBox();const h=g.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:_}=this.root;_&&(translateAxis(h.x,_.offset.x),translateAxis(h.y,_.offset.y))}return h}removeElementScroll(d){var g;const h=createBox();if(copyBoxInto(h,d),!((g=this.scroll)===null||g===void 0)&&g.wasRoot)return h;for(let b=0;b<this.path.length;b++){const _=this.path[b],{scroll:j,options:et}=_;_!==this.root&&j&&et.layoutScroll&&(j.wasRoot&&copyBoxInto(h,d),translateAxis(h.x,j.offset.x),translateAxis(h.y,j.offset.y))}return h}applyTransform(d,g=!1){const h=createBox();copyBoxInto(h,d);for(let b=0;b<this.path.length;b++){const _=this.path[b];!g&&_.options.layoutScroll&&_.scroll&&_!==_.root&&transformBox(h,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),hasTransform(_.latestValues)&&transformBox(h,_.latestValues)}return hasTransform(this.latestValues)&&transformBox(h,this.latestValues),h}removeTransform(d){const g=createBox();copyBoxInto(g,d);for(let h=0;h<this.path.length;h++){const b=this.path[h];if(!b.instance||!hasTransform(b.latestValues))continue;hasScale(b.latestValues)&&b.updateSnapshot();const _=createBox(),j=b.measurePageBox();copyBoxInto(_,j),removeBoxTransforms(g,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,_)}return hasTransform(this.latestValues)&&removeBoxTransforms(g,this.latestValues),g}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==h;if(!(d||b&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:j,layoutId:et}=this.options;if(!(!this.layout||!(j||et))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const nt=this.getClosestProjectingParent();nt&&nt.layout&&this.animationProgress!==1?(this.relativeParent=nt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,nt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const nt=this.getClosestProjectingParent();nt&&!!nt.resumingFrom==!!this.resumingFrom&&!nt.options.layoutScroll&&nt.target&&this.animationProgress!==1?(this.relativeParent=nt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,nt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const g=this.getLead(),h=!!this.resumingFrom||this!==g;let b=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(b=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(b=!1),b)return;const{layout:_,layoutId:j}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||j))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const et=this.treeScale.x,nt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,h),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox,g.targetWithTransforms=createBox());const{target:st}=g;if(!st){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,st,this.latestValues),(this.treeScale.x!==et||this.treeScale.y!==nt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",st)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var g;if((g=this.options.visualElement)===null||g===void 0||g.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(d,g=!1){const h=this.snapshot,b=h?h.latestValues:{},_={...this.latestValues},j=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const et=createBox(),nt=h?h.source:void 0,st=this.layout?this.layout.source:void 0,rt=nt!==st,tt=this.getStack(),_e=!tt||tt.members.length<=1,$=!!(rt&&!_e&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ot;this.mixTargetDelta=lt=>{const it=lt/1e3;mixAxisDelta(j.x,d.x,it),mixAxisDelta(j.y,d.y,it),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(et,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,et,it),ot&&boxEquals(this.relativeTarget,ot)&&(this.isProjectionDirty=!1),ot||(ot=createBox()),copyBoxInto(ot,this.relativeTarget)),rt&&(this.animationValues=_,mixValues(_,b,this.latestValues,it,$,_e)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...d,onUpdate:g=>{this.mixTargetDelta(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:g,target:h,layout:b,latestValues:_}=d;if(!(!g||!h||!b)){if(this!==d&&this.layout&&b&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,b.layoutBox)){h=this.target||createBox();const j=calcLength(this.layout.layoutBox.x);h.x.min=d.target.x.min,h.x.max=h.x.min+j;const et=calcLength(this.layout.layoutBox.y);h.y.min=d.target.y.min,h.y.max=h.y.min+et}copyBoxInto(g,h),transformBox(g,_),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,g,_)}}registerSharedNode(d,g){this.sharedNodes.has(d)||this.sharedNodes.set(d,new NodeStack),this.sharedNodes.get(d).add(g);const b=g.options.initialPromotionConfig;g.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(g):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:g}=this.options;return g?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:g}=this.options;return g?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:g,preserveFollowOpacity:h}={}){const b=this.getStack();b&&b.promote(this,h),d&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let g=!1;const{latestValues:h}=d;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(g=!0),!g)return;const b={};h.z&&resetDistortingTransform("z",d,b,this.animationValues);for(let _=0;_<transformAxes.length;_++)resetDistortingTransform(`rotate${transformAxes[_]}`,d,b,this.animationValues),resetDistortingTransform(`skew${transformAxes[_]}`,d,b,this.animationValues);d.render();for(const _ in b)d.setStaticValue(_,b[_]),this.animationValues&&(this.animationValues[_]=b[_]);d.scheduleRender()}getProjectionStyles(d){var g,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const b={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||"",b.transform=_?_(this.latestValues,""):"none",b;const j=this.getLead();if(!this.projectionDelta||!this.layout||!j.target){const rt={};return this.options.layoutId&&(rt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,rt.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(rt.transform=_?_({},""):"none",this.hasProjected=!1),rt}const et=j.animationValues||j.latestValues;this.applyTransformsToTarget(),b.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,et),_&&(b.transform=_(et,b.transform));const{x:nt,y:st}=this.projectionDelta;b.transformOrigin=`${nt.origin*100}% ${st.origin*100}% 0`,j.animationValues?b.opacity=j===this?(h=(g=et.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:et.opacityExit:b.opacity=j===this?et.opacity!==void 0?et.opacity:"":et.opacityExit!==void 0?et.opacityExit:0;for(const rt in scaleCorrectors){if(et[rt]===void 0)continue;const{correct:tt,applyTo:_e}=scaleCorrectors[rt],$=b.transform==="none"?et[rt]:tt(et[rt],j);if(_e){const ot=_e.length;for(let lt=0;lt<ot;lt++)b[_e[lt]]=$}else b[rt]=$}return this.options.layoutId&&(b.pointerEvents=j===this?resolveMotionValue(d==null?void 0:d.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var g;return(g=d.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var s;const i=((s=e.resumeFrom)===null||s===void 0?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=e.layout,{animationType:c}=e.options,d=i.source!==e.layout.source;c==="size"?eachAxis(j=>{const et=d?i.measuredBox[j]:i.layoutBox[j],nt=calcLength(et);et.min=o[j].min,et.max=et.min+nt}):shouldAnimatePositionOnly(c,i.layoutBox,o)&&eachAxis(j=>{const et=d?i.measuredBox[j]:i.layoutBox[j],nt=calcLength(o[j]);et.max=et.min+nt,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[j].max=e.relativeTarget[j].min+nt)});const g=createDelta();calcBoxDelta(g,o,i.layoutBox);const h=createDelta();d?calcBoxDelta(h,e.applyTransform(a,!0),i.measuredBox):calcBoxDelta(h,o,i.layoutBox);const b=!isDeltaZero(g);let _=!1;if(!e.resumeFrom){const j=e.getClosestProjectingParent();if(j&&!j.resumeFrom){const{snapshot:et,layout:nt}=j;if(et&&nt){const st=createBox();calcRelativePosition(st,i.layoutBox,et.layoutBox);const rt=createBox();calcRelativePosition(rt,o,nt.layoutBox),boxEqualsRounded(st,rt)||(_=!0),j.options.layoutRoot&&(e.relativeTarget=rt,e.relativeTargetOrigin=st,e.relativeParent=j)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:h,layoutDelta:g,hasLayoutChanged:b,hasRelativeTargetChanged:_})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function propagateDirtyNodes(e){isDebug&&metrics.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,s,i){e.translate=mixNumber$1(s.translate,0,i),e.scale=mixNumber$1(s.scale,1,i),e.origin=s.origin,e.originPoint=s.originPoint}function mixAxis(e,s,i,o){e.min=mixNumber$1(s.min,i.min,o),e.max=mixNumber$1(s.max,i.max,o)}function mixBox(e,s,i,o){mixAxis(e.x,s.x,i.x,o),mixAxis(e.y,s.y,i.y,o)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,s,i){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(i),.2)}function checkNodeWasScrollRoot(e){var s;return e!==e.root&&((s=e.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,s)=>addDomEvent(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,s,i){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",i==="Start");const a="onHover"+i,c=o[a];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class HoverGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=hover(s,i=>(handleHoverEvent(this.node,i,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,s,i){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",i==="Start");const a="onTap"+(i==="End"?"":i),c=o[a];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class PressGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=press(s,i=>(handlePressEvent(this.node,i,"Start"),(o,{success:a})=>handlePressEvent(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const s=observerCallbacks.get(e.target);s&&s(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...s}){const i=e||document;observers.has(i)||observers.set(i,{});const o=observers.get(i),a=JSON.stringify(s);return o[a]||(o[a]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...s})),o[a]}function observeIntersection(e,s,i){const o=initIntersectionObserver(s);return observerCallbacks.set(e,i),o.observe(e),()=>{observerCallbacks.delete(e),o.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:o,amount:a="some",once:c}=s,d={root:i?i.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:thresholdNames[a]},g=h=>{const{isIntersecting:b}=h;if(this.isInView===b||(this.isInView=b,c&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:_,onViewportLeave:j}=this.node.getProps(),et=b?_:j;et&&et(h)};return observeIntersection(this.node.current,d,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:s={}}={}){return i=>e[i]!==s[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=e.matches;e.addListener(s),s()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,s,i){for(const o in s){const a=s[o],c=i[o];if(isMotionValue(a))e.addValue(o,a);else if(isMotionValue(c))e.addValue(o,motionValue(a,{owner:e}));else if(c!==a)if(e.hasValue(o)){const d=e.getValue(o);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=e.getStaticValue(o);e.addValue(o,motionValue(d!==void 0?d:a,{owner:e}))}}for(const o in i)s[o]===void 0&&e.removeValue(o);return s}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,i,o){return{}}constructor({parent:s,props:i,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:c,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const nt=time.now();this.renderScheduledAt<nt&&(this.renderScheduledAt=nt,frame.render(this.render,!1,!0))};const{latestValues:h,renderState:b,onUpdate:_}=d;this.onUpdate=_,this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=b,this.parent=s,this.props=i,this.presenceContext=o,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=g,this.blockInitialAnimation=!!c,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:j,...et}=this.scrapeMotionValuesFromProps(i,{},this);for(const nt in et){const st=et[nt];h[nt]!==void 0&&isMotionValue(st)&&st.set(h[nt],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(s,i){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const o=transformProps.has(s),a=i.on("change",g=>{this.latestValues[s]=g,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,s,i)),this.valueSubscriptions.set(s,()=>{a(),c(),d&&d(),i.owner&&i.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const i=featureDefinitions[s];if(!i)continue;const{isEnabled:o,Feature:a}=i;if(!this.features[s]&&a&&o(this.props)&&(this.features[s]=new a(this)),this.features[s]){const c=this.features[s];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,i){this.latestValues[s]=i}update(s,i){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let o=0;o<propEventHandlers.length;o++){const a=propEventHandlers[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,d=s[c];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(s),()=>i.variantChildren.delete(s)}addValue(s,i){const o=this.values.get(s);i!==o&&(o&&this.removeValue(s),this.bindToMotionValue(s,i),this.values.set(s,i),this.latestValues[s]=i.get())}removeValue(s){this.values.delete(s);const i=this.valueSubscriptions.get(s);i&&(i(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,i){if(this.props.values&&this.props.values[s])return this.props.values[s];let o=this.values.get(s);return o===void 0&&i!==void 0&&(o=motionValue(i===null?void 0:i,{owner:this}),this.addValue(s,o)),o}readValue(s,i){var o;let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(o=this.getBaseTargetFromProps(this.props,s))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(isNumericalString(a)||isZeroValueString(a))?a=parseFloat(a):!findValueType(a)&&complex.test(i)&&(a=getAnimatableNone(s,i)),this.setBaseTarget(s,isMotionValue(a)?a.get():a)),isMotionValue(a)?a.get():a}setBaseTarget(s,i){this.baseTarget[s]=i}getBaseTarget(s){var i;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const d=resolveVariantFromProps(this.props,o,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);d&&(a=d[s])}if(o&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,s);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,i){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(i)}notify(s,...i){this.events[s]&&this.events[s].notify(...i)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,i){return s.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(s,i){return s.style?s.style[i]:void 0}removeValueFromRenderState(s,{vars:i,style:o}){delete i[s],delete o[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,i){if(transformProps.has(i)){const o=getDefaultValueType(i);return o&&o.default||0}else{const o=getComputedStyle$1(s),a=(isCSSVariableName(i)?o.getPropertyValue(i):o[i])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(s,{transformPagePoint:i}){return measureViewportBox(s,i)}build(s,i,o){buildHTMLStyles(s,i,o.transformTemplate)}scrapeMotionValuesFromProps(s,i,o){return scrapeMotionValuesFromProps$1(s,i,o)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,i){return s[i]}readValueFromInstance(s,i){if(transformProps.has(i)){const o=getDefaultValueType(i);return o&&o.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),s.getAttribute(i)}scrapeMotionValuesFromProps(s,i,o){return scrapeMotionValuesFromProps(s,i,o)}build(s,i,o){buildSVGAttrs(s,i,this.isSVGTag,o.transformTemplate)}renderInstance(s,i,o,a){renderSVG(s,i,o,a)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(e,s)=>isSVGComponent(e)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:e!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function Sidebar({collapsed:e,onToggle:s}){var g,h;const i=useLocation(),{user:o,signOut:a}=useAuthStore(),c=[{icon:FileText,label:"Documents",path:"/documents"},{icon:BookOpen,label:"Learning",path:"/learn"},{icon:MessageSquare,label:"AI Chat",path:"/chat"},{icon:Settings,label:"Settings",path:"/settings"}],d=b=>i.pathname.startsWith(b);return jsxRuntimeExports.jsxs(motion.aside,{initial:!1,animate:{width:e?64:240},transition:{duration:.2,ease:"easeInOut"},className:"h-screen bg-bg-secondary border-r border-border flex flex-col fixed left-0 top-0 z-40",children:[jsxRuntimeExports.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-border",children:[jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-text-primary",children:"Doc2Learn"})]})}),jsxRuntimeExports.jsx("button",{onClick:s,className:"w-8 h-8 rounded-lg hover:bg-bg-tertiary flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",children:e?jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"p-3",children:jsxRuntimeExports.jsxs(Link,{to:"/documents",className:`flex items-center gap-3 px-3 py-2 rounded-lg bg-accent text-white hover:bg-accent-hover transition-colors ${e?"justify-center":""}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:"New Document"})})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-3 py-2 space-y-1 overflow-y-auto scrollbar-thin",children:c.map(b=>{const _=b.icon,j=d(b.path);return jsxRuntimeExports.jsxs(Link,{to:b.path,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${e?"justify-center":""} ${j?"bg-accent-light text-accent":"text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,title:e?b.label:void 0,children:[jsxRuntimeExports.jsx(_,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:b.label})})]},b.path)})}),jsxRuntimeExports.jsx("div",{className:"px-3 py-2 border-t border-border",children:jsxRuntimeExports.jsxs(Link,{to:"/chat",className:`flex items-center gap-3 px-3 py-2 rounded-lg bg-gradient-to-r from-accent to-purple-600 text-white hover:opacity-90 transition-opacity ${e?"justify-center":""}`,title:e?"AI Assistant":void 0,children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:"AI Assistant"})})]})}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-border",children:jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-3 ${e?"justify-center":""}`,children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:((g=o==null?void 0:o.email)==null?void 0:g.charAt(0).toUpperCase())||"U"})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:((h=o==null?void 0:o.email)==null?void 0:h.split("@")[0])||"User"}),jsxRuntimeExports.jsxs("button",{onClick:a,className:"text-xs text-text-muted hover:text-error flex items-center gap-1 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-3 h-3"}),"Sign out"]})]})})]})})]})}function TopBar({onSearch:e}){const[s,i]=reactExports.useState(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1),o=()=>{const a=!s;i(a),document.documentElement.classList.toggle("dark",a),localStorage.setItem("theme",a?"dark":"light")};return jsxRuntimeExports.jsx("header",{className:"h-16 bg-bg-secondary/80 backdrop-blur-lg border-b border-border sticky top-0 z-30",children:jsxRuntimeExports.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-4 py-2 bg-bg-tertiary hover:bg-bg-hover rounded-lg text-text-muted hover:text-text-primary transition-colors w-64 group",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Search documents..."}),jsxRuntimeExports.jsxs("kbd",{className:"hidden sm:flex items-center gap-1 ml-auto text-xs text-text-muted bg-bg-secondary px-1.5 py-0.5 rounded",children:[jsxRuntimeExports.jsx(Command,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"K"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("button",{onClick:o,className:"w-9 h-9 rounded-lg hover:bg-bg-tertiary flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",title:s?"Switch to light mode":"Switch to dark mode",children:jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{rotate:s?180:0},transition:{duration:.3},children:s?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"})})})})]})})}function AppShell(){const[e,s]=reactExports.useState(()=>typeof window<"u"?window.innerWidth<1024:!1);return reactExports.useEffect(()=>{const i=()=>{window.innerWidth<768&&s(!0)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),reactExports.useEffect(()=>{const i=localStorage.getItem("theme");(i==="dark"||i===null&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-bg-primary",children:[jsxRuntimeExports.jsx(Sidebar,{collapsed:e,onToggle:()=>s(!e)}),jsxRuntimeExports.jsxs(motion.div,{initial:!1,animate:{marginLeft:e?64:240},transition:{duration:.2,ease:"easeInOut"},className:"min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx(TopBar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:jsxRuntimeExports.jsx(Outlet,{})})})]})]})}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$3[" use ".trim().toString()];function isPromiseLike(e){return typeof e=="object"&&e!==null&&"then"in e}function isLazyComponent(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===REACT_LAZY_TYPE&&"_payload"in e&&isPromiseLike(e._payload)}function createSlot(e){const s=createSlotClone(e),i=reactExports.forwardRef((o,a)=>{let{children:c,...d}=o;isLazyComponent(c)&&typeof use=="function"&&(c=use(c._payload));const g=reactExports.Children.toArray(c),h=g.find(isSlottable);if(h){const b=h.props.children,_=g.map(j=>j===h?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:j);return jsxRuntimeExports.jsx(s,{...d,ref:a,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,_):null})}return jsxRuntimeExports.jsx(s,{...d,ref:a,children:c})});return i.displayName=`${e}.Slot`,i}var Slot=createSlot("Slot");function createSlotClone(e){const s=reactExports.forwardRef((i,o)=>{let{children:a,...c}=i;if(isLazyComponent(a)&&typeof use=="function"&&(a=use(a._payload)),reactExports.isValidElement(a)){const d=getElementRef(a),g=mergeProps(c,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,d):d),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,s){const i={...s};for(const o in s){const a=e[o],c=s[o];/^on[A-Z]/.test(o)?a&&c?i[o]=(...g)=>{const h=c(...g);return a(...g),h}:a&&(i[o]=a):o==="style"?i[o]={...a,...c}:o==="className"&&(i[o]=[a,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef(e){var o,a;let s=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:s,size:i,asChild:o=!1,...a},c)=>{const d=o?Slot:"button";return jsxRuntimeExports.jsx(d,{className:cn(buttonVariants({variant:s,size:i,className:e})),ref:c,...a})});Button.displayName="Button";const Input=reactExports.forwardRef(({className:e,type:s,...i},o)=>jsxRuntimeExports.jsx("input",{type:s,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...i}));Input.displayName="Input";var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((e,s)=>{const i=createSlot(`Primitive.${s}`),o=reactExports.forwardRef((a,c)=>{const{asChild:d,...g}=a,h=d?i:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(h,{...g,ref:c})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{}),NAME="Label",Label$1=reactExports.forwardRef((e,s)=>jsxRuntimeExports.jsx(Primitive.label,{...e,ref:s,onMouseDown:i=>{var a;i.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));Label$1.displayName=NAME;var Root=Label$1;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx(Root,{ref:i,className:cn(labelVariants(),e),...s}));Label.displayName=Root.displayName;const Card=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex flex-col space-y-1.5 p-6",e),...s}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("h3",{ref:i,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...s}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("p",{ref:i,className:cn("text-sm text-muted-foreground",e),...s}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("p-6 pt-0",e),...s}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex items-center p-6 pt-0",e),...s}));CardFooter.displayName="CardFooter";function LoginPage(){const[e,s]=reactExports.useState(""),[i,o]=reactExports.useState(""),[a,c]=reactExports.useState(!1),{signInWithEmail:d}=useAuthStore(),g=useNavigate(),{toast:h}=useToast(),b=async _=>{_.preventDefault(),c(!0);try{await d(e,i),h({title:"Welcome back!",description:"You have successfully signed in."}),g("/")}catch(j){h({variant:"destructive",title:"Error",description:j instanceof Error?j.message:"Invalid email or password"})}finally{c(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:"Welcome back"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:"Sign in to your account to continue"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:b,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"name@example.com",value:e,onChange:_=>s(_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx(Label,{htmlFor:"password",children:"Password"})}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:i,onChange:_=>o(_.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign in"})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/register",className:"text-primary hover:underline font-medium",children:"Sign up"})]})})]})})}function RegisterPage(){const[e,s]=reactExports.useState(""),[i,o]=reactExports.useState(""),[a,c]=reactExports.useState(""),[d,g]=reactExports.useState(""),[h,b]=reactExports.useState(!1),{signUpWithEmail:_}=useAuthStore(),j=useNavigate(),{toast:et}=useToast(),nt=async st=>{if(st.preventDefault(),a!==d){et({variant:"destructive",title:"Error",description:"Passwords do not match"});return}if(a.length<6){et({variant:"destructive",title:"Error",description:"Password must be at least 6 characters"});return}b(!0);try{await _(i,a,e||void 0),et({title:"Account created!",description:"You have successfully registered."}),j("/")}catch(rt){et({variant:"destructive",title:"Error",description:rt instanceof Error?rt.message:"Failed to create account"})}finally{b(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:"Create an account"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:"Enter your details to get started"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Name (optional)"}),jsxRuntimeExports.jsx(Input,{id:"name",type:"text",placeholder:"John Doe",value:e,onChange:st=>s(st.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"name@example.com",value:i,onChange:st=>o(st.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:a,onChange:st=>c(st.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"confirmPassword",children:"Confirm Password"}),jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:"password",value:d,onChange:st=>g(st.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:h,children:h?"Creating account...":"Create account"})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})})]})})}const config={apiUrl:"http://localhost:3001"};function apiEndpoint(e){const s=config.apiUrl.replace(/\/$/,""),i=e.replace(/^\//,"");return`${s}/${i}`}function DashboardPage(){var b;const{user:e,token:s}=useAuthStore(),[i,o]=reactExports.useState([]),[a,c]=reactExports.useState({totalDocuments:0,totalWords:0,quizzesCompleted:0,streak:0}),[d,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{var j,et;if(!s){g(!1);return}try{const nt=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(nt.ok){const st=await nt.json();o(st.documents||[]);const rt=((j=st.documents)==null?void 0:j.length)||0,tt=((et=st.documents)==null?void 0:et.reduce((_e,$)=>{var ot;return _e+(((ot=$.summary)==null?void 0:ot.split(/\s+/).length)||0)},0))||0;c({totalDocuments:rt,totalWords:tt,quizzesCompleted:0,streak:0})}}catch(nt){console.error("Error fetching documents:",nt)}finally{g(!1)}})()},[s]);const h=i.slice(0,4);return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-semibold text-text-primary",children:["Welcome back, ",((b=e==null?void 0:e.email)==null?void 0:b.split("@")[0])||"User","!"]}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mt-1",children:"Continue your learning journey"})]}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{className:"bg-accent hover:bg-accent-hover text-white gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"New Document"]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-light flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-accent"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:a.totalDocuments}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"Documents"})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-success-light flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-success"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:a.totalWords.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"Words Learned"})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning-light flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-warning"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:a.quizzesCompleted}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"Quizzes Done"})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-error-light flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-error"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:a.streak}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"Day Streak"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-accent to-purple-600 rounded-xl p-6 text-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Ask questions about your documents, get summaries, and generate quizzes"}),jsxRuntimeExports.jsx(Link,{to:"/chat",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"}),"Start Chat"]})})]}),jsxRuntimeExports.jsx(Sparkles,{className:"w-12 h-12 text-white/20"})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-bg-secondary border border-border rounded-xl p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg text-text-primary mb-2",children:"Upload PDF"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm mb-4",children:"Upload a PDF document and start learning with AI-powered tools"}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"gap-2 border-border text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Upload"]})})]}),jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 text-text-muted"})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Recent Documents"}),jsxRuntimeExports.jsxs(Link,{to:"/documents",className:"text-sm text-accent hover:underline flex items-center gap-1",children:["View all",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]}),d?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-accent"})}):h.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary mb-2",children:"No documents yet"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm mb-4",children:"Upload your first PDF to start learning"}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{className:"bg-accent hover:bg-accent-hover text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Document"]})})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:h.map((_,j)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*j},children:jsxRuntimeExports.jsxs(Link,{to:`/documents/${_.id}`,className:"block bg-bg-secondary border border-border rounded-xl p-4 hover:border-border-strong transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-accent"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary truncate",children:_.title||_.filename}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted mt-1",children:new Date(_.createdAt).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-3",children:[_.summary&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-success-light text-success px-2 py-0.5 rounded",children:"Summary"}),_.quiz&&_.quiz.length>0&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-accent-light text-accent px-2 py-0.5 rounded",children:"Quiz"}),_.glossary&&_.glossary.length>0&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-warning-light text-warning px-2 py-0.5 rounded",children:"Glossary"})]})]})},_.id))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-text-primary mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-accent"}),"Learning Tips"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"1"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Active Recall"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Take quizzes to reinforce your memory"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"2"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Spaced Repetition"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Review glossary terms regularly"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"3"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Ask Questions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Use AI chat to clarify concepts"})]})]})]})]})]})}function DocumentsPage(){const{user:e,token:s}=useAuthStore(),[i,o]=reactExports.useState([]),[a,c]=reactExports.useState(!0),[d,g]=reactExports.useState(""),[h,b]=reactExports.useState(!1),{toast:_}=useToast(),j=reactExports.useCallback(async()=>{if(!e||!s){c(!1);return}try{const rt=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(rt.ok){const tt=await rt.json();o(tt.documents||[])}}catch(rt){console.error("Error fetching documents:",rt)}finally{c(!1)}},[e,s]);reactExports.useEffect(()=>{j()},[j]);const et=async rt=>{var _e,$,ot;const tt=(_e=rt.target.files)==null?void 0:_e[0];if(!(!tt||!e||!s)){if(tt.type!=="application/pdf"){_({variant:"destructive",title:"Error",description:"Only PDF files are supported"});return}if(tt.size>50*1024*1024){_({variant:"destructive",title:"Error",description:"File size must be less than 50MB"});return}b(!0);try{const lt=new FormData;lt.append("file",tt),lt.append("title",tt.name.replace(".pdf",""));const it=await fetch(apiEndpoint("api/documents/upload"),{method:"POST",headers:{Authorization:`Bearer ${s}`},credentials:"include",body:lt});if(!it.ok)throw new Error("Failed to upload document");const dt=await it.json();_({title:"Success",description:`Document uploaded successfully. Extracted ${(($=dt.metadata)==null?void 0:$.textLength)||0} characters from ${((ot=dt.metadata)==null?void 0:ot.numPages)||0} pages.`}),j()}catch{_({variant:"destructive",title:"Error",description:"Failed to upload document"})}finally{b(!1)}}},nt=async rt=>{if(s)try{await fetch(apiEndpoint(`api/documents/${rt}`),{method:"DELETE",headers:{Authorization:`Bearer ${s}`},credentials:"include"}),_({title:"Success",description:"Document deleted"}),j()}catch{_({variant:"destructive",title:"Error",description:"Failed to delete document"})}},st=d?i.filter(rt=>rt.title.toLowerCase().includes(d.toLowerCase())):i;return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Documents"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Upload and manage your PDFs"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Input,{type:"file",accept:".pdf",onChange:et,disabled:h,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",children:jsxRuntimeExports.jsx(Button,{asChild:!0,disabled:h,children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),h?"Uploading...":"Upload PDF"]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search documents...",value:d,onChange:rt=>g(rt.target.value),className:"pl-10"})]}),a?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):st.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-col items-center justify-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No documents yet"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Upload your first PDF to start creating learning experiences"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",children:jsxRuntimeExports.jsx(Button,{asChild:!0,children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),"Upload PDF"]})})})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:st.map(rt=>jsxRuntimeExports.jsx(Card,{className:"group",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${rt.id}`,className:"block",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold truncate",children:rt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:formatFileSize(rt.fileSize)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:formatDate(rt.createdAt)})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[jsxRuntimeExports.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${rt.summary?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:rt.summary?"Ready":"Processing"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>nt(rt.id),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]})},rt.id))})]})}function DocumentDetailPage(){var nt,st,rt;const{id:e}=useParams(),{token:s}=useAuthStore(),[i,o]=reactExports.useState(null),[a,c]=reactExports.useState(!0),[d,g]=reactExports.useState(!1),{toast:h}=useToast(),b=async()=>{if(!e||!s){c(!1);return}try{const tt=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(tt.ok){const _e=await tt.json();o(_e.document)}}catch(tt){console.error("Error fetching document:",tt)}finally{c(!1)}};reactExports.useEffect(()=>{b()},[e,s]);const _=async()=>{var tt,_e;if(!(!e||!s)){g(!0);try{const $=await fetch(apiEndpoint(`api/documents/${e}/generate`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({})}),ot=await $.json();if(!$.ok)throw new Error(ot.error||"Failed to generate content");h({title:"Content Generated!",description:`Created ${((tt=ot.generated)==null?void 0:tt.quizCount)||0} quiz questions, ${((_e=ot.generated)==null?void 0:_e.glossaryCount)||0} glossary terms, and more.`}),b()}catch($){h({variant:"destructive",title:"Error",description:$ instanceof Error?$.message:"Failed to generate content"})}finally{g(!1)}}};if(a)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!i)return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Document not found"})]})]});const j=i.summary||i.quiz||i.glossary,et=[{title:"Summary",description:"Get a concise summary of the document",icon:BookOpen,href:`/learn/${e}/summary`,available:!!i.summary},{title:"Quiz",description:"Test your knowledge with a quiz",icon:HelpCircle,href:`/learn/${e}/quiz`,available:!!i.quiz},{title:"Glossary",description:"Learn key terms and definitions",icon:List,href:`/learn/${e}/glossary`,available:!!i.glossary}];return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900",children:jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:i.title}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:[formatFileSize(i.fileSize),"  Uploaded ",formatDate(i.createdAt)]})]})]}),jsxRuntimeExports.jsx(Link,{to:`/documents/${e}/view`,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-2"}),"Open in Viewer"]})})]}),!j&&jsxRuntimeExports.jsxs(Card,{className:"border-dashed",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-purple-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Generate Learning Content"}),jsxRuntimeExports.jsx(CardDescription,{children:"Use AI to create flashcards, quizzes, and more from this document"})]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Button,{onClick:_,disabled:d||!i.content,className:"w-full",children:d?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Generate Content"]})}),!i.content&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"No text content available. Upload a PDF with extractable text."})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:et.map(tt=>jsxRuntimeExports.jsxs(Card,{className:tt.available?"":"opacity-60",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(tt.icon,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:tt.title}),jsxRuntimeExports.jsx(CardDescription,{children:tt.description})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:tt.available?jsxRuntimeExports.jsx(Link,{to:tt.href,children:jsxRuntimeExports.jsx(Button,{className:"w-full",children:"Start Learning"})}):jsxRuntimeExports.jsx(Button,{className:"w-full",disabled:!0,children:"Generate Content First"})})]},tt.title))}),i.summary&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Summary"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:i.summary})})]}),j&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Content Generated"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((nt=i.quiz)==null?void 0:nt.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Quiz Questions"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((st=i.glossary)==null?void 0:st.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Glossary Terms"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((rt=i.concepts)==null?void 0:rt.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Concepts"})]})]})})]})]})}function SettingsPage(){const e=[{title:"API Keys",description:"Manage your AI provider API keys",icon:Key,href:"/settings/api-keys"},{title:"Profile",description:"Update your account information",icon:User,href:"/settings/profile",disabled:!0},{title:"Security",description:"Password and authentication settings",icon:Shield,href:"/settings/security",disabled:!0}];return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage your account and preferences"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(s=>jsxRuntimeExports.jsxs(Card,{className:s.disabled?"opacity-50":"",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(s.icon,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:s.title}),jsxRuntimeExports.jsx(CardDescription,{children:s.description})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:s.disabled?jsxRuntimeExports.jsx(Button,{variant:"outline",disabled:!0,className:"w-full",children:"Coming Soon"}):jsxRuntimeExports.jsx(Link,{to:s.href,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"w-full",children:"Manage"})})})]},s.title))})]})}const PROVIDERS=[{id:"openai",name:"OpenAI"},{id:"anthropic",name:"Anthropic"},{id:"google",name:"Google"},{id:"groq",name:"Groq"},{id:"cerebras",name:"Cerebras"},{id:"openrouter",name:"OpenRouter"}];function ApiKeysPage(){const{user:e,token:s}=useAuthStore(),[i,o]=reactExports.useState([]),[a,c]=reactExports.useState(!0),[d,g]=reactExports.useState(null),[h,b]=reactExports.useState(""),[_,j]=reactExports.useState(""),{toast:et}=useToast(),nt=async()=>{if(!e||!s){c(!1);return}try{const tt=await fetch(apiEndpoint("api/api-keys"),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(tt.ok){const _e=await tt.json();o(_e.apiKeys||[])}}catch(tt){console.error("Error fetching API keys:",tt)}finally{c(!1)}};reactExports.useEffect(()=>{nt()},[e,s]);const st=async tt=>{if(!(!h||!s))try{if(!(await fetch(apiEndpoint("api/api-keys"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({provider:tt,key:h,name:_||void 0})})).ok)throw new Error("Failed to save API key");et({title:"Success",description:`API key for ${tt} saved successfully`}),b(""),j(""),g(null),nt()}catch{et({variant:"destructive",title:"Error",description:"Failed to save API key"})}},rt=async(tt,_e)=>{if(s)try{await fetch(apiEndpoint(`api/api-keys/${tt}`),{method:"DELETE",headers:{Authorization:`Bearer ${s}`},credentials:"include"}),et({title:"Success",description:`API key for ${_e} deleted`}),nt()}catch{et({variant:"destructive",title:"Error",description:"Failed to delete API key"})}};return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/settings",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Settings"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"API Keys"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage your AI provider API keys (BYOK)"})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Your API Keys"}),jsxRuntimeExports.jsx(CardDescription,{children:"Add your own API keys to use with Doc2Learn. Your keys are encrypted and stored securely."})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:a?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):PROVIDERS.map(tt=>{const _e=i.find($=>$.provider===tt.id);return jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(Key,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:tt.name}),_e?jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Key ending in ",_e.keyLast4,_e.name&&` (${_e.name})`]}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Not configured"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-4 h-4"}),"Active"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>rt(_e.id,tt.name),children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-destructive"})})]}):d===tt.id?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Enter API key",value:h,onChange:$=>b($.target.value),className:"w-48"}),jsxRuntimeExports.jsx(Input,{placeholder:"Name (optional)",value:_,onChange:$=>j($.target.value),className:"w-32"}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>st(tt.id),children:"Save"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{g(null),b(""),j("")},children:"Cancel"})]}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>g(tt.id),children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Key"]})})]})},tt.id)})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"About BYOK"}),jsxRuntimeExports.jsx(CardDescription,{children:"How Doc2Learn handles your API keys"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("li",{children:" Your API keys are hashed before storage"}),jsxRuntimeExports.jsx("li",{children:" Keys are only used when making requests to AI providers"}),jsxRuntimeExports.jsx("li",{children:" Doc2Learn stores a secure hash of your keys"}),jsxRuntimeExports.jsx("li",{children:" You can delete your keys at any time"}),jsxRuntimeExports.jsx("li",{children:" You are billed directly by the AI providers for usage"})]})})]})]})}function LearningIndexPage(){const{token:e}=useAuthStore(),[s,i]=reactExports.useState([]),[o,a]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{if(!e){a(!1);return}try{const g=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(g.ok){const h=await g.json();i(h.documents||[])}}catch(g){console.error("Error fetching documents:",g)}finally{a(!1)}})()},[e]);const c=d=>d.summary||d.quiz&&d.quiz.length>0||d.glossary&&d.glossary.length>0||d.flashcards&&d.flashcards.length>0;return o?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-accent/10 mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-accent"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Learning Center"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Transform your documents into interactive learning experiences with AI-powered quizzes, flashcards, glossaries, and summaries."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-blue-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Summaries"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"AI-generated summaries highlighting key concepts and main ideas."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-green-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Quizzes"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Test your knowledge with automatically generated quiz questions."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-purple-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Glossary"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Learn key terms and definitions from your documents."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5 text-orange-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Flashcards"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Memorize important concepts with interactive flashcards."})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Your Documents"}),s.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No documents yet"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"Upload a document to start learning"}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsx(Button,{className:"bg-accent hover:bg-accent-hover text-white",children:"Upload Document"})})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:s.map(d=>jsxRuntimeExports.jsx(Link,{to:`/learn/${d.id}`,className:"block bg-bg-secondary border border-border rounded-xl p-5 hover:border-accent/50 transition-colors group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-lg bg-bg-tertiary flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-text-muted"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary group-hover:text-accent transition-colors",children:d.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:new Date(d.createdAt).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[c(d)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[d.summary&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-500/10 text-blue-500",children:"Summary"}),d.quiz&&d.quiz.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-500/10 text-green-500",children:"Quiz"}),d.glossary&&d.glossary.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-500/10 text-purple-500",children:"Glossary"}),d.flashcards&&d.flashcards.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-orange-500/10 text-orange-500",children:"Flashcards"})]}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 text-text-muted group-hover:text-accent transition-colors"})]})]})},d.id))})]})]})}const tabs=[{id:"summary",label:"Summary",icon:FileText},{id:"quiz",label:"Quiz",icon:Target},{id:"glossary",label:"Glossary",icon:BookOpen},{id:"flashcards",label:"Flashcards",icon:Lightbulb}];function LearningExperiencePage(){const{experienceId:e}=useParams(),s=e,i=useNavigate(),{token:o}=useAuthStore(),[a,c]=reactExports.useState(null),[d,g]=reactExports.useState(!0),[h,b]=reactExports.useState("summary"),[_,j]=reactExports.useState(!1),{toast:et}=useToast();reactExports.useEffect(()=>{(async()=>{if(!s||!o){g(!1);return}try{const _e=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${o}`},credentials:"include"});if(_e.ok){const $=await _e.json();c($.document)}}catch(_e){console.error("Error fetching document:",_e)}finally{g(!1)}})()},[s,o]);const nt=async()=>{if(!(!a||_)){j(!0);try{const tt=await fetch(apiEndpoint(`api/documents/${s}/generate`),{method:"POST",headers:{Authorization:`Bearer ${o}`},credentials:"include"});if(tt.ok){const _e=await tt.json();c($=>$&&{...$,..._e}),et({title:"Content generated!",description:"Your learning content is ready."})}else throw new Error("Failed to generate content")}catch(tt){et({variant:"destructive",title:"Error",description:tt instanceof Error?tt.message:"Failed to generate content"})}finally{j(!1)}}},st=tt=>{if(!a)return!1;switch(tt){case"summary":return!!a.summary;case"quiz":return a.quiz&&a.quiz.length>0;case"glossary":return a.glossary&&a.glossary.length>0;case"flashcards":return a.flashcards&&a.flashcards.length>0}return!1},rt=()=>tabs.some(tt=>st(tt.id));return d?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):a?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-text-primary",children:a.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Learning Experience"})]})]})}),!rt()&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-accent-light border border-accent/20 rounded-xl p-6 text-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-accent mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No learning content yet"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"Generate AI-powered learning content from this document"}),jsxRuntimeExports.jsx(Button,{onClick:nt,disabled:_,className:"bg-accent hover:bg-accent-hover text-white",children:_?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Generate Learning Content"]})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:tabs.map(tt=>{const _e=tt.icon,$=st(tt.id);return jsxRuntimeExports.jsxs("button",{onClick:()=>b(tt.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors relative ${h===tt.id?"text-accent":"text-text-muted hover:text-text-secondary"}`,children:[jsxRuntimeExports.jsx(_e,{className:"w-4 h-4"}),tt.label,$&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-success"}),h===tt.id&&jsxRuntimeExports.jsx(motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent"})]},tt.id)})})}),jsxRuntimeExports.jsxs("div",{className:"min-h-[400px]",children:[h==="summary"&&jsxRuntimeExports.jsx("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:a.summary?jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed",children:a.summary})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No summary available"}),jsxRuntimeExports.jsx(Button,{onClick:nt,disabled:_,variant:"outline",className:"mt-4",children:"Generate Content"})]})}),h==="quiz"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.quiz&&a.quiz.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.quiz.length," questions"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>i(`/learn/${s}/quiz`),className:"bg-accent hover:bg-accent-hover text-white",children:"Start Quiz"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:[a.quiz.slice(0,3).map((tt,_e)=>{var $;return jsxRuntimeExports.jsxs("div",{className:"mb-4 last:mb-0",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium text-text-primary",children:[_e+1,". ",tt.question]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-muted mt-1",children:[(($=tt.options)==null?void 0:$.length)||0," options"]})]},_e)}),a.quiz.length>3&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-muted text-center",children:["+",a.quiz.length-3," more questions"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No quiz available"})]})}),h==="glossary"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.glossary&&a.glossary.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.glossary.length," terms"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>i(`/learn/${s}/glossary`),variant:"outline",children:"View Full Glossary"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3",children:a.glossary.slice(0,6).map((tt,_e)=>jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary",children:tt.term}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary mt-1 line-clamp-2",children:tt.definition})]},_e))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No glossary available"})]})}),h==="flashcards"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.flashcards&&a.flashcards.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.flashcards.length," flashcards"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>i(`/learn/${s}/flashcards`),variant:"outline",children:"Study Flashcards"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:a.flashcards.slice(0,6).map((tt,_e)=>jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary mb-2",children:tt.front}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary border-t border-border pt-2",children:tt.back})]},_e))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No flashcards available"})]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Document not found"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"The document you're looking for doesn't exist."})]})]})}const CORRECT_MESSAGES=[{title:"Excelente!",description:"Acertaste em cheio!",emoji:""},{title:"Perfeito!",description:"Dominaste este conceito!",emoji:""},{title:"Muito bem!",description:"Continua assim!",emoji:""},{title:"Fantstico!",description:"Ests a brilhar!",emoji:""},{title:"Incrvel!",description:"Que resposta genial!",emoji:""},{title:"Brilhante!",description:"O teu conhecimento  slido!",emoji:""},{title:"Assim  que !",description:"Ests no caminho certo!",emoji:""},{title:"Mandaste bem!",description:"Excelente trabalho!",emoji:""}],INCORRECT_MESSAGES=[{title:"Quase l!",description:"Tenta novamente!",emoji:""},{title:"No desistas!",description:"A prtica leva  perfeio!",emoji:""},{title:"Boa tentativa!",description:"Rev o material e tenta novamente!",emoji:""},{title:"No te preocupes!",description:"Cada erro  uma oportunidade de aprender!",emoji:""},{title:"Continua a tentar!",description:"Ests quase a conseguir!",emoji:""},{title:"Fora!",description:"O sucesso vem com persistncia!",emoji:""},{title:"nimo!",description:"Aprendizagem  um processo!",emoji:""},{title:"No baixos os braos!",description:"Vais conseguir!",emoji:""}],getScoreMessage=e=>e===100?{title:"Perfeio Absoluta!",description:"Conquistaste todos os pontos! s um mestre neste tema!",icon:Trophy}:e>=90?{title:"Excelente!",description:"Quase perfeito! O teu conhecimento  impressionante!",icon:Star}:e>=70?{title:"Muito Bem!",description:"Bom trabalho! Continua a praticar para melhorar ainda mais!",icon:Target}:e>=50?{title:"Bom Esforo!",description:"Ests no caminho certo! Rev os pontos que falhaste.",icon:Sparkles}:{title:"Continua a Tentar!",description:"No desistas! Cada tentativa  uma oportunidade de aprender.",icon:Zap};function QuizPage(){const{experienceId:e}=useParams(),s=e,{token:i}=useAuthStore(),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[g,h]=reactExports.useState(0),[b,_]=reactExports.useState(null),[j,et]=reactExports.useState(!1),[nt,st]=reactExports.useState([]),[rt,tt]=reactExports.useState(!1),[_e,$]=reactExports.useState(null),[ot,lt]=reactExports.useState(0),[it,dt]=reactExports.useState(0),{toast:ct}=useToast();reactExports.useEffect(()=>{(async()=>{var xt;if(!s||!i){d(!1);return}try{const _t=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(_t.ok){const Lt=await _t.json();a(Lt.document),st(new Array(((xt=Lt.document.quiz)==null?void 0:xt.length)||0).fill(null))}}catch(_t){console.error("Error fetching document:",_t)}finally{d(!1)}})()},[s,i]);const ut=(o==null?void 0:o.quiz)||[],mt=reactExports.useCallback(Ct=>{const xt=Ct?CORRECT_MESSAGES:INCORRECT_MESSAGES;return xt[Math.floor(Math.random()*xt.length)]},[]),bt=Ct=>{j||_(Ct)},ft=()=>{if(b===null)return;const Ct=[...nt];Ct[g]=b,st(Ct);const xt=b===ut[g].correct,_t=mt(xt);$(_t),xt?(lt(Lt=>Lt+1),dt(Lt=>Lt+1),ot>=2&&ct({title:` Sequncia de ${ot+1}!`,description:"Ests imparvel!"})):lt(0),et(!0),ct({title:_t.title,description:_t.description,variant:xt?"default":"destructive"})},yt=()=>{g+1>=ut.length?tt(!0):(h(g+1),_(null),et(!1),$(null))},St=()=>{h(0),_(null),et(!1),st(new Array(ut.length).fill(null)),tt(!1),$(null),lt(0),dt(0)},Dt=()=>it;if(c)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})});if(!o||ut.length===0)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Quiz Available"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the quiz"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})});if(rt){const Ct=Dt(),xt=Math.round(Ct/ut.length*100),_t=getScoreMessage(xt),Lt=_t.icon;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})})})}),jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-surface-elevated border border-border rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-8 border-b border-border",children:[jsxRuntimeExports.jsx(Lt,{className:"w-16 h-16 mx-auto text-action mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-text-primary mb-2",children:_t.title}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:_t.description})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-5xl font-bold text-action mb-2",children:[xt,"%"]}),jsxRuntimeExports.jsxs("p",{className:"text-text-secondary",children:[Ct," correct out of ",ut.length," questions"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-success",children:Ct}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Correct"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-error",children:ut.length-Ct}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Incorrect"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-action",children:ot}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Best Streak"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:St,className:"bg-action hover:bg-action-hover text-white",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 mr-2"}),"Try Again"]}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Back to Document"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 pt-6 border-t border-border",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Review Your Answers"}),ut.map((vt,pt)=>jsxRuntimeExports.jsx("div",{className:`p-4 border rounded ${nt[pt]===vt.correct?"border-success bg-success-light":"border-error bg-error-light"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[nt[pt]===vt.correct?jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-success mt-0.5 flex-shrink-0"}):jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5 text-error mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary mb-2",children:vt.question}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:["Your answer: ",jsxRuntimeExports.jsx("span",{className:nt[pt]===vt.correct?"text-success":"text-error",children:vt.options[nt[pt]]})]}),nt[pt]!==vt.correct&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["Correct answer: ",jsxRuntimeExports.jsx("span",{className:"text-success",children:vt.options[vt.correct]})]})]})]})},pt))]})]})]})})]})}const Mt=ut[g],It=(g+1)/ut.length*100,kt=j&&b===Mt.correct;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[ot>=2&&jsxRuntimeExports.jsxs("span",{className:"text-warning font-medium flex items-center gap-1",children:[" ",ot," streak!"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-muted font-mono",children:[g+1," / ",ut.length]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-1 bg-border rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-action transition-all duration-500",style:{width:`${It}%`}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[jsxRuntimeExports.jsxs("span",{children:[it," correct"]}),jsxRuntimeExports.jsxs("span",{children:[Math.round(It),"% complete"]})]})]}),j&&_e&&jsxRuntimeExports.jsxs("div",{className:`p-4 rounded border text-center ${kt?"bg-success-light border-success":"bg-error-light border-error"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xl mr-2",children:_e.emoji}),jsxRuntimeExports.jsx("span",{className:`font-medium ${kt?"text-success":"text-error"}`,children:_e.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary mt-1",children:_e.description})]}),jsxRuntimeExports.jsxs("div",{className:`bg-surface-elevated border rounded-lg p-6 ${j?kt?"border-success":"border-error":"border-border"}`,children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium text-text-primary mb-6",children:Mt.question}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Mt.options.map((Ct,xt)=>{let _t="border border-border rounded cursor-pointer transition-all";return j?xt===Mt.correct?_t+=" bg-success-light border-success":xt===b&&xt!==Mt.correct?_t+=" bg-error-light border-error":_t+=" opacity-50":b===xt?_t+=" bg-action-light border-action":_t+=" hover:border-border-strong",jsxRuntimeExports.jsx("div",{className:_t,onClick:()=>bt(xt),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-4",children:[jsxRuntimeExports.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-medium ${j&&xt===Mt.correct?"bg-success border-success text-white":j&&xt===b&&xt!==Mt.correct?"bg-error border-error text-white":b===xt?"bg-action border-action text-white":"border-border text-text-secondary"}`,children:String.fromCharCode(65+xt)}),jsxRuntimeExports.jsx("span",{className:"flex-1 text-text-primary",children:Ct}),j&&xt===Mt.correct&&jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-success"}),j&&xt===b&&xt!==Mt.correct&&jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5 text-error"})]})},xt)})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end gap-3",children:j?jsxRuntimeExports.jsx(Button,{onClick:yt,className:"bg-action hover:bg-action-hover text-white",children:g+1>=ut.length?"See Results":"Next Question"}):jsxRuntimeExports.jsx(Button,{onClick:ft,disabled:b===null,className:"bg-action hover:bg-action-hover text-white",children:"Submit Answer"})})]})]})}function GlossaryPage(){const{experienceId:e}=useParams(),s=e,{token:i}=useAuthStore(),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[g,h]=reactExports.useState(""),[b,_]=reactExports.useState(null),[j,et]=reactExports.useState(new Set);reactExports.useEffect(()=>{(async()=>{if(!s||!i){d(!1);return}try{const ot=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(ot.ok){const lt=await ot.json();a(lt.document)}}catch(ot){console.error("Error fetching document:",ot)}finally{d(!1)}})()},[s,i]);const nt=(o==null?void 0:o.glossary)||[],st=reactExports.useMemo(()=>{const $=new Set;return nt.forEach(ot=>{const lt=ot.term.charAt(0).toUpperCase();/[A-Z]/.test(lt)&&$.add(lt)}),Array.from($).sort()},[nt]),rt=reactExports.useMemo(()=>{let $=nt;if(g){const ot=g.toLowerCase();$=$.filter(lt=>lt.term.toLowerCase().includes(ot)||lt.definition.toLowerCase().includes(ot))}return b&&($=$.filter(ot=>ot.term.charAt(0).toUpperCase()===b)),$.sort((ot,lt)=>ot.term.localeCompare(lt.term))},[nt,g,b]),tt=reactExports.useMemo(()=>{const $={};return rt.forEach(ot=>{const lt=ot.term.charAt(0).toUpperCase();$[lt]||($[lt]=[]),$[lt].push(ot)}),$},[rt]),_e=$=>{et(ot=>{const lt=new Set(ot);return lt.has($)?lt.delete($):lt.add($),lt})};return c?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})}):!o||nt.length===0?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Glossary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the glossary"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-muted font-mono",children:[nt.length," terms"]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Glossary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:o.title})]}),jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto mb-6",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search terms...",value:g,onChange:$=>h($.target.value),className:"pl-10 pr-10 border-border bg-surface-elevated"}),g&&jsxRuntimeExports.jsx("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-8",children:[jsxRuntimeExports.jsx(Button,{variant:b===null?"default":"ghost",size:"sm",onClick:()=>_(null),className:`min-w-[36px] h-8 ${b===null?"bg-action text-white hover:bg-action-hover":"text-text-secondary hover:text-text-primary"}`,children:"All"}),st.map($=>jsxRuntimeExports.jsx(Button,{variant:b===$?"default":"ghost",size:"sm",onClick:()=>_(b===$?null:$),className:`min-w-[36px] h-8 ${b===$?"bg-action text-white hover:bg-action-hover":"text-text-secondary hover:text-text-primary"}`,children:$},$))]}),(g||b)&&jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-text-muted mb-6",children:["Found ",rt.length," term",rt.length!==1?"s":""]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(tt).map(([$,ot])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-text-muted uppercase tracking-wider w-8",children:$}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-border"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-text-muted",children:ot.length})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ot.map((lt,it)=>{const dt=j.has(lt.term);return jsxRuntimeExports.jsx("div",{className:"bg-surface-elevated border border-border rounded cursor-pointer transition-colors hover:border-border-strong",onClick:()=>_e(lt.term),children:jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:lt.term}),jsxRuntimeExports.jsx("p",{className:`text-sm text-text-secondary mt-1 ${dt?"":"line-clamp-2"}`,children:lt.definition})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 pt-1",children:dt?jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4 text-text-muted"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4 text-text-muted"})})]})})},`${lt.term}-${it}`)})})]},$))}),rt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx(Search,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"No terms found matching your search"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",className:"text-text-secondary hover:text-text-primary",onClick:()=>{h(""),_(null)},children:"Clear filters"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center pt-8 mt-8 border-t border-border",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/quiz`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Take Quiz"})}),jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/summary`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"View Summary"})})]})]})]})}function renderMarkdown(e){const s=e.split(`
`),i=[];let o=[],a=!1;return s.forEach((c,d)=>{if(c.startsWith("- ")||c.startsWith("* ")){a=!0,o.push(c.slice(2));return}if(a&&o.length>0&&(i.push(jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 my-3 ml-4",children:o.map((g,h)=>jsxRuntimeExports.jsx("li",{className:"text-text-secondary",children:renderInlineMarkdown(g)},h))},`list-${d}`)),o=[],a=!1),c.startsWith("## ")){i.push(jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3 text-text-primary",children:renderInlineMarkdown(c.slice(3))},d));return}if(c.startsWith("### ")){i.push(jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium mt-4 mb-2 text-text-primary",children:renderInlineMarkdown(c.slice(4))},d));return}if(c.startsWith("# ")){i.push(jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mt-6 mb-4 text-text-primary",children:renderInlineMarkdown(c.slice(2))},d));return}if(c.startsWith("> ")){i.push(jsxRuntimeExports.jsx("blockquote",{className:"border-l-2 border-action pl-4 italic my-3 text-text-secondary",children:renderInlineMarkdown(c.slice(2))},d));return}c.trim()!==""&&i.push(jsxRuntimeExports.jsx("p",{className:"my-3 text-text-secondary leading-relaxed",children:renderInlineMarkdown(c)},d))}),o.length>0&&i.push(jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 my-3 ml-4",children:o.map((c,d)=>jsxRuntimeExports.jsx("li",{className:"text-text-secondary",children:renderInlineMarkdown(c)},d))},"list-final")),i}function renderInlineMarkdown(e){const s=[];let i=e,o=0;for(;i.length>0;){const a=i.match(/\*\*(.+?)\*\*/);if(a){const g=i.slice(0,a.index);g&&s.push(g),s.push(jsxRuntimeExports.jsx("strong",{className:"font-medium text-text-primary",children:a[1]},o++)),i=i.slice(a.index+a[0].length);continue}const c=i.match(/\*(.+?)\*/);if(c){const g=i.slice(0,c.index);g&&s.push(g),s.push(jsxRuntimeExports.jsx("em",{className:"italic",children:c[1]},o++)),i=i.slice(c.index+c[0].length);continue}const d=i.match(/`(.+?)`/);if(d){const g=i.slice(0,d.index);g&&s.push(g),s.push(jsxRuntimeExports.jsx("code",{className:"bg-surface border border-border px-1.5 py-0.5 rounded text-sm font-mono text-text-primary",children:d[1]},o++)),i=i.slice(d.index+d[0].length);continue}s.push(i);break}return s}function SummaryPage(){const{experienceId:e}=useParams(),s=e,{token:i}=useAuthStore(),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[g,h]=reactExports.useState(!1),{toast:b}=useToast();reactExports.useEffect(()=>{(async()=>{if(!s||!i){d(!1);return}try{const st=await fetch(apiEndpoint(`api/documents/${s}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(st.ok){const rt=await st.json();a(rt.document)}}catch(st){console.error("Error fetching document:",st)}finally{d(!1)}})()},[s,i]);const _=async()=>{if(o!=null&&o.summary)try{await navigator.clipboard.writeText(o.summary),h(!0),b({title:"Copied!",description:"Summary copied to clipboard"}),setTimeout(()=>h(!1),2e3)}catch{b({variant:"destructive",title:"Error",description:"Failed to copy to clipboard"})}};if(c)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})});if(!o||!o.summary)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Summary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the summary"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})});const j=o.summary.split(/\s+/).length,et=Math.ceil(j/200);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${s}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:_,className:"text-text-secondary hover:text-text-primary",children:g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 mr-2 text-success"}),"Copied"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4 mr-2"}),"Copy"]})})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Summary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:o.title})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6 text-sm text-text-muted mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[j," words"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("span",{children:["~",et," min read"]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-surface-elevated border border-border rounded-lg p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-none",children:renderMarkdown(o.summary)})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center pt-8 mt-8 border-t border-border",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/quiz`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Take Quiz"})}),jsxRuntimeExports.jsx(Link,{to:`/learn/${s}/glossary`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"View Glossary"})})]})]})]})}function ExercisesPage(){const{experienceId:e}=useParams();return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Construction,{className:"w-8 h-8 text-yellow-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Exercises"}),jsxRuntimeExports.jsx(CardDescription,{children:"AI-generated exercises coming soon"})]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Exercise generation will be available once AI integration is complete."})})]})]})}function FlashcardsPage(){const{experienceId:e}=useParams(),{token:s}=useAuthStore(),[i,o]=reactExports.useState(null),[a,c]=reactExports.useState(!0),[d,g]=reactExports.useState(0),[h,b]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{if(!e||!s){c(!1);return}try{const rt=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(rt.ok){const tt=await rt.json();o(tt.document)}}catch(rt){console.error("Error fetching document:",rt)}finally{c(!1)}})()},[e,s]);const _=(i==null?void 0:i.flashcards)||[],j=()=>{b(!1),setTimeout(()=>{g(st=>(st+1)%_.length)},150)},et=()=>{b(!1),setTimeout(()=>{g(st=>(st-1+_.length)%_.length)},150)};if(a)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})});if(!i||_.length===0)return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Learning"]})}),jsxRuntimeExports.jsx("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No flashcards available for this document."})})]});const nt=_[d];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-text-muted",children:[d+1," / ",_.length]})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-2 bg-bg-tertiary rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${(d+1)/_.length*100}%`}})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-lg h-72 cursor-pointer perspective-1000",onClick:()=>b(!h),children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{rotateY:h?-90:90,opacity:0},animate:{rotateY:0,opacity:1},exit:{rotateY:h?90:-90,opacity:0},transition:{duration:.2},className:`w-full h-full rounded-2xl p-8 flex flex-col items-center justify-center text-center shadow-lg ${h?"bg-accent text-white":"bg-bg-secondary border border-border text-text-primary"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-wider mb-4 opacity-60",children:h?"Answer":"Question"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-medium leading-relaxed",children:h?nt.back:nt.front})]},h?"back":"front")})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:et,disabled:_.length<=1,className:"w-24",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5 mr-1"}),"Prev"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:()=>b(!1),className:"w-24",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5 mr-1"}),"Flip"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:j,disabled:_.length<=1,className:"w-24",children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 ml-1"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-text-muted",children:"Click on the card to flip it"})]})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(s,i){module.exports=s.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,s)=>{var Ln;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=xt,s.bytesToString=Yt,s.createValidAbsoluteUrl=Lt,s.getModificationDate=hn,s.getUuid=wn,s.getVerbosityLevel=Mt,s.info=It,s.isArrayBuffer=$t,s.isArrayEqual=pn,s.isNodeJS=void 0,s.normalizeUnicode=yn,s.objectFromMap=sn,s.objectSize=nn,s.setVerbosityLevel=Dt,s.shadow=vt,s.string32=rn,s.stringToBytes=Jt,s.stringToPDFString=en,s.stringToUTF8String=un,s.unreachable=Ct,s.utf8StringToString=an,s.warn=kt;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=i;const o=[1,0,0,1,0,0];s.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=a;const c=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;s.LINE_FACTOR=d;const g=.35;s.LINE_DESCENT_FACTOR=g;const h=g/d;s.BASELINE_FACTOR=h;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=b;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=_;const j="pdfjs_internal_editor_";s.AnnotationEditorPrefix=j;const et={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=et;const nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=nt;const st={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=st;const rt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=rt;const tt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=tt;const _e={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=_e;const $={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=$;const ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=ot;const lt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=lt;const it={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=it;const dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=dt;const ct={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=ct;const ut={O:"PageOpen",C:"PageClose"};s.PageActionEventType=ut;const mt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=mt;const bt={NONE:0,BINARY:1};s.CMapCompressionType=bt;const ft={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=ft;const yt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=yt;let St=mt.WARNINGS;function Dt(ln){Number.isInteger(ln)&&(St=ln)}function Mt(){return St}function It(ln){St>=mt.INFOS&&console.log(`Info: ${ln}`)}function kt(ln){St>=mt.WARNINGS&&console.log(`Warning: ${ln}`)}function Ct(ln){throw new Error(ln)}function xt(ln,Kt){ln||Ct(Kt)}function _t(ln){switch(ln==null?void 0:ln.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Lt(ln,Kt=null,qt=null){if(!ln)return null;try{if(qt&&typeof ln=="string"){if(qt.addDefaultProtocol&&ln.startsWith("www.")){const Dn=ln.match(/\./g);(Dn==null?void 0:Dn.length)>=2&&(ln=`http://${ln}`)}if(qt.tryConvertEncoding)try{ln=un(ln)}catch{}}const xn=Kt?new URL(ln,Kt):new URL(ln);if(_t(xn))return xn}catch{}return null}function vt(ln,Kt,qt,xn=!1){return Object.defineProperty(ln,Kt,{value:qt,enumerable:!xn,configurable:!0,writable:!1}),qt}const pt=function(){function Kt(qt,xn){this.constructor===Kt&&Ct("Cannot initialize BaseException."),this.message=qt,this.name=xn}return Kt.prototype=new Error,Kt.constructor=Kt,Kt}();s.BaseException=pt;class ht extends pt{constructor(Kt,qt){super(Kt,"PasswordException"),this.code=qt}}s.PasswordException=ht;class gt extends pt{constructor(Kt,qt){super(Kt,"UnknownErrorException"),this.details=qt}}s.UnknownErrorException=gt;class At extends pt{constructor(Kt){super(Kt,"InvalidPDFException")}}s.InvalidPDFException=At;class Rt extends pt{constructor(Kt){super(Kt,"MissingPDFException")}}s.MissingPDFException=Rt;class Tt extends pt{constructor(Kt,qt){super(Kt,"UnexpectedResponseException"),this.status=qt}}s.UnexpectedResponseException=Tt;class Ot extends pt{constructor(Kt){super(Kt,"FormatError")}}s.FormatError=Ot;class Wt extends pt{constructor(Kt){super(Kt,"AbortException")}}s.AbortException=Wt;function Yt(ln){(typeof ln!="object"||(ln==null?void 0:ln.length)===void 0)&&Ct("Invalid argument for bytesToString");const Kt=ln.length,qt=8192;if(Kt<qt)return String.fromCharCode.apply(null,ln);const xn=[];for(let Dn=0;Dn<Kt;Dn+=qt){const Nn=Math.min(Dn+qt,Kt),Nt=ln.subarray(Dn,Nn);xn.push(String.fromCharCode.apply(null,Nt))}return xn.join("")}function Jt(ln){typeof ln!="string"&&Ct("Invalid argument for stringToBytes");const Kt=ln.length,qt=new Uint8Array(Kt);for(let xn=0;xn<Kt;++xn)qt[xn]=ln.charCodeAt(xn)&255;return qt}function rn(ln){return String.fromCharCode(ln>>24&255,ln>>16&255,ln>>8&255,ln&255)}function nn(ln){return Object.keys(ln).length}function sn(ln){const Kt=Object.create(null);for(const[qt,xn]of ln)Kt[qt]=xn;return Kt}function zt(){const ln=new Uint8Array(4);return ln[0]=1,new Uint32Array(ln.buffer,0,1)[0]===1}function Ut(){try{return new Function(""),!0}catch{return!1}}class Et{static get isLittleEndian(){return vt(this,"isLittleEndian",zt())}static get isEvalSupported(){return vt(this,"isEvalSupported",Ut())}static get isOffscreenCanvasSupported(){return vt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?vt(this,"platform",{isWin:!1,isMac:!1}):vt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Kt,qt;return vt(this,"isCSSRoundSupported",(qt=(Kt=globalThis.CSS)==null?void 0:Kt.supports)==null?void 0:qt.call(Kt,"width: round(1.5px, 1px)"))}}s.FeatureTest=Et;const Pt=[...Array(256).keys()].map(ln=>ln.toString(16).padStart(2,"0"));class Vt{static makeHexColor(Kt,qt,xn){return`#${Pt[Kt]}${Pt[qt]}${Pt[xn]}`}static scaleMinMax(Kt,qt){let xn;Kt[0]?(Kt[0]<0&&(xn=qt[0],qt[0]=qt[1],qt[1]=xn),qt[0]*=Kt[0],qt[1]*=Kt[0],Kt[3]<0&&(xn=qt[2],qt[2]=qt[3],qt[3]=xn),qt[2]*=Kt[3],qt[3]*=Kt[3]):(xn=qt[0],qt[0]=qt[2],qt[2]=xn,xn=qt[1],qt[1]=qt[3],qt[3]=xn,Kt[1]<0&&(xn=qt[2],qt[2]=qt[3],qt[3]=xn),qt[2]*=Kt[1],qt[3]*=Kt[1],Kt[2]<0&&(xn=qt[0],qt[0]=qt[1],qt[1]=xn),qt[0]*=Kt[2],qt[1]*=Kt[2]),qt[0]+=Kt[4],qt[1]+=Kt[4],qt[2]+=Kt[5],qt[3]+=Kt[5]}static transform(Kt,qt){return[Kt[0]*qt[0]+Kt[2]*qt[1],Kt[1]*qt[0]+Kt[3]*qt[1],Kt[0]*qt[2]+Kt[2]*qt[3],Kt[1]*qt[2]+Kt[3]*qt[3],Kt[0]*qt[4]+Kt[2]*qt[5]+Kt[4],Kt[1]*qt[4]+Kt[3]*qt[5]+Kt[5]]}static applyTransform(Kt,qt){const xn=Kt[0]*qt[0]+Kt[1]*qt[2]+qt[4],Dn=Kt[0]*qt[1]+Kt[1]*qt[3]+qt[5];return[xn,Dn]}static applyInverseTransform(Kt,qt){const xn=qt[0]*qt[3]-qt[1]*qt[2],Dn=(Kt[0]*qt[3]-Kt[1]*qt[2]+qt[2]*qt[5]-qt[4]*qt[3])/xn,Nn=(-Kt[0]*qt[1]+Kt[1]*qt[0]+qt[4]*qt[1]-qt[5]*qt[0])/xn;return[Dn,Nn]}static getAxialAlignedBoundingBox(Kt,qt){const xn=this.applyTransform(Kt,qt),Dn=this.applyTransform(Kt.slice(2,4),qt),Nn=this.applyTransform([Kt[0],Kt[3]],qt),Nt=this.applyTransform([Kt[2],Kt[1]],qt);return[Math.min(xn[0],Dn[0],Nn[0],Nt[0]),Math.min(xn[1],Dn[1],Nn[1],Nt[1]),Math.max(xn[0],Dn[0],Nn[0],Nt[0]),Math.max(xn[1],Dn[1],Nn[1],Nt[1])]}static inverseTransform(Kt){const qt=Kt[0]*Kt[3]-Kt[1]*Kt[2];return[Kt[3]/qt,-Kt[1]/qt,-Kt[2]/qt,Kt[0]/qt,(Kt[2]*Kt[5]-Kt[4]*Kt[3])/qt,(Kt[4]*Kt[1]-Kt[5]*Kt[0])/qt]}static singularValueDecompose2dScale(Kt){const qt=[Kt[0],Kt[2],Kt[1],Kt[3]],xn=Kt[0]*qt[0]+Kt[1]*qt[2],Dn=Kt[0]*qt[1]+Kt[1]*qt[3],Nn=Kt[2]*qt[0]+Kt[3]*qt[2],Nt=Kt[2]*qt[1]+Kt[3]*qt[3],tn=(xn+Nt)/2,fn=Math.sqrt((xn+Nt)**2-4*(xn*Nt-Nn*Dn))/2,bn=tn+fn||1,An=tn-fn||1;return[Math.sqrt(bn),Math.sqrt(An)]}static normalizeRect(Kt){const qt=Kt.slice(0);return Kt[0]>Kt[2]&&(qt[0]=Kt[2],qt[2]=Kt[0]),Kt[1]>Kt[3]&&(qt[1]=Kt[3],qt[3]=Kt[1]),qt}static intersect(Kt,qt){const xn=Math.max(Math.min(Kt[0],Kt[2]),Math.min(qt[0],qt[2])),Dn=Math.min(Math.max(Kt[0],Kt[2]),Math.max(qt[0],qt[2]));if(xn>Dn)return null;const Nn=Math.max(Math.min(Kt[1],Kt[3]),Math.min(qt[1],qt[3])),Nt=Math.min(Math.max(Kt[1],Kt[3]),Math.max(qt[1],qt[3]));return Nn>Nt?null:[xn,Nn,Dn,Nt]}static bezierBoundingBox(Kt,qt,xn,Dn,Nn,Nt,tn,fn){const bn=[],An=[[],[]];let gn,jt,wt,Ft,Qt,Zt,on,dn;for(let Cn=0;Cn<2;++Cn){if(Cn===0?(jt=6*Kt-12*xn+6*Nn,gn=-3*Kt+9*xn-9*Nn+3*tn,wt=3*xn-3*Kt):(jt=6*qt-12*Dn+6*Nt,gn=-3*qt+9*Dn-9*Nt+3*fn,wt=3*Dn-3*qt),Math.abs(gn)<1e-12){if(Math.abs(jt)<1e-12)continue;Ft=-wt/jt,0<Ft&&Ft<1&&bn.push(Ft);continue}on=jt*jt-4*wt*gn,dn=Math.sqrt(on),!(on<0)&&(Qt=(-jt+dn)/(2*gn),0<Qt&&Qt<1&&bn.push(Qt),Zt=(-jt-dn)/(2*gn),0<Zt&&Zt<1&&bn.push(Zt))}let Sn=bn.length,vn;const mn=Sn;for(;Sn--;)Ft=bn[Sn],vn=1-Ft,An[0][Sn]=vn*vn*vn*Kt+3*vn*vn*Ft*xn+3*vn*Ft*Ft*Nn+Ft*Ft*Ft*tn,An[1][Sn]=vn*vn*vn*qt+3*vn*vn*Ft*Dn+3*vn*Ft*Ft*Nt+Ft*Ft*Ft*fn;return An[0][mn]=Kt,An[1][mn]=qt,An[0][mn+1]=tn,An[1][mn+1]=fn,An[0].length=An[1].length=mn+2,[Math.min(...An[0]),Math.min(...An[1]),Math.max(...An[0]),Math.max(...An[1])]}}s.Util=Vt;const Ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function en(ln){if(ln[0]>=""){let qt;if(ln[0]===""&&ln[1]===""?qt="utf-16be":ln[0]===""&&ln[1]===""?qt="utf-16le":ln[0]===""&&ln[1]===""&&ln[2]===""&&(qt="utf-8"),qt)try{const xn=new TextDecoder(qt,{fatal:!0}),Dn=Jt(ln);return xn.decode(Dn)}catch(xn){kt(`stringToPDFString: "${xn}".`)}}const Kt=[];for(let qt=0,xn=ln.length;qt<xn;qt++){const Dn=Ht[ln.charCodeAt(qt)];Kt.push(Dn?String.fromCharCode(Dn):ln.charAt(qt))}return Kt.join("")}function un(ln){return decodeURIComponent(escape(ln))}function an(ln){return unescape(encodeURIComponent(ln))}function $t(ln){return typeof ln=="object"&&(ln==null?void 0:ln.byteLength)!==void 0}function pn(ln,Kt){if(ln.length!==Kt.length)return!1;for(let qt=0,xn=ln.length;qt<xn;qt++)if(ln[qt]!==Kt[qt])return!1;return!0}function hn(ln=new Date){return[ln.getUTCFullYear().toString(),(ln.getUTCMonth()+1).toString().padStart(2,"0"),ln.getUTCDate().toString().padStart(2,"0"),ln.getUTCHours().toString().padStart(2,"0"),ln.getUTCMinutes().toString().padStart(2,"0"),ln.getUTCSeconds().toString().padStart(2,"0")].join("")}class Tn{constructor(){Gt(this,Ln,!1);this.promise=new Promise((Kt,qt)=>{this.resolve=xn=>{Xt(this,Ln,!0),Kt(xn)},this.reject=xn=>{Xt(this,Ln,!0),qt(xn)}})}get settled(){return at(this,Ln)}}Ln=new WeakMap,s.PromiseCapability=Tn;let _n=null,Mn=null;function yn(ln){return _n||(_n=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Mn=new Map([["","t"]])),ln.replaceAll(_n,(Kt,qt,xn)=>qt?qt.normalize("NFKC"):Mn.get(xn))}function wn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ln=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ln);else for(let Kt=0;Kt<32;Kt++)ln[Kt]=Math.floor(Math.random()*255);return Yt(ln)}const Pn="pdfjs_internal_id_";s.AnnotationPrefix=Pn},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var e,i,o,a,Kn,or,g,h,b,_,j,et,nt,st,rt,ar,_e,$,br,lt,it;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ct){if(typeof ct=="string"||ct instanceof URL?ct={url:ct}:(0,_util.isArrayBuffer)(ct)&&(ct={data:ct}),typeof ct!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ct.url&&!ct.data&&!ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ut=new PDFDocumentLoadingTask,{docId:mt}=ut,bt=ct.url?getUrlProp(ct.url):null,ft=ct.data?getDataProp(ct.data):null,yt=ct.httpHeaders||null,St=ct.withCredentials===!0,Dt=ct.password??null,Mt=ct.range instanceof PDFDataRangeTransport?ct.range:null,It=Number.isInteger(ct.rangeChunkSize)&&ct.rangeChunkSize>0?ct.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let kt=ct.worker instanceof PDFWorker?ct.worker:null;const Ct=ct.verbosity,xt=typeof ct.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ct.docBaseUrl)?ct.docBaseUrl:null,_t=typeof ct.cMapUrl=="string"?ct.cMapUrl:null,Lt=ct.cMapPacked!==!1,vt=ct.CMapReaderFactory||DefaultCMapReaderFactory,pt=typeof ct.standardFontDataUrl=="string"?ct.standardFontDataUrl:null,ht=ct.StandardFontDataFactory||DefaultStandardFontDataFactory,gt=ct.stopAtErrors!==!0,At=Number.isInteger(ct.maxImageSize)&&ct.maxImageSize>-1?ct.maxImageSize:-1,Rt=ct.isEvalSupported!==!1,Tt=typeof ct.isOffscreenCanvasSupported=="boolean"?ct.isOffscreenCanvasSupported:!_util.isNodeJS,Ot=Number.isInteger(ct.canvasMaxAreaInBytes)?ct.canvasMaxAreaInBytes:-1,Wt=typeof ct.disableFontFace=="boolean"?ct.disableFontFace:_util.isNodeJS,Yt=ct.fontExtraProperties===!0,Jt=ct.enableXfa===!0,rn=ct.ownerDocument||globalThis.document,nn=ct.disableRange===!0,sn=ct.disableStream===!0,zt=ct.disableAutoFetch===!0,Ut=ct.pdfBug===!0,Et=Mt?Mt.length:ct.length??NaN,Pt=typeof ct.useSystemFonts=="boolean"?ct.useSystemFonts:!_util.isNodeJS&&!Wt,Vt=typeof ct.useWorkerFetch=="boolean"?ct.useWorkerFetch:vt===_display_utils.DOMCMapReaderFactory&&ht===_display_utils.DOMStandardFontDataFactory&&_t&&pt&&(0,_display_utils.isValidFetchUrl)(_t,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(pt,document.baseURI),Ht=ct.canvasFactory||new DefaultCanvasFactory({ownerDocument:rn}),en=ct.filterFactory||new DefaultFilterFactory({docId:mt,ownerDocument:rn}),un=null;(0,_util.setVerbosityLevel)(Ct);const an={canvasFactory:Ht,filterFactory:en};if(Vt||(an.cMapReaderFactory=new vt({baseUrl:_t,isCompressed:Lt}),an.standardFontDataFactory=new ht({baseUrl:pt})),!kt){const hn={verbosity:Ct,port:_worker_options.GlobalWorkerOptions.workerPort};kt=hn.port?PDFWorker.fromPort(hn):new PDFWorker(hn),ut._worker=kt}const $t={docId:mt,apiVersion:"3.11.174",data:ft,password:Dt,disableAutoFetch:zt,rangeChunkSize:It,length:Et,docBaseUrl:xt,enableXfa:Jt,evaluatorOptions:{maxImageSize:At,disableFontFace:Wt,ignoreErrors:gt,isEvalSupported:Rt,isOffscreenCanvasSupported:Tt,canvasMaxAreaInBytes:Ot,fontExtraProperties:Yt,useSystemFonts:Pt,cMapUrl:Vt?_t:null,standardFontDataUrl:Vt?pt:null}},pn={ignoreErrors:gt,isEvalSupported:Rt,disableFontFace:Wt,fontExtraProperties:Yt,enableXfa:Jt,ownerDocument:rn,disableAutoFetch:zt,pdfBug:Ut,styleElement:un};return kt.promise.then(function(){if(ut.destroyed)throw new Error("Loading aborted");const hn=_fetchDocument(kt,$t),Tn=new Promise(function(_n){let Mn;Mt?Mn=new _transport_stream.PDFDataTransportStream({length:Et,initialData:Mt.initialData,progressiveDone:Mt.progressiveDone,contentDispositionFilename:Mt.contentDispositionFilename,disableRange:nn,disableStream:sn},Mt):ft||(Mn=(wn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(wn):(0,_display_utils.isValidFetchUrl)(wn.url)?new _displayFetch_stream.PDFFetchStream(wn):new _displayNetwork.PDFNetworkStream(wn))({url:bt,length:Et,httpHeaders:yt,withCredentials:St,rangeChunkSize:It,disableRange:nn,disableStream:sn})),_n(Mn)});return Promise.all([hn,Tn]).then(function([_n,Mn]){if(ut.destroyed)throw new Error("Loading aborted");const yn=new _message_handler.MessageHandler(mt,_n,kt.port),wn=new WorkerTransport(yn,ut,Mn,pn,an);ut._transport=wn,yn.send("Ready",null)})}).catch(ut._capability.reject),ut}async function _fetchDocument(ct,ut){if(ct.destroyed)throw new Error("Worker was destroyed");const mt=await ct.messageHandler.sendWithPromise("GetDocRequest",ut,ut.data?[ut.data.buffer]:null);if(ct.destroyed)throw new Error("Worker was destroyed");return mt}function getUrlProp(ct){if(ct instanceof URL)return ct.href;try{return new URL(ct,window.location).href}catch{if(_util.isNodeJS&&typeof ct=="string")return ct}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ct){if(_util.isNodeJS&&typeof Buffer<"u"&&ct instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ct instanceof Uint8Array&&ct.byteLength===ct.buffer.byteLength)return ct;if(typeof ct=="string")return(0,_util.stringToBytes)(ct);if(typeof ct=="object"&&!isNaN(ct==null?void 0:ct.length)||(0,_util.isArrayBuffer)(ct))return new Uint8Array(ct);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Zn(s,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ut,mt,bt;this.destroyed=!0;try{(ut=this._worker)!=null&&ut.port&&(this._worker._pendingDestroy=!0),await((mt=this._transport)==null?void 0:mt.destroy())}catch(ft){throw(bt=this._worker)!=null&&bt.port&&delete this._worker._pendingDestroy,ft}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Gt(s,e,0);let PDFDocumentLoadingTask=s;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ut,mt,bt=!1,ft=null){this.length=ut,this.initialData=mt,this.progressiveDone=bt,this.contentDispositionFilename=ft,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ut){this._rangeListeners.push(ut)}addProgressListener(ut){this._progressListeners.push(ut)}addProgressiveReadListener(ut){this._progressiveReadListeners.push(ut)}addProgressiveDoneListener(ut){this._progressiveDoneListeners.push(ut)}onDataRange(ut,mt){for(const bt of this._rangeListeners)bt(ut,mt)}onDataProgress(ut,mt){this._readyCapability.promise.then(()=>{for(const bt of this._progressListeners)bt(ut,mt)})}onDataProgressiveRead(ut){this._readyCapability.promise.then(()=>{for(const mt of this._progressiveReadListeners)mt(ut)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ut of this._progressiveDoneListeners)ut()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ut,mt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ut,mt){this._pdfInfo=ut,this._transport=mt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(bt=>{if(!bt)return bt;const ft=[];for(const yt in bt)ft.push(...bt[yt]);return ft}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ut){return this._transport.getPage(ut)}getPageIndex(ut){return this._transport.getPageIndex(ut)}getDestinations(){return this._transport.getDestinations()}getDestination(ut){return this._transport.getDestination(ut)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ut=!1){return this._transport.startCleanup(ut||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ut,mt,bt,ft=!1){Gt(this,a);Gt(this,i,null);Gt(this,o,!1);this._pageIndex=ut,this._pageInfo=mt,this._transport=bt,this._stats=ft?new _display_utils.StatTimer:null,this._pdfBug=ft,this.commonObjs=bt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ut,rotation:mt=this.rotate,offsetX:bt=0,offsetY:ft=0,dontFlip:yt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ut,rotation:mt,offsetX:bt,offsetY:ft,dontFlip:yt})}getAnnotations({intent:ut="display"}={}){const mt=this._transport.getRenderingIntent(ut);return this._transport.getAnnotations(this._pageIndex,mt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ut;return((ut=this._transport._htmlForXfa)==null?void 0:ut.children[this._pageIndex])||null}render({canvasContext:ut,viewport:mt,intent:bt="display",annotationMode:ft=_util.AnnotationMode.ENABLE,transform:yt=null,background:St=null,optionalContentConfigPromise:Dt=null,annotationCanvasMap:Mt=null,pageColors:It=null,printAnnotationStorage:kt=null}){var ht,gt;(ht=this._stats)==null||ht.time("Overall");const Ct=this._transport.getRenderingIntent(bt,ft,kt);Xt(this,o,!1),Bt(this,a,or).call(this),Dt||(Dt=this._transport.getOptionalContentConfig());let xt=this._intentStates.get(Ct.cacheKey);xt||(xt=Object.create(null),this._intentStates.set(Ct.cacheKey,xt)),xt.streamReaderCancelTimeout&&(clearTimeout(xt.streamReaderCancelTimeout),xt.streamReaderCancelTimeout=null);const _t=!!(Ct.renderingIntent&_util.RenderingIntentFlag.PRINT);xt.displayReadyCapability||(xt.displayReadyCapability=new _util.PromiseCapability,xt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(gt=this._stats)==null||gt.time("Page Request"),this._pumpOperatorList(Ct));const Lt=At=>{var Rt,Tt;xt.renderTasks.delete(vt),(this._maybeCleanupAfterRender||_t)&&Xt(this,o,!0),Bt(this,a,Kn).call(this,!_t),At?(vt.capability.reject(At),this._abortOperatorList({intentState:xt,reason:At instanceof Error?At:new Error(At)})):vt.capability.resolve(),(Rt=this._stats)==null||Rt.timeEnd("Rendering"),(Tt=this._stats)==null||Tt.timeEnd("Overall")},vt=new InternalRenderTask({callback:Lt,params:{canvasContext:ut,viewport:mt,transform:yt,background:St},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Mt,operatorList:xt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_t,pdfBug:this._pdfBug,pageColors:It});(xt.renderTasks||(xt.renderTasks=new Set)).add(vt);const pt=vt.task;return Promise.all([xt.displayReadyCapability.promise,Dt]).then(([At,Rt])=>{var Tt;if(this.destroyed){Lt();return}(Tt=this._stats)==null||Tt.time("Rendering"),vt.initializeGraphics({transparency:At,optionalContentConfig:Rt}),vt.operatorListChanged()}).catch(Lt),pt}getOperatorList({intent:ut="display",annotationMode:mt=_util.AnnotationMode.ENABLE,printAnnotationStorage:bt=null}={}){var Mt;function ft(){St.operatorList.lastChunk&&(St.opListReadCapability.resolve(St.operatorList),St.renderTasks.delete(Dt))}const yt=this._transport.getRenderingIntent(ut,mt,bt,!0);let St=this._intentStates.get(yt.cacheKey);St||(St=Object.create(null),this._intentStates.set(yt.cacheKey,St));let Dt;return St.opListReadCapability||(Dt=Object.create(null),Dt.operatorListChanged=ft,St.opListReadCapability=new _util.PromiseCapability,(St.renderTasks||(St.renderTasks=new Set)).add(Dt),St.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Mt=this._stats)==null||Mt.time("Page Request"),this._pumpOperatorList(yt)),St.opListReadCapability.promise}streamTextContent({includeMarkedContent:ut=!1,disableNormalization:mt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ut===!0,disableNormalization:mt===!0},{highWaterMark:100,size(ft){return ft.items.length}})}getTextContent(ut={}){if(this._transport._htmlForXfa)return this.getXfa().then(bt=>_xfa_text.XfaText.textContent(bt));const mt=this.streamTextContent(ut);return new Promise(function(bt,ft){function yt(){St.read().then(function({value:Mt,done:It}){if(It){bt(Dt);return}Object.assign(Dt.styles,Mt.styles),Dt.items.push(...Mt.items),yt()},ft)}const St=mt.getReader(),Dt={items:[],styles:Object.create(null)};yt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ut=[];for(const mt of this._intentStates.values())if(this._abortOperatorList({intentState:mt,reason:new Error("Page was destroyed."),force:!0}),!mt.opListReadCapability)for(const bt of mt.renderTasks)ut.push(bt.completed),bt.cancel();return this.objs.clear(),Xt(this,o,!1),Bt(this,a,or).call(this),Promise.all(ut)}cleanup(ut=!1){Xt(this,o,!0);const mt=Bt(this,a,Kn).call(this,!1);return ut&&mt&&this._stats&&(this._stats=new _display_utils.StatTimer),mt}_startRenderPage(ut,mt){var ft,yt;const bt=this._intentStates.get(mt);bt&&((ft=this._stats)==null||ft.timeEnd("Page Request"),(yt=bt.displayReadyCapability)==null||yt.resolve(ut))}_renderPageChunk(ut,mt){for(let bt=0,ft=ut.length;bt<ft;bt++)mt.operatorList.fnArray.push(ut.fnArray[bt]),mt.operatorList.argsArray.push(ut.argsArray[bt]);mt.operatorList.lastChunk=ut.lastChunk,mt.operatorList.separateAnnots=ut.separateAnnots;for(const bt of mt.renderTasks)bt.operatorListChanged();ut.lastChunk&&Bt(this,a,Kn).call(this,!0)}_pumpOperatorList({renderingIntent:ut,cacheKey:mt,annotationStorageSerializable:bt}){const{map:ft,transfers:yt}=bt,Dt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ut,cacheKey:mt,annotationStorage:ft},yt).getReader(),Mt=this._intentStates.get(mt);Mt.streamReader=Dt;const It=()=>{Dt.read().then(({value:kt,done:Ct})=>{if(Ct){Mt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(kt,Mt),It())},kt=>{if(Mt.streamReader=null,!this._transport.destroyed){if(Mt.operatorList){Mt.operatorList.lastChunk=!0;for(const Ct of Mt.renderTasks)Ct.operatorListChanged();Bt(this,a,Kn).call(this,!0)}if(Mt.displayReadyCapability)Mt.displayReadyCapability.reject(kt);else if(Mt.opListReadCapability)Mt.opListReadCapability.reject(kt);else throw kt}})};It()}_abortOperatorList({intentState:ut,reason:mt,force:bt=!1}){if(ut.streamReader){if(ut.streamReaderCancelTimeout&&(clearTimeout(ut.streamReaderCancelTimeout),ut.streamReaderCancelTimeout=null),!bt){if(ut.renderTasks.size>0)return;if(mt instanceof _display_utils.RenderingCancelledException){let ft=RENDERING_CANCELLED_TIMEOUT;mt.extraDelay>0&&mt.extraDelay<1e3&&(ft+=mt.extraDelay),ut.streamReaderCancelTimeout=setTimeout(()=>{ut.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ut,reason:mt,force:!0})},ft);return}}if(ut.streamReader.cancel(new _util.AbortException(mt.message)).catch(()=>{}),ut.streamReader=null,!this._transport.destroyed){for(const[ft,yt]of this._intentStates)if(yt===ut){this._intentStates.delete(ft);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,o=new WeakMap,a=new WeakSet,Kn=function(ut=!1){if(Bt(this,a,or).call(this),!at(this,o)||this.destroyed)return!1;if(ut)return Xt(this,i,setTimeout(()=>{Xt(this,i,null),Bt(this,a,Kn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:mt,operatorList:bt}of this._intentStates.values())if(mt.size>0||!bt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Xt(this,o,!1),!0},or=function(){at(this,i)&&(clearTimeout(at(this,i)),Xt(this,i,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Gt(this,g,new Set);Gt(this,h,Promise.resolve())}postMessage(ut,mt){const bt={data:structuredClone(ut,mt?{transfer:mt}:null)};at(this,h).then(()=>{for(const ft of at(this,g))ft.call(this,bt)})}addEventListener(ut,mt){at(this,g).add(mt)}removeEventListener(ut,mt){at(this,g).delete(mt)}terminate(){at(this,g).clear()}}g=new WeakMap,h=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ct=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;ct&&(PDFWorkerUtil.fallbackWorkerSrc=ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ct,ut){let mt;try{if(mt=new URL(ct),!mt.origin||mt.origin==="null")return!1}catch{return!1}const bt=new URL(ut,mt);return mt.origin===bt.origin},PDFWorkerUtil.createCDNWrapper=function(ct){const ut=`importScripts("${ct}");`;return URL.createObjectURL(new Blob([ut]))}}const _PDFWorker=class _PDFWorker{constructor({name:ct=null,port:ut=null,verbosity:mt=(0,_util.getVerbosityLevel)()}={}){var bt;if(this.name=ct,this.destroyed=!1,this.verbosity=mt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ut){if((bt=at(_PDFWorker,_))!=null&&bt.has(ut))throw new Error("Cannot use more than one PDFWorker per port.");(at(_PDFWorker,_)||Xt(_PDFWorker,_,new WeakMap)).set(ut,this),this._initializeFromPort(ut);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ct){this._port=ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ct)||(ct=PDFWorkerUtil.createCDNWrapper(new URL(ct,window.location).href));const ut=new Worker(ct),mt=new _message_handler.MessageHandler("main","worker",ut),bt=()=>{ut.removeEventListener("error",ft),mt.destroy(),ut.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ft=()=>{this._webWorker||bt()};ut.addEventListener("error",ft),mt.on("test",St=>{if(ut.removeEventListener("error",ft),this.destroyed){bt();return}St?(this._messageHandler=mt,this._port=ut,this._webWorker=ut,this._readyCapability.resolve(),mt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),mt.destroy(),ut.terminate())}),mt.on("ready",St=>{if(ut.removeEventListener("error",ft),this.destroyed){bt();return}try{yt()}catch{this._setupFakeWorker()}});const yt=()=>{const St=new Uint8Array;mt.send("test",St,[St.buffer])};yt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ut=new LoopbackPort;this._port=ut;const mt=`fake${PDFWorkerUtil.fakeWorkerId++}`,bt=new _message_handler.MessageHandler(mt+"_worker",mt,ut);ct.setup(bt,ut);const ft=new _message_handler.MessageHandler(mt,mt+"_worker",ut);this._messageHandler=ft,this._readyCapability.resolve(),ft.send("configure",{verbosity:this.verbosity})}).catch(ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ct.message}".`))})}destroy(){var ct;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ct=at(_PDFWorker,_))==null||ct.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ct){var mt;if(!(ct!=null&&ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ut=(mt=at(this,_))==null?void 0:mt.get(ct.port);if(ut){if(ut._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ut}return new _PDFWorker(ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ct;try{return((ct=globalThis.pdfjsWorker)==null?void 0:ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_=new WeakMap,Gt(_PDFWorker,_);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(ut,mt,bt,ft,yt){Gt(this,rt);Gt(this,j,new Map);Gt(this,et,new Map);Gt(this,nt,new Map);Gt(this,st,null);this.messageHandler=ut,this.loadingTask=mt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ft.ownerDocument,styleElement:ft.styleElement}),this._params=ft,this.canvasFactory=yt.canvasFactory,this.filterFactory=yt.filterFactory,this.cMapReaderFactory=yt.cMapReaderFactory,this.standardFontDataFactory=yt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=bt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ut,mt=_util.AnnotationMode.ENABLE,bt=null,ft=!1){let yt=_util.RenderingIntentFlag.DISPLAY,St=_annotation_storage.SerializableEmpty;switch(ut){case"any":yt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":yt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ut}`)}switch(mt){case _util.AnnotationMode.DISABLE:yt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:yt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:yt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,St=(yt&_util.RenderingIntentFlag.PRINT&&bt instanceof _annotation_storage.PrintAnnotationStorage?bt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${mt}`)}return ft&&(yt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:yt,cacheKey:`${yt}_${St.hash}`,annotationStorageSerializable:St}}destroy(){var bt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(bt=at(this,st))==null||bt.reject(new Error("Worker was destroyed during onPassword callback"));const ut=[];for(const ft of at(this,et).values())ut.push(ft._destroy());at(this,et).clear(),at(this,nt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const mt=this.messageHandler.sendWithPromise("Terminate",null);return ut.push(mt),Promise.all(ut).then(()=>{var ft;this.commonObjs.clear(),this.fontLoader.clear(),at(this,j).clear(),this.filterFactory.destroy(),(ft=this._networkStream)==null||ft.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ut,loadingTask:mt}=this;ut.on("GetReader",(bt,ft)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=yt=>{this._lastProgress={loaded:yt.loaded,total:yt.total}},ft.onPull=()=>{this._fullReader.read().then(function({value:yt,done:St}){if(St){ft.close();return}(0,_util.assert)(yt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ft.enqueue(new Uint8Array(yt),1,[yt])}).catch(yt=>{ft.error(yt)})},ft.onCancel=yt=>{this._fullReader.cancel(yt),ft.ready.catch(St=>{if(!this.destroyed)throw St})}}),ut.on("ReaderHeadersReady",bt=>{const ft=new _util.PromiseCapability,yt=this._fullReader;return yt.headersReady.then(()=>{var St;(!yt.isStreamingSupported||!yt.isRangeSupported)&&(this._lastProgress&&((St=mt.onProgress)==null||St.call(mt,this._lastProgress)),yt.onProgress=Dt=>{var Mt;(Mt=mt.onProgress)==null||Mt.call(mt,{loaded:Dt.loaded,total:Dt.total})}),ft.resolve({isStreamingSupported:yt.isStreamingSupported,isRangeSupported:yt.isRangeSupported,contentLength:yt.contentLength})},ft.reject),ft.promise}),ut.on("GetRangeReader",(bt,ft)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const yt=this._networkStream.getRangeReader(bt.begin,bt.end);if(!yt){ft.close();return}ft.onPull=()=>{yt.read().then(function({value:St,done:Dt}){if(Dt){ft.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ft.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{ft.error(St)})},ft.onCancel=St=>{yt.cancel(St),ft.ready.catch(Dt=>{if(!this.destroyed)throw Dt})}}),ut.on("GetDoc",({pdfInfo:bt})=>{this._numPages=bt.numPages,this._htmlForXfa=bt.htmlForXfa,delete bt.htmlForXfa,mt._capability.resolve(new PDFDocumentProxy(bt,this))}),ut.on("DocException",function(bt){let ft;switch(bt.name){case"PasswordException":ft=new _util.PasswordException(bt.message,bt.code);break;case"InvalidPDFException":ft=new _util.InvalidPDFException(bt.message);break;case"MissingPDFException":ft=new _util.MissingPDFException(bt.message);break;case"UnexpectedResponseException":ft=new _util.UnexpectedResponseException(bt.message,bt.status);break;case"UnknownErrorException":ft=new _util.UnknownErrorException(bt.message,bt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}mt._capability.reject(ft)}),ut.on("PasswordRequest",bt=>{if(Xt(this,st,new _util.PromiseCapability),mt.onPassword){const ft=yt=>{yt instanceof Error?at(this,st).reject(yt):at(this,st).resolve({password:yt})};try{mt.onPassword(ft,bt.code)}catch(yt){at(this,st).reject(yt)}}else at(this,st).reject(new _util.PasswordException(bt.message,bt.code));return at(this,st).promise}),ut.on("DataLoaded",bt=>{var ft;(ft=mt.onProgress)==null||ft.call(mt,{loaded:bt.length,total:bt.length}),this.downloadInfoCapability.resolve(bt)}),ut.on("StartRenderPage",bt=>{if(this.destroyed)return;at(this,et).get(bt.pageIndex)._startRenderPage(bt.transparency,bt.cacheKey)}),ut.on("commonobj",([bt,ft,yt])=>{var St;if(!this.destroyed&&!this.commonObjs.has(bt))switch(ft){case"Font":const Dt=this._params;if("error"in yt){const kt=yt.error;(0,_util.warn)(`Error during font loading: ${kt}`),this.commonObjs.resolve(bt,kt);break}const Mt=Dt.pdfBug&&((St=globalThis.FontInspector)!=null&&St.enabled)?(kt,Ct)=>globalThis.FontInspector.fontAdded(kt,Ct):null,It=new _font_loader.FontFaceObject(yt,{isEvalSupported:Dt.isEvalSupported,disableFontFace:Dt.disableFontFace,ignoreErrors:Dt.ignoreErrors,inspectFont:Mt});this.fontLoader.bind(It).catch(kt=>ut.sendWithPromise("FontFallback",{id:bt})).finally(()=>{!Dt.fontExtraProperties&&It.data&&(It.data=null),this.commonObjs.resolve(bt,It)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(bt,yt);break;default:throw new Error(`Got unknown common object type ${ft}`)}}),ut.on("obj",([bt,ft,yt,St])=>{var Mt;if(this.destroyed)return;const Dt=at(this,et).get(ft);if(!Dt.objs.has(bt))switch(yt){case"Image":if(Dt.objs.resolve(bt,St),St){let It;if(St.bitmap){const{width:kt,height:Ct}=St;It=kt*Ct*4}else It=((Mt=St.data)==null?void 0:Mt.length)||0;It>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Dt._maybeCleanupAfterRender=!0)}break;case"Pattern":Dt.objs.resolve(bt,St);break;default:throw new Error(`Got unknown object type ${yt}`)}}),ut.on("DocProgress",bt=>{var ft;this.destroyed||(ft=mt.onProgress)==null||ft.call(mt,{loaded:bt.loaded,total:bt.total})}),ut.on("FetchBuiltInCMap",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(bt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ut.on("FetchStandardFontData",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(bt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var bt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ut,transfers:mt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ut,filename:((bt=this._fullReader)==null?void 0:bt.filename)??null},mt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ut){if(!Number.isInteger(ut)||ut<=0||ut>this._numPages)return Promise.reject(new Error("Invalid page request."));const mt=ut-1,bt=at(this,nt).get(mt);if(bt)return bt;const ft=this.messageHandler.sendWithPromise("GetPage",{pageIndex:mt}).then(yt=>{if(this.destroyed)throw new Error("Transport destroyed");const St=new PDFPageProxy(mt,yt,this,this._params.pdfBug);return at(this,et).set(mt,St),St});return at(this,nt).set(mt,ft),ft}getPageIndex(ut){return typeof ut!="object"||ut===null||!Number.isInteger(ut.num)||ut.num<0||!Number.isInteger(ut.gen)||ut.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ut.num,gen:ut.gen})}getAnnotations(ut,mt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ut,intent:mt})}getFieldObjects(){return Bt(this,rt,ar).call(this,"GetFieldObjects")}hasJSActions(){return Bt(this,rt,ar).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ut){return typeof ut!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ut})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Bt(this,rt,ar).call(this,"GetDocJSActions")}getPageJSActions(ut){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ut})}getStructTree(ut){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ut})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ut=>new _optional_content_config.OptionalContentConfig(ut))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ut="GetMetadata",mt=at(this,j).get(ut);if(mt)return mt;const bt=this.messageHandler.sendWithPromise(ut,null).then(ft=>{var yt,St;return{info:ft[0],metadata:ft[1]?new _metadata.Metadata(ft[1]):null,contentDispositionFilename:((yt=this._fullReader)==null?void 0:yt.filename)??null,contentLength:((St=this._fullReader)==null?void 0:St.contentLength)??null}});return at(this,j).set(ut,bt),bt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ut=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const mt of at(this,et).values())if(!mt.cleanup())throw new Error(`startCleanup: Page ${mt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ut||this.fontLoader.clear(),at(this,j).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ut,enableXfa:mt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ut,enableXfa:mt})}}j=new WeakMap,et=new WeakMap,nt=new WeakMap,st=new WeakMap,rt=new WeakSet,ar=function(ut,mt=null){const bt=at(this,j).get(ut);if(bt)return bt;const ft=this.messageHandler.sendWithPromise(ut,mt);return at(this,j).set(ut,ft),ft};class PDFObjects{constructor(){Gt(this,$);Gt(this,_e,Object.create(null))}get(ut,mt=null){if(mt){const ft=Bt(this,$,br).call(this,ut);return ft.capability.promise.then(()=>mt(ft.data)),null}const bt=at(this,_e)[ut];if(!(bt!=null&&bt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ut}.`);return bt.data}has(ut){const mt=at(this,_e)[ut];return(mt==null?void 0:mt.capability.settled)||!1}resolve(ut,mt=null){const bt=Bt(this,$,br).call(this,ut);bt.data=mt,bt.capability.resolve()}clear(){var ut;for(const mt in at(this,_e)){const{data:bt}=at(this,_e)[mt];(ut=bt==null?void 0:bt.bitmap)==null||ut.close()}Xt(this,_e,Object.create(null))}}_e=new WeakMap,$=new WeakSet,br=function(ut){var mt;return(mt=at(this,_e))[ut]||(mt[ut]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ut){Gt(this,lt,null);Xt(this,lt,ut),this.onContinue=null}get promise(){return at(this,lt).capability.promise}cancel(ut=0){at(this,lt).cancel(null,ut)}get separateAnnots(){const{separateAnnots:ut}=at(this,lt).operatorList;if(!ut)return!1;const{annotationCanvasMap:mt}=at(this,lt);return ut.form||ut.canvas&&(mt==null?void 0:mt.size)>0}}lt=new WeakMap,exports$1.RenderTask=RenderTask;const dt=class dt{constructor({callback:ut,params:mt,objs:bt,commonObjs:ft,annotationCanvasMap:yt,operatorList:St,pageIndex:Dt,canvasFactory:Mt,filterFactory:It,useRequestAnimationFrame:kt=!1,pdfBug:Ct=!1,pageColors:xt=null}){this.callback=ut,this.params=mt,this.objs=bt,this.commonObjs=ft,this.annotationCanvasMap=yt,this.operatorListIdx=null,this.operatorList=St,this._pageIndex=Dt,this.canvasFactory=Mt,this.filterFactory=It,this._pdfBug=Ct,this.pageColors=xt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=mt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ut=!1,optionalContentConfig:mt}){var Dt,Mt;if(this.cancelled)return;if(this._canvas){if(at(dt,it).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");at(dt,it).add(this._canvas)}this._pdfBug&&((Dt=globalThis.StepperManager)!=null&&Dt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:bt,viewport:ft,transform:yt,background:St}=this.params;this.gfx=new _canvas.CanvasGraphics(bt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:mt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:yt,viewport:ft,transparency:ut,background:St}),this.operatorListIdx=0,this.graphicsReady=!0,(Mt=this.graphicsReadyCallback)==null||Mt.call(this)}cancel(ut=null,mt=0){var bt;this.running=!1,this.cancelled=!0,(bt=this.gfx)==null||bt.endDrawing(),at(dt,it).delete(this._canvas),this.callback(ut||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,mt))}operatorListChanged(){var ut;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ut=this.stepper)==null||ut.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),at(dt,it).delete(this._canvas),this.callback())))}};it=new WeakMap,Gt(dt,it,new WeakSet);let InternalRenderTask=dt;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},(e,s,i)=>{var b,_,j,rs,nt;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var o=i(1),a=i(4),c=i(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=d;class g{constructor(){Gt(this,j);Gt(this,b,!1);Gt(this,_,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(rt,tt){const _e=at(this,_).get(rt);return _e===void 0?tt:Object.assign(tt,_e)}getRawValue(rt){return at(this,_).get(rt)}remove(rt){if(at(this,_).delete(rt),at(this,_).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const tt of at(this,_).values())if(tt instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(rt,tt){const _e=at(this,_).get(rt);let $=!1;if(_e!==void 0)for(const[ot,lt]of Object.entries(tt))_e[ot]!==lt&&($=!0,_e[ot]=lt);else $=!0,at(this,_).set(rt,tt);$&&Bt(this,j,rs).call(this),tt instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(tt.constructor._type)}has(rt){return at(this,_).has(rt)}getAll(){return at(this,_).size>0?(0,o.objectFromMap)(at(this,_)):null}setAll(rt){for(const[tt,_e]of Object.entries(rt))this.setValue(tt,_e)}get size(){return at(this,_).size}resetModified(){at(this,b)&&(Xt(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(at(this,_).size===0)return d;const rt=new Map,tt=new c.MurmurHash3_64,_e=[],$=Object.create(null);let ot=!1;for(const[lt,it]of at(this,_)){const dt=it instanceof a.AnnotationEditor?it.serialize(!1,$):it;dt&&(rt.set(lt,dt),tt.update(`${lt}:${JSON.stringify(dt)}`),ot||(ot=!!dt.bitmap))}if(ot)for(const lt of rt.values())lt.bitmap&&_e.push(lt.bitmap);return rt.size>0?{map:rt,hash:tt.hexdigest(),transfers:_e}:d}}b=new WeakMap,_=new WeakMap,j=new WeakSet,rs=function(){at(this,b)||(Xt(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=g;class h extends g{constructor(tt){super();Gt(this,nt);const{map:_e,hash:$,transfers:ot}=tt.serializable,lt=structuredClone(_e,ot?{transfer:ot}:null);Xt(this,nt,{map:lt,hash:$,transfers:ot})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return at(this,nt)}}nt=new WeakMap,s.PrintAnnotationStorage=h},(e,s,i)=>{var h,b,_,j,et,nt,st,rt,tt,_e,$,ot,lt,it,dt,Sr,wr,mt,Rr,Ar,ss,os,as,_r,ls;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var o=i(5),a=i(1),c=i(6);const kt=class kt{constructor(xt){Gt(this,dt);Gt(this,h,"");Gt(this,b,!1);Gt(this,_,null);Gt(this,j,null);Gt(this,et,null);Gt(this,nt,!1);Gt(this,st,null);Gt(this,rt,this.focusin.bind(this));Gt(this,tt,this.focusout.bind(this));Gt(this,_e,!1);Gt(this,$,!1);Gt(this,ot,!1);On(this,"_initialOptions",Object.create(null));On(this,"_uiManager",null);On(this,"_focusEventsAllowed",!0);On(this,"_l10nPromise",null);Gt(this,lt,!1);Gt(this,it,kt._zIndex++);this.constructor===kt&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=xt.parent,this.id=xt.id,this.width=this.height=null,this.pageIndex=xt.parent.pageIndex,this.name=xt.name,this.div=null,this._uiManager=xt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=xt.isCentered,this._structTreeParentId=null;const{rotation:_t,rawDims:{pageWidth:Lt,pageHeight:vt,pageX:pt,pageY:ht}}=this.parent.viewport;this.rotation=_t,this.pageRotation=(360+_t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Lt,vt],this.pageTranslation=[pt,ht];const[gt,At]=this.parentDimensions;this.x=xt.x/gt,this.y=xt.y/At,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(xt){const _t=new g({id:xt.parent.getNextId(),parent:xt.parent,uiManager:xt._uiManager});_t.annotationElementId=xt.annotationElementId,_t.deleted=!0,_t._uiManager.addToAnnotationStorage(_t)}static initialize(xt,_t=null){if(kt._l10nPromise||(kt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(vt=>[vt,xt.get(vt)]))),_t!=null&&_t.strings)for(const vt of _t.strings)kt._l10nPromise.set(vt,xt.get(vt));if(kt._borderLineWidth!==-1)return;const Lt=getComputedStyle(document.documentElement);kt._borderLineWidth=parseFloat(Lt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(xt,_t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(xt){return!1}static paste(xt,_t){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return at(this,lt)}set _isDraggable(xt){var _t;Xt(this,lt,xt),(_t=this.div)==null||_t.classList.toggle("draggable",xt)}center(){const[xt,_t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*_t/(xt*2),this.y+=this.width*xt/(_t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*_t/(xt*2),this.y-=this.width*xt/(_t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(xt){this._uiManager.addCommands(xt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=at(this,it)}setParent(xt){xt!==null&&(this.pageIndex=xt.pageIndex,this.pageDimensions=xt.pageDimensions),this.parent=xt}focusin(xt){this._focusEventsAllowed&&(at(this,_e)?Xt(this,_e,!1):this.parent.setSelected(this))}focusout(xt){var Lt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const _t=xt.relatedTarget;_t!=null&&_t.closest(`#${this.id}`)||(xt.preventDefault(),(Lt=this.parent)!=null&&Lt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(xt,_t,Lt,vt){const[pt,ht]=this.parentDimensions;[Lt,vt]=this.screenToPageTranslation(Lt,vt),this.x=(xt+Lt)/pt,this.y=(_t+vt)/ht,this.fixAndSetPosition()}translate(xt,_t){Bt(this,dt,Sr).call(this,this.parentDimensions,xt,_t)}translateInPage(xt,_t){Bt(this,dt,Sr).call(this,this.pageDimensions,xt,_t),this.div.scrollIntoView({block:"nearest"})}drag(xt,_t){const[Lt,vt]=this.parentDimensions;if(this.x+=xt/Lt,this.y+=_t/vt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Rt,y:Tt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Rt,Tt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:pt,y:ht}=this;const[gt,At]=Bt(this,dt,wr).call(this);pt+=gt,ht+=At,this.div.style.left=`${(100*pt).toFixed(2)}%`,this.div.style.top=`${(100*ht).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[xt,_t]=this.pageDimensions;let{x:Lt,y:vt,width:pt,height:ht}=this;switch(pt*=xt,ht*=_t,Lt*=xt,vt*=_t,this.rotation){case 0:Lt=Math.max(0,Math.min(xt-pt,Lt)),vt=Math.max(0,Math.min(_t-ht,vt));break;case 90:Lt=Math.max(0,Math.min(xt-ht,Lt)),vt=Math.min(_t,Math.max(pt,vt));break;case 180:Lt=Math.min(xt,Math.max(pt,Lt)),vt=Math.min(_t,Math.max(ht,vt));break;case 270:Lt=Math.min(xt,Math.max(ht,Lt)),vt=Math.max(0,Math.min(_t-pt,vt));break}this.x=Lt/=xt,this.y=vt/=_t;const[gt,At]=Bt(this,dt,wr).call(this);Lt+=gt,vt+=At;const{style:Rt}=this.div;Rt.left=`${(100*Lt).toFixed(2)}%`,Rt.top=`${(100*vt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(xt,_t){var Lt;return Bt(Lt=kt,mt,Rr).call(Lt,xt,_t,this.parentRotation)}pageTranslationToScreen(xt,_t){var Lt;return Bt(Lt=kt,mt,Rr).call(Lt,xt,_t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:xt,pageDimensions:[_t,Lt]}=this,vt=_t*xt,pt=Lt*xt;return a.FeatureTest.isCSSRoundSupported?[Math.round(vt),Math.round(pt)]:[vt,pt]}setDims(xt,_t){var pt;const[Lt,vt]=this.parentDimensions;this.div.style.width=`${(100*xt/Lt).toFixed(2)}%`,at(this,nt)||(this.div.style.height=`${(100*_t/vt).toFixed(2)}%`),(pt=at(this,_))==null||pt.classList.toggle("small",xt<kt.SMALL_EDITOR_SIZE||_t<kt.SMALL_EDITOR_SIZE)}fixDims(){const{style:xt}=this.div,{height:_t,width:Lt}=xt,vt=Lt.endsWith("%"),pt=!at(this,nt)&&_t.endsWith("%");if(vt&&pt)return;const[ht,gt]=this.parentDimensions;vt||(xt.width=`${(100*parseFloat(Lt)/ht).toFixed(2)}%`),!at(this,nt)&&!pt&&(xt.height=`${(100*parseFloat(_t)/gt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(at(this,_))return;const xt=Xt(this,_,document.createElement("button"));xt.className="altText";const _t=await kt._l10nPromise.get("editor_alt_text_button_label");xt.textContent=_t,xt.setAttribute("aria-label",_t),xt.tabIndex="0",xt.addEventListener("contextmenu",c.noContextMenu),xt.addEventListener("pointerdown",Lt=>Lt.stopPropagation()),xt.addEventListener("click",Lt=>{Lt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),xt.addEventListener("keydown",Lt=>{Lt.target===xt&&Lt.key==="Enter"&&(Lt.preventDefault(),this._uiManager.editAltText(this))}),Bt(this,dt,_r).call(this),this.div.append(xt),kt.SMALL_EDITOR_SIZE||(kt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(xt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:at(this,h),decorative:at(this,b)}}set altTextData({altText:xt,decorative:_t}){at(this,h)===xt&&at(this,b)===_t||(Xt(this,h,xt),Xt(this,b,_t),Bt(this,dt,_r).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",at(this,rt)),this.div.addEventListener("focusout",at(this,tt));const[xt,_t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*_t/xt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*xt/_t).toFixed(2)}%`);const[Lt,vt]=this.getInitialTranslation();return this.translate(Lt,vt),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(xt){const{isMac:_t}=a.FeatureTest.platform;if(xt.button!==0||xt.ctrlKey&&_t){xt.preventDefault();return}Xt(this,_e,!0),Bt(this,dt,ls).call(this,xt)}moveInDOM(){var xt;(xt=this.parent)==null||xt.moveEditorInDOM(this)}_setParentAndPosition(xt,_t,Lt){xt.changeParent(this),this.x=_t,this.y=Lt,this.fixAndSetPosition()}getRect(xt,_t){const Lt=this.parentScale,[vt,pt]=this.pageDimensions,[ht,gt]=this.pageTranslation,At=xt/Lt,Rt=_t/Lt,Tt=this.x*vt,Ot=this.y*pt,Wt=this.width*vt,Yt=this.height*pt;switch(this.rotation){case 0:return[Tt+At+ht,pt-Ot-Rt-Yt+gt,Tt+At+Wt+ht,pt-Ot-Rt+gt];case 90:return[Tt+Rt+ht,pt-Ot+At+gt,Tt+Rt+Yt+ht,pt-Ot+At+Wt+gt];case 180:return[Tt-At-Wt+ht,pt-Ot+Rt+gt,Tt-At+ht,pt-Ot+Rt+Yt+gt];case 270:return[Tt-Rt-Yt+ht,pt-Ot-At-Wt+gt,Tt-Rt+ht,pt-Ot-At+gt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(xt,_t){const[Lt,vt,pt,ht]=xt,gt=pt-Lt,At=ht-vt;switch(this.rotation){case 0:return[Lt,_t-ht,gt,At];case 90:return[Lt,_t-vt,At,gt];case 180:return[pt,_t-vt,gt,At];case 270:return[pt,_t-ht,At,gt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Xt(this,ot,!0)}disableEditMode(){Xt(this,ot,!1)}isInEditMode(){return at(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var xt,_t;(xt=this.div)==null||xt.addEventListener("focusin",at(this,rt)),(_t=this.div)==null||_t.addEventListener("focusout",at(this,tt))}serialize(xt=!1,_t=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(xt,_t,Lt){const vt=new this.prototype.constructor({parent:_t,id:_t.getNextId(),uiManager:Lt});vt.rotation=xt.rotation;const[pt,ht]=vt.pageDimensions,[gt,At,Rt,Tt]=vt.getRectInCurrentCoords(xt.rect,ht);return vt.x=gt/pt,vt.y=At/ht,vt.width=Rt/pt,vt.height=Tt/ht,vt}remove(){var xt;this.div.removeEventListener("focusin",at(this,rt)),this.div.removeEventListener("focusout",at(this,tt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(xt=at(this,_))==null||xt.remove(),Xt(this,_,null),Xt(this,j,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Bt(this,dt,ss).call(this),at(this,st).classList.remove("hidden"))}select(){var xt;this.makeResizable(),(xt=this.div)==null||xt.classList.add("selectedEditor")}unselect(){var xt,_t,Lt;(xt=at(this,st))==null||xt.classList.add("hidden"),(_t=this.div)==null||_t.classList.remove("selectedEditor"),(Lt=this.div)!=null&&Lt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(xt,_t){}disableEditing(){at(this,_)&&(at(this,_).hidden=!0)}enableEditing(){at(this,_)&&(at(this,_).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return at(this,$)}set isEditing(xt){Xt(this,$,xt),this.parent&&(xt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(xt,_t){Xt(this,nt,!0);const Lt=xt/_t,{style:vt}=this.div;vt.aspectRatio=Lt,vt.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,et=new WeakMap,nt=new WeakMap,st=new WeakMap,rt=new WeakMap,tt=new WeakMap,_e=new WeakMap,$=new WeakMap,ot=new WeakMap,lt=new WeakMap,it=new WeakMap,dt=new WeakSet,Sr=function([xt,_t],Lt,vt){[Lt,vt]=this.screenToPageTranslation(Lt,vt),this.x+=Lt/xt,this.y+=vt/_t,this.fixAndSetPosition()},wr=function(){const[xt,_t]=this.parentDimensions,{_borderLineWidth:Lt}=kt,vt=Lt/xt,pt=Lt/_t;switch(this.rotation){case 90:return[-vt,pt];case 180:return[vt,pt];case 270:return[vt,-pt];default:return[-vt,-pt]}},mt=new WeakSet,Rr=function(xt,_t,Lt){switch(Lt){case 90:return[_t,-xt];case 180:return[-xt,-_t];case 270:return[-_t,xt];default:return[xt,_t]}},Ar=function(xt){switch(xt){case 90:{const[_t,Lt]=this.pageDimensions;return[0,-_t/Lt,Lt/_t,0]}case 180:return[-1,0,0,-1];case 270:{const[_t,Lt]=this.pageDimensions;return[0,_t/Lt,-Lt/_t,0]}default:return[1,0,0,1]}},ss=function(){if(at(this,st))return;Xt(this,st,document.createElement("div")),at(this,st).classList.add("resizers");const xt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||xt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const _t of xt){const Lt=document.createElement("div");at(this,st).append(Lt),Lt.classList.add("resizer",_t),Lt.addEventListener("pointerdown",Bt(this,dt,os).bind(this,_t)),Lt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(at(this,st))},os=function(xt,_t){_t.preventDefault();const{isMac:Lt}=a.FeatureTest.platform;if(_t.button!==0||_t.ctrlKey&&Lt)return;const vt=Bt(this,dt,as).bind(this,xt),pt=this._isDraggable;this._isDraggable=!1;const ht={passive:!0,capture:!0};window.addEventListener("pointermove",vt,ht);const gt=this.x,At=this.y,Rt=this.width,Tt=this.height,Ot=this.parent.div.style.cursor,Wt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(_t.target).cursor;const Yt=()=>{this._isDraggable=pt,window.removeEventListener("pointerup",Yt),window.removeEventListener("blur",Yt),window.removeEventListener("pointermove",vt,ht),this.parent.div.style.cursor=Ot,this.div.style.cursor=Wt;const Jt=this.x,rn=this.y,nn=this.width,sn=this.height;Jt===gt&&rn===At&&nn===Rt&&sn===Tt||this.addCommands({cmd:()=>{this.width=nn,this.height=sn,this.x=Jt,this.y=rn;const[zt,Ut]=this.parentDimensions;this.setDims(zt*nn,Ut*sn),this.fixAndSetPosition()},undo:()=>{this.width=Rt,this.height=Tt,this.x=gt,this.y=At;const[zt,Ut]=this.parentDimensions;this.setDims(zt*Rt,Ut*Tt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Yt),window.addEventListener("blur",Yt)},as=function(xt,_t){const[Lt,vt]=this.parentDimensions,pt=this.x,ht=this.y,gt=this.width,At=this.height,Rt=kt.MIN_SIZE/Lt,Tt=kt.MIN_SIZE/vt,Ot=yn=>Math.round(yn*1e4)/1e4,Wt=Bt(this,dt,Ar).call(this,this.rotation),Yt=(yn,wn)=>[Wt[0]*yn+Wt[2]*wn,Wt[1]*yn+Wt[3]*wn],Jt=Bt(this,dt,Ar).call(this,360-this.rotation),rn=(yn,wn)=>[Jt[0]*yn+Jt[2]*wn,Jt[1]*yn+Jt[3]*wn];let nn,sn,zt=!1,Ut=!1;switch(xt){case"topLeft":zt=!0,nn=(yn,wn)=>[0,0],sn=(yn,wn)=>[yn,wn];break;case"topMiddle":nn=(yn,wn)=>[yn/2,0],sn=(yn,wn)=>[yn/2,wn];break;case"topRight":zt=!0,nn=(yn,wn)=>[yn,0],sn=(yn,wn)=>[0,wn];break;case"middleRight":Ut=!0,nn=(yn,wn)=>[yn,wn/2],sn=(yn,wn)=>[0,wn/2];break;case"bottomRight":zt=!0,nn=(yn,wn)=>[yn,wn],sn=(yn,wn)=>[0,0];break;case"bottomMiddle":nn=(yn,wn)=>[yn/2,wn],sn=(yn,wn)=>[yn/2,0];break;case"bottomLeft":zt=!0,nn=(yn,wn)=>[0,wn],sn=(yn,wn)=>[yn,0];break;case"middleLeft":Ut=!0,nn=(yn,wn)=>[0,wn/2],sn=(yn,wn)=>[yn,wn/2];break}const Et=nn(gt,At),Pt=sn(gt,At);let Vt=Yt(...Pt);const Ht=Ot(pt+Vt[0]),en=Ot(ht+Vt[1]);let un=1,an=1,[$t,pn]=this.screenToPageTranslation(_t.movementX,_t.movementY);if([$t,pn]=rn($t/Lt,pn/vt),zt){const yn=Math.hypot(gt,At);un=an=Math.max(Math.min(Math.hypot(Pt[0]-Et[0]-$t,Pt[1]-Et[1]-pn)/yn,1/gt,1/At),Rt/gt,Tt/At)}else Ut?un=Math.max(Rt,Math.min(1,Math.abs(Pt[0]-Et[0]-$t)))/gt:an=Math.max(Tt,Math.min(1,Math.abs(Pt[1]-Et[1]-pn)))/At;const hn=Ot(gt*un),Tn=Ot(At*an);Vt=Yt(...sn(hn,Tn));const _n=Ht-Vt[0],Mn=en-Vt[1];this.width=hn,this.height=Tn,this.x=_n,this.y=Mn,this.setDims(Lt*hn,vt*Tn),this.fixAndSetPosition()},_r=async function(){var Lt;const xt=at(this,_);if(!xt)return;if(!at(this,h)&&!at(this,b)){xt.classList.remove("done"),(Lt=at(this,j))==null||Lt.remove();return}kt._l10nPromise.get("editor_alt_text_edit_button_label").then(vt=>{xt.setAttribute("aria-label",vt)});let _t=at(this,j);if(!_t){Xt(this,j,_t=document.createElement("span")),_t.className="tooltip",_t.setAttribute("role","tooltip");const vt=_t.id=`alt-text-tooltip-${this.id}`;xt.setAttribute("aria-describedby",vt);const pt=100;xt.addEventListener("mouseenter",()=>{Xt(this,et,setTimeout(()=>{Xt(this,et,null),at(this,j).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},pt))}),xt.addEventListener("mouseleave",()=>{var ht;clearTimeout(at(this,et)),Xt(this,et,null),(ht=at(this,j))==null||ht.classList.remove("show")})}xt.classList.add("done"),_t.innerText=at(this,b)?await kt._l10nPromise.get("editor_alt_text_decorative_tooltip"):at(this,h),_t.parentNode||xt.append(_t)},ls=function(xt){if(!this._isDraggable)return;const _t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Lt,vt;_t&&(Lt={passive:!0,capture:!0},vt=ht=>{const[gt,At]=this.screenToPageTranslation(ht.movementX,ht.movementY);this._uiManager.dragSelectedEditors(gt,At)},window.addEventListener("pointermove",vt,Lt));const pt=()=>{if(window.removeEventListener("pointerup",pt),window.removeEventListener("blur",pt),_t&&window.removeEventListener("pointermove",vt,Lt),Xt(this,_e,!1),!this._uiManager.endDragSession()){const{isMac:ht}=a.FeatureTest.platform;xt.ctrlKey&&!ht||xt.shiftKey||xt.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",pt),window.addEventListener("blur",pt)},Gt(kt,mt),On(kt,"_borderLineWidth",-1),On(kt,"_colorManager",new o.ColorManager),On(kt,"_zIndex",1),On(kt,"SMALL_EDITOR_SIZE",0);let d=kt;s.AnnotationEditor=d;class g extends d{constructor(xt){super(xt),this.annotationElementId=xt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,s,i)=>{var nt,st,rt,tt,_e,jr,lt,it,dt,ct,ut,cs,ft,yt,St,Dt,Mt,It,kt,Ct,xt,_t,Lt,vt,pt,ht,gt,At,Rt,Tt,Ot,Wt,Yt,Jt,rn,nn,sn,zt,Ut,Et,Pt,Vt,Ht,en,un,an,$t,us,Tr,Cr,lr,Pr,kr,zn,Jn,ds,hs,Nr,er,Mr;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=c,s.opacityToHex=d;var o=i(1),a=i(6);function c(Nn,Nt,tn){for(const fn of tn)Nt.addEventListener(fn,Nn[fn].bind(Nn))}function d(Nn){return Math.round(Math.min(255,Math.max(1,255*Nn))).toString(16).padStart(2,"0")}class g{constructor(){Gt(this,nt,0)}getId(){return`${o.AnnotationEditorPrefix}${Zn(this,nt)._++}`}}nt=new WeakMap;const ot=class ot{constructor(){Gt(this,_e);Gt(this,st,(0,o.getUuid)());Gt(this,rt,0);Gt(this,tt,null)}static get _isSVGFittingCanvas(){const Nt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',fn=new OffscreenCanvas(1,3).getContext("2d"),bn=new Image;bn.src=Nt;const An=bn.decode().then(()=>(fn.drawImage(bn,0,0,1,1,0,0,1,3),new Uint32Array(fn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",An)}async getFromFile(Nt){const{lastModified:tn,name:fn,size:bn,type:An}=Nt;return Bt(this,_e,jr).call(this,`${tn}_${fn}_${bn}_${An}`,Nt)}async getFromUrl(Nt){return Bt(this,_e,jr).call(this,Nt,Nt)}async getFromId(Nt){at(this,tt)||Xt(this,tt,new Map);const tn=at(this,tt).get(Nt);return tn?tn.bitmap?(tn.refCounter+=1,tn):tn.file?this.getFromFile(tn.file):this.getFromUrl(tn.url):null}getSvgUrl(Nt){const tn=at(this,tt).get(Nt);return tn!=null&&tn.isSvg?tn.svgUrl:null}deleteId(Nt){at(this,tt)||Xt(this,tt,new Map);const tn=at(this,tt).get(Nt);tn&&(tn.refCounter-=1,tn.refCounter===0&&(tn.bitmap=null))}isValidId(Nt){return Nt.startsWith(`image_${at(this,st)}_`)}};st=new WeakMap,rt=new WeakMap,tt=new WeakMap,_e=new WeakSet,jr=async function(Nt,tn){at(this,tt)||Xt(this,tt,new Map);let fn=at(this,tt).get(Nt);if(fn===null)return null;if(fn!=null&&fn.bitmap)return fn.refCounter+=1,fn;try{fn||(fn={bitmap:null,id:`image_${at(this,st)}_${Zn(this,rt)._++}`,refCounter:0,isSvg:!1});let bn;if(typeof tn=="string"){fn.url=tn;const An=await fetch(tn);if(!An.ok)throw new Error(An.statusText);bn=await An.blob()}else bn=fn.file=tn;if(bn.type==="image/svg+xml"){const An=ot._isSVGFittingCanvas,gn=new FileReader,jt=new Image,wt=new Promise((Ft,Qt)=>{jt.onload=()=>{fn.bitmap=jt,fn.isSvg=!0,Ft()},gn.onload=async()=>{const Zt=fn.svgUrl=gn.result;jt.src=await An?`${Zt}#svgView(preserveAspectRatio(none))`:Zt},jt.onerror=gn.onerror=Qt});gn.readAsDataURL(bn),await wt}else fn.bitmap=await createImageBitmap(bn);fn.refCounter=1}catch(bn){console.error(bn),fn=null}return at(this,tt).set(Nt,fn),fn&&at(this,tt).set(fn.id,fn),fn};let h=ot;class b{constructor(Nt=128){Gt(this,lt,[]);Gt(this,it,!1);Gt(this,dt);Gt(this,ct,-1);Xt(this,dt,Nt)}add({cmd:Nt,undo:tn,mustExec:fn,type:bn=NaN,overwriteIfSameType:An=!1,keepUndo:gn=!1}){if(fn&&Nt(),at(this,it))return;const jt={cmd:Nt,undo:tn,type:bn};if(at(this,ct)===-1){at(this,lt).length>0&&(at(this,lt).length=0),Xt(this,ct,0),at(this,lt).push(jt);return}if(An&&at(this,lt)[at(this,ct)].type===bn){gn&&(jt.undo=at(this,lt)[at(this,ct)].undo),at(this,lt)[at(this,ct)]=jt;return}const wt=at(this,ct)+1;wt===at(this,dt)?at(this,lt).splice(0,1):(Xt(this,ct,wt),wt<at(this,lt).length&&at(this,lt).splice(wt)),at(this,lt).push(jt)}undo(){at(this,ct)!==-1&&(Xt(this,it,!0),at(this,lt)[at(this,ct)].undo(),Xt(this,it,!1),Xt(this,ct,at(this,ct)-1))}redo(){at(this,ct)<at(this,lt).length-1&&(Xt(this,ct,at(this,ct)+1),Xt(this,it,!0),at(this,lt)[at(this,ct)].cmd(),Xt(this,it,!1))}hasSomethingToUndo(){return at(this,ct)!==-1}hasSomethingToRedo(){return at(this,ct)<at(this,lt).length-1}destroy(){Xt(this,lt,null)}}lt=new WeakMap,it=new WeakMap,dt=new WeakMap,ct=new WeakMap,s.CommandManager=b;class _{constructor(Nt){Gt(this,ut);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:tn}=o.FeatureTest.platform;for(const[fn,bn,An={}]of Nt)for(const gn of fn){const jt=gn.startsWith("mac+");tn&&jt?(this.callbacks.set(gn.slice(4),{callback:bn,options:An}),this.allKeys.add(gn.split("+").at(-1))):!tn&&!jt&&(this.callbacks.set(gn,{callback:bn,options:An}),this.allKeys.add(gn.split("+").at(-1)))}}exec(Nt,tn){if(!this.allKeys.has(tn.key))return;const fn=this.callbacks.get(Bt(this,ut,cs).call(this,tn));if(!fn)return;const{callback:bn,options:{bubbles:An=!1,args:gn=[],checker:jt=null}}=fn;jt&&!jt(Nt,tn)||(bn.bind(Nt,...gn)(),An||(tn.stopPropagation(),tn.preventDefault()))}}ut=new WeakSet,cs=function(Nt){Nt.altKey&&this.buffer.push("alt"),Nt.ctrlKey&&this.buffer.push("ctrl"),Nt.metaKey&&this.buffer.push("meta"),Nt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Nt.key);const tn=this.buffer.join("+");return this.buffer.length=0,tn},s.KeyboardManager=_;const bt=class bt{get _colors(){const Nt=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Nt),(0,o.shadow)(this,"_colors",Nt)}convert(Nt){const tn=(0,a.getRGB)(Nt);if(!window.matchMedia("(forced-colors: active)").matches)return tn;for(const[fn,bn]of this._colors)if(bn.every((An,gn)=>An===tn[gn]))return bt._colorsMapping.get(fn);return tn}getHexCode(Nt){const tn=this._colors.get(Nt);return tn?o.Util.makeHexColor(...tn):Nt}};On(bt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let j=bt;s.ColorManager=j;const Dn=class Dn{constructor(Nt,tn,fn,bn,An,gn){Gt(this,$t);Gt(this,ft,null);Gt(this,yt,new Map);Gt(this,St,new Map);Gt(this,Dt,null);Gt(this,Mt,null);Gt(this,It,new b);Gt(this,kt,0);Gt(this,Ct,new Set);Gt(this,xt,null);Gt(this,_t,null);Gt(this,Lt,new Set);Gt(this,vt,null);Gt(this,pt,new g);Gt(this,ht,!1);Gt(this,gt,!1);Gt(this,At,null);Gt(this,Rt,o.AnnotationEditorType.NONE);Gt(this,Tt,new Set);Gt(this,Ot,null);Gt(this,Wt,this.blur.bind(this));Gt(this,Yt,this.focus.bind(this));Gt(this,Jt,this.copy.bind(this));Gt(this,rn,this.cut.bind(this));Gt(this,nn,this.paste.bind(this));Gt(this,sn,this.keydown.bind(this));Gt(this,zt,this.onEditingAction.bind(this));Gt(this,Ut,this.onPageChanging.bind(this));Gt(this,Et,this.onScaleChanging.bind(this));Gt(this,Pt,this.onRotationChanging.bind(this));Gt(this,Vt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Gt(this,Ht,[0,0]);Gt(this,en,null);Gt(this,un,null);Gt(this,an,null);Xt(this,un,Nt),Xt(this,an,tn),Xt(this,Dt,fn),this._eventBus=bn,this._eventBus._on("editingaction",at(this,zt)),this._eventBus._on("pagechanging",at(this,Ut)),this._eventBus._on("scalechanging",at(this,Et)),this._eventBus._on("rotationchanging",at(this,Pt)),Xt(this,Mt,An.annotationStorage),Xt(this,vt,An.filterFactory),Xt(this,Ot,gn),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Nt=Dn.prototype,tn=An=>{const{activeElement:gn}=document;return gn&&at(An,un).contains(gn)&&An.hasSomethingToControl()},fn=this.TRANSLATE_SMALL,bn=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],Nt.selectAll],[["ctrl+z","mac+meta+z"],Nt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Nt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Nt.delete],[["Escape","mac+Escape"],Nt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Nt.translateSelectedEditors,{args:[-fn,0],checker:tn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Nt.translateSelectedEditors,{args:[-bn,0],checker:tn}],[["ArrowRight","mac+ArrowRight"],Nt.translateSelectedEditors,{args:[fn,0],checker:tn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Nt.translateSelectedEditors,{args:[bn,0],checker:tn}],[["ArrowUp","mac+ArrowUp"],Nt.translateSelectedEditors,{args:[0,-fn],checker:tn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Nt.translateSelectedEditors,{args:[0,-bn],checker:tn}],[["ArrowDown","mac+ArrowDown"],Nt.translateSelectedEditors,{args:[0,fn],checker:tn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Nt.translateSelectedEditors,{args:[0,bn],checker:tn}]]))}destroy(){Bt(this,$t,lr).call(this),Bt(this,$t,Tr).call(this),this._eventBus._off("editingaction",at(this,zt)),this._eventBus._off("pagechanging",at(this,Ut)),this._eventBus._off("scalechanging",at(this,Et)),this._eventBus._off("rotationchanging",at(this,Pt));for(const Nt of at(this,St).values())Nt.destroy();at(this,St).clear(),at(this,yt).clear(),at(this,Lt).clear(),Xt(this,ft,null),at(this,Tt).clear(),at(this,It).destroy(),at(this,Dt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",at(this,Ot)?at(this,vt).addHCMFilter(at(this,Ot).foreground,at(this,Ot).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(at(this,un)).direction)}editAltText(Nt){var tn;(tn=at(this,Dt))==null||tn.editAltText(this,Nt)}onPageChanging({pageNumber:Nt}){Xt(this,kt,Nt-1)}focusMainContainer(){at(this,un).focus()}findParent(Nt,tn){for(const fn of at(this,St).values()){const{x:bn,y:An,width:gn,height:jt}=fn.div.getBoundingClientRect();if(Nt>=bn&&Nt<=bn+gn&&tn>=An&&tn<=An+jt)return fn}return null}disableUserSelect(Nt=!1){at(this,an).classList.toggle("noUserSelect",Nt)}addShouldRescale(Nt){at(this,Lt).add(Nt)}removeShouldRescale(Nt){at(this,Lt).delete(Nt)}onScaleChanging({scale:Nt}){this.commitOrRemove(),this.viewParameters.realScale=Nt*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const tn of at(this,Lt))tn.onScaleChanging()}onRotationChanging({pagesRotation:Nt}){this.commitOrRemove(),this.viewParameters.rotation=Nt}addToAnnotationStorage(Nt){!Nt.isEmpty()&&at(this,Mt)&&!at(this,Mt).has(Nt.id)&&at(this,Mt).setValue(Nt.id,Nt)}blur(){if(!this.hasSelection)return;const{activeElement:Nt}=document;for(const tn of at(this,Tt))if(tn.div.contains(Nt)){Xt(this,At,[tn,Nt]),tn._focusEventsAllowed=!1;break}}focus(){if(!at(this,At))return;const[Nt,tn]=at(this,At);Xt(this,At,null),tn.addEventListener("focusin",()=>{Nt._focusEventsAllowed=!0},{once:!0}),tn.focus()}addEditListeners(){Bt(this,$t,Cr).call(this),Bt(this,$t,Pr).call(this)}removeEditListeners(){Bt(this,$t,lr).call(this),Bt(this,$t,kr).call(this)}copy(Nt){var fn;if(Nt.preventDefault(),(fn=at(this,ft))==null||fn.commitOrRemove(),!this.hasSelection)return;const tn=[];for(const bn of at(this,Tt)){const An=bn.serialize(!0);An&&tn.push(An)}tn.length!==0&&Nt.clipboardData.setData("application/pdfjs",JSON.stringify(tn))}cut(Nt){this.copy(Nt),this.delete()}paste(Nt){Nt.preventDefault();const{clipboardData:tn}=Nt;for(const An of tn.items)for(const gn of at(this,_t))if(gn.isHandlingMimeForPasting(An.type)){gn.paste(An,this.currentLayer);return}let fn=tn.getData("application/pdfjs");if(!fn)return;try{fn=JSON.parse(fn)}catch(An){(0,o.warn)(`paste: "${An.message}".`);return}if(!Array.isArray(fn))return;this.unselectAll();const bn=this.currentLayer;try{const An=[];for(const wt of fn){const Ft=bn.deserialize(wt);if(!Ft)return;An.push(Ft)}const gn=()=>{for(const wt of An)Bt(this,$t,Nr).call(this,wt);Bt(this,$t,Mr).call(this,An)},jt=()=>{for(const wt of An)wt.remove()};this.addCommands({cmd:gn,undo:jt,mustExec:!0})}catch(An){(0,o.warn)(`paste: "${An.message}".`)}}keydown(Nt){var tn;(tn=this.getActive())!=null&&tn.shouldGetKeyboardEvents()||Dn._keyboardManager.exec(this,Nt)}onEditingAction(Nt){["undo","redo","delete","selectAll"].includes(Nt.name)&&this[Nt.name]()}setEditingState(Nt){Nt?(Bt(this,$t,us).call(this),Bt(this,$t,Cr).call(this),Bt(this,$t,Pr).call(this),Bt(this,$t,zn).call(this,{isEditing:at(this,Rt)!==o.AnnotationEditorType.NONE,isEmpty:Bt(this,$t,er).call(this),hasSomethingToUndo:at(this,It).hasSomethingToUndo(),hasSomethingToRedo:at(this,It).hasSomethingToRedo(),hasSelectedEditor:!1})):(Bt(this,$t,Tr).call(this),Bt(this,$t,lr).call(this),Bt(this,$t,kr).call(this),Bt(this,$t,zn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Nt){if(!at(this,_t)){Xt(this,_t,Nt);for(const tn of at(this,_t))Bt(this,$t,Jn).call(this,tn.defaultPropertiesToUpdate)}}getId(){return at(this,pt).getId()}get currentLayer(){return at(this,St).get(at(this,kt))}getLayer(Nt){return at(this,St).get(Nt)}get currentPageIndex(){return at(this,kt)}addLayer(Nt){at(this,St).set(Nt.pageIndex,Nt),at(this,ht)?Nt.enable():Nt.disable()}removeLayer(Nt){at(this,St).delete(Nt.pageIndex)}updateMode(Nt,tn=null){if(at(this,Rt)!==Nt){if(Xt(this,Rt,Nt),Nt===o.AnnotationEditorType.NONE){this.setEditingState(!1),Bt(this,$t,hs).call(this);return}this.setEditingState(!0),Bt(this,$t,ds).call(this),this.unselectAll();for(const fn of at(this,St).values())fn.updateMode(Nt);if(tn){for(const fn of at(this,yt).values())if(fn.annotationElementId===tn){this.setSelected(fn),fn.enterInEditMode();break}}}}updateToolbar(Nt){Nt!==at(this,Rt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Nt})}updateParams(Nt,tn){if(at(this,_t)){if(Nt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Nt);return}for(const fn of at(this,Tt))fn.updateParams(Nt,tn);for(const fn of at(this,_t))fn.updateDefaultParams(Nt,tn)}}enableWaiting(Nt=!1){if(at(this,gt)!==Nt){Xt(this,gt,Nt);for(const tn of at(this,St).values())Nt?tn.disableClick():tn.enableClick(),tn.div.classList.toggle("waiting",Nt)}}getEditors(Nt){const tn=[];for(const fn of at(this,yt).values())fn.pageIndex===Nt&&tn.push(fn);return tn}getEditor(Nt){return at(this,yt).get(Nt)}addEditor(Nt){at(this,yt).set(Nt.id,Nt)}removeEditor(Nt){var tn;at(this,yt).delete(Nt.id),this.unselect(Nt),(!Nt.annotationElementId||!at(this,Ct).has(Nt.annotationElementId))&&((tn=at(this,Mt))==null||tn.remove(Nt.id))}addDeletedAnnotationElement(Nt){at(this,Ct).add(Nt.annotationElementId),Nt.deleted=!0}isDeletedAnnotationElement(Nt){return at(this,Ct).has(Nt)}removeDeletedAnnotationElement(Nt){at(this,Ct).delete(Nt.annotationElementId),Nt.deleted=!1}setActiveEditor(Nt){at(this,ft)!==Nt&&(Xt(this,ft,Nt),Nt&&Bt(this,$t,Jn).call(this,Nt.propertiesToUpdate))}toggleSelected(Nt){if(at(this,Tt).has(Nt)){at(this,Tt).delete(Nt),Nt.unselect(),Bt(this,$t,zn).call(this,{hasSelectedEditor:this.hasSelection});return}at(this,Tt).add(Nt),Nt.select(),Bt(this,$t,Jn).call(this,Nt.propertiesToUpdate),Bt(this,$t,zn).call(this,{hasSelectedEditor:!0})}setSelected(Nt){for(const tn of at(this,Tt))tn!==Nt&&tn.unselect();at(this,Tt).clear(),at(this,Tt).add(Nt),Nt.select(),Bt(this,$t,Jn).call(this,Nt.propertiesToUpdate),Bt(this,$t,zn).call(this,{hasSelectedEditor:!0})}isSelected(Nt){return at(this,Tt).has(Nt)}unselect(Nt){Nt.unselect(),at(this,Tt).delete(Nt),Bt(this,$t,zn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return at(this,Tt).size!==0}undo(){at(this,It).undo(),Bt(this,$t,zn).call(this,{hasSomethingToUndo:at(this,It).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Bt(this,$t,er).call(this)})}redo(){at(this,It).redo(),Bt(this,$t,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:at(this,It).hasSomethingToRedo(),isEmpty:Bt(this,$t,er).call(this)})}addCommands(Nt){at(this,It).add(Nt),Bt(this,$t,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Bt(this,$t,er).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Nt=[...at(this,Tt)],tn=()=>{for(const bn of Nt)bn.remove()},fn=()=>{for(const bn of Nt)Bt(this,$t,Nr).call(this,bn)};this.addCommands({cmd:tn,undo:fn,mustExec:!0})}commitOrRemove(){var Nt;(Nt=at(this,ft))==null||Nt.commitOrRemove()}hasSomethingToControl(){return at(this,ft)||this.hasSelection}selectAll(){for(const Nt of at(this,Tt))Nt.commit();Bt(this,$t,Mr).call(this,at(this,yt).values())}unselectAll(){if(at(this,ft)){at(this,ft).commitOrRemove();return}if(this.hasSelection){for(const Nt of at(this,Tt))Nt.unselect();at(this,Tt).clear(),Bt(this,$t,zn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Nt,tn,fn=!1){if(fn||this.commitOrRemove(),!this.hasSelection)return;at(this,Ht)[0]+=Nt,at(this,Ht)[1]+=tn;const[bn,An]=at(this,Ht),gn=[...at(this,Tt)],jt=1e3;at(this,en)&&clearTimeout(at(this,en)),Xt(this,en,setTimeout(()=>{Xt(this,en,null),at(this,Ht)[0]=at(this,Ht)[1]=0,this.addCommands({cmd:()=>{for(const wt of gn)at(this,yt).has(wt.id)&&wt.translateInPage(bn,An)},undo:()=>{for(const wt of gn)at(this,yt).has(wt.id)&&wt.translateInPage(-bn,-An)},mustExec:!1})},jt));for(const wt of gn)wt.translateInPage(Nt,tn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Xt(this,xt,new Map);for(const Nt of at(this,Tt))at(this,xt).set(Nt,{savedX:Nt.x,savedY:Nt.y,savedPageIndex:Nt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!at(this,xt))return!1;this.disableUserSelect(!1);const Nt=at(this,xt);Xt(this,xt,null);let tn=!1;for(const[{x:bn,y:An,pageIndex:gn},jt]of Nt)jt.newX=bn,jt.newY=An,jt.newPageIndex=gn,tn||(tn=bn!==jt.savedX||An!==jt.savedY||gn!==jt.savedPageIndex);if(!tn)return!1;const fn=(bn,An,gn,jt)=>{if(at(this,yt).has(bn.id)){const wt=at(this,St).get(jt);wt?bn._setParentAndPosition(wt,An,gn):(bn.pageIndex=jt,bn.x=An,bn.y=gn)}};return this.addCommands({cmd:()=>{for(const[bn,{newX:An,newY:gn,newPageIndex:jt}]of Nt)fn(bn,An,gn,jt)},undo:()=>{for(const[bn,{savedX:An,savedY:gn,savedPageIndex:jt}]of Nt)fn(bn,An,gn,jt)},mustExec:!0}),!0}dragSelectedEditors(Nt,tn){if(at(this,xt))for(const fn of at(this,xt).keys())fn.drag(Nt,tn)}rebuild(Nt){if(Nt.parent===null){const tn=this.getLayer(Nt.pageIndex);tn?(tn.changeParent(Nt),tn.addOrRebuild(Nt)):(this.addEditor(Nt),this.addToAnnotationStorage(Nt),Nt.rebuild())}else Nt.parent.addOrRebuild(Nt)}isActive(Nt){return at(this,ft)===Nt}getActive(){return at(this,ft)}getMode(){return at(this,Rt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new h)}};ft=new WeakMap,yt=new WeakMap,St=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,It=new WeakMap,kt=new WeakMap,Ct=new WeakMap,xt=new WeakMap,_t=new WeakMap,Lt=new WeakMap,vt=new WeakMap,pt=new WeakMap,ht=new WeakMap,gt=new WeakMap,At=new WeakMap,Rt=new WeakMap,Tt=new WeakMap,Ot=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,rn=new WeakMap,nn=new WeakMap,sn=new WeakMap,zt=new WeakMap,Ut=new WeakMap,Et=new WeakMap,Pt=new WeakMap,Vt=new WeakMap,Ht=new WeakMap,en=new WeakMap,un=new WeakMap,an=new WeakMap,$t=new WeakSet,us=function(){window.addEventListener("focus",at(this,Yt)),window.addEventListener("blur",at(this,Wt))},Tr=function(){window.removeEventListener("focus",at(this,Yt)),window.removeEventListener("blur",at(this,Wt))},Cr=function(){window.addEventListener("keydown",at(this,sn),{capture:!0})},lr=function(){window.removeEventListener("keydown",at(this,sn),{capture:!0})},Pr=function(){document.addEventListener("copy",at(this,Jt)),document.addEventListener("cut",at(this,rn)),document.addEventListener("paste",at(this,nn))},kr=function(){document.removeEventListener("copy",at(this,Jt)),document.removeEventListener("cut",at(this,rn)),document.removeEventListener("paste",at(this,nn))},zn=function(Nt){Object.entries(Nt).some(([fn,bn])=>at(this,Vt)[fn]!==bn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(at(this,Vt),Nt)})},Jn=function(Nt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Nt})},ds=function(){if(!at(this,ht)){Xt(this,ht,!0);for(const Nt of at(this,St).values())Nt.enable()}},hs=function(){if(this.unselectAll(),at(this,ht)){Xt(this,ht,!1);for(const Nt of at(this,St).values())Nt.disable()}},Nr=function(Nt){const tn=at(this,St).get(Nt.pageIndex);tn?tn.addOrRebuild(Nt):this.addEditor(Nt)},er=function(){if(at(this,yt).size===0)return!0;if(at(this,yt).size===1)for(const Nt of at(this,yt).values())return Nt.isEmpty();return!1},Mr=function(Nt){at(this,Tt).clear();for(const tn of Nt)tn.isEmpty()||(at(this,Tt).add(tn),tn.select());Bt(this,$t,zn).call(this,{hasSelectedEditor:!0})},On(Dn,"TRANSLATE_SMALL",1),On(Dn,"TRANSLATE_BIG",10);let et=Dn;s.AnnotationEditorUIManager=et},(e,s,i)=>{var kt,Ct,xt,_t,Lt,vt,pt,ht,gt,At,Rt,Tt,Xn,qn,Dr,cr,ur,tr,nr;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=ct,s.getColorValues=yt,s.getCurrentTransform=St,s.getCurrentTransformInverse=Dt,s.getFilenameFromUrl=_e,s.getPdfFilenameFromUrl=$,s.getRGB=ft,s.getXfaPageViewport=bt,s.isDataScheme=rt,s.isPdfFile=tt,s.isValidFetchUrl=lt,s.loadScript=dt,s.noContextMenu=it,s.setLayerDimensions=Mt;var o=i(7),a=i(1);const c="http://www.w3.org/2000/svg",It=class It{};On(It,"CSS",96),On(It,"PDF",72),On(It,"PDF_TO_CSS_UNITS",It.CSS/It.PDF);let d=It;s.PixelsPerInch=d;class g extends o.BaseFilterFactory{constructor({docId:Et,ownerDocument:Pt=globalThis.document}={}){super();Gt(this,Tt);Gt(this,kt);Gt(this,Ct);Gt(this,xt);Gt(this,_t);Gt(this,Lt);Gt(this,vt);Gt(this,pt);Gt(this,ht);Gt(this,gt);Gt(this,At);Gt(this,Rt,0);Xt(this,xt,Et),Xt(this,_t,Pt)}addFilter(Et){if(!Et)return"none";let Pt=at(this,Tt,Xn).get(Et);if(Pt)return Pt;let Vt,Ht,en,un;if(Et.length===1){const hn=Et[0],Tn=new Array(256);for(let _n=0;_n<256;_n++)Tn[_n]=hn[_n]/255;un=Vt=Ht=en=Tn.join(",")}else{const[hn,Tn,_n]=Et,Mn=new Array(256),yn=new Array(256),wn=new Array(256);for(let Pn=0;Pn<256;Pn++)Mn[Pn]=hn[Pn]/255,yn[Pn]=Tn[Pn]/255,wn[Pn]=_n[Pn]/255;Vt=Mn.join(","),Ht=yn.join(","),en=wn.join(","),un=`${Vt}${Ht}${en}`}if(Pt=at(this,Tt,Xn).get(un),Pt)return at(this,Tt,Xn).set(Et,Pt),Pt;const an=`g_${at(this,xt)}_transfer_map_${Zn(this,Rt)._++}`,$t=`url(#${an})`;at(this,Tt,Xn).set(Et,$t),at(this,Tt,Xn).set(un,$t);const pn=Bt(this,Tt,cr).call(this,an);return Bt(this,Tt,tr).call(this,Vt,Ht,en,pn),$t}addHCMFilter(Et,Pt){var Tn;const Vt=`${Et}-${Pt}`;if(at(this,vt)===Vt)return at(this,pt);if(Xt(this,vt,Vt),Xt(this,pt,"none"),(Tn=at(this,Lt))==null||Tn.remove(),!Et||!Pt)return at(this,pt);const Ht=Bt(this,Tt,nr).call(this,Et);Et=a.Util.makeHexColor(...Ht);const en=Bt(this,Tt,nr).call(this,Pt);if(Pt=a.Util.makeHexColor(...en),at(this,Tt,qn).style.color="",Et==="#000000"&&Pt==="#ffffff"||Et===Pt)return at(this,pt);const un=new Array(256);for(let _n=0;_n<=255;_n++){const Mn=_n/255;un[_n]=Mn<=.03928?Mn/12.92:((Mn+.055)/1.055)**2.4}const an=un.join(","),$t=`g_${at(this,xt)}_hcm_filter`,pn=Xt(this,ht,Bt(this,Tt,cr).call(this,$t));Bt(this,Tt,tr).call(this,an,an,an,pn),Bt(this,Tt,Dr).call(this,pn);const hn=(_n,Mn)=>{const yn=Ht[_n]/255,wn=en[_n]/255,Pn=new Array(Mn+1);for(let Ln=0;Ln<=Mn;Ln++)Pn[Ln]=yn+Ln/Mn*(wn-yn);return Pn.join(",")};return Bt(this,Tt,tr).call(this,hn(0,5),hn(1,5),hn(2,5),pn),Xt(this,pt,`url(#${$t})`),at(this,pt)}addHighlightHCMFilter(Et,Pt,Vt,Ht){var wn;const en=`${Et}-${Pt}-${Vt}-${Ht}`;if(at(this,gt)===en)return at(this,At);if(Xt(this,gt,en),Xt(this,At,"none"),(wn=at(this,ht))==null||wn.remove(),!Et||!Pt)return at(this,At);const[un,an]=[Et,Pt].map(Bt(this,Tt,nr).bind(this));let $t=Math.round(.2126*un[0]+.7152*un[1]+.0722*un[2]),pn=Math.round(.2126*an[0]+.7152*an[1]+.0722*an[2]),[hn,Tn]=[Vt,Ht].map(Bt(this,Tt,nr).bind(this));pn<$t&&([$t,pn,hn,Tn]=[pn,$t,Tn,hn]),at(this,Tt,qn).style.color="";const _n=(Pn,Ln,ln)=>{const Kt=new Array(256),qt=(pn-$t)/ln,xn=Pn/255,Dn=(Ln-Pn)/(255*ln);let Nn=0;for(let Nt=0;Nt<=ln;Nt++){const tn=Math.round($t+Nt*qt),fn=xn+Nt*Dn;for(let bn=Nn;bn<=tn;bn++)Kt[bn]=fn;Nn=tn+1}for(let Nt=Nn;Nt<256;Nt++)Kt[Nt]=Kt[Nn-1];return Kt.join(",")},Mn=`g_${at(this,xt)}_hcm_highlight_filter`,yn=Xt(this,ht,Bt(this,Tt,cr).call(this,Mn));return Bt(this,Tt,Dr).call(this,yn),Bt(this,Tt,tr).call(this,_n(hn[0],Tn[0],5),_n(hn[1],Tn[1],5),_n(hn[2],Tn[2],5),yn),Xt(this,At,`url(#${Mn})`),at(this,At)}destroy(Et=!1){Et&&(at(this,pt)||at(this,At))||(at(this,Ct)&&(at(this,Ct).parentNode.parentNode.remove(),Xt(this,Ct,null)),at(this,kt)&&(at(this,kt).clear(),Xt(this,kt,null)),Xt(this,Rt,0))}}kt=new WeakMap,Ct=new WeakMap,xt=new WeakMap,_t=new WeakMap,Lt=new WeakMap,vt=new WeakMap,pt=new WeakMap,ht=new WeakMap,gt=new WeakMap,At=new WeakMap,Rt=new WeakMap,Tt=new WeakSet,Xn=function(){return at(this,kt)||Xt(this,kt,new Map)},qn=function(){if(!at(this,Ct)){const Et=at(this,_t).createElement("div"),{style:Pt}=Et;Pt.visibility="hidden",Pt.contain="strict",Pt.width=Pt.height=0,Pt.position="absolute",Pt.top=Pt.left=0,Pt.zIndex=-1;const Vt=at(this,_t).createElementNS(c,"svg");Vt.setAttribute("width",0),Vt.setAttribute("height",0),Xt(this,Ct,at(this,_t).createElementNS(c,"defs")),Et.append(Vt),Vt.append(at(this,Ct)),at(this,_t).body.append(Et)}return at(this,Ct)},Dr=function(Et){const Pt=at(this,_t).createElementNS(c,"feColorMatrix");Pt.setAttribute("type","matrix"),Pt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Et.append(Pt)},cr=function(Et){const Pt=at(this,_t).createElementNS(c,"filter");return Pt.setAttribute("color-interpolation-filters","sRGB"),Pt.setAttribute("id",Et),at(this,Tt,qn).append(Pt),Pt},ur=function(Et,Pt,Vt){const Ht=at(this,_t).createElementNS(c,Pt);Ht.setAttribute("type","discrete"),Ht.setAttribute("tableValues",Vt),Et.append(Ht)},tr=function(Et,Pt,Vt,Ht){const en=at(this,_t).createElementNS(c,"feComponentTransfer");Ht.append(en),Bt(this,Tt,ur).call(this,en,"feFuncR",Et),Bt(this,Tt,ur).call(this,en,"feFuncG",Pt),Bt(this,Tt,ur).call(this,en,"feFuncB",Vt)},nr=function(Et){return at(this,Tt,qn).style.color=Et,ft(getComputedStyle(at(this,Tt,qn)).getPropertyValue("color"))},s.DOMFilterFactory=g;class h extends o.BaseCanvasFactory{constructor({ownerDocument:Ut=globalThis.document}={}){super(),this._document=Ut}_createCanvas(Ut,Et){const Pt=this._document.createElement("canvas");return Pt.width=Ut,Pt.height=Et,Pt}}s.DOMCanvasFactory=h;async function b(zt,Ut=!1){if(lt(zt,document.baseURI)){const Et=await fetch(zt);if(!Et.ok)throw new Error(Et.statusText);return Ut?new Uint8Array(await Et.arrayBuffer()):(0,a.stringToBytes)(await Et.text())}return new Promise((Et,Pt)=>{const Vt=new XMLHttpRequest;Vt.open("GET",zt,!0),Ut&&(Vt.responseType="arraybuffer"),Vt.onreadystatechange=()=>{if(Vt.readyState===XMLHttpRequest.DONE){if(Vt.status===200||Vt.status===0){let Ht;if(Ut&&Vt.response?Ht=new Uint8Array(Vt.response):!Ut&&Vt.responseText&&(Ht=(0,a.stringToBytes)(Vt.responseText)),Ht){Et(Ht);return}}Pt(new Error(Vt.statusText))}},Vt.send(null)})}class _ extends o.BaseCMapReaderFactory{_fetchData(Ut,Et){return b(Ut,this.isCompressed).then(Pt=>({cMapData:Pt,compressionType:Et}))}}s.DOMCMapReaderFactory=_;class j extends o.BaseStandardFontDataFactory{_fetchData(Ut){return b(Ut,!0)}}s.DOMStandardFontDataFactory=j;class et extends o.BaseSVGFactory{_createSVG(Ut){return document.createElementNS(c,Ut)}}s.DOMSVGFactory=et;class nt{constructor({viewBox:Ut,scale:Et,rotation:Pt,offsetX:Vt=0,offsetY:Ht=0,dontFlip:en=!1}){this.viewBox=Ut,this.scale=Et,this.rotation=Pt,this.offsetX=Vt,this.offsetY=Ht;const un=(Ut[2]+Ut[0])/2,an=(Ut[3]+Ut[1])/2;let $t,pn,hn,Tn;switch(Pt%=360,Pt<0&&(Pt+=360),Pt){case 180:$t=-1,pn=0,hn=0,Tn=1;break;case 90:$t=0,pn=1,hn=1,Tn=0;break;case 270:$t=0,pn=-1,hn=-1,Tn=0;break;case 0:$t=1,pn=0,hn=0,Tn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}en&&(hn=-hn,Tn=-Tn);let _n,Mn,yn,wn;$t===0?(_n=Math.abs(an-Ut[1])*Et+Vt,Mn=Math.abs(un-Ut[0])*Et+Ht,yn=(Ut[3]-Ut[1])*Et,wn=(Ut[2]-Ut[0])*Et):(_n=Math.abs(un-Ut[0])*Et+Vt,Mn=Math.abs(an-Ut[1])*Et+Ht,yn=(Ut[2]-Ut[0])*Et,wn=(Ut[3]-Ut[1])*Et),this.transform=[$t*Et,pn*Et,hn*Et,Tn*Et,_n-$t*Et*un-hn*Et*an,Mn-pn*Et*un-Tn*Et*an],this.width=yn,this.height=wn}get rawDims(){const{viewBox:Ut}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:Ut[2]-Ut[0],pageHeight:Ut[3]-Ut[1],pageX:Ut[0],pageY:Ut[1]})}clone({scale:Ut=this.scale,rotation:Et=this.rotation,offsetX:Pt=this.offsetX,offsetY:Vt=this.offsetY,dontFlip:Ht=!1}={}){return new nt({viewBox:this.viewBox.slice(),scale:Ut,rotation:Et,offsetX:Pt,offsetY:Vt,dontFlip:Ht})}convertToViewportPoint(Ut,Et){return a.Util.applyTransform([Ut,Et],this.transform)}convertToViewportRectangle(Ut){const Et=a.Util.applyTransform([Ut[0],Ut[1]],this.transform),Pt=a.Util.applyTransform([Ut[2],Ut[3]],this.transform);return[Et[0],Et[1],Pt[0],Pt[1]]}convertToPdfPoint(Ut,Et){return a.Util.applyInverseTransform([Ut,Et],this.transform)}}s.PageViewport=nt;class st extends a.BaseException{constructor(Ut,Et=0){super(Ut,"RenderingCancelledException"),this.extraDelay=Et}}s.RenderingCancelledException=st;function rt(zt){const Ut=zt.length;let Et=0;for(;Et<Ut&&zt[Et].trim()==="";)Et++;return zt.substring(Et,Et+5).toLowerCase()==="data:"}function tt(zt){return typeof zt=="string"&&/\.pdf$/i.test(zt)}function _e(zt,Ut=!1){return Ut||([zt]=zt.split(/[#?]/,1)),zt.substring(zt.lastIndexOf("/")+1)}function $(zt,Ut="document.pdf"){if(typeof zt!="string")return Ut;if(rt(zt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ut;const Et=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Pt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Vt=Et.exec(zt);let Ht=Pt.exec(Vt[1])||Pt.exec(Vt[2])||Pt.exec(Vt[3]);if(Ht&&(Ht=Ht[0],Ht.includes("%")))try{Ht=Pt.exec(decodeURIComponent(Ht))[0]}catch{}return Ht||Ut}class ot{constructor(){On(this,"started",Object.create(null));On(this,"times",[])}time(Ut){Ut in this.started&&(0,a.warn)(`Timer is already running for ${Ut}`),this.started[Ut]=Date.now()}timeEnd(Ut){Ut in this.started||(0,a.warn)(`Timer has not been started for ${Ut}`),this.times.push({name:Ut,start:this.started[Ut],end:Date.now()}),delete this.started[Ut]}toString(){const Ut=[];let Et=0;for(const{name:Pt}of this.times)Et=Math.max(Pt.length,Et);for(const{name:Pt,start:Vt,end:Ht}of this.times)Ut.push(`${Pt.padEnd(Et)} ${Ht-Vt}ms
`);return Ut.join("")}}s.StatTimer=ot;function lt(zt,Ut){try{const{protocol:Et}=Ut?new URL(zt,Ut):new URL(zt);return Et==="http:"||Et==="https:"}catch{return!1}}function it(zt){zt.preventDefault()}function dt(zt,Ut=!1){return new Promise((Et,Pt)=>{const Vt=document.createElement("script");Vt.src=zt,Vt.onload=function(Ht){Ut&&Vt.remove(),Et(Ht)},Vt.onerror=function(){Pt(new Error(`Cannot load script at: ${Vt.src}`))},(document.head||document.documentElement).append(Vt)})}function ct(zt){console.log("Deprecated API usage: "+zt)}let ut;class mt{static toDateObject(Ut){if(!Ut||typeof Ut!="string")return null;ut||(ut=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Et=ut.exec(Ut);if(!Et)return null;const Pt=parseInt(Et[1],10);let Vt=parseInt(Et[2],10);Vt=Vt>=1&&Vt<=12?Vt-1:0;let Ht=parseInt(Et[3],10);Ht=Ht>=1&&Ht<=31?Ht:1;let en=parseInt(Et[4],10);en=en>=0&&en<=23?en:0;let un=parseInt(Et[5],10);un=un>=0&&un<=59?un:0;let an=parseInt(Et[6],10);an=an>=0&&an<=59?an:0;const $t=Et[7]||"Z";let pn=parseInt(Et[8],10);pn=pn>=0&&pn<=23?pn:0;let hn=parseInt(Et[9],10)||0;return hn=hn>=0&&hn<=59?hn:0,$t==="-"?(en+=pn,un+=hn):$t==="+"&&(en-=pn,un-=hn),new Date(Date.UTC(Pt,Vt,Ht,en,un,an))}}s.PDFDateString=mt;function bt(zt,{scale:Ut=1,rotation:Et=0}){const{width:Pt,height:Vt}=zt.attributes.style,Ht=[0,0,parseInt(Pt),parseInt(Vt)];return new nt({viewBox:Ht,scale:Ut,rotation:Et})}function ft(zt){if(zt.startsWith("#")){const Ut=parseInt(zt.slice(1),16);return[(Ut&16711680)>>16,(Ut&65280)>>8,Ut&255]}return zt.startsWith("rgb(")?zt.slice(4,-1).split(",").map(Ut=>parseInt(Ut)):zt.startsWith("rgba(")?zt.slice(5,-1).split(",").map(Ut=>parseInt(Ut)).slice(0,3):((0,a.warn)(`Not a valid color format: "${zt}"`),[0,0,0])}function yt(zt){const Ut=document.createElement("span");Ut.style.visibility="hidden",document.body.append(Ut);for(const Et of zt.keys()){Ut.style.color=Et;const Pt=window.getComputedStyle(Ut).color;zt.set(Et,ft(Pt))}Ut.remove()}function St(zt){const{a:Ut,b:Et,c:Pt,d:Vt,e:Ht,f:en}=zt.getTransform();return[Ut,Et,Pt,Vt,Ht,en]}function Dt(zt){const{a:Ut,b:Et,c:Pt,d:Vt,e:Ht,f:en}=zt.getTransform().invertSelf();return[Ut,Et,Pt,Vt,Ht,en]}function Mt(zt,Ut,Et=!1,Pt=!0){if(Ut instanceof nt){const{pageWidth:Vt,pageHeight:Ht}=Ut.rawDims,{style:en}=zt,un=a.FeatureTest.isCSSRoundSupported,an=`var(--scale-factor) * ${Vt}px`,$t=`var(--scale-factor) * ${Ht}px`,pn=un?`round(${an}, 1px)`:`calc(${an})`,hn=un?`round(${$t}, 1px)`:`calc(${$t})`;!Et||Ut.rotation%180===0?(en.width=pn,en.height=hn):(en.width=hn,en.height=pn)}Pt&&zt.setAttribute("data-main-rotation",Ut.rotation)}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var o=i(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_){return"none"}addHCMFilter(_,j){return"none"}addHighlightHCMFilter(_,j,et,nt){return"none"}destroy(_=!1){}}s.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,j){if(_<=0||j<=0)throw new Error("Invalid canvas size");const et=this._createCanvas(_,j);return{canvas:et,context:et.getContext("2d")}}reset(_,j,et){if(!_.canvas)throw new Error("Canvas is not specified");if(j<=0||et<=0)throw new Error("Invalid canvas size");_.canvas.width=j,_.canvas.height=et}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,j){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:_=null,isCompressed:j=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=j}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const j=this.baseUrl+_+(this.isCompressed?".bcmap":""),et=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(j,et).catch(nt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${j}`)})}_fetchData(_,j){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class g{constructor({baseUrl:_=null}){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const j=`${this.baseUrl}${_}`;return this._fetchData(j).catch(et=>{throw new Error(`Unable to load font data at: ${j}`)})}_fetchData(_){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=g;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,j,et=!1){if(_<=0||j<=0)throw new Error("Invalid SVG dimensions");const nt=this._createSVG("svg:svg");return nt.setAttribute("version","1.1"),et||(nt.setAttribute("width",`${_}px`),nt.setAttribute("height",`${j}px`)),nt.setAttribute("preserveAspectRatio","none"),nt.setAttribute("viewBox",`0 0 ${_} ${j}`),nt}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,o.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=h},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var o=i(1);const a=3285377520,c=4294901760,d=65535;class g{constructor(b){this.h1=b?b&4294967295:a,this.h2=b?b&4294967295:a}update(b){let _,j;if(typeof b=="string"){_=new Uint8Array(b.length*2),j=0;for(let ct=0,ut=b.length;ct<ut;ct++){const mt=b.charCodeAt(ct);mt<=255?_[j++]=mt:(_[j++]=mt>>>8,_[j++]=mt&255)}}else if((0,o.isArrayBuffer)(b))_=b.slice(),j=_.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const et=j>>2,nt=j-et*4,st=new Uint32Array(_.buffer,0,et);let rt=0,tt=0,_e=this.h1,$=this.h2;const ot=3432918353,lt=461845907,it=ot&d,dt=lt&d;for(let ct=0;ct<et;ct++)ct&1?(rt=st[ct],rt=rt*ot&c|rt*it&d,rt=rt<<15|rt>>>17,rt=rt*lt&c|rt*dt&d,_e^=rt,_e=_e<<13|_e>>>19,_e=_e*5+3864292196):(tt=st[ct],tt=tt*ot&c|tt*it&d,tt=tt<<15|tt>>>17,tt=tt*lt&c|tt*dt&d,$^=tt,$=$<<13|$>>>19,$=$*5+3864292196);switch(rt=0,nt){case 3:rt^=_[et*4+2]<<16;case 2:rt^=_[et*4+1]<<8;case 1:rt^=_[et*4],rt=rt*ot&c|rt*it&d,rt=rt<<15|rt>>>17,rt=rt*lt&c|rt*dt&d,et&1?_e^=rt:$^=rt}this.h1=_e,this.h2=$}hexdigest(){let b=this.h1,_=this.h2;return b^=_>>>1,b=b*3981806797&c|b*36045&d,_=_*4283543511&c|((_<<16|b>>>16)*2950163797&c)>>>16,b^=_>>>1,b=b*444984403&c|b*60499&d,_=_*3301882366&c|((_<<16|b>>>16)*3120437893&c)>>>16,b^=_>>>1,(b>>>0).toString(16).padStart(8,"0")+(_>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=g},(e,s,i)=>{var d;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var o=i(1);class a{constructor({ownerDocument:h=globalThis.document,styleElement:b=null}){Gt(this,d,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(h,b.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),at(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||at(this,d).has(h.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:_,style:j}=h,et=new FontFace(b,_,j);this.addNativeFontFace(et);try{await et.load(),at(this,d).add(b)}catch{(0,o.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(et)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _=h.createNativeFontFace();if(_){this.addNativeFontFace(_);try{await _.loaded}catch(j){throw(0,o.warn)(`Failed to load font '${_.family}': '${j}'.`),h.disableFontFace=!0,j}}return}const b=h.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(_=>{const j=this._queueLoadingCallback(_);this._prepareFontLoadEvent(h,j)})}}get isFontLoadingAPISupported(){var b;const h=!!((b=this._document)!=null&&b.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function b(){for((0,o.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;_.length>0&&_[0].done;){const et=_.shift();setTimeout(et.callback,0)}}const{loadingRequests:_}=this,j={done:!1,complete:b,callback:h};return _.push(j),j}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,b){function _(ft,yt){return ft.charCodeAt(yt)<<24|ft.charCodeAt(yt+1)<<16|ft.charCodeAt(yt+2)<<8|ft.charCodeAt(yt+3)&255}function j(ft,yt,St,Dt){const Mt=ft.substring(0,yt),It=ft.substring(yt+St);return Mt+Dt+It}let et,nt;const st=this._document.createElement("canvas");st.width=1,st.height=1;const rt=st.getContext("2d");let tt=0;function _e(ft,yt){if(++tt>30){(0,o.warn)("Load test font never loaded."),yt();return}if(rt.font="30px "+ft,rt.fillText(".",0,20),rt.getImageData(0,0,1,1).data[3]>0){yt();return}setTimeout(_e.bind(null,ft,yt))}const $=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=j(ot,976,$.length,$);const it=16,dt=1482184792;let ct=_(ot,it);for(et=0,nt=$.length-3;et<nt;et+=4)ct=ct-dt+_($,et)|0;et<$.length&&(ct=ct-dt+_($+"XXX",et)|0),ot=j(ot,it,4,(0,o.string32)(ct));const ut=`url(data:font/opentype;base64,${btoa(ot)});`,mt=`@font-face {font-family:"${$}";src:${ut}}`;this.insertRule(mt);const bt=this._document.createElement("div");bt.style.visibility="hidden",bt.style.width=bt.style.height="10px",bt.style.position="absolute",bt.style.top=bt.style.left="0px";for(const ft of[h.loadedName,$]){const yt=this._document.createElement("span");yt.textContent="Hi",yt.style.fontFamily=ft,bt.append(yt)}this._document.body.append(bt),_e($,()=>{bt.remove(),b.complete()})}}d=new WeakMap,s.FontLoader=a;class c{constructor(h,{isEvalSupported:b=!0,disableFontFace:_=!1,ignoreErrors:j=!1,inspectFont:et=null}){this.compiledGlyphs=Object.create(null);for(const nt in h)this[nt]=h[nt];this.isEvalSupported=b!==!1,this.disableFontFace=_===!0,this.ignoreErrors=j===!0,this._inspectFont=et}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return(b=this._inspectFont)==null||b.call(this,this),h}createFontFaceRule(){var j;if(!this.data||this.disableFontFace)return null;const h=(0,o.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(h)});`;let _;if(!this.cssFontInfo)_=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let et=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(et+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${et}src:${b}}`}return(j=this._inspectFont)==null||j.call(this,this,b),_}getPathGenerator(h,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let _;try{_=h.get(this.loadedName+"_path_"+b)}catch(j){if(!this.ignoreErrors)throw j;return(0,o.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[b]=function(et,nt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const j=[];for(const et of _){const nt=et.args!==void 0?et.args.join(","):"";j.push("c.",et.cmd,"(",nt,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",j.join(""))}return this.compiledGlyphs[b]=function(j,et){for(const nt of _)nt.cmd==="scale"&&(nt.args=[et,-et]),j[nt.cmd].apply(j,nt.args)}}}s.FontFaceObject=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var o=i(7);i(1);const a=function(b){return new Promise((_,j)=>{require$$5.readFile(b,(nt,st)=>{if(nt||!st){j(new Error(nt));return}_(new Uint8Array(st))})})};class c extends o.BaseFilterFactory{}s.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(_,j){return require$$5.createCanvas(_,j)}}s.NodeCanvasFactory=d;class g extends o.BaseCMapReaderFactory{_fetchData(_,j){return a(_).then(et=>({cMapData:et,compressionType:j}))}}s.NodeCMapReaderFactory=g;class h extends o.BaseStandardFontDataFactory{_fetchData(_){return a(_)}}s.NodeStandardFontDataFactory=h},(e,s,i)=>{var Ct,Lr,Ir;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var o=i(1),a=i(6),c=i(12),d=i(13);const g=16,h=100,b=4096,_=15,j=10,et=1e3,nt=16;function st(vt,pt){if(vt._removeMirroring)throw new Error("Context is already forwarding operations.");vt.__originalSave=vt.save,vt.__originalRestore=vt.restore,vt.__originalRotate=vt.rotate,vt.__originalScale=vt.scale,vt.__originalTranslate=vt.translate,vt.__originalTransform=vt.transform,vt.__originalSetTransform=vt.setTransform,vt.__originalResetTransform=vt.resetTransform,vt.__originalClip=vt.clip,vt.__originalMoveTo=vt.moveTo,vt.__originalLineTo=vt.lineTo,vt.__originalBezierCurveTo=vt.bezierCurveTo,vt.__originalRect=vt.rect,vt.__originalClosePath=vt.closePath,vt.__originalBeginPath=vt.beginPath,vt._removeMirroring=()=>{vt.save=vt.__originalSave,vt.restore=vt.__originalRestore,vt.rotate=vt.__originalRotate,vt.scale=vt.__originalScale,vt.translate=vt.__originalTranslate,vt.transform=vt.__originalTransform,vt.setTransform=vt.__originalSetTransform,vt.resetTransform=vt.__originalResetTransform,vt.clip=vt.__originalClip,vt.moveTo=vt.__originalMoveTo,vt.lineTo=vt.__originalLineTo,vt.bezierCurveTo=vt.__originalBezierCurveTo,vt.rect=vt.__originalRect,vt.closePath=vt.__originalClosePath,vt.beginPath=vt.__originalBeginPath,delete vt._removeMirroring},vt.save=function(){pt.save(),this.__originalSave()},vt.restore=function(){pt.restore(),this.__originalRestore()},vt.translate=function(gt,At){pt.translate(gt,At),this.__originalTranslate(gt,At)},vt.scale=function(gt,At){pt.scale(gt,At),this.__originalScale(gt,At)},vt.transform=function(gt,At,Rt,Tt,Ot,Wt){pt.transform(gt,At,Rt,Tt,Ot,Wt),this.__originalTransform(gt,At,Rt,Tt,Ot,Wt)},vt.setTransform=function(gt,At,Rt,Tt,Ot,Wt){pt.setTransform(gt,At,Rt,Tt,Ot,Wt),this.__originalSetTransform(gt,At,Rt,Tt,Ot,Wt)},vt.resetTransform=function(){pt.resetTransform(),this.__originalResetTransform()},vt.rotate=function(gt){pt.rotate(gt),this.__originalRotate(gt)},vt.clip=function(gt){pt.clip(gt),this.__originalClip(gt)},vt.moveTo=function(ht,gt){pt.moveTo(ht,gt),this.__originalMoveTo(ht,gt)},vt.lineTo=function(ht,gt){pt.lineTo(ht,gt),this.__originalLineTo(ht,gt)},vt.bezierCurveTo=function(ht,gt,At,Rt,Tt,Ot){pt.bezierCurveTo(ht,gt,At,Rt,Tt,Ot),this.__originalBezierCurveTo(ht,gt,At,Rt,Tt,Ot)},vt.rect=function(ht,gt,At,Rt){pt.rect(ht,gt,At,Rt),this.__originalRect(ht,gt,At,Rt)},vt.closePath=function(){pt.closePath(),this.__originalClosePath()},vt.beginPath=function(){pt.beginPath(),this.__originalBeginPath()}}class rt{constructor(pt){this.canvasFactory=pt,this.cache=Object.create(null)}getCanvas(pt,ht,gt){let At;return this.cache[pt]!==void 0?(At=this.cache[pt],this.canvasFactory.reset(At,ht,gt)):(At=this.canvasFactory.create(ht,gt),this.cache[pt]=At),At}delete(pt){delete this.cache[pt]}clear(){for(const pt in this.cache){const ht=this.cache[pt];this.canvasFactory.destroy(ht),delete this.cache[pt]}}}function tt(vt,pt,ht,gt,At,Rt,Tt,Ot,Wt,Yt){const[Jt,rn,nn,sn,zt,Ut]=(0,a.getCurrentTransform)(vt);if(rn===0&&nn===0){const Vt=Tt*Jt+zt,Ht=Math.round(Vt),en=Ot*sn+Ut,un=Math.round(en),an=(Tt+Wt)*Jt+zt,$t=Math.abs(Math.round(an)-Ht)||1,pn=(Ot+Yt)*sn+Ut,hn=Math.abs(Math.round(pn)-un)||1;return vt.setTransform(Math.sign(Jt),0,0,Math.sign(sn),Ht,un),vt.drawImage(pt,ht,gt,At,Rt,0,0,$t,hn),vt.setTransform(Jt,rn,nn,sn,zt,Ut),[$t,hn]}if(Jt===0&&sn===0){const Vt=Ot*nn+zt,Ht=Math.round(Vt),en=Tt*rn+Ut,un=Math.round(en),an=(Ot+Yt)*nn+zt,$t=Math.abs(Math.round(an)-Ht)||1,pn=(Tt+Wt)*rn+Ut,hn=Math.abs(Math.round(pn)-un)||1;return vt.setTransform(0,Math.sign(rn),Math.sign(nn),0,Ht,un),vt.drawImage(pt,ht,gt,At,Rt,0,0,hn,$t),vt.setTransform(Jt,rn,nn,sn,zt,Ut),[hn,$t]}vt.drawImage(pt,ht,gt,At,Rt,Tt,Ot,Wt,Yt);const Et=Math.hypot(Jt,rn),Pt=Math.hypot(nn,sn);return[Et*Wt,Pt*Yt]}function _e(vt){const{width:pt,height:ht}=vt;if(pt>et||ht>et)return null;const gt=1e3,At=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Rt=pt+1;let Tt=new Uint8Array(Rt*(ht+1)),Ot,Wt,Yt;const Jt=pt+7&-8;let rn=new Uint8Array(Jt*ht),nn=0;for(const Pt of vt.data){let Vt=128;for(;Vt>0;)rn[nn++]=Pt&Vt?0:255,Vt>>=1}let sn=0;for(nn=0,rn[nn]!==0&&(Tt[0]=1,++sn),Wt=1;Wt<pt;Wt++)rn[nn]!==rn[nn+1]&&(Tt[Wt]=rn[nn]?2:1,++sn),nn++;for(rn[nn]!==0&&(Tt[Wt]=2,++sn),Ot=1;Ot<ht;Ot++){nn=Ot*Jt,Yt=Ot*Rt,rn[nn-Jt]!==rn[nn]&&(Tt[Yt]=rn[nn]?1:8,++sn);let Pt=(rn[nn]?4:0)+(rn[nn-Jt]?8:0);for(Wt=1;Wt<pt;Wt++)Pt=(Pt>>2)+(rn[nn+1]?4:0)+(rn[nn-Jt+1]?8:0),At[Pt]&&(Tt[Yt+Wt]=At[Pt],++sn),nn++;if(rn[nn-Jt]!==rn[nn]&&(Tt[Yt+Wt]=rn[nn]?2:4,++sn),sn>gt)return null}for(nn=Jt*(ht-1),Yt=Ot*Rt,rn[nn]!==0&&(Tt[Yt]=8,++sn),Wt=1;Wt<pt;Wt++)rn[nn]!==rn[nn+1]&&(Tt[Yt+Wt]=rn[nn]?4:8,++sn),nn++;if(rn[nn]!==0&&(Tt[Yt+Wt]=4,++sn),sn>gt)return null;const zt=new Int32Array([0,Rt,-1,0,-Rt,0,0,0,1]),Ut=new Path2D;for(Ot=0;sn&&Ot<=ht;Ot++){let Pt=Ot*Rt;const Vt=Pt+pt;for(;Pt<Vt&&!Tt[Pt];)Pt++;if(Pt===Vt)continue;Ut.moveTo(Pt%Rt,Ot);const Ht=Pt;let en=Tt[Pt];do{const un=zt[en];do Pt+=un;while(!Tt[Pt]);const an=Tt[Pt];an!==5&&an!==10?(en=an,Tt[Pt]=0):(en=an&51*en>>4,Tt[Pt]&=en>>2|en<<2),Ut.lineTo(Pt%Rt,Pt/Rt|0),Tt[Pt]||--sn}while(Ht!==Pt);--Ot}return rn=null,Tt=null,function(Pt){Pt.save(),Pt.scale(1/pt,-1/ht),Pt.translate(0,-ht),Pt.fill(Ut),Pt.beginPath(),Pt.restore()}}class ${constructor(pt,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,pt,ht])}clone(){const pt=Object.create(this);return pt.clipBox=this.clipBox.slice(),pt}setCurrentPoint(pt,ht){this.x=pt,this.y=ht}updatePathMinMax(pt,ht,gt){[ht,gt]=o.Util.applyTransform([ht,gt],pt),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,gt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,gt)}updateRectMinMax(pt,ht){const gt=o.Util.applyTransform(ht,pt),At=o.Util.applyTransform(ht.slice(2),pt);this.minX=Math.min(this.minX,gt[0],At[0]),this.minY=Math.min(this.minY,gt[1],At[1]),this.maxX=Math.max(this.maxX,gt[0],At[0]),this.maxY=Math.max(this.maxY,gt[1],At[1])}updateScalingPathMinMax(pt,ht){o.Util.scaleMinMax(pt,ht),this.minX=Math.min(this.minX,ht[0]),this.maxX=Math.max(this.maxX,ht[1]),this.minY=Math.min(this.minY,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax(pt,ht,gt,At,Rt,Tt,Ot,Wt,Yt,Jt){const rn=o.Util.bezierBoundingBox(ht,gt,At,Rt,Tt,Ot,Wt,Yt);if(Jt){Jt[0]=Math.min(Jt[0],rn[0],rn[2]),Jt[1]=Math.max(Jt[1],rn[0],rn[2]),Jt[2]=Math.min(Jt[2],rn[1],rn[3]),Jt[3]=Math.max(Jt[3],rn[1],rn[3]);return}this.updateRectMinMax(pt,rn)}getPathBoundingBox(pt=c.PathType.FILL,ht=null){const gt=[this.minX,this.minY,this.maxX,this.maxY];if(pt===c.PathType.STROKE){ht||(0,o.unreachable)("Stroke bounding box must include transform.");const At=o.Util.singularValueDecompose2dScale(ht),Rt=At[0]*this.lineWidth/2,Tt=At[1]*this.lineWidth/2;gt[0]-=Rt,gt[1]-=Tt,gt[2]+=Rt,gt[3]+=Tt}return gt}updateClipFromPath(){const pt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(pt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(pt){this.clipBox=pt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(pt=c.PathType.FILL,ht=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(pt,ht))}}function ot(vt,pt){if(typeof ImageData<"u"&&pt instanceof ImageData){vt.putImageData(pt,0,0);return}const ht=pt.height,gt=pt.width,At=ht%nt,Rt=(ht-At)/nt,Tt=At===0?Rt:Rt+1,Ot=vt.createImageData(gt,nt);let Wt=0,Yt;const Jt=pt.data,rn=Ot.data;let nn,sn,zt,Ut;if(pt.kind===o.ImageKind.GRAYSCALE_1BPP){const Et=Jt.byteLength,Pt=new Uint32Array(rn.buffer,0,rn.byteLength>>2),Vt=Pt.length,Ht=gt+7>>3,en=4294967295,un=o.FeatureTest.isLittleEndian?4278190080:255;for(nn=0;nn<Tt;nn++){for(zt=nn<Rt?nt:At,Yt=0,sn=0;sn<zt;sn++){const an=Et-Wt;let $t=0;const pn=an>Ht?gt:an*8-7,hn=pn&-8;let Tn=0,_n=0;for(;$t<hn;$t+=8)_n=Jt[Wt++],Pt[Yt++]=_n&128?en:un,Pt[Yt++]=_n&64?en:un,Pt[Yt++]=_n&32?en:un,Pt[Yt++]=_n&16?en:un,Pt[Yt++]=_n&8?en:un,Pt[Yt++]=_n&4?en:un,Pt[Yt++]=_n&2?en:un,Pt[Yt++]=_n&1?en:un;for(;$t<pn;$t++)Tn===0&&(_n=Jt[Wt++],Tn=128),Pt[Yt++]=_n&Tn?en:un,Tn>>=1}for(;Yt<Vt;)Pt[Yt++]=0;vt.putImageData(Ot,0,nn*nt)}}else if(pt.kind===o.ImageKind.RGBA_32BPP){for(sn=0,Ut=gt*nt*4,nn=0;nn<Rt;nn++)rn.set(Jt.subarray(Wt,Wt+Ut)),Wt+=Ut,vt.putImageData(Ot,0,sn),sn+=nt;nn<Tt&&(Ut=gt*At*4,rn.set(Jt.subarray(Wt,Wt+Ut)),vt.putImageData(Ot,0,sn))}else if(pt.kind===o.ImageKind.RGB_24BPP)for(zt=nt,Ut=gt*zt,nn=0;nn<Tt;nn++){for(nn>=Rt&&(zt=At,Ut=gt*zt),Yt=0,sn=Ut;sn--;)rn[Yt++]=Jt[Wt++],rn[Yt++]=Jt[Wt++],rn[Yt++]=Jt[Wt++],rn[Yt++]=255;vt.putImageData(Ot,0,nn*nt)}else throw new Error(`bad image kind: ${pt.kind}`)}function lt(vt,pt){if(pt.bitmap){vt.drawImage(pt.bitmap,0,0);return}const ht=pt.height,gt=pt.width,At=ht%nt,Rt=(ht-At)/nt,Tt=At===0?Rt:Rt+1,Ot=vt.createImageData(gt,nt);let Wt=0;const Yt=pt.data,Jt=Ot.data;for(let rn=0;rn<Tt;rn++){const nn=rn<Rt?nt:At;({srcPos:Wt}=(0,d.convertBlackAndWhiteToRGBA)({src:Yt,srcPos:Wt,dest:Jt,width:gt,height:nn,nonBlackColor:0})),vt.putImageData(Ot,0,rn*nt)}}function it(vt,pt){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const gt of ht)vt[gt]!==void 0&&(pt[gt]=vt[gt]);vt.setLineDash!==void 0&&(pt.setLineDash(vt.getLineDash()),pt.lineDashOffset=vt.lineDashOffset)}function dt(vt){if(vt.strokeStyle=vt.fillStyle="#000000",vt.fillRule="nonzero",vt.globalAlpha=1,vt.lineWidth=1,vt.lineCap="butt",vt.lineJoin="miter",vt.miterLimit=10,vt.globalCompositeOperation="source-over",vt.font="10px sans-serif",vt.setLineDash!==void 0&&(vt.setLineDash([]),vt.lineDashOffset=0),!o.isNodeJS){const{filter:pt}=vt;pt!=="none"&&pt!==""&&(vt.filter="none")}}function ct(vt,pt,ht,gt){const At=vt.length;for(let Rt=3;Rt<At;Rt+=4){const Tt=vt[Rt];if(Tt===0)vt[Rt-3]=pt,vt[Rt-2]=ht,vt[Rt-1]=gt;else if(Tt<255){const Ot=255-Tt;vt[Rt-3]=vt[Rt-3]*Tt+pt*Ot>>8,vt[Rt-2]=vt[Rt-2]*Tt+ht*Ot>>8,vt[Rt-1]=vt[Rt-1]*Tt+gt*Ot>>8}}}function ut(vt,pt,ht){const gt=vt.length,At=1/255;for(let Rt=3;Rt<gt;Rt+=4){const Tt=ht?ht[vt[Rt]]:vt[Rt];pt[Rt]=pt[Rt]*Tt*At|0}}function mt(vt,pt,ht){const gt=vt.length;for(let At=3;At<gt;At+=4){const Rt=vt[At-3]*77+vt[At-2]*152+vt[At-1]*28;pt[At]=ht?pt[At]*ht[Rt>>8]>>8:pt[At]*Rt>>16}}function bt(vt,pt,ht,gt,At,Rt,Tt,Ot,Wt,Yt,Jt){const rn=!!Rt,nn=rn?Rt[0]:0,sn=rn?Rt[1]:0,zt=rn?Rt[2]:0,Ut=At==="Luminosity"?mt:ut,Pt=Math.min(gt,Math.ceil(1048576/ht));for(let Vt=0;Vt<gt;Vt+=Pt){const Ht=Math.min(Pt,gt-Vt),en=vt.getImageData(Ot-Yt,Vt+(Wt-Jt),ht,Ht),un=pt.getImageData(Ot,Vt+Wt,ht,Ht);rn&&ct(en.data,nn,sn,zt),Ut(en.data,un.data,Tt),pt.putImageData(un,Ot,Vt+Wt)}}function ft(vt,pt,ht,gt){const At=gt[0],Rt=gt[1],Tt=gt[2]-At,Ot=gt[3]-Rt;Tt===0||Ot===0||(bt(pt.context,ht,Tt,Ot,pt.subtype,pt.backdrop,pt.transferMap,At,Rt,pt.offsetX,pt.offsetY),vt.save(),vt.globalAlpha=1,vt.globalCompositeOperation="source-over",vt.setTransform(1,0,0,1,0,0),vt.drawImage(ht.canvas,0,0),vt.restore())}function yt(vt,pt){const ht=o.Util.singularValueDecompose2dScale(vt);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const gt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return pt!==void 0?pt:ht[0]<=gt||ht[1]<=gt}const St=["butt","round","square"],Dt=["miter","round","bevel"],Mt={},It={},Lt=class Lt{constructor(pt,ht,gt,At,Rt,{optionalContentConfig:Tt,markedContentStack:Ot=null},Wt,Yt){Gt(this,Ct);this.ctx=pt,this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=gt,this.canvasFactory=At,this.filterFactory=Rt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ot||[],this.optionalContentConfig=Tt,this.cachedCanvases=new rt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Yt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(pt,ht=null){return typeof pt=="string"?pt.startsWith("g_")?this.commonObjs.get(pt):this.objs.get(pt):ht}beginDrawing({transform:pt,viewport:ht,transparency:gt=!1,background:At=null}){const Rt=this.ctx.canvas.width,Tt=this.ctx.canvas.height,Ot=this.ctx.fillStyle;if(this.ctx.fillStyle=At||"#ffffff",this.ctx.fillRect(0,0,Rt,Tt),this.ctx.fillStyle=Ot,gt){const Wt=this.cachedCanvases.getCanvas("transparent",Rt,Tt);this.compositeCtx=this.ctx,this.transparentCanvas=Wt.canvas,this.ctx=Wt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),dt(this.ctx),pt&&(this.ctx.transform(...pt),this.outputScaleX=pt[0],this.outputScaleY=pt[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(pt,ht,gt,At){const Rt=pt.argsArray,Tt=pt.fnArray;let Ot=ht||0;const Wt=Rt.length;if(Wt===Ot)return Ot;const Yt=Wt-Ot>j&&typeof gt=="function",Jt=Yt?Date.now()+_:0;let rn=0;const nn=this.commonObjs,sn=this.objs;let zt;for(;;){if(At!==void 0&&Ot===At.nextBreakPoint)return At.breakIt(Ot,gt),Ot;if(zt=Tt[Ot],zt!==o.OPS.dependency)this[zt].apply(this,Rt[Ot]);else for(const Ut of Rt[Ot]){const Et=Ut.startsWith("g_")?nn:sn;if(!Et.has(Ut))return Et.get(Ut,gt),Ot}if(Ot++,Ot===Wt)return Ot;if(Yt&&++rn>j){if(Date.now()>Jt)return gt(),Ot;rn=0}}}endDrawing(){Bt(this,Ct,Lr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const pt of this._cachedBitmapsMap.values()){for(const ht of pt.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);pt.clear()}this._cachedBitmapsMap.clear(),Bt(this,Ct,Ir).call(this)}_scaleImage(pt,ht){const gt=pt.width,At=pt.height;let Rt=Math.max(Math.hypot(ht[0],ht[1]),1),Tt=Math.max(Math.hypot(ht[2],ht[3]),1),Ot=gt,Wt=At,Yt="prescale1",Jt,rn;for(;Rt>2&&Ot>1||Tt>2&&Wt>1;){let nn=Ot,sn=Wt;Rt>2&&Ot>1&&(nn=Ot>=16384?Math.floor(Ot/2)-1||1:Math.ceil(Ot/2),Rt/=Ot/nn),Tt>2&&Wt>1&&(sn=Wt>=16384?Math.floor(Wt/2)-1||1:Math.ceil(Wt)/2,Tt/=Wt/sn),Jt=this.cachedCanvases.getCanvas(Yt,nn,sn),rn=Jt.context,rn.clearRect(0,0,nn,sn),rn.drawImage(pt,0,0,Ot,Wt,0,0,nn,sn),pt=Jt.canvas,Ot=nn,Wt=sn,Yt=Yt==="prescale1"?"prescale2":"prescale1"}return{img:pt,paintWidth:Ot,paintHeight:Wt}}_createMaskCanvas(pt){const ht=this.ctx,{width:gt,height:At}=pt,Rt=this.current.fillColor,Tt=this.current.patternFill,Ot=(0,a.getCurrentTransform)(ht);let Wt,Yt,Jt,rn;if((pt.bitmap||pt.data)&&pt.count>1){const $t=pt.bitmap||pt.data.buffer;Yt=JSON.stringify(Tt?Ot:[Ot.slice(0,4),Rt]),Wt=this._cachedBitmapsMap.get($t),Wt||(Wt=new Map,this._cachedBitmapsMap.set($t,Wt));const pn=Wt.get(Yt);if(pn&&!Tt){const hn=Math.round(Math.min(Ot[0],Ot[2])+Ot[4]),Tn=Math.round(Math.min(Ot[1],Ot[3])+Ot[5]);return{canvas:pn,offsetX:hn,offsetY:Tn}}Jt=pn}Jt||(rn=this.cachedCanvases.getCanvas("maskCanvas",gt,At),lt(rn.context,pt));let nn=o.Util.transform(Ot,[1/gt,0,0,-1/At,0,0]);nn=o.Util.transform(nn,[1,0,0,1,0,-At]);const sn=o.Util.applyTransform([0,0],nn),zt=o.Util.applyTransform([gt,At],nn),Ut=o.Util.normalizeRect([sn[0],sn[1],zt[0],zt[1]]),Et=Math.round(Ut[2]-Ut[0])||1,Pt=Math.round(Ut[3]-Ut[1])||1,Vt=this.cachedCanvases.getCanvas("fillCanvas",Et,Pt),Ht=Vt.context,en=Math.min(sn[0],zt[0]),un=Math.min(sn[1],zt[1]);Ht.translate(-en,-un),Ht.transform(...nn),Jt||(Jt=this._scaleImage(rn.canvas,(0,a.getCurrentTransformInverse)(Ht)),Jt=Jt.img,Wt&&Tt&&Wt.set(Yt,Jt)),Ht.imageSmoothingEnabled=yt((0,a.getCurrentTransform)(Ht),pt.interpolate),tt(Ht,Jt,0,0,Jt.width,Jt.height,0,0,gt,At),Ht.globalCompositeOperation="source-in";const an=o.Util.transform((0,a.getCurrentTransformInverse)(Ht),[1,0,0,1,-en,-un]);return Ht.fillStyle=Tt?Rt.getPattern(ht,this,an,c.PathType.FILL):Rt,Ht.fillRect(0,0,gt,At),Wt&&!Tt&&(this.cachedCanvases.delete("fillCanvas"),Wt.set(Yt,Vt.canvas)),{canvas:Vt.canvas,offsetX:Math.round(en),offsetY:Math.round(un)}}setLineWidth(pt){pt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=pt,this.ctx.lineWidth=pt}setLineCap(pt){this.ctx.lineCap=St[pt]}setLineJoin(pt){this.ctx.lineJoin=Dt[pt]}setMiterLimit(pt){this.ctx.miterLimit=pt}setDash(pt,ht){const gt=this.ctx;gt.setLineDash!==void 0&&(gt.setLineDash(pt),gt.lineDashOffset=ht)}setRenderingIntent(pt){}setFlatness(pt){}setGState(pt){for(const[ht,gt]of pt)switch(ht){case"LW":this.setLineWidth(gt);break;case"LC":this.setLineCap(gt);break;case"LJ":this.setLineJoin(gt);break;case"ML":this.setMiterLimit(gt);break;case"D":this.setDash(gt[0],gt[1]);break;case"RI":this.setRenderingIntent(gt);break;case"FL":this.setFlatness(gt);break;case"Font":this.setFont(gt[0],gt[1]);break;case"CA":this.current.strokeAlpha=gt;break;case"ca":this.current.fillAlpha=gt,this.ctx.globalAlpha=gt;break;case"BM":this.ctx.globalCompositeOperation=gt;break;case"SMask":this.current.activeSMask=gt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(gt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const pt=this.inSMaskMode;this.current.activeSMask&&!pt?this.beginSMaskMode():!this.current.activeSMask&&pt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const pt=this.ctx.canvas.width,ht=this.ctx.canvas.height,gt="smaskGroupAt"+this.groupLevel,At=this.cachedCanvases.getCanvas(gt,pt,ht);this.suspendedCtx=this.ctx,this.ctx=At.context;const Rt=this.ctx;Rt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),it(this.suspendedCtx,Rt),st(Rt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),it(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(pt){if(!this.current.activeSMask)return;pt?(pt[0]=Math.floor(pt[0]),pt[1]=Math.floor(pt[1]),pt[2]=Math.ceil(pt[2]),pt[3]=Math.ceil(pt[3])):pt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,gt=this.suspendedCtx;ft(gt,ht,this.ctx,pt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(it(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const pt=this.current;this.stateStack.push(pt),this.current=pt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),it(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(pt,ht,gt,At,Rt,Tt){this.ctx.transform(pt,ht,gt,At,Rt,Tt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(pt,ht,gt){const At=this.ctx,Rt=this.current;let Tt=Rt.x,Ot=Rt.y,Wt,Yt;const Jt=(0,a.getCurrentTransform)(At),rn=Jt[0]===0&&Jt[3]===0||Jt[1]===0&&Jt[2]===0,nn=rn?gt.slice(0):null;for(let sn=0,zt=0,Ut=pt.length;sn<Ut;sn++)switch(pt[sn]|0){case o.OPS.rectangle:Tt=ht[zt++],Ot=ht[zt++];const Et=ht[zt++],Pt=ht[zt++],Vt=Tt+Et,Ht=Ot+Pt;At.moveTo(Tt,Ot),Et===0||Pt===0?At.lineTo(Vt,Ht):(At.lineTo(Vt,Ot),At.lineTo(Vt,Ht),At.lineTo(Tt,Ht)),rn||Rt.updateRectMinMax(Jt,[Tt,Ot,Vt,Ht]),At.closePath();break;case o.OPS.moveTo:Tt=ht[zt++],Ot=ht[zt++],At.moveTo(Tt,Ot),rn||Rt.updatePathMinMax(Jt,Tt,Ot);break;case o.OPS.lineTo:Tt=ht[zt++],Ot=ht[zt++],At.lineTo(Tt,Ot),rn||Rt.updatePathMinMax(Jt,Tt,Ot);break;case o.OPS.curveTo:Wt=Tt,Yt=Ot,Tt=ht[zt+4],Ot=ht[zt+5],At.bezierCurveTo(ht[zt],ht[zt+1],ht[zt+2],ht[zt+3],Tt,Ot),Rt.updateCurvePathMinMax(Jt,Wt,Yt,ht[zt],ht[zt+1],ht[zt+2],ht[zt+3],Tt,Ot,nn),zt+=6;break;case o.OPS.curveTo2:Wt=Tt,Yt=Ot,At.bezierCurveTo(Tt,Ot,ht[zt],ht[zt+1],ht[zt+2],ht[zt+3]),Rt.updateCurvePathMinMax(Jt,Wt,Yt,Tt,Ot,ht[zt],ht[zt+1],ht[zt+2],ht[zt+3],nn),Tt=ht[zt+2],Ot=ht[zt+3],zt+=4;break;case o.OPS.curveTo3:Wt=Tt,Yt=Ot,Tt=ht[zt+2],Ot=ht[zt+3],At.bezierCurveTo(ht[zt],ht[zt+1],Tt,Ot,Tt,Ot),Rt.updateCurvePathMinMax(Jt,Wt,Yt,ht[zt],ht[zt+1],Tt,Ot,Tt,Ot,nn),zt+=4;break;case o.OPS.closePath:At.closePath();break}rn&&Rt.updateScalingPathMinMax(Jt,nn),Rt.setCurrentPoint(Tt,Ot)}closePath(){this.ctx.closePath()}stroke(pt=!0){const ht=this.ctx,gt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof gt=="object"&&(gt!=null&&gt.getPattern)?(ht.save(),ht.strokeStyle=gt.getPattern(ht,this,(0,a.getCurrentTransformInverse)(ht),c.PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),pt&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(pt=!0){const ht=this.ctx,gt=this.current.fillColor,At=this.current.patternFill;let Rt=!1;At&&(ht.save(),ht.fillStyle=gt.getPattern(ht,this,(0,a.getCurrentTransformInverse)(ht),c.PathType.FILL),Rt=!0);const Tt=this.current.getClippedPathBoundingBox();this.contentVisible&&Tt!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),Rt&&ht.restore(),pt&&this.consumePath(Tt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Mt}eoClip(){this.pendingClip=It}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const pt=this.pendingTextPaths,ht=this.ctx;if(pt===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const gt of pt)ht.setTransform(...gt.transform),ht.translate(gt.x,gt.y),gt.addToPath(ht,gt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing(pt){this.current.charSpacing=pt}setWordSpacing(pt){this.current.wordSpacing=pt}setHScale(pt){this.current.textHScale=pt/100}setLeading(pt){this.current.leading=-pt}setFont(pt,ht){var Jt;const gt=this.commonObjs.get(pt),At=this.current;if(!gt)throw new Error(`Can't find font for ${pt}`);if(At.fontMatrix=gt.fontMatrix||o.FONT_IDENTITY_MATRIX,(At.fontMatrix[0]===0||At.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+pt),ht<0?(ht=-ht,At.fontDirection=-1):At.fontDirection=1,this.current.font=gt,this.current.fontSize=ht,gt.isType3Font)return;const Rt=gt.loadedName||"sans-serif",Tt=((Jt=gt.systemFontInfo)==null?void 0:Jt.css)||`"${Rt}", ${gt.fallbackName}`;let Ot="normal";gt.black?Ot="900":gt.bold&&(Ot="bold");const Wt=gt.italic?"italic":"normal";let Yt=ht;ht<g?Yt=g:ht>h&&(Yt=h),this.current.fontSizeScale=ht/Yt,this.ctx.font=`${Wt} ${Ot} ${Yt}px ${Tt}`}setTextRenderingMode(pt){this.current.textRenderingMode=pt}setTextRise(pt){this.current.textRise=pt}moveText(pt,ht){this.current.x=this.current.lineX+=pt,this.current.y=this.current.lineY+=ht}setLeadingMoveText(pt,ht){this.setLeading(-ht),this.moveText(pt,ht)}setTextMatrix(pt,ht,gt,At,Rt,Tt){this.current.textMatrix=[pt,ht,gt,At,Rt,Tt],this.current.textMatrixScale=Math.hypot(pt,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(pt,ht,gt,At){const Rt=this.ctx,Tt=this.current,Ot=Tt.font,Wt=Tt.textRenderingMode,Yt=Tt.fontSize/Tt.fontSizeScale,Jt=Wt&o.TextRenderingMode.FILL_STROKE_MASK,rn=!!(Wt&o.TextRenderingMode.ADD_TO_PATH_FLAG),nn=Tt.patternFill&&!Ot.missingFile;let sn;(Ot.disableFontFace||rn||nn)&&(sn=Ot.getPathGenerator(this.commonObjs,pt)),Ot.disableFontFace||nn?(Rt.save(),Rt.translate(ht,gt),Rt.beginPath(),sn(Rt,Yt),At&&Rt.setTransform(...At),(Jt===o.TextRenderingMode.FILL||Jt===o.TextRenderingMode.FILL_STROKE)&&Rt.fill(),(Jt===o.TextRenderingMode.STROKE||Jt===o.TextRenderingMode.FILL_STROKE)&&Rt.stroke(),Rt.restore()):((Jt===o.TextRenderingMode.FILL||Jt===o.TextRenderingMode.FILL_STROKE)&&Rt.fillText(pt,ht,gt),(Jt===o.TextRenderingMode.STROKE||Jt===o.TextRenderingMode.FILL_STROKE)&&Rt.strokeText(pt,ht,gt)),rn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(Rt),x:ht,y:gt,fontSize:Yt,addToPath:sn})}get isFontSubpixelAAEnabled(){const{context:pt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);pt.scale(1.5,1),pt.fillText("I",0,10);const ht=pt.getImageData(0,0,10,10).data;let gt=!1;for(let At=3;At<ht.length;At+=4)if(ht[At]>0&&ht[At]<255){gt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",gt)}showText(pt){const ht=this.current,gt=ht.font;if(gt.isType3Font)return this.showType3Text(pt);const At=ht.fontSize;if(At===0)return;const Rt=this.ctx,Tt=ht.fontSizeScale,Ot=ht.charSpacing,Wt=ht.wordSpacing,Yt=ht.fontDirection,Jt=ht.textHScale*Yt,rn=pt.length,nn=gt.vertical,sn=nn?1:-1,zt=gt.defaultVMetrics,Ut=At*ht.fontMatrix[0],Et=ht.textRenderingMode===o.TextRenderingMode.FILL&&!gt.disableFontFace&&!ht.patternFill;Rt.save(),Rt.transform(...ht.textMatrix),Rt.translate(ht.x,ht.y+ht.textRise),Yt>0?Rt.scale(Jt,-1):Rt.scale(Jt,1);let Pt;if(ht.patternFill){Rt.save();const an=ht.fillColor.getPattern(Rt,this,(0,a.getCurrentTransformInverse)(Rt),c.PathType.FILL);Pt=(0,a.getCurrentTransform)(Rt),Rt.restore(),Rt.fillStyle=an}let Vt=ht.lineWidth;const Ht=ht.textMatrixScale;if(Ht===0||Vt===0){const an=ht.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(an===o.TextRenderingMode.STROKE||an===o.TextRenderingMode.FILL_STROKE)&&(Vt=this.getSinglePixelWidth())}else Vt/=Ht;if(Tt!==1&&(Rt.scale(Tt,Tt),Vt/=Tt),Rt.lineWidth=Vt,gt.isInvalidPDFjsFont){const an=[];let $t=0;for(const pn of pt)an.push(pn.unicode),$t+=pn.width;Rt.fillText(an.join(""),0,0),ht.x+=$t*Ut*Jt,Rt.restore(),this.compose();return}let en=0,un;for(un=0;un<rn;++un){const an=pt[un];if(typeof an=="number"){en+=sn*an*At/1e3;continue}let $t=!1;const pn=(an.isSpace?Wt:0)+Ot,hn=an.fontChar,Tn=an.accent;let _n,Mn,yn=an.width;if(nn){const Pn=an.vmetric||zt,Ln=-(an.vmetric?Pn[1]:yn*.5)*Ut,ln=Pn[2]*Ut;yn=Pn?-Pn[0]:yn,_n=Ln/Tt,Mn=(en+ln)/Tt}else _n=en/Tt,Mn=0;if(gt.remeasure&&yn>0){const Pn=Rt.measureText(hn).width*1e3/At*Tt;if(yn<Pn&&this.isFontSubpixelAAEnabled){const Ln=yn/Pn;$t=!0,Rt.save(),Rt.scale(Ln,1),_n/=Ln}else yn!==Pn&&(_n+=(yn-Pn)/2e3*At/Tt)}if(this.contentVisible&&(an.isInFont||gt.missingFile)){if(Et&&!Tn)Rt.fillText(hn,_n,Mn);else if(this.paintChar(hn,_n,Mn,Pt),Tn){const Pn=_n+At*Tn.offset.x/Tt,Ln=Mn-At*Tn.offset.y/Tt;this.paintChar(Tn.fontChar,Pn,Ln,Pt)}}const wn=nn?yn*Ut-pn*Yt:yn*Ut+pn*Yt;en+=wn,$t&&Rt.restore()}nn?ht.y-=en:ht.x+=en*Jt,Rt.restore(),this.compose()}showType3Text(pt){const ht=this.ctx,gt=this.current,At=gt.font,Rt=gt.fontSize,Tt=gt.fontDirection,Ot=At.vertical?1:-1,Wt=gt.charSpacing,Yt=gt.wordSpacing,Jt=gt.textHScale*Tt,rn=gt.fontMatrix||o.FONT_IDENTITY_MATRIX,nn=pt.length,sn=gt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let zt,Ut,Et,Pt;if(!(sn||Rt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...gt.textMatrix),ht.translate(gt.x,gt.y),ht.scale(Jt,Tt),zt=0;zt<nn;++zt){if(Ut=pt[zt],typeof Ut=="number"){Pt=Ot*Ut*Rt/1e3,this.ctx.translate(Pt,0),gt.x+=Pt*Jt;continue}const Vt=(Ut.isSpace?Yt:0)+Wt,Ht=At.charProcOperatorList[Ut.operatorListId];if(!Ht){(0,o.warn)(`Type3 character "${Ut.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ut,this.save(),ht.scale(Rt,Rt),ht.transform(...rn),this.executeOperatorList(Ht),this.restore()),Et=o.Util.applyTransform([Ut.width,0],rn)[0]*Rt+Vt,ht.translate(Et,0),gt.x+=Et*Jt}ht.restore(),this.processingType3=null}}setCharWidth(pt,ht){}setCharWidthAndBounds(pt,ht,gt,At,Rt,Tt){this.ctx.rect(gt,At,Rt-gt,Tt-At),this.ctx.clip(),this.endPath()}getColorN_Pattern(pt){let ht;if(pt[0]==="TilingPattern"){const gt=pt[1],At=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),Rt={createCanvasGraphics:Tt=>new Lt(Tt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new c.TilingPattern(pt,gt,this.ctx,Rt,At)}else ht=this._getPattern(pt[1],pt[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(pt,ht,gt){const At=o.Util.makeHexColor(pt,ht,gt);this.ctx.strokeStyle=At,this.current.strokeColor=At}setFillRGBColor(pt,ht,gt){const At=o.Util.makeHexColor(pt,ht,gt);this.ctx.fillStyle=At,this.current.fillColor=At,this.current.patternFill=!1}_getPattern(pt,ht=null){let gt;return this.cachedPatterns.has(pt)?gt=this.cachedPatterns.get(pt):(gt=(0,c.getShadingPattern)(this.getObject(pt)),this.cachedPatterns.set(pt,gt)),ht&&(gt.matrix=ht),gt}shadingFill(pt){if(!this.contentVisible)return;const ht=this.ctx;this.save();const gt=this._getPattern(pt);ht.fillStyle=gt.getPattern(ht,this,(0,a.getCurrentTransformInverse)(ht),c.PathType.SHADING);const At=(0,a.getCurrentTransformInverse)(ht);if(At){const{width:Rt,height:Tt}=ht.canvas,[Ot,Wt,Yt,Jt]=o.Util.getAxialAlignedBoundingBox([0,0,Rt,Tt],At);this.ctx.fillRect(Ot,Wt,Yt-Ot,Jt-Wt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(pt,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(pt)&&pt.length===6&&this.transform(...pt),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),ht)){const gt=ht[2]-ht[0],At=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],gt,At),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(pt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;pt.isolated||(0,o.info)("TODO: Support non-isolated groups."),pt.knockout&&(0,o.warn)("Knockout groups not supported.");const gt=(0,a.getCurrentTransform)(ht);if(pt.matrix&&ht.transform(...pt.matrix),!pt.bbox)throw new Error("Bounding box is required.");let At=o.Util.getAxialAlignedBoundingBox(pt.bbox,(0,a.getCurrentTransform)(ht));const Rt=[0,0,ht.canvas.width,ht.canvas.height];At=o.Util.intersect(At,Rt)||[0,0,0,0];const Tt=Math.floor(At[0]),Ot=Math.floor(At[1]);let Wt=Math.max(Math.ceil(At[2])-Tt,1),Yt=Math.max(Math.ceil(At[3])-Ot,1),Jt=1,rn=1;Wt>b&&(Jt=Wt/b,Wt=b),Yt>b&&(rn=Yt/b,Yt=b),this.current.startNewPathAndClipBox([0,0,Wt,Yt]);let nn="groupAt"+this.groupLevel;pt.smask&&(nn+="_smask_"+this.smaskCounter++%2);const sn=this.cachedCanvases.getCanvas(nn,Wt,Yt),zt=sn.context;zt.scale(1/Jt,1/rn),zt.translate(-Tt,-Ot),zt.transform(...gt),pt.smask?this.smaskStack.push({canvas:sn.canvas,context:zt,offsetX:Tt,offsetY:Ot,scaleX:Jt,scaleY:rn,subtype:pt.smask.subtype,backdrop:pt.smask.backdrop,transferMap:pt.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(Tt,Ot),ht.scale(Jt,rn),ht.save()),it(ht,zt),this.ctx=zt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup(pt){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,gt=this.groupStack.pop();if(this.ctx=gt,this.ctx.imageSmoothingEnabled=!1,pt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const At=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...At);const Rt=o.Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],At);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(Rt)}}beginAnnotation(pt,ht,gt,At,Rt){if(Bt(this,Ct,Lr).call(this),dt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ht)&&ht.length===4){const Tt=ht[2]-ht[0],Ot=ht[3]-ht[1];if(Rt&&this.annotationCanvasMap){gt=gt.slice(),gt[4]-=ht[0],gt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=Tt,ht[3]=Ot;const[Wt,Yt]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:Jt}=this,rn=Math.ceil(Tt*this.outputScaleX*Jt),nn=Math.ceil(Ot*this.outputScaleY*Jt);this.annotationCanvas=this.canvasFactory.create(rn,nn);const{canvas:sn,context:zt}=this.annotationCanvas;this.annotationCanvasMap.set(pt,sn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=zt,this.ctx.save(),this.ctx.setTransform(Wt,0,0,-Yt,0,Ot*Yt),dt(this.ctx)}else dt(this.ctx),this.ctx.rect(ht[0],ht[1],Tt,Ot),this.ctx.clip(),this.endPath()}this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...gt),this.transform(...At)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Bt(this,Ct,Ir).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(pt){if(!this.contentVisible)return;const ht=pt.count;pt=this.getObject(pt.data,pt),pt.count=ht;const gt=this.ctx,At=this.processingType3;if(At&&(At.compiled===void 0&&(At.compiled=_e(pt)),At.compiled)){At.compiled(gt);return}const Rt=this._createMaskCanvas(pt),Tt=Rt.canvas;gt.save(),gt.setTransform(1,0,0,1,0,0),gt.drawImage(Tt,Rt.offsetX,Rt.offsetY),gt.restore(),this.compose()}paintImageMaskXObjectRepeat(pt,ht,gt=0,At=0,Rt,Tt){if(!this.contentVisible)return;pt=this.getObject(pt.data,pt);const Ot=this.ctx;Ot.save();const Wt=(0,a.getCurrentTransform)(Ot);Ot.transform(ht,gt,At,Rt,0,0);const Yt=this._createMaskCanvas(pt);Ot.setTransform(1,0,0,1,Yt.offsetX-Wt[4],Yt.offsetY-Wt[5]);for(let Jt=0,rn=Tt.length;Jt<rn;Jt+=2){const nn=o.Util.transform(Wt,[ht,gt,At,Rt,Tt[Jt],Tt[Jt+1]]),[sn,zt]=o.Util.applyTransform([0,0],nn);Ot.drawImage(Yt.canvas,sn,zt)}Ot.restore(),this.compose()}paintImageMaskXObjectGroup(pt){if(!this.contentVisible)return;const ht=this.ctx,gt=this.current.fillColor,At=this.current.patternFill;for(const Rt of pt){const{data:Tt,width:Ot,height:Wt,transform:Yt}=Rt,Jt=this.cachedCanvases.getCanvas("maskCanvas",Ot,Wt),rn=Jt.context;rn.save();const nn=this.getObject(Tt,Rt);lt(rn,nn),rn.globalCompositeOperation="source-in",rn.fillStyle=At?gt.getPattern(rn,this,(0,a.getCurrentTransformInverse)(ht),c.PathType.FILL):gt,rn.fillRect(0,0,Ot,Wt),rn.restore(),ht.save(),ht.transform(...Yt),ht.scale(1,-1),tt(ht,Jt.canvas,0,0,Ot,Wt,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject(pt){if(!this.contentVisible)return;const ht=this.getObject(pt);if(!ht){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat(pt,ht,gt,At){if(!this.contentVisible)return;const Rt=this.getObject(pt);if(!Rt){(0,o.warn)("Dependent image isn't ready yet");return}const Tt=Rt.width,Ot=Rt.height,Wt=[];for(let Yt=0,Jt=At.length;Yt<Jt;Yt+=2)Wt.push({transform:[ht,0,0,gt,At[Yt],At[Yt+1]],x:0,y:0,w:Tt,h:Ot});this.paintInlineImageXObjectGroup(Rt,Wt)}applyTransferMapsToCanvas(pt){return this.current.transferMaps!=="none"&&(pt.filter=this.current.transferMaps,pt.drawImage(pt.canvas,0,0),pt.filter="none"),pt.canvas}applyTransferMapsToBitmap(pt){if(this.current.transferMaps==="none")return pt.bitmap;const{bitmap:ht,width:gt,height:At}=pt,Rt=this.cachedCanvases.getCanvas("inlineImage",gt,At),Tt=Rt.context;return Tt.filter=this.current.transferMaps,Tt.drawImage(ht,0,0),Tt.filter="none",Rt.canvas}paintInlineImageXObject(pt){if(!this.contentVisible)return;const ht=pt.width,gt=pt.height,At=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Ot}=At;Ot!=="none"&&Ot!==""&&(At.filter="none")}At.scale(1/ht,-1/gt);let Rt;if(pt.bitmap)Rt=this.applyTransferMapsToBitmap(pt);else if(typeof HTMLElement=="function"&&pt instanceof HTMLElement||!pt.data)Rt=pt;else{const Wt=this.cachedCanvases.getCanvas("inlineImage",ht,gt).context;ot(Wt,pt),Rt=this.applyTransferMapsToCanvas(Wt)}const Tt=this._scaleImage(Rt,(0,a.getCurrentTransformInverse)(At));At.imageSmoothingEnabled=yt((0,a.getCurrentTransform)(At),pt.interpolate),tt(At,Tt.img,0,0,Tt.paintWidth,Tt.paintHeight,0,-gt,ht,gt),this.compose(),this.restore()}paintInlineImageXObjectGroup(pt,ht){if(!this.contentVisible)return;const gt=this.ctx;let At;if(pt.bitmap)At=pt.bitmap;else{const Rt=pt.width,Tt=pt.height,Wt=this.cachedCanvases.getCanvas("inlineImage",Rt,Tt).context;ot(Wt,pt),At=this.applyTransferMapsToCanvas(Wt)}for(const Rt of ht)gt.save(),gt.transform(...Rt.transform),gt.scale(1,-1),tt(gt,At,Rt.x,Rt.y,Rt.w,Rt.h,0,-1,1,1),gt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(pt){}markPointProps(pt,ht){}beginMarkedContent(pt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(pt,ht){pt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(pt){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(pt);const gt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===It?gt.clip("evenodd"):gt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),gt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const pt=(0,a.getCurrentTransform)(this.ctx);if(pt[1]===0&&pt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(pt[0]),Math.abs(pt[3]));else{const ht=Math.abs(pt[0]*pt[3]-pt[2]*pt[1]),gt=Math.hypot(pt[0],pt[2]),At=Math.hypot(pt[1],pt[3]);this._cachedGetSinglePixelWidth=Math.max(gt,At)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:pt}=this.current,{a:ht,b:gt,c:At,d:Rt}=this.ctx.getTransform();let Tt,Ot;if(gt===0&&At===0){const Wt=Math.abs(ht),Yt=Math.abs(Rt);if(Wt===Yt)if(pt===0)Tt=Ot=1/Wt;else{const Jt=Wt*pt;Tt=Ot=Jt<1?1/Jt:1}else if(pt===0)Tt=1/Wt,Ot=1/Yt;else{const Jt=Wt*pt,rn=Yt*pt;Tt=Jt<1?1/Jt:1,Ot=rn<1?1/rn:1}}else{const Wt=Math.abs(ht*Rt-gt*At),Yt=Math.hypot(ht,gt),Jt=Math.hypot(At,Rt);if(pt===0)Tt=Jt/Wt,Ot=Yt/Wt;else{const rn=pt*Wt;Tt=Jt>rn?Jt/rn:1,Ot=Yt>rn?Yt/rn:1}}this._cachedScaleForStroking[0]=Tt,this._cachedScaleForStroking[1]=Ot}return this._cachedScaleForStroking}rescaleAndStroke(pt){const{ctx:ht}=this,{lineWidth:gt}=this.current,[At,Rt]=this.getScaleForStroking();if(ht.lineWidth=gt||1,At===1&&Rt===1){ht.stroke();return}const Tt=ht.getLineDash();if(pt&&ht.save(),ht.scale(At,Rt),Tt.length>0){const Ot=Math.max(At,Rt);ht.setLineDash(Tt.map(Wt=>Wt/Ot)),ht.lineDashOffset/=Ot}ht.stroke(),pt&&ht.restore()}isContentVisible(){for(let pt=this.markedContentStack.length-1;pt>=0;pt--)if(!this.markedContentStack[pt].visible)return!1;return!0}};Ct=new WeakSet,Lr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ir=function(){if(this.pageColors){const pt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(pt!=="none"){const ht=this.ctx.filter;this.ctx.filter=pt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let kt=Lt;s.CanvasGraphics=kt;for(const vt in o.OPS)kt.prototype[vt]!==void 0&&(kt.prototype[o.OPS[vt]]=kt.prototype[vt])},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=nt;var o=i(1),a=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=c;function d(_e,$){if(!$)return;const ot=$[2]-$[0],lt=$[3]-$[1],it=new Path2D;it.rect($[0],$[1],ot,lt),_e.clip(it)}class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class h extends g{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ot;this._type==="axial"?ot=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const lt of this._colorStops)ot.addColorStop(lt[0],lt[1]);return ot}getPattern($,ot,lt,it){let dt;if(it===c.STROKE||it===c.FILL){const ct=ot.current.getClippedPathBoundingBox(it,(0,a.getCurrentTransform)($))||[0,0,0,0],ut=Math.ceil(ct[2]-ct[0])||1,mt=Math.ceil(ct[3]-ct[1])||1,bt=ot.cachedCanvases.getCanvas("pattern",ut,mt,!0),ft=bt.context;ft.clearRect(0,0,ft.canvas.width,ft.canvas.height),ft.beginPath(),ft.rect(0,0,ft.canvas.width,ft.canvas.height),ft.translate(-ct[0],-ct[1]),lt=o.Util.transform(lt,[1,0,0,1,ct[0],ct[1]]),ft.transform(...ot.baseTransform),this.matrix&&ft.transform(...this.matrix),d(ft,this._bbox),ft.fillStyle=this._createGradient(ft),ft.fill(),dt=$.createPattern(bt.canvas,"no-repeat");const yt=new DOMMatrix(lt);dt.setTransform(yt)}else d($,this._bbox),dt=this._createGradient($);return dt}}function b(_e,$,ot,lt,it,dt,ct,ut){const mt=$.coords,bt=$.colors,ft=_e.data,yt=_e.width*4;let St;mt[ot+1]>mt[lt+1]&&(St=ot,ot=lt,lt=St,St=dt,dt=ct,ct=St),mt[lt+1]>mt[it+1]&&(St=lt,lt=it,it=St,St=ct,ct=ut,ut=St),mt[ot+1]>mt[lt+1]&&(St=ot,ot=lt,lt=St,St=dt,dt=ct,ct=St);const Dt=(mt[ot]+$.offsetX)*$.scaleX,Mt=(mt[ot+1]+$.offsetY)*$.scaleY,It=(mt[lt]+$.offsetX)*$.scaleX,kt=(mt[lt+1]+$.offsetY)*$.scaleY,Ct=(mt[it]+$.offsetX)*$.scaleX,xt=(mt[it+1]+$.offsetY)*$.scaleY;if(Mt>=xt)return;const _t=bt[dt],Lt=bt[dt+1],vt=bt[dt+2],pt=bt[ct],ht=bt[ct+1],gt=bt[ct+2],At=bt[ut],Rt=bt[ut+1],Tt=bt[ut+2],Ot=Math.round(Mt),Wt=Math.round(xt);let Yt,Jt,rn,nn,sn,zt,Ut,Et;for(let Pt=Ot;Pt<=Wt;Pt++){if(Pt<kt){const an=Pt<Mt?0:(Mt-Pt)/(Mt-kt);Yt=Dt-(Dt-It)*an,Jt=_t-(_t-pt)*an,rn=Lt-(Lt-ht)*an,nn=vt-(vt-gt)*an}else{let an;Pt>xt?an=1:kt===xt?an=0:an=(kt-Pt)/(kt-xt),Yt=It-(It-Ct)*an,Jt=pt-(pt-At)*an,rn=ht-(ht-Rt)*an,nn=gt-(gt-Tt)*an}let Vt;Pt<Mt?Vt=0:Pt>xt?Vt=1:Vt=(Mt-Pt)/(Mt-xt),sn=Dt-(Dt-Ct)*Vt,zt=_t-(_t-At)*Vt,Ut=Lt-(Lt-Rt)*Vt,Et=vt-(vt-Tt)*Vt;const Ht=Math.round(Math.min(Yt,sn)),en=Math.round(Math.max(Yt,sn));let un=yt*Pt+Ht*4;for(let an=Ht;an<=en;an++)Vt=(Yt-an)/(Yt-sn),Vt<0?Vt=0:Vt>1&&(Vt=1),ft[un++]=Jt-(Jt-zt)*Vt|0,ft[un++]=rn-(rn-Ut)*Vt|0,ft[un++]=nn-(nn-Et)*Vt|0,ft[un++]=255}}function _(_e,$,ot){const lt=$.coords,it=$.colors;let dt,ct;switch($.type){case"lattice":const ut=$.verticesPerRow,mt=Math.floor(lt.length/ut)-1,bt=ut-1;for(dt=0;dt<mt;dt++){let ft=dt*ut;for(let yt=0;yt<bt;yt++,ft++)b(_e,ot,lt[ft],lt[ft+1],lt[ft+ut],it[ft],it[ft+1],it[ft+ut]),b(_e,ot,lt[ft+ut+1],lt[ft+1],lt[ft+ut],it[ft+ut+1],it[ft+1],it[ft+ut])}break;case"triangles":for(dt=0,ct=lt.length;dt<ct;dt+=3)b(_e,ot,lt[dt],lt[dt+1],lt[dt+2],it[dt],it[dt+1],it[dt+2]);break;default:throw new Error("illegal figure")}}class j extends g{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ot,lt){const ut=Math.floor(this._bounds[0]),mt=Math.floor(this._bounds[1]),bt=Math.ceil(this._bounds[2])-ut,ft=Math.ceil(this._bounds[3])-mt,yt=Math.min(Math.ceil(Math.abs(bt*$[0]*1.1)),3e3),St=Math.min(Math.ceil(Math.abs(ft*$[1]*1.1)),3e3),Dt=bt/yt,Mt=ft/St,It={coords:this._coords,colors:this._colors,offsetX:-ut,offsetY:-mt,scaleX:1/Dt,scaleY:1/Mt},kt=yt+2*2,Ct=St+2*2,xt=lt.getCanvas("mesh",kt,Ct,!1),_t=xt.context,Lt=_t.createImageData(yt,St);if(ot){const pt=Lt.data;for(let ht=0,gt=pt.length;ht<gt;ht+=4)pt[ht]=ot[0],pt[ht+1]=ot[1],pt[ht+2]=ot[2],pt[ht+3]=255}for(const pt of this._figures)_(Lt,pt,It);return _t.putImageData(Lt,2,2),{canvas:xt.canvas,offsetX:ut-2*Dt,offsetY:mt-2*Mt,scaleX:Dt,scaleY:Mt}}getPattern($,ot,lt,it){d($,this._bbox);let dt;if(it===c.SHADING)dt=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)($));else if(dt=o.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const ut=o.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*ut[0],dt[1]*ut[1]]}const ct=this._createMeshCanvas(dt,it===c.SHADING?null:this._background,ot.cachedCanvases);return it!==c.SHADING&&($.setTransform(...ot.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(ct.offsetX,ct.offsetY),$.scale(ct.scaleX,ct.scaleY),$.createPattern(ct.canvas,"no-repeat")}}class et extends g{getPattern(){return"hotpink"}}function nt(_e){switch(_e[0]){case"RadialAxial":return new h(_e);case"Mesh":return new j(_e);case"Dummy":return new et}throw new Error(`Unknown IR type: ${_e[0]}`)}const st={COLORED:1,UNCOLORED:2},tt=class tt{constructor($,ot,lt,it,dt){this.operatorList=$[2],this.matrix=$[3]||[1,0,0,1,0,0],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ot,this.ctx=lt,this.canvasGraphicsFactory=it,this.baseTransform=dt}createPatternCanvas($){const ot=this.operatorList,lt=this.bbox,it=this.xstep,dt=this.ystep,ct=this.paintType,ut=this.tilingType,mt=this.color,bt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+ut);const ft=lt[0],yt=lt[1],St=lt[2],Dt=lt[3],Mt=o.Util.singularValueDecompose2dScale(this.matrix),It=o.Util.singularValueDecompose2dScale(this.baseTransform),kt=[Mt[0]*It[0],Mt[1]*It[1]],Ct=this.getSizeAndScale(it,this.ctx.canvas.width,kt[0]),xt=this.getSizeAndScale(dt,this.ctx.canvas.height,kt[1]),_t=$.cachedCanvases.getCanvas("pattern",Ct.size,xt.size,!0),Lt=_t.context,vt=bt.createCanvasGraphics(Lt);vt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(vt,ct,mt);let pt=ft,ht=yt,gt=St,At=Dt;return ft<0&&(pt=0,gt+=Math.abs(ft)),yt<0&&(ht=0,At+=Math.abs(yt)),Lt.translate(-(Ct.scale*pt),-(xt.scale*ht)),vt.transform(Ct.scale,0,0,xt.scale,0,0),Lt.save(),this.clipBbox(vt,pt,ht,gt,At),vt.baseTransform=(0,a.getCurrentTransform)(vt.ctx),vt.executeOperatorList(ot),vt.endDrawing(),{canvas:_t.canvas,scaleX:Ct.scale,scaleY:xt.scale,offsetX:pt,offsetY:ht}}getSizeAndScale($,ot,lt){$=Math.abs($);const it=Math.max(tt.MAX_PATTERN_SIZE,ot);let dt=Math.ceil($*lt);return dt>=it?dt=it:lt=dt/$,{scale:lt,size:dt}}clipBbox($,ot,lt,it,dt){const ct=it-ot,ut=dt-lt;$.ctx.rect(ot,lt,ct,ut),$.current.updateRectMinMax((0,a.getCurrentTransform)($.ctx),[ot,lt,it,dt]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ot,lt){const it=$.ctx,dt=$.current;switch(ot){case st.COLORED:const ct=this.ctx;it.fillStyle=ct.fillStyle,it.strokeStyle=ct.strokeStyle,dt.fillColor=ct.fillStyle,dt.strokeColor=ct.strokeStyle;break;case st.UNCOLORED:const ut=o.Util.makeHexColor(lt[0],lt[1],lt[2]);it.fillStyle=ut,it.strokeStyle=ut,dt.fillColor=ut,dt.strokeColor=ut;break;default:throw new o.FormatError(`Unsupported paint type: ${ot}`)}}getPattern($,ot,lt,it){let dt=lt;it!==c.SHADING&&(dt=o.Util.transform(dt,ot.baseTransform),this.matrix&&(dt=o.Util.transform(dt,this.matrix)));const ct=this.createPatternCanvas(ot);let ut=new DOMMatrix(dt);ut=ut.translate(ct.offsetX,ct.offsetY),ut=ut.scale(1/ct.scaleX,1/ct.scaleY);const mt=$.createPattern(ct.canvas,"repeat");return mt.setTransform(ut),mt}};On(tt,"MAX_PATTERN_SIZE",3e3);let rt=tt;s.TilingPattern=rt},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=c,s.convertToRGBA=a,s.grayToRGBA=g;var o=i(1);function a(h){switch(h.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(h);case o.ImageKind.RGB_24BPP:return d(h)}return null}function c({src:h,srcPos:b=0,dest:_,width:j,height:et,nonBlackColor:nt=4294967295,inverseDecode:st=!1}){const rt=o.FeatureTest.isLittleEndian?4278190080:255,[tt,_e]=st?[nt,rt]:[rt,nt],$=j>>3,ot=j&7,lt=h.length;_=new Uint32Array(_.buffer);let it=0;for(let dt=0;dt<et;dt++){for(const ut=b+$;b<ut;b++){const mt=b<lt?h[b]:255;_[it++]=mt&128?_e:tt,_[it++]=mt&64?_e:tt,_[it++]=mt&32?_e:tt,_[it++]=mt&16?_e:tt,_[it++]=mt&8?_e:tt,_[it++]=mt&4?_e:tt,_[it++]=mt&2?_e:tt,_[it++]=mt&1?_e:tt}if(ot===0)continue;const ct=b<lt?h[b++]:255;for(let ut=0;ut<ot;ut++)_[it++]=ct&1<<7-ut?_e:tt}return{srcPos:b,destPos:it}}function d({src:h,srcPos:b=0,dest:_,destPos:j=0,width:et,height:nt}){let st=0;const rt=h.length>>2,tt=new Uint32Array(h.buffer,b,rt);if(o.FeatureTest.isLittleEndian){for(;st<rt-2;st+=3,j+=4){const _e=tt[st],$=tt[st+1],ot=tt[st+2];_[j]=_e|4278190080,_[j+1]=_e>>>24|$<<8|4278190080,_[j+2]=$>>>16|ot<<16|4278190080,_[j+3]=ot>>>8|4278190080}for(let _e=st*4,$=h.length;_e<$;_e+=3)_[j++]=h[_e]|h[_e+1]<<8|h[_e+2]<<16|4278190080}else{for(;st<rt-2;st+=3,j+=4){const _e=tt[st],$=tt[st+1],ot=tt[st+2];_[j]=_e|255,_[j+1]=_e<<24|$>>>8|255,_[j+2]=$<<16|ot>>>16|255,_[j+3]=ot<<8|255}for(let _e=st*4,$=h.length;_e<$;_e+=3)_[j++]=h[_e]<<24|h[_e+1]<<16|h[_e+2]<<8|255}return{srcPos:b,destPos:j}}function g(h,b){if(o.FeatureTest.isLittleEndian)for(let _=0,j=h.length;_<j;_++)b[_]=h[_]*65793|4278190080;else for(let _=0,j=h.length;_<j;_++)b[_]=h[_]*16843008|255}},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const i=Object.create(null);s.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,s,i)=>{var h,ps,fs,dr;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var o=i(1);const a={DATA:1,ERROR:2},c={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(et){switch(et instanceof Error||typeof et=="object"&&et!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),et.name){case"AbortException":return new o.AbortException(et.message);case"MissingPDFException":return new o.MissingPDFException(et.message);case"PasswordException":return new o.PasswordException(et.message,et.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(et.message,et.status);case"UnknownErrorException":return new o.UnknownErrorException(et.message,et.details);default:return new o.UnknownErrorException(et.message,et.toString())}}class g{constructor(nt,st,rt){Gt(this,h);this.sourceName=nt,this.targetName=st,this.comObj=rt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=tt=>{const _e=tt.data;if(_e.targetName!==this.sourceName)return;if(_e.stream){Bt(this,h,fs).call(this,_e);return}if(_e.callback){const ot=_e.callbackId,lt=this.callbackCapabilities[ot];if(!lt)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],_e.callback===a.DATA)lt.resolve(_e.data);else if(_e.callback===a.ERROR)lt.reject(d(_e.reason));else throw new Error("Unexpected callback case");return}const $=this.actionHandler[_e.action];if(!$)throw new Error(`Unknown action from worker: ${_e.action}`);if(_e.callbackId){const ot=this.sourceName,lt=_e.sourceName;new Promise(function(it){it($(_e.data))}).then(function(it){rt.postMessage({sourceName:ot,targetName:lt,callback:a.DATA,callbackId:_e.callbackId,data:it})},function(it){rt.postMessage({sourceName:ot,targetName:lt,callback:a.ERROR,callbackId:_e.callbackId,reason:d(it)})});return}if(_e.streamId){Bt(this,h,ps).call(this,_e);return}$(_e.data)},rt.addEventListener("message",this._onComObjOnMessage)}on(nt,st){const rt=this.actionHandler;if(rt[nt])throw new Error(`There is already an actionName called "${nt}"`);rt[nt]=st}send(nt,st,rt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,data:st},rt)}sendWithPromise(nt,st,rt){const tt=this.callbackId++,_e=new o.PromiseCapability;this.callbackCapabilities[tt]=_e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,callbackId:tt,data:st},rt)}catch($){_e.reject($)}return _e.promise}sendWithStream(nt,st,rt,tt){const _e=this.streamId++,$=this.sourceName,ot=this.targetName,lt=this.comObj;return new ReadableStream({start:it=>{const dt=new o.PromiseCapability;return this.streamControllers[_e]={controller:it,startCall:dt,pullCall:null,cancelCall:null,isClosed:!1},lt.postMessage({sourceName:$,targetName:ot,action:nt,streamId:_e,data:st,desiredSize:it.desiredSize},tt),dt.promise},pull:it=>{const dt=new o.PromiseCapability;return this.streamControllers[_e].pullCall=dt,lt.postMessage({sourceName:$,targetName:ot,stream:c.PULL,streamId:_e,desiredSize:it.desiredSize}),dt.promise},cancel:it=>{(0,o.assert)(it instanceof Error,"cancel must have a valid reason");const dt=new o.PromiseCapability;return this.streamControllers[_e].cancelCall=dt,this.streamControllers[_e].isClosed=!0,lt.postMessage({sourceName:$,targetName:ot,stream:c.CANCEL,streamId:_e,reason:d(it)}),dt.promise}},rt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,ps=function(nt){const st=nt.streamId,rt=this.sourceName,tt=nt.sourceName,_e=this.comObj,$=this,ot=this.actionHandler[nt.action],lt={enqueue(it,dt=1,ct){if(this.isCancelled)return;const ut=this.desiredSize;this.desiredSize-=dt,ut>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),_e.postMessage({sourceName:rt,targetName:tt,stream:c.ENQUEUE,streamId:st,chunk:it},ct)},close(){this.isCancelled||(this.isCancelled=!0,_e.postMessage({sourceName:rt,targetName:tt,stream:c.CLOSE,streamId:st}),delete $.streamSinks[st])},error(it){(0,o.assert)(it instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,_e.postMessage({sourceName:rt,targetName:tt,stream:c.ERROR,streamId:st,reason:d(it)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:nt.desiredSize,ready:null};lt.sinkCapability.resolve(),lt.ready=lt.sinkCapability.promise,this.streamSinks[st]=lt,new Promise(function(it){it(ot(nt.data,lt))}).then(function(){_e.postMessage({sourceName:rt,targetName:tt,stream:c.START_COMPLETE,streamId:st,success:!0})},function(it){_e.postMessage({sourceName:rt,targetName:tt,stream:c.START_COMPLETE,streamId:st,reason:d(it)})})},fs=function(nt){const st=nt.streamId,rt=this.sourceName,tt=nt.sourceName,_e=this.comObj,$=this.streamControllers[st],ot=this.streamSinks[st];switch(nt.stream){case c.START_COMPLETE:nt.success?$.startCall.resolve():$.startCall.reject(d(nt.reason));break;case c.PULL_COMPLETE:nt.success?$.pullCall.resolve():$.pullCall.reject(d(nt.reason));break;case c.PULL:if(!ot){_e.postMessage({sourceName:rt,targetName:tt,stream:c.PULL_COMPLETE,streamId:st,success:!0});break}ot.desiredSize<=0&&nt.desiredSize>0&&ot.sinkCapability.resolve(),ot.desiredSize=nt.desiredSize,new Promise(function(lt){var it;lt((it=ot.onPull)==null?void 0:it.call(ot))}).then(function(){_e.postMessage({sourceName:rt,targetName:tt,stream:c.PULL_COMPLETE,streamId:st,success:!0})},function(lt){_e.postMessage({sourceName:rt,targetName:tt,stream:c.PULL_COMPLETE,streamId:st,reason:d(lt)})});break;case c.ENQUEUE:if((0,o.assert)($,"enqueue should have stream controller"),$.isClosed)break;$.controller.enqueue(nt.chunk);break;case c.CLOSE:if((0,o.assert)($,"close should have stream controller"),$.isClosed)break;$.isClosed=!0,$.controller.close(),Bt(this,h,dr).call(this,$,st);break;case c.ERROR:(0,o.assert)($,"error should have stream controller"),$.controller.error(d(nt.reason)),Bt(this,h,dr).call(this,$,st);break;case c.CANCEL_COMPLETE:nt.success?$.cancelCall.resolve():$.cancelCall.reject(d(nt.reason)),Bt(this,h,dr).call(this,$,st);break;case c.CANCEL:if(!ot)break;new Promise(function(lt){var it;lt((it=ot.onCancel)==null?void 0:it.call(ot,d(nt.reason)))}).then(function(){_e.postMessage({sourceName:rt,targetName:tt,stream:c.CANCEL_COMPLETE,streamId:st,success:!0})},function(lt){_e.postMessage({sourceName:rt,targetName:tt,stream:c.CANCEL_COMPLETE,streamId:st,reason:d(lt)})}),ot.sinkCapability.reject(d(nt.reason)),ot.isCancelled=!0,delete this.streamSinks[st];break;default:throw new Error("Unexpected stream case")}},dr=async function(nt,st){var rt,tt,_e;await Promise.allSettled([(rt=nt.startCall)==null?void 0:rt.promise,(tt=nt.pullCall)==null?void 0:tt.promise,(_e=nt.cancelCall)==null?void 0:_e.promise]),delete this.streamControllers[st]},s.MessageHandler=g},(e,s,i)=>{var c,d;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var o=i(1);class a{constructor({parsedData:h,rawData:b}){Gt(this,c);Gt(this,d);Xt(this,c,h),Xt(this,d,b)}getRaw(){return at(this,d)}get(h){return at(this,c).get(h)??null}getAll(){return(0,o.objectFromMap)(at(this,c))}has(h){return at(this,c).has(h)}}c=new WeakMap,d=new WeakMap,s.Metadata=a},(e,s,i)=>{var h,b,_,j,et,nt,Fr;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var o=i(1),a=i(8);const c=Symbol("INTERNAL");class d{constructor(tt,_e){Gt(this,h,!0);this.name=tt,this.intent=_e}get visible(){return at(this,h)}_setVisible(tt,_e){tt!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),Xt(this,h,_e)}}h=new WeakMap;class g{constructor(tt){Gt(this,nt);Gt(this,b,null);Gt(this,_,new Map);Gt(this,j,null);Gt(this,et,null);if(this.name=null,this.creator=null,tt!==null){this.name=tt.name,this.creator=tt.creator,Xt(this,et,tt.order);for(const _e of tt.groups)at(this,_).set(_e.id,new d(_e.name,_e.intent));if(tt.baseState==="OFF")for(const _e of at(this,_).values())_e._setVisible(c,!1);for(const _e of tt.on)at(this,_).get(_e)._setVisible(c,!0);for(const _e of tt.off)at(this,_).get(_e)._setVisible(c,!1);Xt(this,j,this.getHash())}}isVisible(tt){if(at(this,_).size===0)return!0;if(!tt)return(0,o.warn)("Optional content group not defined."),!0;if(tt.type==="OCG")return at(this,_).has(tt.id)?at(this,_).get(tt.id).visible:((0,o.warn)(`Optional content group not found: ${tt.id}`),!0);if(tt.type==="OCMD"){if(tt.expression)return Bt(this,nt,Fr).call(this,tt.expression);if(!tt.policy||tt.policy==="AnyOn"){for(const _e of tt.ids){if(!at(this,_).has(_e))return(0,o.warn)(`Optional content group not found: ${_e}`),!0;if(at(this,_).get(_e).visible)return!0}return!1}else if(tt.policy==="AllOn"){for(const _e of tt.ids){if(!at(this,_).has(_e))return(0,o.warn)(`Optional content group not found: ${_e}`),!0;if(!at(this,_).get(_e).visible)return!1}return!0}else if(tt.policy==="AnyOff"){for(const _e of tt.ids){if(!at(this,_).has(_e))return(0,o.warn)(`Optional content group not found: ${_e}`),!0;if(!at(this,_).get(_e).visible)return!0}return!1}else if(tt.policy==="AllOff"){for(const _e of tt.ids){if(!at(this,_).has(_e))return(0,o.warn)(`Optional content group not found: ${_e}`),!0;if(at(this,_).get(_e).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${tt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${tt.type}.`),!0}setVisibility(tt,_e=!0){if(!at(this,_).has(tt)){(0,o.warn)(`Optional content group not found: ${tt}`);return}at(this,_).get(tt)._setVisible(c,!!_e),Xt(this,b,null)}get hasInitialVisibility(){return at(this,j)===null||this.getHash()===at(this,j)}getOrder(){return at(this,_).size?at(this,et)?at(this,et).slice():[...at(this,_).keys()]:null}getGroups(){return at(this,_).size>0?(0,o.objectFromMap)(at(this,_)):null}getGroup(tt){return at(this,_).get(tt)||null}getHash(){if(at(this,b)!==null)return at(this,b);const tt=new a.MurmurHash3_64;for(const[_e,$]of at(this,_))tt.update(`${_e}:${$.visible}`);return Xt(this,b,tt.hexdigest())}}b=new WeakMap,_=new WeakMap,j=new WeakMap,et=new WeakMap,nt=new WeakSet,Fr=function(tt){const _e=tt.length;if(_e<2)return!0;const $=tt[0];for(let ot=1;ot<_e;ot++){const lt=tt[ot];let it;if(Array.isArray(lt))it=Bt(this,nt,Fr).call(this,lt);else if(at(this,_).has(lt))it=at(this,_).get(lt).visible;else return(0,o.warn)(`Optional content group not found: ${lt}`),!0;switch($){case"And":if(!it)return!1;break;case"Or":if(it)return!0;break;case"Not":return!it;default:return!0}}return $==="And"},s.OptionalContentConfig=g},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var o=i(1),a=i(6);class c{constructor({length:b,initialData:_,progressiveDone:j=!1,contentDispositionFilename:et=null,disableRange:nt=!1,disableStream:st=!1},rt){if((0,o.assert)(rt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=j,this._contentDispositionFilename=et,(_==null?void 0:_.length)>0){const tt=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;this._queuedChunks.push(tt)}this._pdfDataRangeTransport=rt,this._isStreamingSupported=!st,this._isRangeSupported=!nt,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((tt,_e)=>{this._onReceiveData({begin:tt,chunk:_e})}),this._pdfDataRangeTransport.addProgressListener((tt,_e)=>{this._onProgress({loaded:tt,total:_e})}),this._pdfDataRangeTransport.addProgressiveReadListener(tt=>{this._onReceiveData({chunk:tt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:_}){const j=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(j):this._queuedChunks.push(j);else{const et=this._rangeReaders.some(function(nt){return nt._begin!==b?!1:(nt._enqueue(j),!0)});(0,o.assert)(et,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var _,j,et,nt;b.total===void 0?(j=(_=this._rangeReaders[0])==null?void 0:_.onProgress)==null||j.call(_,{loaded:b.loaded}):(nt=(et=this._fullRequestReader)==null?void 0:et.onProgress)==null||nt.call(et,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const _=this._rangeReaders.indexOf(b);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,_){if(_<=this._progressiveDataLength)return null;const j=new g(this,b,_);return this._pdfDataRangeTransport.requestDataRange(b,_),this._rangeReaders.push(j),j}cancelAllRequests(b){var _;(_=this._fullRequestReader)==null||_.cancel(b);for(const j of this._rangeReaders.slice(0))j.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=c;class d{constructor(b,_,j=!1,et=null){this._stream=b,this._done=j||!1,this._filename=(0,a.isPdfFile)(et)?et:null,this._queuedChunks=_||[],this._loaded=0;for(const nt of this._queuedChunks)this._loaded+=nt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(b,_,j){this._stream=b,this._begin=_,this._end=j,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var o=i(1),a=i(20);function c(j,et,nt){return{method:"GET",headers:j,signal:nt.signal,mode:"cors",credentials:et?"include":"same-origin",redirect:"follow"}}function d(j){const et=new Headers;for(const nt in j){const st=j[nt];st!==void 0&&et.append(nt,st)}return et}function g(j){return j instanceof Uint8Array?j.buffer:j instanceof ArrayBuffer?j:((0,o.warn)(`getArrayBuffer - unexpected data format: ${j}`),new Uint8Array(j).buffer)}class h{constructor(et){this.source=et,this.isHttp=/^https?:/i.test(et.url),this.httpHeaders=this.isHttp&&et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(et,nt){if(nt<=this._progressiveDataLength)return null;const st=new _(this,et,nt);return this._rangeRequestReaders.push(st),st}cancelAllRequests(et){var nt;(nt=this._fullRequestReader)==null||nt.cancel(et);for(const st of this._rangeRequestReaders.slice(0))st.cancel(et)}}s.PDFFetchStream=h;class b{constructor(et){this._stream=et,this._reader=null,this._loaded=0,this._filename=null;const nt=et.source;this._withCredentials=nt.withCredentials||!1,this._contentLength=nt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=nt.disableRange||!1,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._headers=d(this._stream.httpHeaders);const st=nt.url;fetch(st,c(this._headers,this._withCredentials,this._abortController)).then(rt=>{if(!(0,a.validateResponseStatus)(rt.status))throw(0,a.createResponseStatusError)(rt.status,st);this._reader=rt.body.getReader(),this._headersCapability.resolve();const tt=ot=>rt.headers.get(ot),{allowRangeRequests:_e,suggestedLength:$}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:tt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_e,this._contentLength=$||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(tt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var st;await this._headersCapability.promise;const{value:et,done:nt}=await this._reader.read();return nt?{value:et,done:nt}:(this._loaded+=et.byteLength,(st=this.onProgress)==null||st.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(et),done:!1})}cancel(et){var nt;(nt=this._reader)==null||nt.cancel(et),this._abortController.abort()}}class _{constructor(et,nt,st){this._stream=et,this._reader=null,this._loaded=0;const rt=et.source;this._withCredentials=rt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!rt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${nt}-${st-1}`);const tt=rt.url;fetch(tt,c(this._headers,this._withCredentials,this._abortController)).then(_e=>{if(!(0,a.validateResponseStatus)(_e.status))throw(0,a.createResponseStatusError)(_e.status,tt);this._readCapability.resolve(),this._reader=_e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var st;await this._readCapability.promise;const{value:et,done:nt}=await this._reader.read();return nt?{value:et,done:nt}:(this._loaded+=et.byteLength,(st=this.onProgress)==null||st.call(this,{loaded:this._loaded}),{value:g(et),done:!1})}cancel(et){var nt;(nt=this._reader)==null||nt.cancel(et),this._abortController.abort()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=h,s.extractFilenameFromHeader=g,s.validateRangeRequestCapabilities=d,s.validateResponseStatus=b;var o=i(1),a=i(21),c=i(6);function d({getResponseHeader:_,isHttp:j,rangeChunkSize:et,disableRange:nt}){const st={allowRangeRequests:!1,suggestedLength:void 0},rt=parseInt(_("Content-Length"),10);return!Number.isInteger(rt)||(st.suggestedLength=rt,rt<=2*et)||nt||!j||_("Accept-Ranges")!=="bytes"||(_("Content-Encoding")||"identity")!=="identity"||(st.allowRangeRequests=!0),st}function g(_){const j=_("Content-Disposition");if(j){let et=(0,a.getFilenameFromContentDispositionHeader)(j);if(et.includes("%"))try{et=decodeURIComponent(et)}catch{}if((0,c.isPdfFile)(et))return et}return null}function h(_,j){return _===404||_===0&&j.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+j+'".'):new o.UnexpectedResponseException(`Unexpected server response (${_}) while retrieving PDF "${j}".`,_)}function b(_){return _===200||_===206}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=a;var o=i(1);function a(c){let d=!0,g=h("filename\\*","i").exec(c);if(g){g=g[1];let rt=et(g);return rt=unescape(rt),rt=nt(rt),rt=st(rt),_(rt)}if(g=j(c),g){const rt=st(g);return _(rt)}if(g=h("filename","i").exec(c),g){g=g[1];let rt=et(g);return rt=st(rt),_(rt)}function h(rt,tt){return new RegExp("(?:^|;)\\s*"+rt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',tt)}function b(rt,tt){if(rt){if(!/^[\x00-\xFF]+$/.test(tt))return tt;try{const _e=new TextDecoder(rt,{fatal:!0}),$=(0,o.stringToBytes)(tt);tt=_e.decode($),d=!1}catch{}}return tt}function _(rt){return d&&/[\x80-\xff]/.test(rt)&&(rt=b("utf-8",rt),d&&(rt=b("iso-8859-1",rt))),rt}function j(rt){const tt=[];let _e;const $=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_e=$.exec(rt))!==null;){let[,lt,it,dt]=_e;if(lt=parseInt(lt,10),lt in tt){if(lt===0)break;continue}tt[lt]=[it,dt]}const ot=[];for(let lt=0;lt<tt.length&&lt in tt;++lt){let[it,dt]=tt[lt];dt=et(dt),it&&(dt=unescape(dt),lt===0&&(dt=nt(dt))),ot.push(dt)}return ot.join("")}function et(rt){if(rt.startsWith('"')){const tt=rt.slice(1).split('\\"');for(let _e=0;_e<tt.length;++_e){const $=tt[_e].indexOf('"');$!==-1&&(tt[_e]=tt[_e].slice(0,$),tt.length=_e+1),tt[_e]=tt[_e].replaceAll(/\\(.)/g,"$1")}rt=tt.join('"')}return rt}function nt(rt){const tt=rt.indexOf("'");if(tt===-1)return rt;const _e=rt.slice(0,tt),ot=rt.slice(tt+1).replace(/^[^']*'/,"");return b(_e,ot)}function st(rt){return!rt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(rt)?rt:rt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(tt,_e,$,ot){if($==="q"||$==="Q")return ot=ot.replaceAll("_"," "),ot=ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(lt,it){return String.fromCharCode(parseInt(it,16))}),b(_e,ot);try{ot=atob(ot)}catch{}return b(_e,ot)})}return""}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var o=i(1),a=i(20);const c=200,d=206;function g(et){const nt=et.response;return typeof nt!="string"?nt:(0,o.stringToBytes)(nt).buffer}class h{constructor(nt,st={}){this.url=nt,this.isHttp=/^https?:/i.test(nt),this.httpHeaders=this.isHttp&&st.httpHeaders||Object.create(null),this.withCredentials=st.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(nt,st,rt){const tt={begin:nt,end:st};for(const _e in rt)tt[_e]=rt[_e];return this.request(tt)}requestFull(nt){return this.request(nt)}request(nt){const st=new XMLHttpRequest,rt=this.currXhrId++,tt=this.pendingRequests[rt]={xhr:st};st.open("GET",this.url),st.withCredentials=this.withCredentials;for(const _e in this.httpHeaders){const $=this.httpHeaders[_e];$!==void 0&&st.setRequestHeader(_e,$)}return this.isHttp&&"begin"in nt&&"end"in nt?(st.setRequestHeader("Range",`bytes=${nt.begin}-${nt.end-1}`),tt.expectedStatus=d):tt.expectedStatus=c,st.responseType="arraybuffer",nt.onError&&(st.onerror=function(_e){nt.onError(st.status)}),st.onreadystatechange=this.onStateChange.bind(this,rt),st.onprogress=this.onProgress.bind(this,rt),tt.onHeadersReceived=nt.onHeadersReceived,tt.onDone=nt.onDone,tt.onError=nt.onError,tt.onProgress=nt.onProgress,st.send(null),rt}onProgress(nt,st){var tt;const rt=this.pendingRequests[nt];rt&&((tt=rt.onProgress)==null||tt.call(rt,st))}onStateChange(nt,st){var lt,it,dt;const rt=this.pendingRequests[nt];if(!rt)return;const tt=rt.xhr;if(tt.readyState>=2&&rt.onHeadersReceived&&(rt.onHeadersReceived(),delete rt.onHeadersReceived),tt.readyState!==4||!(nt in this.pendingRequests))return;if(delete this.pendingRequests[nt],tt.status===0&&this.isHttp){(lt=rt.onError)==null||lt.call(rt,tt.status);return}const _e=tt.status||c;if(!(_e===c&&rt.expectedStatus===d)&&_e!==rt.expectedStatus){(it=rt.onError)==null||it.call(rt,tt.status);return}const ot=g(tt);if(_e===d){const ct=tt.getResponseHeader("Content-Range"),ut=/bytes (\d+)-(\d+)\/(\d+)/.exec(ct);rt.onDone({begin:parseInt(ut[1],10),chunk:ot})}else ot?rt.onDone({begin:0,chunk:ot}):(dt=rt.onError)==null||dt.call(rt,tt.status)}getRequestXhr(nt){return this.pendingRequests[nt].xhr}isPendingRequest(nt){return nt in this.pendingRequests}abortRequest(nt){const st=this.pendingRequests[nt].xhr;delete this.pendingRequests[nt],st.abort()}}class b{constructor(nt){this._source=nt,this._manager=new h(nt.url,{httpHeaders:nt.httpHeaders,withCredentials:nt.withCredentials}),this._rangeChunkSize=nt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(nt){const st=this._rangeRequestReaders.indexOf(nt);st>=0&&this._rangeRequestReaders.splice(st,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}getRangeReader(nt,st){const rt=new j(this._manager,nt,st);return rt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(rt),rt}cancelAllRequests(nt){var st;(st=this._fullRequestReader)==null||st.cancel(nt);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(nt)}}s.PDFNetworkStream=b;class _{constructor(nt,st){this._manager=nt;const rt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=st.url,this._fullRequestId=nt.requestFull(rt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=st.disableRange||!1,this._contentLength=st.length,this._rangeChunkSize=st.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const nt=this._fullRequestId,st=this._manager.getRequestXhr(nt),rt=$=>st.getResponseHeader($),{allowRangeRequests:tt,suggestedLength:_e}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:rt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});tt&&(this._isRangeSupported=!0),this._contentLength=_e||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(rt),this._isRangeSupported&&this._manager.abortRequest(nt),this._headersReceivedCapability.resolve()}_onDone(nt){if(nt&&(this._requests.length>0?this._requests.shift().resolve({value:nt.chunk,done:!1}):this._cachedChunks.push(nt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(nt){this._storedError=(0,a.createResponseStatusError)(nt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const st of this._requests)st.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(nt){var st;(st=this.onProgress)==null||st.call(this,{loaded:nt.loaded,total:nt.lengthComputable?nt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const nt=new o.PromiseCapability;return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0,this._headersReceivedCapability.reject(nt);for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class j{constructor(nt,st,rt){this._manager=nt;const tt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=nt.url,this._requestId=nt.requestRange(st,rt,tt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var nt;(nt=this.onClosed)==null||nt.call(this,this)}_onDone(nt){const st=nt.chunk;this._requests.length>0?this._requests.shift().resolve({value:st,done:!1}):this._queuedChunk=st,this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(nt){this._storedError=(0,a.createResponseStatusError)(nt,this._url);for(const st of this._requests)st.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(nt){var st;this.isStreamingSupported||(st=this.onProgress)==null||st.call(this,{loaded:nt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const st=this._queuedChunk;return this._queuedChunk=null,{value:st,done:!1}}if(this._done)return{value:void 0,done:!0};const nt=new o.PromiseCapability;return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var o=i(1),a=i(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(rt){const tt=require$$5,_e=tt.parse(rt);return _e.protocol==="file:"||_e.host?_e:/^[a-z]:[/\\]/i.test(rt)?tt.parse(`file:///${rt}`):(_e.host||(_e.protocol="file:"),_e)}class g{constructor(tt){this.source=tt,this.url=d(tt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&tt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var tt;return((tt=this._fullRequestReader)==null?void 0:tt._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new nt(this):new j(this),this._fullRequestReader}getRangeReader(tt,_e){if(_e<=this._progressiveDataLength)return null;const $=this.isFsUrl?new st(this,tt,_e):new et(this,tt,_e);return this._rangeRequestReaders.push($),$}cancelAllRequests(tt){var _e;(_e=this._fullRequestReader)==null||_e.cancel(tt);for(const $ of this._rangeRequestReaders.slice(0))$.cancel(tt)}}s.PDFNodeStream=g;class h{constructor(tt){this._url=tt.url,this._done=!1,this._storedError=null,this.onProgress=null;const _e=tt.source;this._contentLength=_e.length,this._loaded=0,this._filename=null,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const tt=this._readableStream.read();return tt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=tt.length,($=this.onProgress)==null||$.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(tt).buffer,done:!1})}cancel(tt){if(!this._readableStream){this._error(tt);return}this._readableStream.destroy(tt)}_error(tt){this._storedError=tt,this._readCapability.resolve()}_setReadableStream(tt){this._readableStream=tt,tt.on("readable",()=>{this._readCapability.resolve()}),tt.on("end",()=>{tt.destroy(),this._done=!0,this._readCapability.resolve()}),tt.on("error",_e=>{this._error(_e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(tt){this._url=tt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const _e=tt.source;this._isStreamingSupported=!_e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const tt=this._readableStream.read();return tt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=tt.length,($=this.onProgress)==null||$.call(this,{loaded:this._loaded}),{value:new Uint8Array(tt).buffer,done:!1})}cancel(tt){if(!this._readableStream){this._error(tt);return}this._readableStream.destroy(tt)}_error(tt){this._storedError=tt,this._readCapability.resolve()}_setReadableStream(tt){this._readableStream=tt,tt.on("readable",()=>{this._readCapability.resolve()}),tt.on("end",()=>{tt.destroy(),this._done=!0,this._readCapability.resolve()}),tt.on("error",_e=>{this._error(_e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(rt,tt){return{protocol:rt.protocol,auth:rt.auth,host:rt.hostname,port:rt.port,path:rt.path,method:"GET",headers:tt}}class j extends h{constructor(tt){super(tt);const _e=$=>{if($.statusCode===404){const dt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dt,this._headersCapability.reject(dt);return}this._headersCapability.resolve(),this._setReadableStream($);const ot=dt=>this._readableStream.headers[dt.toLowerCase()],{allowRangeRequests:lt,suggestedLength:it}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:tt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=lt,this._contentLength=it||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ot)};if(this._request=null,this._url.protocol==="http:"){const $=require$$5;this._request=$.request(_(this._url,tt.httpHeaders),_e)}else{const $=require$$5;this._request=$.request(_(this._url,tt.httpHeaders),_e)}this._request.on("error",$=>{this._storedError=$,this._headersCapability.reject($)}),this._request.end()}}class et extends b{constructor(tt,_e,$){super(tt),this._httpHeaders={};for(const lt in tt.httpHeaders){const it=tt.httpHeaders[lt];it!==void 0&&(this._httpHeaders[lt]=it)}this._httpHeaders.Range=`bytes=${_e}-${$-1}`;const ot=lt=>{if(lt.statusCode===404){const it=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=it;return}this._setReadableStream(lt)};if(this._request=null,this._url.protocol==="http:"){const lt=require$$5;this._request=lt.request(_(this._url,this._httpHeaders),ot)}else{const lt=require$$5;this._request=lt.request(_(this._url,this._httpHeaders),ot)}this._request.on("error",lt=>{this._storedError=lt}),this._request.end()}}class nt extends h{constructor(tt){super(tt);let _e=decodeURIComponent(this._url.path);c.test(this._url.href)&&(_e=_e.replace(/^\//,""));const $=require$$5;$.lstat(_e,(ot,lt)=>{if(ot){ot.code==="ENOENT"&&(ot=new o.MissingPDFException(`Missing PDF "${_e}".`)),this._storedError=ot,this._headersCapability.reject(ot);return}this._contentLength=lt.size,this._setReadableStream($.createReadStream(_e)),this._headersCapability.resolve()})}}class st extends b{constructor(tt,_e,$){super(tt);let ot=decodeURIComponent(this._url.path);c.test(this._url.href)&&(ot=ot.replace(/^\//,""));const lt=require$$5;this._setReadableStream(lt.createReadStream(ot,{start:_e,end:$-1}))}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var o=i(6),a=i(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",h=["butt","round","square"],b=["miter","round","bevel"],_=function(lt,it="",dt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!dt)return URL.createObjectURL(new Blob([lt],{type:it}));const ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ut=`data:${it};base64,`;for(let mt=0,bt=lt.length;mt<bt;mt+=3){const ft=lt[mt]&255,yt=lt[mt+1]&255,St=lt[mt+2]&255,Dt=ft>>2,Mt=(ft&3)<<4|yt>>4,It=mt+1<bt?(yt&15)<<2|St>>6:64,kt=mt+2<bt?St&63:64;ut+=ct[Dt]+ct[Mt]+ct[It]+ct[kt]}return ut},j=function(){const lt=new Uint8Array([137,80,78,71,13,10,26,10]),it=12,dt=new Int32Array(256);for(let St=0;St<256;St++){let Dt=St;for(let Mt=0;Mt<8;Mt++)Dt=Dt&1?3988292384^Dt>>1&2147483647:Dt>>1&2147483647;dt[St]=Dt}function ct(St,Dt,Mt){let It=-1;for(let kt=Dt;kt<Mt;kt++){const Ct=(It^St[kt])&255,xt=dt[Ct];It=It>>>8^xt}return It^-1}function ut(St,Dt,Mt,It){let kt=It;const Ct=Dt.length;Mt[kt]=Ct>>24&255,Mt[kt+1]=Ct>>16&255,Mt[kt+2]=Ct>>8&255,Mt[kt+3]=Ct&255,kt+=4,Mt[kt]=St.charCodeAt(0)&255,Mt[kt+1]=St.charCodeAt(1)&255,Mt[kt+2]=St.charCodeAt(2)&255,Mt[kt+3]=St.charCodeAt(3)&255,kt+=4,Mt.set(Dt,kt),kt+=Dt.length;const xt=ct(Mt,It+4,kt);Mt[kt]=xt>>24&255,Mt[kt+1]=xt>>16&255,Mt[kt+2]=xt>>8&255,Mt[kt+3]=xt&255}function mt(St,Dt,Mt){let It=1,kt=0;for(let Ct=Dt;Ct<Mt;++Ct)It=(It+(St[Ct]&255))%65521,kt=(kt+It)%65521;return kt<<16|It}function bt(St){if(!a.isNodeJS)return ft(St);try{const Dt=parseInt(process.versions.node)>=8?St:Buffer.from(St),Mt=require$$5.deflateSync(Dt,{level:9});return Mt instanceof Uint8Array?Mt:new Uint8Array(Mt)}catch(Dt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Dt)}return ft(St)}function ft(St){let Dt=St.length;const Mt=65535,It=Math.ceil(Dt/Mt),kt=new Uint8Array(2+Dt+It*5+4);let Ct=0;kt[Ct++]=120,kt[Ct++]=156;let xt=0;for(;Dt>Mt;)kt[Ct++]=0,kt[Ct++]=255,kt[Ct++]=255,kt[Ct++]=0,kt[Ct++]=0,kt.set(St.subarray(xt,xt+Mt),Ct),Ct+=Mt,xt+=Mt,Dt-=Mt;kt[Ct++]=1,kt[Ct++]=Dt&255,kt[Ct++]=Dt>>8&255,kt[Ct++]=~Dt&65535&255,kt[Ct++]=(~Dt&65535)>>8&255,kt.set(St.subarray(xt),Ct),Ct+=St.length-xt;const _t=mt(St,0,St.length);return kt[Ct++]=_t>>24&255,kt[Ct++]=_t>>16&255,kt[Ct++]=_t>>8&255,kt[Ct++]=_t&255,kt}function yt(St,Dt,Mt,It){const kt=St.width,Ct=St.height;let xt,_t,Lt;const vt=St.data;switch(Dt){case a.ImageKind.GRAYSCALE_1BPP:_t=0,xt=1,Lt=kt+7>>3;break;case a.ImageKind.RGB_24BPP:_t=2,xt=8,Lt=kt*3;break;case a.ImageKind.RGBA_32BPP:_t=6,xt=8,Lt=kt*4;break;default:throw new Error("invalid format")}const pt=new Uint8Array((1+Lt)*Ct);let ht=0,gt=0;for(let Yt=0;Yt<Ct;++Yt)pt[ht++]=0,pt.set(vt.subarray(gt,gt+Lt),ht),gt+=Lt,ht+=Lt;if(Dt===a.ImageKind.GRAYSCALE_1BPP&&It){ht=0;for(let Yt=0;Yt<Ct;Yt++){ht++;for(let Jt=0;Jt<Lt;Jt++)pt[ht++]^=255}}const At=new Uint8Array([kt>>24&255,kt>>16&255,kt>>8&255,kt&255,Ct>>24&255,Ct>>16&255,Ct>>8&255,Ct&255,xt,_t,0,0,0]),Rt=bt(pt),Tt=lt.length+it*3+At.length+Rt.length,Ot=new Uint8Array(Tt);let Wt=0;return Ot.set(lt,Wt),Wt+=lt.length,ut("IHDR",At,Ot,Wt),Wt+=it+At.length,ut("IDATA",Rt,Ot,Wt),Wt+=it+Rt.length,ut("IEND",new Uint8Array(0),Ot,Wt),_(Ot,"image/png",Mt)}return function(Dt,Mt,It){const kt=Dt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:Dt.kind;return yt(Dt,kt,Mt,It)}}();class et{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(it,dt){this.x=it,this.y=dt}}function nt(lt){let it=[];const dt=[];for(const ct of lt){if(ct.fn==="save"){it.push({fnId:92,fn:"group",items:[]}),dt.push(it),it=it.at(-1).items;continue}ct.fn==="restore"?it=dt.pop():it.push(ct)}return it}function st(lt){if(Number.isInteger(lt))return lt.toString();const it=lt.toFixed(10);let dt=it.length-1;if(it[dt]!=="0")return it;do dt--;while(it[dt]==="0");return it.substring(0,it[dt]==="."?dt:dt+1)}function rt(lt){if(lt[4]===0&&lt[5]===0){if(lt[1]===0&&lt[2]===0)return lt[0]===1&&lt[3]===1?"":`scale(${st(lt[0])} ${st(lt[3])})`;if(lt[0]===lt[3]&&lt[1]===-lt[2]){const it=Math.acos(lt[0])*180/Math.PI;return`rotate(${st(it)})`}}else if(lt[0]===1&&lt[1]===0&&lt[2]===0&&lt[3]===1)return`translate(${st(lt[4])} ${st(lt[5])})`;return`matrix(${st(lt[0])} ${st(lt[1])} ${st(lt[2])} ${st(lt[3])} ${st(lt[4])} ${st(lt[5])})`}let tt=0,_e=0,$=0;class ot{constructor(it,dt,ct=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new et,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=it,this.objs=dt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ct,this._operatorIdMapping=[];for(const ut in a.OPS)this._operatorIdMapping[a.OPS[ut]]=ut}getObject(it,dt=null){return typeof it=="string"?it.startsWith("g_")?this.commonObjs.get(it):this.objs.get(it):dt}save(){this.transformStack.push(this.transformMatrix);const it=this.current;this.extraStack.push(it),this.current=it.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(it){this.save(),this.executeOpTree(it),this.restore()}loadDependencies(it){const dt=it.fnArray,ct=it.argsArray;for(let ut=0,mt=dt.length;ut<mt;ut++)if(dt[ut]===a.OPS.dependency)for(const bt of ct[ut]){const ft=bt.startsWith("g_")?this.commonObjs:this.objs,yt=new Promise(St=>{ft.get(bt,St)});this.current.dependencies.push(yt)}return Promise.all(this.current.dependencies)}transform(it,dt,ct,ut,mt,bt){const ft=[it,dt,ct,ut,mt,bt];this.transformMatrix=a.Util.transform(this.transformMatrix,ft),this.tgrp=null}getSVG(it,dt){this.viewport=dt;const ct=this._initialize(dt);return this.loadDependencies(it).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(it)),ct))}convertOpList(it){const dt=this._operatorIdMapping,ct=it.argsArray,ut=it.fnArray,mt=[];for(let bt=0,ft=ut.length;bt<ft;bt++){const yt=ut[bt];mt.push({fnId:yt,fn:dt[yt],args:ct[bt]})}return nt(mt)}executeOpTree(it){for(const dt of it){const ct=dt.fn,ut=dt.fnId,mt=dt.args;switch(ut|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(mt);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(mt[0],mt[1]);break;case a.OPS.setFont:this.setFont(mt);break;case a.OPS.showText:this.showText(mt[0]);break;case a.OPS.showSpacedText:this.showText(mt[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(mt[0],mt[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(mt[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(mt[0]);break;case a.OPS.setHScale:this.setHScale(mt[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]);break;case a.OPS.setTextRise:this.setTextRise(mt[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(mt[0]);break;case a.OPS.setLineWidth:this.setLineWidth(mt[0]);break;case a.OPS.setLineJoin:this.setLineJoin(mt[0]);break;case a.OPS.setLineCap:this.setLineCap(mt[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(mt[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(mt[0],mt[1],mt[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(mt[0],mt[1],mt[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(mt);break;case a.OPS.setFillColorN:this.setFillColorN(mt);break;case a.OPS.shadingFill:this.shadingFill(mt[0]);break;case a.OPS.setDash:this.setDash(mt[0],mt[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(mt[0]);break;case a.OPS.setFlatness:this.setFlatness(mt[0]);break;case a.OPS.setGState:this.setGState(mt[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(mt[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(mt[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(mt[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(mt[0],mt[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]);break;case a.OPS.constructPath:this.constructPath(mt[0],mt[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(dt.items);break;default:(0,a.warn)(`Unimplemented operator ${ct}`);break}}}setWordSpacing(it){this.current.wordSpacing=it}setCharSpacing(it){this.current.charSpacing=it}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(it,dt,ct,ut,mt,bt){const ft=this.current;ft.textMatrix=ft.lineMatrix=[it,dt,ct,ut,mt,bt],ft.textMatrixScale=Math.hypot(it,dt),ft.x=ft.lineX=0,ft.y=ft.lineY=0,ft.xcoords=[],ft.ycoords=[],ft.tspan=this.svgFactory.createElement("svg:tspan"),ft.tspan.setAttributeNS(null,"font-family",ft.fontFamily),ft.tspan.setAttributeNS(null,"font-size",`${st(ft.fontSize)}px`),ft.tspan.setAttributeNS(null,"y",st(-ft.y)),ft.txtElement=this.svgFactory.createElement("svg:text"),ft.txtElement.append(ft.tspan)}beginText(){const it=this.current;it.x=it.lineX=0,it.y=it.lineY=0,it.textMatrix=a.IDENTITY_MATRIX,it.lineMatrix=a.IDENTITY_MATRIX,it.textMatrixScale=1,it.tspan=this.svgFactory.createElement("svg:tspan"),it.txtElement=this.svgFactory.createElement("svg:text"),it.txtgrp=this.svgFactory.createElement("svg:g"),it.xcoords=[],it.ycoords=[]}moveText(it,dt){const ct=this.current;ct.x=ct.lineX+=it,ct.y=ct.lineY+=dt,ct.xcoords=[],ct.ycoords=[],ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${st(ct.fontSize)}px`),ct.tspan.setAttributeNS(null,"y",st(-ct.y))}showText(it){const dt=this.current,ct=dt.font,ut=dt.fontSize;if(ut===0)return;const mt=dt.fontSizeScale,bt=dt.charSpacing,ft=dt.wordSpacing,yt=dt.fontDirection,St=dt.textHScale*yt,Dt=ct.vertical,Mt=Dt?1:-1,It=ct.defaultVMetrics,kt=ut*dt.fontMatrix[0];let Ct=0;for(const Lt of it){if(Lt===null){Ct+=yt*ft;continue}else if(typeof Lt=="number"){Ct+=Mt*Lt*ut/1e3;continue}const vt=(Lt.isSpace?ft:0)+bt,pt=Lt.fontChar;let ht,gt,At=Lt.width;if(Dt){let Tt;const Ot=Lt.vmetric||It;Tt=Lt.vmetric?Ot[1]:At*.5,Tt=-Tt*kt;const Wt=Ot[2]*kt;At=Ot?-Ot[0]:At,ht=Tt/mt,gt=(Ct+Wt)/mt}else ht=Ct/mt,gt=0;(Lt.isInFont||ct.missingFile)&&(dt.xcoords.push(dt.x+ht),Dt&&dt.ycoords.push(-dt.y+gt),dt.tspan.textContent+=pt);const Rt=Dt?At*kt-vt*yt:At*kt+vt*yt;Ct+=Rt}dt.tspan.setAttributeNS(null,"x",dt.xcoords.map(st).join(" ")),Dt?dt.tspan.setAttributeNS(null,"y",dt.ycoords.map(st).join(" ")):dt.tspan.setAttributeNS(null,"y",st(-dt.y)),Dt?dt.y-=Ct:dt.x+=Ct*St,dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${st(dt.fontSize)}px`),dt.fontStyle!==c.fontStyle&&dt.tspan.setAttributeNS(null,"font-style",dt.fontStyle),dt.fontWeight!==c.fontWeight&&dt.tspan.setAttributeNS(null,"font-weight",dt.fontWeight);const xt=dt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(xt===a.TextRenderingMode.FILL||xt===a.TextRenderingMode.FILL_STROKE?(dt.fillColor!==c.fillColor&&dt.tspan.setAttributeNS(null,"fill",dt.fillColor),dt.fillAlpha<1&&dt.tspan.setAttributeNS(null,"fill-opacity",dt.fillAlpha)):dt.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?dt.tspan.setAttributeNS(null,"fill","transparent"):dt.tspan.setAttributeNS(null,"fill","none"),xt===a.TextRenderingMode.STROKE||xt===a.TextRenderingMode.FILL_STROKE){const Lt=1/(dt.textMatrixScale||1);this._setStrokeAttributes(dt.tspan,Lt)}let _t=dt.textMatrix;dt.textRise!==0&&(_t=_t.slice(),_t[5]+=dt.textRise),dt.txtElement.setAttributeNS(null,"transform",`${rt(_t)} scale(${st(St)}, -1)`),dt.txtElement.setAttributeNS(d,"xml:space","preserve"),dt.txtElement.append(dt.tspan),dt.txtgrp.append(dt.txtElement),this._ensureTransformGroup().append(dt.txtElement)}setLeadingMoveText(it,dt){this.setLeading(-dt),this.moveText(it,dt)}addFontStyle(it){if(!it.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const dt=_(it.data,it.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${it.loadedName}"; src: url(${dt}); }
`}setFont(it){const dt=this.current,ct=this.commonObjs.get(it[0]);let ut=it[1];dt.font=ct,this.embedFonts&&!ct.missingFile&&!this.embeddedFonts[ct.loadedName]&&(this.addFontStyle(ct),this.embeddedFonts[ct.loadedName]=ct),dt.fontMatrix=ct.fontMatrix||a.FONT_IDENTITY_MATRIX;let mt="normal";ct.black?mt="900":ct.bold&&(mt="bold");const bt=ct.italic?"italic":"normal";ut<0?(ut=-ut,dt.fontDirection=-1):dt.fontDirection=1,dt.fontSize=ut,dt.fontFamily=ct.loadedName,dt.fontWeight=mt,dt.fontStyle=bt,dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"y",st(-dt.y)),dt.xcoords=[],dt.ycoords=[]}endText(){var dt;const it=this.current;it.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((dt=it.txtElement)!=null&&dt.hasChildNodes())&&(it.element=it.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(it){it>0&&(this.current.lineWidth=it)}setLineCap(it){this.current.lineCap=h[it]}setLineJoin(it){this.current.lineJoin=b[it]}setMiterLimit(it){this.current.miterLimit=it}setStrokeAlpha(it){this.current.strokeAlpha=it}setStrokeRGBColor(it,dt,ct){this.current.strokeColor=a.Util.makeHexColor(it,dt,ct)}setFillAlpha(it){this.current.fillAlpha=it}setFillRGBColor(it,dt,ct){this.current.fillColor=a.Util.makeHexColor(it,dt,ct),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(it){this.current.strokeColor=this._makeColorN_Pattern(it)}setFillColorN(it){this.current.fillColor=this._makeColorN_Pattern(it)}shadingFill(it){const{width:dt,height:ct}=this.viewport,ut=a.Util.inverseTransform(this.transformMatrix),[mt,bt,ft,yt]=a.Util.getAxialAlignedBoundingBox([0,0,dt,ct],ut),St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x",mt),St.setAttributeNS(null,"y",bt),St.setAttributeNS(null,"width",ft-mt),St.setAttributeNS(null,"height",yt-bt),St.setAttributeNS(null,"fill",this._makeShadingPattern(it)),this.current.fillAlpha<1&&St.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(St)}_makeColorN_Pattern(it){return it[0]==="TilingPattern"?this._makeTilingPattern(it):this._makeShadingPattern(it)}_makeTilingPattern(it){const dt=it[1],ct=it[2],ut=it[3]||a.IDENTITY_MATRIX,[mt,bt,ft,yt]=it[4],St=it[5],Dt=it[6],Mt=it[7],It=`shading${$++}`,[kt,Ct,xt,_t]=a.Util.normalizeRect([...a.Util.applyTransform([mt,bt],ut),...a.Util.applyTransform([ft,yt],ut)]),[Lt,vt]=a.Util.singularValueDecompose2dScale(ut),pt=St*Lt,ht=Dt*vt,gt=this.svgFactory.createElement("svg:pattern");gt.setAttributeNS(null,"id",It),gt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),gt.setAttributeNS(null,"width",pt),gt.setAttributeNS(null,"height",ht),gt.setAttributeNS(null,"x",`${kt}`),gt.setAttributeNS(null,"y",`${Ct}`);const At=this.svg,Rt=this.transformMatrix,Tt=this.current.fillColor,Ot=this.current.strokeColor,Wt=this.svgFactory.create(xt-kt,_t-Ct);if(this.svg=Wt,this.transformMatrix=ut,Mt===2){const Yt=a.Util.makeHexColor(...dt);this.current.fillColor=Yt,this.current.strokeColor=Yt}return this.executeOpTree(this.convertOpList(ct)),this.svg=At,this.transformMatrix=Rt,this.current.fillColor=Tt,this.current.strokeColor=Ot,gt.append(Wt.childNodes[0]),this.defs.append(gt),`url(#${It})`}_makeShadingPattern(it){switch(typeof it=="string"&&(it=this.objs.get(it)),it[0]){case"RadialAxial":const dt=`shading${$++}`,ct=it[3];let ut;switch(it[1]){case"axial":const mt=it[4],bt=it[5];ut=this.svgFactory.createElement("svg:linearGradient"),ut.setAttributeNS(null,"id",dt),ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ut.setAttributeNS(null,"x1",mt[0]),ut.setAttributeNS(null,"y1",mt[1]),ut.setAttributeNS(null,"x2",bt[0]),ut.setAttributeNS(null,"y2",bt[1]);break;case"radial":const ft=it[4],yt=it[5],St=it[6],Dt=it[7];ut=this.svgFactory.createElement("svg:radialGradient"),ut.setAttributeNS(null,"id",dt),ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ut.setAttributeNS(null,"cx",yt[0]),ut.setAttributeNS(null,"cy",yt[1]),ut.setAttributeNS(null,"r",Dt),ut.setAttributeNS(null,"fx",ft[0]),ut.setAttributeNS(null,"fy",ft[1]),ut.setAttributeNS(null,"fr",St);break;default:throw new Error(`Unknown RadialAxial type: ${it[1]}`)}for(const mt of ct){const bt=this.svgFactory.createElement("svg:stop");bt.setAttributeNS(null,"offset",mt[0]),bt.setAttributeNS(null,"stop-color",mt[1]),ut.append(bt)}return this.defs.append(ut),`url(#${dt})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${it[0]}`)}}setDash(it,dt){this.current.dashArray=it,this.current.dashPhase=dt}constructPath(it,dt){const ct=this.current;let ut=ct.x,mt=ct.y,bt=[],ft=0;for(const yt of it)switch(yt|0){case a.OPS.rectangle:ut=dt[ft++],mt=dt[ft++];const St=dt[ft++],Dt=dt[ft++],Mt=ut+St,It=mt+Dt;bt.push("M",st(ut),st(mt),"L",st(Mt),st(mt),"L",st(Mt),st(It),"L",st(ut),st(It),"Z");break;case a.OPS.moveTo:ut=dt[ft++],mt=dt[ft++],bt.push("M",st(ut),st(mt));break;case a.OPS.lineTo:ut=dt[ft++],mt=dt[ft++],bt.push("L",st(ut),st(mt));break;case a.OPS.curveTo:ut=dt[ft+4],mt=dt[ft+5],bt.push("C",st(dt[ft]),st(dt[ft+1]),st(dt[ft+2]),st(dt[ft+3]),st(ut),st(mt)),ft+=6;break;case a.OPS.curveTo2:bt.push("C",st(ut),st(mt),st(dt[ft]),st(dt[ft+1]),st(dt[ft+2]),st(dt[ft+3])),ut=dt[ft+2],mt=dt[ft+3],ft+=4;break;case a.OPS.curveTo3:ut=dt[ft+2],mt=dt[ft+3],bt.push("C",st(dt[ft]),st(dt[ft+1]),st(ut),st(mt),st(ut),st(mt)),ft+=4;break;case a.OPS.closePath:bt.push("Z");break}bt=bt.join(" "),ct.path&&it.length>0&&it[0]!==a.OPS.rectangle&&it[0]!==a.OPS.moveTo?bt=ct.path.getAttributeNS(null,"d")+bt:(ct.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ct.path)),ct.path.setAttributeNS(null,"d",bt),ct.path.setAttributeNS(null,"fill","none"),ct.element=ct.path,ct.setCurrentPoint(ut,mt)}endPath(){const it=this.current;if(it.path=null,!this.pendingClip)return;if(!it.element){this.pendingClip=null;return}const dt=`clippath${tt++}`,ct=this.svgFactory.createElement("svg:clipPath");ct.setAttributeNS(null,"id",dt),ct.setAttributeNS(null,"transform",rt(this.transformMatrix));const ut=it.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ut.setAttributeNS(null,"clip-rule","evenodd"):ut.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ct.append(ut),this.defs.append(ct),it.activeClipUrl){it.clipGroup=null;for(const mt of this.extraStack)mt.clipGroup=null;ct.setAttributeNS(null,"clip-path",it.activeClipUrl)}it.activeClipUrl=`url(#${dt})`,this.tgrp=null}clip(it){this.pendingClip=it}closePath(){const it=this.current;if(it.path){const dt=`${it.path.getAttributeNS(null,"d")}Z`;it.path.setAttributeNS(null,"d",dt)}}setLeading(it){this.current.leading=-it}setTextRise(it){this.current.textRise=it}setTextRenderingMode(it){this.current.textRenderingMode=it}setHScale(it){this.current.textHScale=it/100}setRenderingIntent(it){}setFlatness(it){}setGState(it){for(const[dt,ct]of it)switch(dt){case"LW":this.setLineWidth(ct);break;case"LC":this.setLineCap(ct);break;case"LJ":this.setLineJoin(ct);break;case"ML":this.setMiterLimit(ct);break;case"D":this.setDash(ct[0],ct[1]);break;case"RI":this.setRenderingIntent(ct);break;case"FL":this.setFlatness(ct);break;case"Font":this.setFont(ct);break;case"CA":this.setStrokeAlpha(ct);break;case"ca":this.setFillAlpha(ct);break;default:(0,a.warn)(`Unimplemented graphic state operator ${dt}`);break}}fill(){const it=this.current;it.element&&(it.element.setAttributeNS(null,"fill",it.fillColor),it.element.setAttributeNS(null,"fill-opacity",it.fillAlpha),this.endPath())}stroke(){const it=this.current;it.element&&(this._setStrokeAttributes(it.element),it.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(it,dt=1){const ct=this.current;let ut=ct.dashArray;dt!==1&&ut.length>0&&(ut=ut.map(function(mt){return dt*mt})),it.setAttributeNS(null,"stroke",ct.strokeColor),it.setAttributeNS(null,"stroke-opacity",ct.strokeAlpha),it.setAttributeNS(null,"stroke-miterlimit",st(ct.miterLimit)),it.setAttributeNS(null,"stroke-linecap",ct.lineCap),it.setAttributeNS(null,"stroke-linejoin",ct.lineJoin),it.setAttributeNS(null,"stroke-width",st(dt*ct.lineWidth)+"px"),it.setAttributeNS(null,"stroke-dasharray",ut.map(st).join(" ")),it.setAttributeNS(null,"stroke-dashoffset",st(dt*ct.dashPhase)+"px")}eoFill(){var it;(it=this.current.element)==null||it.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var it;(it=this.current.element)==null||it.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const it=this.svgFactory.createElement("svg:rect");it.setAttributeNS(null,"x","0"),it.setAttributeNS(null,"y","0"),it.setAttributeNS(null,"width","1px"),it.setAttributeNS(null,"height","1px"),it.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(it)}paintImageXObject(it){const dt=this.getObject(it);if(!dt){(0,a.warn)(`Dependent image with object ID ${it} is not ready yet`);return}this.paintInlineImageXObject(dt)}paintInlineImageXObject(it,dt){const ct=it.width,ut=it.height,mt=j(it,this.forceDataSchema,!!dt),bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width",st(ct)),bt.setAttributeNS(null,"height",st(ut)),this.current.element=bt,this.clip("nonzero");const ft=this.svgFactory.createElement("svg:image");ft.setAttributeNS(g,"xlink:href",mt),ft.setAttributeNS(null,"x","0"),ft.setAttributeNS(null,"y",st(-ut)),ft.setAttributeNS(null,"width",st(ct)+"px"),ft.setAttributeNS(null,"height",st(ut)+"px"),ft.setAttributeNS(null,"transform",`scale(${st(1/ct)} ${st(-1/ut)})`),dt?dt.append(ft):this._ensureTransformGroup().append(ft)}paintImageMaskXObject(it){const dt=this.getObject(it.data,it);if(dt.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ct=this.current,ut=dt.width,mt=dt.height,bt=ct.fillColor;ct.maskId=`mask${_e++}`;const ft=this.svgFactory.createElement("svg:mask");ft.setAttributeNS(null,"id",ct.maskId);const yt=this.svgFactory.createElement("svg:rect");yt.setAttributeNS(null,"x","0"),yt.setAttributeNS(null,"y","0"),yt.setAttributeNS(null,"width",st(ut)),yt.setAttributeNS(null,"height",st(mt)),yt.setAttributeNS(null,"fill",bt),yt.setAttributeNS(null,"mask",`url(#${ct.maskId})`),this.defs.append(ft),this._ensureTransformGroup().append(yt),this.paintInlineImageXObject(dt,ft)}paintFormXObjectBegin(it,dt){if(Array.isArray(it)&&it.length===6&&this.transform(it[0],it[1],it[2],it[3],it[4],it[5]),dt){const ct=dt[2]-dt[0],ut=dt[3]-dt[1],mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x",dt[0]),mt.setAttributeNS(null,"y",dt[1]),mt.setAttributeNS(null,"width",st(ct)),mt.setAttributeNS(null,"height",st(ut)),this.current.element=mt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(it){const dt=this.svgFactory.create(it.width,it.height),ct=this.svgFactory.createElement("svg:defs");dt.append(ct),this.defs=ct;const ut=this.svgFactory.createElement("svg:g");return ut.setAttributeNS(null,"transform",rt(it.transform)),dt.append(ut),this.svg=ut,dt}_ensureClipGroup(){if(!this.current.clipGroup){const it=this.svgFactory.createElement("svg:g");it.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(it),this.current.clipGroup=it}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",rt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=ot},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class i{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function g(h){var j;if(!h)return;let b=null;const _=h.name;if(_==="#text")b=h.value;else if(i.shouldBuildText(_))(j=h==null?void 0:h.attributes)!=null&&j.textContent?b=h.attributes.textContent:h.value&&(b=h.value);else return;if(b!==null&&c.push({str:b}),!!h.children)for(const et of h.children)g(et)}return g(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}s.XfaText=i},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=rt,s.updateTextLayer=tt;var o=i(1),a=i(6);const c=1e5,d=30,g=.8,h=new Map;function b(_e,$){let ot;if($&&o.FeatureTest.isOffscreenCanvasSupported)ot=new OffscreenCanvas(_e,_e).getContext("2d",{alpha:!1});else{const lt=document.createElement("canvas");lt.width=lt.height=_e,ot=lt.getContext("2d",{alpha:!1})}return ot}function _(_e,$){const ot=h.get(_e);if(ot)return ot;const lt=b(d,$);lt.font=`${d}px ${_e}`;const it=lt.measureText("");let dt=it.fontBoundingBoxAscent,ct=Math.abs(it.fontBoundingBoxDescent);if(dt){const mt=dt/(dt+ct);return h.set(_e,mt),lt.canvas.width=lt.canvas.height=0,mt}lt.strokeStyle="red",lt.clearRect(0,0,d,d),lt.strokeText("g",0,0);let ut=lt.getImageData(0,0,d,d).data;ct=0;for(let mt=ut.length-1-3;mt>=0;mt-=4)if(ut[mt]>0){ct=Math.ceil(mt/4/d);break}lt.clearRect(0,0,d,d),lt.strokeText("A",0,d),ut=lt.getImageData(0,0,d,d).data,dt=0;for(let mt=0,bt=ut.length;mt<bt;mt+=4)if(ut[mt]>0){dt=d-Math.floor(mt/4/d);break}if(lt.canvas.width=lt.canvas.height=0,dt){const mt=dt/(dt+ct);return h.set(_e,mt),mt}return h.set(_e,g),g}function j(_e,$,ot){const lt=document.createElement("span"),it={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};_e._textDivs.push(lt);const dt=o.Util.transform(_e._transform,$.transform);let ct=Math.atan2(dt[1],dt[0]);const ut=ot[$.fontName];ut.vertical&&(ct+=Math.PI/2);const mt=Math.hypot(dt[2],dt[3]),bt=mt*_(ut.fontFamily,_e._isOffscreenCanvasSupported);let ft,yt;ct===0?(ft=dt[4],yt=dt[5]-bt):(ft=dt[4]+bt*Math.sin(ct),yt=dt[5]-bt*Math.cos(ct));const St="calc(var(--scale-factor)*",Dt=lt.style;_e._container===_e._rootContainer?(Dt.left=`${(100*ft/_e._pageWidth).toFixed(2)}%`,Dt.top=`${(100*yt/_e._pageHeight).toFixed(2)}%`):(Dt.left=`${St}${ft.toFixed(2)}px)`,Dt.top=`${St}${yt.toFixed(2)}px)`),Dt.fontSize=`${St}${mt.toFixed(2)}px)`,Dt.fontFamily=ut.fontFamily,it.fontSize=mt,lt.setAttribute("role","presentation"),lt.textContent=$.str,lt.dir=$.dir,_e._fontInspectorEnabled&&(lt.dataset.fontName=$.fontName),ct!==0&&(it.angle=ct*(180/Math.PI));let Mt=!1;if($.str.length>1)Mt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const It=Math.abs($.transform[0]),kt=Math.abs($.transform[3]);It!==kt&&Math.max(It,kt)/Math.min(It,kt)>1.5&&(Mt=!0)}Mt&&(it.canvasWidth=ut.vertical?$.height:$.width),_e._textDivProperties.set(lt,it),_e._isReadableStream&&_e._layoutText(lt)}function et(_e){const{div:$,scale:ot,properties:lt,ctx:it,prevFontSize:dt,prevFontFamily:ct}=_e,{style:ut}=$;let mt="";if(lt.canvasWidth!==0&&lt.hasText){const{fontFamily:bt}=ut,{canvasWidth:ft,fontSize:yt}=lt;(dt!==yt||ct!==bt)&&(it.font=`${yt*ot}px ${bt}`,_e.prevFontSize=yt,_e.prevFontFamily=bt);const{width:St}=it.measureText($.textContent);St>0&&(mt=`scaleX(${ft*ot/St})`)}lt.angle!==0&&(mt=`rotate(${lt.angle}deg) ${mt}`),mt.length>0&&(ut.transform=mt)}function nt(_e){if(_e._canceled)return;const $=_e._textDivs,ot=_e._capability;if($.length>c){ot.resolve();return}if(!_e._isReadableStream)for(const it of $)_e._layoutText(it);ot.resolve()}class st{constructor({textContentSource:$,container:ot,viewport:lt,textDivs:it,textDivProperties:dt,textContentItemsStr:ct,isOffscreenCanvasSupported:ut}){var St;this._textContentSource=$,this._isReadableStream=$ instanceof ReadableStream,this._container=this._rootContainer=ot,this._textDivs=it||[],this._textContentItemsStr=ct||[],this._isOffscreenCanvasSupported=ut,this._fontInspectorEnabled=!!((St=globalThis.FontInspector)!=null&&St.enabled),this._reader=null,this._textDivProperties=dt||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,ut)};const{pageWidth:mt,pageHeight:bt,pageX:ft,pageY:yt}=lt.rawDims;this._transform=[1,0,0,-1,-ft,yt+bt],this._pageWidth=mt,this._pageHeight=bt,(0,a.setLayerDimensions)(ot,lt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems($,ot){for(const lt of $){if(lt.str===void 0){if(lt.type==="beginMarkedContentProps"||lt.type==="beginMarkedContent"){const it=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),lt.id!==null&&this._container.setAttribute("id",`${lt.id}`),it.append(this._container)}else lt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(lt.str),j(this,lt,ot)}}_layoutText($){const ot=this._layoutTextParams.properties=this._textDivProperties.get($);if(this._layoutTextParams.div=$,et(this._layoutTextParams),ot.hasText&&this._container.append($),ot.hasEOL){const lt=document.createElement("br");lt.setAttribute("role","presentation"),this._container.append(lt)}}_render(){const $=new o.PromiseCapability;let ot=Object.create(null);if(this._isReadableStream){const lt=()=>{this._reader.read().then(({value:it,done:dt})=>{if(dt){$.resolve();return}Object.assign(ot,it.styles),this._processItems(it.items,ot),lt()},$.reject)};this._reader=this._textContentSource.getReader(),lt()}else if(this._textContentSource){const{items:lt,styles:it}=this._textContentSource;this._processItems(lt,it),$.resolve()}else throw new Error('No "textContentSource" parameter specified.');$.promise.then(()=>{ot=null,nt(this)},this._capability.reject)}}s.TextLayerRenderTask=st;function rt(_e){!_e.textContentSource&&(_e.textContent||_e.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),_e.textContentSource=_e.textContent||_e.textContentStream);const{container:$,viewport:ot}=_e,lt=getComputedStyle($),it=lt.getPropertyValue("visibility"),dt=parseFloat(lt.getPropertyValue("--scale-factor"));it==="visible"&&(!dt||Math.abs(dt-ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ct=new st(_e);return ct._render(),ct}function tt({container:_e,viewport:$,textDivs:ot,textDivProperties:lt,isOffscreenCanvasSupported:it,mustRotate:dt=!0,mustRescale:ct=!0}){if(dt&&(0,a.setLayerDimensions)(_e,{rotation:$.rotation}),ct){const ut=b(0,it),bt={prevFontSize:null,prevFontFamily:null,div:null,scale:$.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ut};for(const ft of ot)bt.properties=lt.get(ft),bt.div=ft,et(bt)}}},(e,s,i)=>{var _,j,et,nt,st,rt,tt,_e,$,ot,lt,Or,hr,Vr,Br;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var o=i(1),a=i(4),c=i(28),d=i(33),g=i(6),h=i(34);const mt=class mt{constructor({uiManager:ft,pageIndex:yt,div:St,accessibilityManager:Dt,annotationLayer:Mt,viewport:It,l10n:kt}){Gt(this,lt);Gt(this,_);Gt(this,j,!1);Gt(this,et,null);Gt(this,nt,this.pointerup.bind(this));Gt(this,st,this.pointerdown.bind(this));Gt(this,rt,new Map);Gt(this,tt,!1);Gt(this,_e,!1);Gt(this,$,!1);Gt(this,ot);const Ct=[c.FreeTextEditor,d.InkEditor,h.StampEditor];if(!mt._initialized){mt._initialized=!0;for(const xt of Ct)xt.initialize(kt)}ft.registerEditorTypes(Ct),Xt(this,ot,ft),this.pageIndex=yt,this.div=St,Xt(this,_,Dt),Xt(this,et,Mt),this.viewport=It,at(this,ot).addLayer(this)}get isEmpty(){return at(this,rt).size===0}updateToolbar(ft){at(this,ot).updateToolbar(ft)}updateMode(ft=at(this,ot).getMode()){Bt(this,lt,Br).call(this),ft===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ft!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ft===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ft===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ft===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ft){if(!ft&&at(this,ot).getMode()!==o.AnnotationEditorType.INK)return;if(!ft){for(const St of at(this,rt).values())if(St.isEmpty()){St.setInBackground();return}}Bt(this,lt,hr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ft){at(this,ot).setEditingState(ft)}addCommands(ft){at(this,ot).addCommands(ft)}enable(){this.div.style.pointerEvents="auto";const ft=new Set;for(const St of at(this,rt).values())St.enableEditing(),St.annotationElementId&&ft.add(St.annotationElementId);if(!at(this,et))return;const yt=at(this,et).getEditableAnnotations();for(const St of yt){if(St.hide(),at(this,ot).isDeletedAnnotationElement(St.data.id)||ft.has(St.data.id))continue;const Dt=this.deserialize(St);Dt&&(this.addOrRebuild(Dt),Dt.enableEditing())}}disable(){var yt;Xt(this,$,!0),this.div.style.pointerEvents="none";const ft=new Set;for(const St of at(this,rt).values()){if(St.disableEditing(),!St.annotationElementId||St.serialize()!==null){ft.add(St.annotationElementId);continue}(yt=this.getEditableAnnotation(St.annotationElementId))==null||yt.show(),St.remove()}if(at(this,et)){const St=at(this,et).getEditableAnnotations();for(const Dt of St){const{id:Mt}=Dt.data;ft.has(Mt)||at(this,ot).isDeletedAnnotationElement(Mt)||Dt.show()}}Bt(this,lt,Br).call(this),this.isEmpty&&(this.div.hidden=!0),Xt(this,$,!1)}getEditableAnnotation(ft){var yt;return((yt=at(this,et))==null?void 0:yt.getEditableAnnotation(ft))||null}setActiveEditor(ft){at(this,ot).getActive()!==ft&&at(this,ot).setActiveEditor(ft)}enableClick(){this.div.addEventListener("pointerdown",at(this,st)),this.div.addEventListener("pointerup",at(this,nt))}disableClick(){this.div.removeEventListener("pointerdown",at(this,st)),this.div.removeEventListener("pointerup",at(this,nt))}attach(ft){at(this,rt).set(ft.id,ft);const{annotationElementId:yt}=ft;yt&&at(this,ot).isDeletedAnnotationElement(yt)&&at(this,ot).removeDeletedAnnotationElement(ft)}detach(ft){var yt;at(this,rt).delete(ft.id),(yt=at(this,_))==null||yt.removePointerInTextLayer(ft.contentDiv),!at(this,$)&&ft.annotationElementId&&at(this,ot).addDeletedAnnotationElement(ft)}remove(ft){this.detach(ft),at(this,ot).removeEditor(ft),ft.div.contains(document.activeElement)&&setTimeout(()=>{at(this,ot).focusMainContainer()},0),ft.div.remove(),ft.isAttachedToDOM=!1,at(this,_e)||this.addInkEditorIfNeeded(!1)}changeParent(ft){var yt;ft.parent!==this&&(ft.annotationElementId&&(at(this,ot).addDeletedAnnotationElement(ft.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(ft),ft.annotationElementId=null),this.attach(ft),(yt=ft.parent)==null||yt.detach(ft),ft.setParent(this),ft.div&&ft.isAttachedToDOM&&(ft.div.remove(),this.div.append(ft.div)))}add(ft){if(this.changeParent(ft),at(this,ot).addEditor(ft),this.attach(ft),!ft.isAttachedToDOM){const yt=ft.render();this.div.append(yt),ft.isAttachedToDOM=!0}ft.fixAndSetPosition(),ft.onceAdded(),at(this,ot).addToAnnotationStorage(ft)}moveEditorInDOM(ft){var St;if(!ft.isAttachedToDOM)return;const{activeElement:yt}=document;ft.div.contains(yt)&&(ft._focusEventsAllowed=!1,setTimeout(()=>{ft.div.contains(document.activeElement)?ft._focusEventsAllowed=!0:(ft.div.addEventListener("focusin",()=>{ft._focusEventsAllowed=!0},{once:!0}),yt.focus())},0)),ft._structTreeParentId=(St=at(this,_))==null?void 0:St.moveElementInDOM(this.div,ft.div,ft.contentDiv,!0)}addOrRebuild(ft){ft.needsToBeRebuilt()?ft.rebuild():this.add(ft)}addUndoableEditor(ft){const yt=()=>ft._uiManager.rebuild(ft),St=()=>{ft.remove()};this.addCommands({cmd:yt,undo:St,mustExec:!1})}getNextId(){return at(this,ot).getId()}pasteEditor(ft,yt){at(this,ot).updateToolbar(ft),at(this,ot).updateMode(ft);const{offsetX:St,offsetY:Dt}=Bt(this,lt,Vr).call(this),Mt=this.getNextId(),It=Bt(this,lt,Or).call(this,{parent:this,id:Mt,x:St,y:Dt,uiManager:at(this,ot),isCentered:!0,...yt});It&&this.add(It)}deserialize(ft){switch(ft.annotationType??ft.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(ft,this,at(this,ot));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(ft,this,at(this,ot));case o.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(ft,this,at(this,ot))}return null}addNewEditor(){Bt(this,lt,hr).call(this,Bt(this,lt,Vr).call(this),!0)}setSelected(ft){at(this,ot).setSelected(ft)}toggleSelected(ft){at(this,ot).toggleSelected(ft)}isSelected(ft){return at(this,ot).isSelected(ft)}unselect(ft){at(this,ot).unselect(ft)}pointerup(ft){const{isMac:yt}=o.FeatureTest.platform;if(!(ft.button!==0||ft.ctrlKey&&yt)&&ft.target===this.div&&at(this,tt)){if(Xt(this,tt,!1),!at(this,j)){Xt(this,j,!0);return}if(at(this,ot).getMode()===o.AnnotationEditorType.STAMP){at(this,ot).unselectAll();return}Bt(this,lt,hr).call(this,ft,!1)}}pointerdown(ft){if(at(this,tt)){Xt(this,tt,!1);return}const{isMac:yt}=o.FeatureTest.platform;if(ft.button!==0||ft.ctrlKey&&yt||ft.target!==this.div)return;Xt(this,tt,!0);const St=at(this,ot).getActive();Xt(this,j,!St||St.isEmpty())}findNewParent(ft,yt,St){const Dt=at(this,ot).findParent(yt,St);return Dt===null||Dt===this?!1:(Dt.changeParent(ft),!0)}destroy(){var ft,yt;((ft=at(this,ot).getActive())==null?void 0:ft.parent)===this&&(at(this,ot).commitOrRemove(),at(this,ot).setActiveEditor(null));for(const St of at(this,rt).values())(yt=at(this,_))==null||yt.removePointerInTextLayer(St.contentDiv),St.setParent(null),St.isAttachedToDOM=!1,St.div.remove();this.div=null,at(this,rt).clear(),at(this,ot).removeLayer(this)}render({viewport:ft}){this.viewport=ft,(0,g.setLayerDimensions)(this.div,ft);for(const yt of at(this,ot).getEditors(this.pageIndex))this.add(yt);this.updateMode()}update({viewport:ft}){at(this,ot).commitOrRemove(),this.viewport=ft,(0,g.setLayerDimensions)(this.div,{rotation:ft.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ft,pageHeight:yt}=this.viewport.rawDims;return[ft,yt]}};_=new WeakMap,j=new WeakMap,et=new WeakMap,nt=new WeakMap,st=new WeakMap,rt=new WeakMap,tt=new WeakMap,_e=new WeakMap,$=new WeakMap,ot=new WeakMap,lt=new WeakSet,Or=function(ft){switch(at(this,ot).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(ft);case o.AnnotationEditorType.INK:return new d.InkEditor(ft);case o.AnnotationEditorType.STAMP:return new h.StampEditor(ft)}return null},hr=function(ft,yt){const St=this.getNextId(),Dt=Bt(this,lt,Or).call(this,{parent:this,id:St,x:ft.offsetX,y:ft.offsetY,uiManager:at(this,ot),isCentered:yt});return Dt&&this.add(Dt),Dt},Vr=function(){const{x:ft,y:yt,width:St,height:Dt}=this.div.getBoundingClientRect(),Mt=Math.max(0,ft),It=Math.max(0,yt),kt=Math.min(window.innerWidth,ft+St),Ct=Math.min(window.innerHeight,yt+Dt),xt=(Mt+kt)/2-ft,_t=(It+Ct)/2-yt,[Lt,vt]=this.viewport.rotation%180===0?[xt,_t]:[_t,xt];return{offsetX:Lt,offsetY:vt}},Br=function(){Xt(this,_e,!0);for(const ft of at(this,rt).values())ft.isEmpty()&&ft.remove();Xt(this,_e,!1)},On(mt,"_initialized",!1);let b=mt;s.AnnotationEditorLayer=b},(e,s,i)=>{var h,b,_,j,et,nt,st,rt,tt,_e,ms,gs,xs,rr,zr,ys,Ur;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var o=i(1),a=i(5),c=i(4),d=i(29);const mt=class mt extends c.AnnotationEditor{constructor(yt){super({...yt,name:"freeTextEditor"});Gt(this,_e);Gt(this,h,this.editorDivBlur.bind(this));Gt(this,b,this.editorDivFocus.bind(this));Gt(this,_,this.editorDivInput.bind(this));Gt(this,j,this.editorDivKeydown.bind(this));Gt(this,et);Gt(this,nt,"");Gt(this,st,`${this.id}-editor`);Gt(this,rt);Gt(this,tt,null);Xt(this,et,yt.color||mt._defaultColor||c.AnnotationEditor._defaultLineColor),Xt(this,rt,yt.fontSize||mt._defaultFontSize)}static get _keyboardManager(){const yt=mt.prototype,St=It=>It.isEmpty(),Dt=a.AnnotationEditorUIManager.TRANSLATE_SMALL,Mt=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],yt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],yt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],yt._translateEmpty,{args:[-Dt,0],checker:St}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],yt._translateEmpty,{args:[-Mt,0],checker:St}],[["ArrowRight","mac+ArrowRight"],yt._translateEmpty,{args:[Dt,0],checker:St}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],yt._translateEmpty,{args:[Mt,0],checker:St}],[["ArrowUp","mac+ArrowUp"],yt._translateEmpty,{args:[0,-Dt],checker:St}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],yt._translateEmpty,{args:[0,-Mt],checker:St}],[["ArrowDown","mac+ArrowDown"],yt._translateEmpty,{args:[0,Dt],checker:St}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],yt._translateEmpty,{args:[0,Mt],checker:St}]]))}static initialize(yt){c.AnnotationEditor.initialize(yt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const St=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(St.getPropertyValue("--freetext-padding"))}static updateDefaultParams(yt,St){switch(yt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:mt._defaultFontSize=St;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:mt._defaultColor=St;break}}updateParams(yt,St){switch(yt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Bt(this,_e,ms).call(this,St);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Bt(this,_e,gs).call(this,St);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,mt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,mt._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,at(this,rt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,at(this,et)]]}_translateEmpty(yt,St){this._uiManager.translateSelectedEditors(yt,St,!0)}getInitialTranslation(){const yt=this.parentScale;return[-mt._internalPadding*yt,-(mt._internalPadding+at(this,rt))*yt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",at(this,j)),this.editorDiv.addEventListener("focus",at(this,b)),this.editorDiv.addEventListener("blur",at(this,h)),this.editorDiv.addEventListener("input",at(this,_)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",at(this,st)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",at(this,j)),this.editorDiv.removeEventListener("focus",at(this,b)),this.editorDiv.removeEventListener("blur",at(this,h)),this.editorDiv.removeEventListener("input",at(this,_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(yt){this._focusEventsAllowed&&(super.focusin(yt),yt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var yt;if(this.width){Bt(this,_e,Ur).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(yt=this._initialOptions)!=null&&yt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const yt=at(this,nt),St=Xt(this,nt,Bt(this,_e,xs).call(this).trimEnd());if(yt===St)return;const Dt=Mt=>{if(Xt(this,nt,Mt),!Mt){this.remove();return}Bt(this,_e,zr).call(this),this._uiManager.rebuild(this),Bt(this,_e,rr).call(this)};this.addCommands({cmd:()=>{Dt(St)},undo:()=>{Dt(yt)},mustExec:!1}),Bt(this,_e,rr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(yt){this.enterInEditMode()}keydown(yt){yt.target===this.div&&yt.key==="Enter"&&(this.enterInEditMode(),yt.preventDefault())}editorDivKeydown(yt){mt._keyboardManager.exec(this,yt)}editorDivFocus(yt){this.isEditing=!0}editorDivBlur(yt){this.isEditing=!1}editorDivInput(yt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let yt,St;this.width&&(yt=this.x,St=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",at(this,st)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Mt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("aria-label",Mt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Mt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("default-content",Mt)}),this.editorDiv.contentEditable=!0;const{style:Dt}=this.editorDiv;if(Dt.fontSize=`calc(${at(this,rt)}px * var(--scale-factor))`,Dt.color=at(this,et),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Mt,It]=this.parentDimensions;if(this.annotationElementId){const{position:kt}=at(this,tt);let[Ct,xt]=this.getInitialTranslation();[Ct,xt]=this.pageTranslationToScreen(Ct,xt);const[_t,Lt]=this.pageDimensions,[vt,pt]=this.pageTranslation;let ht,gt;switch(this.rotation){case 0:ht=yt+(kt[0]-vt)/_t,gt=St+this.height-(kt[1]-pt)/Lt;break;case 90:ht=yt+(kt[0]-vt)/_t,gt=St-(kt[1]-pt)/Lt,[Ct,xt]=[xt,-Ct];break;case 180:ht=yt-this.width+(kt[0]-vt)/_t,gt=St-(kt[1]-pt)/Lt,[Ct,xt]=[-Ct,-xt];break;case 270:ht=yt+(kt[0]-vt-this.height*Lt)/_t,gt=St+(kt[1]-pt-this.width*_t)/Lt,[Ct,xt]=[-xt,Ct];break}this.setAt(ht*Mt,gt*It,Ct,xt)}else this.setAt(yt*Mt,St*It,this.width*Mt,this.height*It);Bt(this,_e,zr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(yt,St,Dt){let Mt=null;if(yt instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:kt,fontColor:Ct},rect:xt,rotation:_t,id:Lt},textContent:vt,textPosition:pt,parent:{page:{pageNumber:ht}}}=yt;if(!vt||vt.length===0)return null;Mt=yt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Ct),fontSize:kt,value:vt.join(`
`),position:pt,pageIndex:ht-1,rect:xt,rotation:_t,id:Lt,deleted:!1}}const It=super.deserialize(yt,St,Dt);return Xt(It,rt,yt.fontSize),Xt(It,et,o.Util.makeHexColor(...yt.color)),Xt(It,nt,yt.value),It.annotationElementId=yt.id||null,Xt(It,tt,Mt),It}serialize(yt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const St=mt._internalPadding*this.parentScale,Dt=this.getRect(St,St),Mt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:at(this,et)),It={annotationType:o.AnnotationEditorType.FREETEXT,color:Mt,fontSize:at(this,rt),value:at(this,nt),pageIndex:this.pageIndex,rect:Dt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return yt?It:this.annotationElementId&&!Bt(this,_e,ys).call(this,It)?null:(It.id=this.annotationElementId,It)}};h=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,et=new WeakMap,nt=new WeakMap,st=new WeakMap,rt=new WeakMap,tt=new WeakMap,_e=new WeakSet,ms=function(yt){const St=Mt=>{this.editorDiv.style.fontSize=`calc(${Mt}px * var(--scale-factor))`,this.translate(0,-(Mt-at(this,rt))*this.parentScale),Xt(this,rt,Mt),Bt(this,_e,rr).call(this)},Dt=at(this,rt);this.addCommands({cmd:()=>{St(yt)},undo:()=>{St(Dt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},gs=function(yt){const St=at(this,et);this.addCommands({cmd:()=>{Xt(this,et,this.editorDiv.style.color=yt)},undo:()=>{Xt(this,et,this.editorDiv.style.color=St)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xs=function(){const yt=this.editorDiv.getElementsByTagName("div");if(yt.length===0)return this.editorDiv.innerText;const St=[];for(const Dt of yt)St.push(Dt.innerText.replace(/\r\n?|\n/,""));return St.join(`
`)},rr=function(){const[yt,St]=this.parentDimensions;let Dt;if(this.isAttachedToDOM)Dt=this.div.getBoundingClientRect();else{const{currentLayer:Mt,div:It}=this,kt=It.style.display;It.style.display="hidden",Mt.div.append(this.div),Dt=It.getBoundingClientRect(),It.remove(),It.style.display=kt}this.rotation%180===this.parentRotation%180?(this.width=Dt.width/yt,this.height=Dt.height/St):(this.width=Dt.height/yt,this.height=Dt.width/St),this.fixAndSetPosition()},zr=function(){if(this.editorDiv.replaceChildren(),!!at(this,nt))for(const yt of at(this,nt).split(`
`)){const St=document.createElement("div");St.append(yt?document.createTextNode(yt):document.createElement("br")),this.editorDiv.append(St)}},ys=function(yt){const{value:St,fontSize:Dt,color:Mt,rect:It,pageIndex:kt}=at(this,tt);return yt.value!==St||yt.fontSize!==Dt||yt.rect.some((Ct,xt)=>Math.abs(Ct-It[xt])>=1)||yt.color.some((Ct,xt)=>Ct!==Mt[xt])||yt.pageIndex!==kt},Ur=function(yt=!1){if(!this.annotationElementId)return;if(Bt(this,_e,rr).call(this),!yt&&(this.width===0||this.height===0)){setTimeout(()=>Bt(this,_e,Ur).call(this,!0),0);return}const St=mt._internalPadding*this.parentScale;at(this,tt).rect=this.getRect(St,St)},On(mt,"_freeTextDefaultContent",""),On(mt,"_internalPadding",0),On(mt,"_defaultColor",null),On(mt,"_defaultFontSize",10),On(mt,"_type","freetext");let g=mt;s.FreeTextEditor=g},(e,s,i)=>{var gt,Rt,Gn,vs,Wt,Yt,Jt,rn,nn,sn,zt,Ut,Et,Pt,Vt,Ht,en,un,an,$t,pn,hn,Es,pr,$r,Wr,wn,Pn,Ln,ln,Kt,qt,xn,Hr,Nn,Nt,tn,fn,bs,Gr;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var o=i(1),a=i(6),c=i(3),d=i(30),g=i(31),h=i(32);const b=1e3,_=9,j=new WeakSet;function et(gn){return{width:gn[2]-gn[0],height:gn[3]-gn[1]}}class nt{static create(jt){switch(jt.data.annotationType){case o.AnnotationType.LINK:return new rt(jt);case o.AnnotationType.TEXT:return new tt(jt);case o.AnnotationType.WIDGET:switch(jt.data.fieldType){case"Tx":return new $(jt);case"Btn":return jt.data.radioButton?new it(jt):jt.data.checkBox?new lt(jt):new dt(jt);case"Ch":return new ct(jt);case"Sig":return new ot(jt)}return new _e(jt);case o.AnnotationType.POPUP:return new ut(jt);case o.AnnotationType.FREETEXT:return new bt(jt);case o.AnnotationType.LINE:return new ft(jt);case o.AnnotationType.SQUARE:return new yt(jt);case o.AnnotationType.CIRCLE:return new St(jt);case o.AnnotationType.POLYLINE:return new Dt(jt);case o.AnnotationType.CARET:return new It(jt);case o.AnnotationType.INK:return new kt(jt);case o.AnnotationType.POLYGON:return new Mt(jt);case o.AnnotationType.HIGHLIGHT:return new Ct(jt);case o.AnnotationType.UNDERLINE:return new xt(jt);case o.AnnotationType.SQUIGGLY:return new _t(jt);case o.AnnotationType.STRIKEOUT:return new Lt(jt);case o.AnnotationType.STAMP:return new vt(jt);case o.AnnotationType.FILEATTACHMENT:return new pt(jt);default:return new st(jt)}}}const At=class At{constructor(jt,{isRenderable:wt=!1,ignoreBorder:Ft=!1,createQuadrilaterals:Qt=!1}={}){Gt(this,gt,!1);this.isRenderable=wt,this.data=jt.data,this.layer=jt.layer,this.linkService=jt.linkService,this.downloadManager=jt.downloadManager,this.imageResourcesPath=jt.imageResourcesPath,this.renderForms=jt.renderForms,this.svgFactory=jt.svgFactory,this.annotationStorage=jt.annotationStorage,this.enableScripting=jt.enableScripting,this.hasJSActions=jt.hasJSActions,this._fieldObjects=jt.fieldObjects,this.parent=jt.parent,wt&&(this.container=this._createContainer(Ft)),Qt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:jt,contentsObj:wt,richText:Ft}){return!!(jt!=null&&jt.str||wt!=null&&wt.str||Ft!=null&&Ft.str)}get hasPopupData(){return At._hasPopupData(this.data)}_createContainer(jt){const{data:wt,parent:{page:Ft,viewport:Qt}}=this,Zt=document.createElement("section");Zt.setAttribute("data-annotation-id",wt.id),this instanceof _e||(Zt.tabIndex=b),Zt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Zt.setAttribute("aria-haspopup","dialog"),wt.noRotate&&Zt.classList.add("norotate");const{pageWidth:on,pageHeight:dn,pageX:Sn,pageY:vn}=Qt.rawDims;if(!wt.rect||this instanceof ut){const{rotation:jn}=wt;return!wt.hasOwnCanvas&&jn!==0&&this.setRotation(jn,Zt),Zt}const{width:mn,height:Cn}=et(wt.rect),En=o.Util.normalizeRect([wt.rect[0],Ft.view[3]-wt.rect[1]+Ft.view[1],wt.rect[2],Ft.view[3]-wt.rect[3]+Ft.view[1]]);if(!jt&&wt.borderStyle.width>0){Zt.style.borderWidth=`${wt.borderStyle.width}px`;const jn=wt.borderStyle.horizontalCornerRadius,kn=wt.borderStyle.verticalCornerRadius;if(jn>0||kn>0){const Fn=`calc(${jn}px * var(--scale-factor)) / calc(${kn}px * var(--scale-factor))`;Zt.style.borderRadius=Fn}else if(this instanceof it){const Fn=`calc(${mn}px * var(--scale-factor)) / calc(${Cn}px * var(--scale-factor))`;Zt.style.borderRadius=Fn}switch(wt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:Zt.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:Zt.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:Zt.style.borderBottomStyle="solid";break}const In=wt.borderColor||null;In?(Xt(this,gt,!0),Zt.style.borderColor=o.Util.makeHexColor(In[0]|0,In[1]|0,In[2]|0)):Zt.style.borderWidth=0}Zt.style.left=`${100*(En[0]-Sn)/on}%`,Zt.style.top=`${100*(En[1]-vn)/dn}%`;const{rotation:Rn}=wt;return wt.hasOwnCanvas||Rn===0?(Zt.style.width=`${100*mn/on}%`,Zt.style.height=`${100*Cn/dn}%`):this.setRotation(Rn,Zt),Zt}setRotation(jt,wt=this.container){if(!this.data.rect)return;const{pageWidth:Ft,pageHeight:Qt}=this.parent.viewport.rawDims,{width:Zt,height:on}=et(this.data.rect);let dn,Sn;jt%180===0?(dn=100*Zt/Ft,Sn=100*on/Qt):(dn=100*on/Ft,Sn=100*Zt/Qt),wt.style.width=`${dn}%`,wt.style.height=`${Sn}%`,wt.setAttribute("data-main-rotation",(360-jt)%360)}get _commonActions(){const jt=(wt,Ft,Qt)=>{const Zt=Qt.detail[wt],on=Zt[0],dn=Zt.slice(1);Qt.target.style[Ft]=d.ColorConverters[`${on}_HTML`](dn),this.annotationStorage.setValue(this.data.id,{[Ft]:d.ColorConverters[`${on}_rgb`](dn)})};return(0,o.shadow)(this,"_commonActions",{display:wt=>{const{display:Ft}=wt.detail,Qt=Ft%2===1;this.container.style.visibility=Qt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Qt,noPrint:Ft===1||Ft===2})},print:wt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!wt.detail.print})},hidden:wt=>{const{hidden:Ft}=wt.detail;this.container.style.visibility=Ft?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ft,noView:Ft})},focus:wt=>{setTimeout(()=>wt.target.focus({preventScroll:!1}),0)},userName:wt=>{wt.target.title=wt.detail.userName},readonly:wt=>{wt.target.disabled=wt.detail.readonly},required:wt=>{this._setRequired(wt.target,wt.detail.required)},bgColor:wt=>{jt("bgColor","backgroundColor",wt)},fillColor:wt=>{jt("fillColor","backgroundColor",wt)},fgColor:wt=>{jt("fgColor","color",wt)},textColor:wt=>{jt("textColor","color",wt)},borderColor:wt=>{jt("borderColor","borderColor",wt)},strokeColor:wt=>{jt("strokeColor","borderColor",wt)},rotation:wt=>{const Ft=wt.detail.rotation;this.setRotation(Ft),this.annotationStorage.setValue(this.data.id,{rotation:Ft})}})}_dispatchEventFromSandbox(jt,wt){const Ft=this._commonActions;for(const Qt of Object.keys(wt.detail)){const Zt=jt[Qt]||Ft[Qt];Zt==null||Zt(wt)}}_setDefaultPropertiesFromJS(jt){if(!this.enableScripting)return;const wt=this.annotationStorage.getRawValue(this.data.id);if(!wt)return;const Ft=this._commonActions;for(const[Qt,Zt]of Object.entries(wt)){const on=Ft[Qt];if(on){const dn={detail:{[Qt]:Zt},target:jt};on(dn),delete wt[Qt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:jt}=this.data;if(!jt)return;const[wt,Ft,Qt,Zt]=this.data.rect;if(jt.length===1){const[,{x:kn,y:In},{x:Fn,y:Bn}]=jt[0];if(Qt===kn&&Zt===In&&wt===Fn&&Ft===Bn)return}const{style:on}=this.container;let dn;if(at(this,gt)){const{borderColor:kn,borderWidth:In}=on;on.borderWidth=0,dn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${kn}" stroke-width="${In}">`],this.container.classList.add("hasBorder")}const Sn=Qt-wt,vn=Zt-Ft,{svgFactory:mn}=this,Cn=mn.createElement("svg");Cn.classList.add("quadrilateralsContainer"),Cn.setAttribute("width",0),Cn.setAttribute("height",0);const En=mn.createElement("defs");Cn.append(En);const Rn=mn.createElement("clipPath"),jn=`clippath_${this.data.id}`;Rn.setAttribute("id",jn),Rn.setAttribute("clipPathUnits","objectBoundingBox"),En.append(Rn);for(const[,{x:kn,y:In},{x:Fn,y:Bn}]of jt){const Vn=mn.createElement("rect"),Un=(Fn-wt)/Sn,Wn=(Zt-In)/vn,Hn=(kn-Fn)/Sn,ts=(In-Bn)/vn;Vn.setAttribute("x",Un),Vn.setAttribute("y",Wn),Vn.setAttribute("width",Hn),Vn.setAttribute("height",ts),Rn.append(Vn),dn==null||dn.push(`<rect vector-effect="non-scaling-stroke" x="${Un}" y="${Wn}" width="${Hn}" height="${ts}"/>`)}at(this,gt)&&(dn.push("</g></svg>')"),on.backgroundImage=dn.join("")),this.container.append(Cn),this.container.style.clipPath=`url(#${jn})`}_createPopup(){const{container:jt,data:wt}=this;jt.setAttribute("aria-haspopup","dialog");const Ft=new ut({data:{color:wt.color,titleObj:wt.titleObj,modificationDate:wt.modificationDate,contentsObj:wt.contentsObj,richText:wt.richText,parentRect:wt.rect,borderStyle:0,id:`popup_${wt.id}`,rotation:wt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ft.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(jt,wt=null){const Ft=[];if(this._fieldObjects){const Qt=this._fieldObjects[jt];if(Qt)for(const{page:Zt,id:on,exportValues:dn}of Qt){if(Zt===-1||on===wt)continue;const Sn=typeof dn=="string"?dn:null,vn=document.querySelector(`[data-element-id="${on}"]`);if(vn&&!j.has(vn)){(0,o.warn)(`_getElementsByName - element not allowed: ${on}`);continue}Ft.push({id:on,exportValue:Sn,domElement:vn})}return Ft}for(const Qt of document.getElementsByName(jt)){const{exportValue:Zt}=Qt,on=Qt.getAttribute("data-element-id");on!==wt&&j.has(Qt)&&Ft.push({id:on,exportValue:Zt,domElement:Qt})}return Ft}show(){var jt;this.container&&(this.container.hidden=!1),(jt=this.popup)==null||jt.maybeShow()}hide(){var jt;this.container&&(this.container.hidden=!0),(jt=this.popup)==null||jt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const jt=this.getElementsToTriggerPopup();if(Array.isArray(jt))for(const wt of jt)wt.classList.add("highlightArea");else jt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:jt,data:{id:wt}}=this;this.container.addEventListener("dblclick",()=>{var Ft;(Ft=this.linkService.eventBus)==null||Ft.dispatch("switchannotationeditormode",{source:this,mode:jt,editId:wt})})}};gt=new WeakMap;let st=At;class rt extends st{constructor(wt,Ft=null){super(wt,{isRenderable:!0,ignoreBorder:!!(Ft!=null&&Ft.ignoreBorder),createQuadrilaterals:!0});Gt(this,Rt);this.isTooltipOnly=wt.data.isTooltipOnly}render(){const{data:wt,linkService:Ft}=this,Qt=document.createElement("a");Qt.setAttribute("data-element-id",wt.id);let Zt=!1;return wt.url?(Ft.addLinkAttributes(Qt,wt.url,wt.newWindow),Zt=!0):wt.action?(this._bindNamedAction(Qt,wt.action),Zt=!0):wt.attachment?(this._bindAttachment(Qt,wt.attachment),Zt=!0):wt.setOCGState?(Bt(this,Rt,vs).call(this,Qt,wt.setOCGState),Zt=!0):wt.dest?(this._bindLink(Qt,wt.dest),Zt=!0):(wt.actions&&(wt.actions.Action||wt.actions["Mouse Up"]||wt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Qt,wt),Zt=!0),wt.resetForm?(this._bindResetFormAction(Qt,wt.resetForm),Zt=!0):this.isTooltipOnly&&!Zt&&(this._bindLink(Qt,""),Zt=!0)),this.container.classList.add("linkAnnotation"),Zt&&this.container.append(Qt),this.container}_bindLink(wt,Ft){wt.href=this.linkService.getDestinationHash(Ft),wt.onclick=()=>(Ft&&this.linkService.goToDestination(Ft),!1),(Ft||Ft==="")&&Bt(this,Rt,Gn).call(this)}_bindNamedAction(wt,Ft){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>(this.linkService.executeNamedAction(Ft),!1),Bt(this,Rt,Gn).call(this)}_bindAttachment(wt,Ft){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>{var Qt;return(Qt=this.downloadManager)==null||Qt.openOrDownloadData(this.container,Ft.content,Ft.filename),!1},Bt(this,Rt,Gn).call(this)}_bindJSAction(wt,Ft){wt.href=this.linkService.getAnchorUrl("");const Qt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Zt of Object.keys(Ft.actions)){const on=Qt.get(Zt);on&&(wt[on]=()=>{var dn;return(dn=this.linkService.eventBus)==null||dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ft.id,name:Zt}}),!1})}wt.onclick||(wt.onclick=()=>!1),Bt(this,Rt,Gn).call(this)}_bindResetFormAction(wt,Ft){const Qt=wt.onclick;if(Qt||(wt.href=this.linkService.getAnchorUrl("")),Bt(this,Rt,Gn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Qt||(wt.onclick=()=>!1);return}wt.onclick=()=>{var Cn;Qt==null||Qt();const{fields:Zt,refs:on,include:dn}=Ft,Sn=[];if(Zt.length!==0||on.length!==0){const En=new Set(on);for(const Rn of Zt){const jn=this._fieldObjects[Rn]||[];for(const{id:kn}of jn)En.add(kn)}for(const Rn of Object.values(this._fieldObjects))for(const jn of Rn)En.has(jn.id)===dn&&Sn.push(jn)}else for(const En of Object.values(this._fieldObjects))Sn.push(...En);const vn=this.annotationStorage,mn=[];for(const En of Sn){const{id:Rn}=En;switch(mn.push(Rn),En.type){case"text":{const kn=En.defaultValue||"";vn.setValue(Rn,{value:kn});break}case"checkbox":case"radiobutton":{const kn=En.defaultValue===En.exportValues;vn.setValue(Rn,{value:kn});break}case"combobox":case"listbox":{const kn=En.defaultValue||"";vn.setValue(Rn,{value:kn});break}default:continue}const jn=document.querySelector(`[data-element-id="${Rn}"]`);if(jn){if(!j.has(jn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Rn}`);continue}}else continue;jn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:mn,name:"ResetForm"}})),!1}}}Rt=new WeakSet,Gn=function(){this.container.setAttribute("data-internal-link","")},vs=function(wt,Ft){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>(this.linkService.executeSetOCGState(Ft),!1),Bt(this,Rt,Gn).call(this)};class tt extends st{constructor(jt){super(jt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const jt=document.createElement("img");return jt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",jt.alt="[{{type}} Annotation]",jt.dataset.l10nId="text_annotation_type",jt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(jt),this.container}}class _e extends st{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(jt){var wt;this.data.hasOwnCanvas&&(((wt=jt.previousSibling)==null?void 0:wt.nodeName)==="CANVAS"&&(jt.previousSibling.hidden=!0),jt.hidden=!1)}_getKeyModifier(jt){const{isWin:wt,isMac:Ft}=o.FeatureTest.platform;return wt&&jt.ctrlKey||Ft&&jt.metaKey}_setEventListener(jt,wt,Ft,Qt,Zt){Ft.includes("mouse")?jt.addEventListener(Ft,on=>{var dn;(dn=this.linkService.eventBus)==null||dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Qt,value:Zt(on),shift:on.shiftKey,modifier:this._getKeyModifier(on)}})}):jt.addEventListener(Ft,on=>{var dn;if(Ft==="blur"){if(!wt.focused||!on.relatedTarget)return;wt.focused=!1}else if(Ft==="focus"){if(wt.focused)return;wt.focused=!0}Zt&&((dn=this.linkService.eventBus)==null||dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Qt,value:Zt(on)}}))})}_setEventListeners(jt,wt,Ft,Qt){var Zt,on,dn;for(const[Sn,vn]of Ft)(vn==="Action"||(Zt=this.data.actions)!=null&&Zt[vn])&&((vn==="Focus"||vn==="Blur")&&(wt||(wt={focused:!1})),this._setEventListener(jt,wt,Sn,vn,Qt),vn==="Focus"&&!((on=this.data.actions)!=null&&on.Blur)?this._setEventListener(jt,wt,"blur","Blur",null):vn==="Blur"&&!((dn=this.data.actions)!=null&&dn.Focus)&&this._setEventListener(jt,wt,"focus","Focus",null))}_setBackgroundColor(jt){const wt=this.data.backgroundColor||null;jt.style.backgroundColor=wt===null?"transparent":o.Util.makeHexColor(wt[0],wt[1],wt[2])}_setTextStyle(jt){const wt=["left","center","right"],{fontColor:Ft}=this.data.defaultAppearanceData,Qt=this.data.defaultAppearanceData.fontSize||_,Zt=jt.style;let on;const dn=2,Sn=vn=>Math.round(10*vn)/10;if(this.data.multiLine){const vn=Math.abs(this.data.rect[3]-this.data.rect[1]-dn),mn=Math.round(vn/(o.LINE_FACTOR*Qt))||1,Cn=vn/mn;on=Math.min(Qt,Sn(Cn/o.LINE_FACTOR))}else{const vn=Math.abs(this.data.rect[3]-this.data.rect[1]-dn);on=Math.min(Qt,Sn(vn/o.LINE_FACTOR))}Zt.fontSize=`calc(${on}px * var(--scale-factor))`,Zt.color=o.Util.makeHexColor(Ft[0],Ft[1],Ft[2]),this.data.textAlignment!==null&&(Zt.textAlign=wt[this.data.textAlignment])}_setRequired(jt,wt){wt?jt.setAttribute("required",!0):jt.removeAttribute("required"),jt.setAttribute("aria-required",wt)}}class $ extends _e{constructor(jt){const wt=jt.renderForms||!jt.data.hasAppearance&&!!jt.data.fieldValue;super(jt,{isRenderable:wt})}setPropertyOnSiblings(jt,wt,Ft,Qt){const Zt=this.annotationStorage;for(const on of this._getElementsByName(jt.name,jt.id))on.domElement&&(on.domElement[wt]=Ft),Zt.setValue(on.id,{[Qt]:Ft})}render(){var Qt,Zt;const jt=this.annotationStorage,wt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ft=null;if(this.renderForms){const on=jt.getValue(wt,{value:this.data.fieldValue});let dn=on.value||"";const Sn=jt.getValue(wt,{charLimit:this.data.maxLen}).charLimit;Sn&&dn.length>Sn&&(dn=dn.slice(0,Sn));let vn=on.formattedValue||((Qt=this.data.textContent)==null?void 0:Qt.join(`
`))||null;vn&&this.data.comb&&(vn=vn.replaceAll(/\s+/g,""));const mn={userValue:dn,formattedValue:vn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ft=document.createElement("textarea"),Ft.textContent=vn??dn,this.data.doNotScroll&&(Ft.style.overflowY="hidden")):(Ft=document.createElement("input"),Ft.type="text",Ft.setAttribute("value",vn??dn),this.data.doNotScroll&&(Ft.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ft.hidden=!0),j.add(Ft),Ft.setAttribute("data-element-id",wt),Ft.disabled=this.data.readOnly,Ft.name=this.data.fieldName,Ft.tabIndex=b,this._setRequired(Ft,this.data.required),Sn&&(Ft.maxLength=Sn),Ft.addEventListener("input",En=>{jt.setValue(wt,{value:En.target.value}),this.setPropertyOnSiblings(Ft,"value",En.target.value,"value"),mn.formattedValue=null}),Ft.addEventListener("resetform",En=>{const Rn=this.data.defaultFieldValue??"";Ft.value=mn.userValue=Rn,mn.formattedValue=null});let Cn=En=>{const{formattedValue:Rn}=mn;Rn!=null&&(En.target.value=Rn),En.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ft.addEventListener("focus",Rn=>{if(mn.focused)return;const{target:jn}=Rn;mn.userValue&&(jn.value=mn.userValue),mn.lastCommittedValue=jn.value,mn.commitKey=1,mn.focused=!0}),Ft.addEventListener("updatefromsandbox",Rn=>{this.showElementAndHideCanvas(Rn.target);const jn={value(kn){mn.userValue=kn.detail.value??"",jt.setValue(wt,{value:mn.userValue.toString()}),kn.target.value=mn.userValue},formattedValue(kn){const{formattedValue:In}=kn.detail;mn.formattedValue=In,In!=null&&kn.target!==document.activeElement&&(kn.target.value=In),jt.setValue(wt,{formattedValue:In})},selRange(kn){kn.target.setSelectionRange(...kn.detail.selRange)},charLimit:kn=>{var Vn;const{charLimit:In}=kn.detail,{target:Fn}=kn;if(In===0){Fn.removeAttribute("maxLength");return}Fn.setAttribute("maxLength",In);let Bn=mn.userValue;!Bn||Bn.length<=In||(Bn=Bn.slice(0,In),Fn.value=mn.userValue=Bn,jt.setValue(wt,{value:Bn}),(Vn=this.linkService.eventBus)==null||Vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Bn,willCommit:!0,commitKey:1,selStart:Fn.selectionStart,selEnd:Fn.selectionEnd}}))}};this._dispatchEventFromSandbox(jn,Rn)}),Ft.addEventListener("keydown",Rn=>{var In;mn.commitKey=1;let jn=-1;if(Rn.key==="Escape"?jn=0:Rn.key==="Enter"&&!this.data.multiLine?jn=2:Rn.key==="Tab"&&(mn.commitKey=3),jn===-1)return;const{value:kn}=Rn.target;mn.lastCommittedValue!==kn&&(mn.lastCommittedValue=kn,mn.userValue=kn,(In=this.linkService.eventBus)==null||In.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:kn,willCommit:!0,commitKey:jn,selStart:Rn.target.selectionStart,selEnd:Rn.target.selectionEnd}}))});const En=Cn;Cn=null,Ft.addEventListener("blur",Rn=>{var kn;if(!mn.focused||!Rn.relatedTarget)return;mn.focused=!1;const{value:jn}=Rn.target;mn.userValue=jn,mn.lastCommittedValue!==jn&&((kn=this.linkService.eventBus)==null||kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:jn,willCommit:!0,commitKey:mn.commitKey,selStart:Rn.target.selectionStart,selEnd:Rn.target.selectionEnd}})),En(Rn)}),(Zt=this.data.actions)!=null&&Zt.Keystroke&&Ft.addEventListener("beforeinput",Rn=>{var Wn;mn.lastCommittedValue=null;const{data:jn,target:kn}=Rn,{value:In,selectionStart:Fn,selectionEnd:Bn}=kn;let Vn=Fn,Un=Bn;switch(Rn.inputType){case"deleteWordBackward":{const Hn=In.substring(0,Fn).match(/\w*[^\w]*$/);Hn&&(Vn-=Hn[0].length);break}case"deleteWordForward":{const Hn=In.substring(Fn).match(/^[^\w]*\w*/);Hn&&(Un+=Hn[0].length);break}case"deleteContentBackward":Fn===Bn&&(Vn-=1);break;case"deleteContentForward":Fn===Bn&&(Un+=1);break}Rn.preventDefault(),(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:In,change:jn||"",willCommit:!1,selStart:Vn,selEnd:Un}})}),this._setEventListeners(Ft,mn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Rn=>Rn.target.value)}if(Cn&&Ft.addEventListener("blur",Cn),this.data.comb){const Rn=(this.data.rect[2]-this.data.rect[0])/Sn;Ft.classList.add("comb"),Ft.style.letterSpacing=`calc(${Rn}px * var(--scale-factor) - 1ch)`}}else Ft=document.createElement("div"),Ft.textContent=this.data.fieldValue,Ft.style.verticalAlign="middle",Ft.style.display="table-cell";return this._setTextStyle(Ft),this._setBackgroundColor(Ft),this._setDefaultPropertiesFromJS(Ft),this.container.append(Ft),this.container}}class ot extends _e{constructor(jt){super(jt,{isRenderable:!!jt.data.hasOwnCanvas})}}class lt extends _e{constructor(jt){super(jt,{isRenderable:jt.renderForms})}render(){const jt=this.annotationStorage,wt=this.data,Ft=wt.id;let Qt=jt.getValue(Ft,{value:wt.exportValue===wt.fieldValue}).value;typeof Qt=="string"&&(Qt=Qt!=="Off",jt.setValue(Ft,{value:Qt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Zt=document.createElement("input");return j.add(Zt),Zt.setAttribute("data-element-id",Ft),Zt.disabled=wt.readOnly,this._setRequired(Zt,this.data.required),Zt.type="checkbox",Zt.name=wt.fieldName,Qt&&Zt.setAttribute("checked",!0),Zt.setAttribute("exportValue",wt.exportValue),Zt.tabIndex=b,Zt.addEventListener("change",on=>{const{name:dn,checked:Sn}=on.target;for(const vn of this._getElementsByName(dn,Ft)){const mn=Sn&&vn.exportValue===wt.exportValue;vn.domElement&&(vn.domElement.checked=mn),jt.setValue(vn.id,{value:mn})}jt.setValue(Ft,{value:Sn})}),Zt.addEventListener("resetform",on=>{const dn=wt.defaultFieldValue||"Off";on.target.checked=dn===wt.exportValue}),this.enableScripting&&this.hasJSActions&&(Zt.addEventListener("updatefromsandbox",on=>{const dn={value(Sn){Sn.target.checked=Sn.detail.value!=="Off",jt.setValue(Ft,{value:Sn.target.checked})}};this._dispatchEventFromSandbox(dn,on)}),this._setEventListeners(Zt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],on=>on.target.checked)),this._setBackgroundColor(Zt),this._setDefaultPropertiesFromJS(Zt),this.container.append(Zt),this.container}}class it extends _e{constructor(jt){super(jt,{isRenderable:jt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const jt=this.annotationStorage,wt=this.data,Ft=wt.id;let Qt=jt.getValue(Ft,{value:wt.fieldValue===wt.buttonValue}).value;typeof Qt=="string"&&(Qt=Qt!==wt.buttonValue,jt.setValue(Ft,{value:Qt}));const Zt=document.createElement("input");if(j.add(Zt),Zt.setAttribute("data-element-id",Ft),Zt.disabled=wt.readOnly,this._setRequired(Zt,this.data.required),Zt.type="radio",Zt.name=wt.fieldName,Qt&&Zt.setAttribute("checked",!0),Zt.tabIndex=b,Zt.addEventListener("change",on=>{const{name:dn,checked:Sn}=on.target;for(const vn of this._getElementsByName(dn,Ft))jt.setValue(vn.id,{value:!1});jt.setValue(Ft,{value:Sn})}),Zt.addEventListener("resetform",on=>{const dn=wt.defaultFieldValue;on.target.checked=dn!=null&&dn===wt.buttonValue}),this.enableScripting&&this.hasJSActions){const on=wt.buttonValue;Zt.addEventListener("updatefromsandbox",dn=>{const Sn={value:vn=>{const mn=on===vn.detail.value;for(const Cn of this._getElementsByName(vn.target.name)){const En=mn&&Cn.id===Ft;Cn.domElement&&(Cn.domElement.checked=En),jt.setValue(Cn.id,{value:En})}}};this._dispatchEventFromSandbox(Sn,dn)}),this._setEventListeners(Zt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],dn=>dn.target.checked)}return this._setBackgroundColor(Zt),this._setDefaultPropertiesFromJS(Zt),this.container.append(Zt),this.container}}class dt extends rt{constructor(jt){super(jt,{ignoreBorder:jt.data.hasAppearance})}render(){const jt=super.render();jt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(jt.title=this.data.alternativeText);const wt=jt.lastChild;return this.enableScripting&&this.hasJSActions&&wt&&(this._setDefaultPropertiesFromJS(wt),wt.addEventListener("updatefromsandbox",Ft=>{this._dispatchEventFromSandbox({},Ft)})),jt}}class ct extends _e{constructor(jt){super(jt,{isRenderable:jt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const jt=this.annotationStorage,wt=this.data.id,Ft=jt.getValue(wt,{value:this.data.fieldValue}),Qt=document.createElement("select");j.add(Qt),Qt.setAttribute("data-element-id",wt),Qt.disabled=this.data.readOnly,this._setRequired(Qt,this.data.required),Qt.name=this.data.fieldName,Qt.tabIndex=b;let Zt=this.data.combo&&this.data.options.length>0;this.data.combo||(Qt.size=this.data.options.length,this.data.multiSelect&&(Qt.multiple=!0)),Qt.addEventListener("resetform",mn=>{const Cn=this.data.defaultFieldValue;for(const En of Qt.options)En.selected=En.value===Cn});for(const mn of this.data.options){const Cn=document.createElement("option");Cn.textContent=mn.displayValue,Cn.value=mn.exportValue,Ft.value.includes(mn.exportValue)&&(Cn.setAttribute("selected",!0),Zt=!1),Qt.append(Cn)}let on=null;if(Zt){const mn=document.createElement("option");mn.value=" ",mn.setAttribute("hidden",!0),mn.setAttribute("selected",!0),Qt.prepend(mn),on=()=>{mn.remove(),Qt.removeEventListener("input",on),on=null},Qt.addEventListener("input",on)}const dn=mn=>{const Cn=mn?"value":"textContent",{options:En,multiple:Rn}=Qt;return Rn?Array.prototype.filter.call(En,jn=>jn.selected).map(jn=>jn[Cn]):En.selectedIndex===-1?null:En[En.selectedIndex][Cn]};let Sn=dn(!1);const vn=mn=>{const Cn=mn.target.options;return Array.prototype.map.call(Cn,En=>({displayValue:En.textContent,exportValue:En.value}))};return this.enableScripting&&this.hasJSActions?(Qt.addEventListener("updatefromsandbox",mn=>{const Cn={value(En){on==null||on();const Rn=En.detail.value,jn=new Set(Array.isArray(Rn)?Rn:[Rn]);for(const kn of Qt.options)kn.selected=jn.has(kn.value);jt.setValue(wt,{value:dn(!0)}),Sn=dn(!1)},multipleSelection(En){Qt.multiple=!0},remove(En){const Rn=Qt.options,jn=En.detail.remove;Rn[jn].selected=!1,Qt.remove(jn),Rn.length>0&&Array.prototype.findIndex.call(Rn,In=>In.selected)===-1&&(Rn[0].selected=!0),jt.setValue(wt,{value:dn(!0),items:vn(En)}),Sn=dn(!1)},clear(En){for(;Qt.length!==0;)Qt.remove(0);jt.setValue(wt,{value:null,items:[]}),Sn=dn(!1)},insert(En){const{index:Rn,displayValue:jn,exportValue:kn}=En.detail.insert,In=Qt.children[Rn],Fn=document.createElement("option");Fn.textContent=jn,Fn.value=kn,In?In.before(Fn):Qt.append(Fn),jt.setValue(wt,{value:dn(!0),items:vn(En)}),Sn=dn(!1)},items(En){const{items:Rn}=En.detail;for(;Qt.length!==0;)Qt.remove(0);for(const jn of Rn){const{displayValue:kn,exportValue:In}=jn,Fn=document.createElement("option");Fn.textContent=kn,Fn.value=In,Qt.append(Fn)}Qt.options.length>0&&(Qt.options[0].selected=!0),jt.setValue(wt,{value:dn(!0),items:vn(En)}),Sn=dn(!1)},indices(En){const Rn=new Set(En.detail.indices);for(const jn of En.target.options)jn.selected=Rn.has(jn.index);jt.setValue(wt,{value:dn(!0)}),Sn=dn(!1)},editable(En){En.target.disabled=!En.detail.editable}};this._dispatchEventFromSandbox(Cn,mn)}),Qt.addEventListener("input",mn=>{var En;const Cn=dn(!0);jt.setValue(wt,{value:Cn}),mn.preventDefault(),(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Sn,changeEx:Cn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Qt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],mn=>mn.target.value)):Qt.addEventListener("input",function(mn){jt.setValue(wt,{value:dn(!0)})}),this.data.combo&&this._setTextStyle(Qt),this._setBackgroundColor(Qt),this._setDefaultPropertiesFromJS(Qt),this.container.append(Qt),this.container}}class ut extends st{constructor(jt){const{data:wt,elements:Ft}=jt;super(jt,{isRenderable:st._hasPopupData(wt)}),this.elements=Ft}render(){this.container.classList.add("popupAnnotation");const jt=new mt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),wt=[];for(const Ft of this.elements)Ft.popup=jt,wt.push(Ft.data.id),Ft.addHighlightArea();return this.container.setAttribute("aria-controls",wt.map(Ft=>`${o.AnnotationPrefix}${Ft}`).join(",")),this.container}}class mt{constructor({container:jt,color:wt,elements:Ft,titleObj:Qt,modificationDate:Zt,contentsObj:on,richText:dn,parent:Sn,rect:vn,parentRect:mn,open:Cn}){Gt(this,hn);Gt(this,Wt,null);Gt(this,Yt,Bt(this,hn,Es).bind(this));Gt(this,Jt,Bt(this,hn,Wr).bind(this));Gt(this,rn,Bt(this,hn,$r).bind(this));Gt(this,nn,Bt(this,hn,pr).bind(this));Gt(this,sn,null);Gt(this,zt,null);Gt(this,Ut,null);Gt(this,Et,null);Gt(this,Pt,null);Gt(this,Vt,null);Gt(this,Ht,!1);Gt(this,en,null);Gt(this,un,null);Gt(this,an,null);Gt(this,$t,null);Gt(this,pn,!1);var Rn;Xt(this,zt,jt),Xt(this,$t,Qt),Xt(this,Ut,on),Xt(this,an,dn),Xt(this,Pt,Sn),Xt(this,sn,wt),Xt(this,un,vn),Xt(this,Vt,mn),Xt(this,Et,Ft);const En=a.PDFDateString.toDateObject(Zt);En&&Xt(this,Wt,Sn.l10n.get("annotation_date_string",{date:En.toLocaleDateString(),time:En.toLocaleTimeString()})),this.trigger=Ft.flatMap(jn=>jn.getElementsToTriggerPopup());for(const jn of this.trigger)jn.addEventListener("click",at(this,nn)),jn.addEventListener("mouseenter",at(this,rn)),jn.addEventListener("mouseleave",at(this,Jt)),jn.classList.add("popupTriggerArea");for(const jn of Ft)(Rn=jn.container)==null||Rn.addEventListener("keydown",at(this,Yt));at(this,zt).hidden=!0,Cn&&Bt(this,hn,pr).call(this)}render(){if(at(this,en))return;const{page:{view:jt},viewport:{rawDims:{pageWidth:wt,pageHeight:Ft,pageX:Qt,pageY:Zt}}}=at(this,Pt),on=Xt(this,en,document.createElement("div"));if(on.className="popup",at(this,sn)){const Vn=on.style.outlineColor=o.Util.makeHexColor(...at(this,sn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?on.style.backgroundColor=`color-mix(in srgb, ${Vn} 30%, white)`:on.style.backgroundColor=o.Util.makeHexColor(...at(this,sn).map(Wn=>Math.floor(.7*(255-Wn)+Wn)))}const dn=document.createElement("span");dn.className="header";const Sn=document.createElement("h1");if(dn.append(Sn),{dir:Sn.dir,str:Sn.textContent}=at(this,$t),on.append(dn),at(this,Wt)){const Vn=document.createElement("span");Vn.classList.add("popupDate"),at(this,Wt).then(Un=>{Vn.textContent=Un}),dn.append(Vn)}const vn=at(this,Ut),mn=at(this,an);if(mn!=null&&mn.str&&(!(vn!=null&&vn.str)||vn.str===mn.str))h.XfaLayer.render({xfaHtml:mn.html,intent:"richText",div:on}),on.lastChild.classList.add("richText","popupContent");else{const Vn=this._formatContents(vn);on.append(Vn)}let Cn=!!at(this,Vt),En=Cn?at(this,Vt):at(this,un);for(const Vn of at(this,Et))if(!En||o.Util.intersect(Vn.data.rect,En)!==null){En=Vn.data.rect,Cn=!0;break}const Rn=o.Util.normalizeRect([En[0],jt[3]-En[1]+jt[1],En[2],jt[3]-En[3]+jt[1]]),kn=Cn?En[2]-En[0]+5:0,In=Rn[0]+kn,Fn=Rn[1],{style:Bn}=at(this,zt);Bn.left=`${100*(In-Qt)/wt}%`,Bn.top=`${100*(Fn-Zt)/Ft}%`,at(this,zt).append(on)}_formatContents({str:jt,dir:wt}){const Ft=document.createElement("p");Ft.classList.add("popupContent"),Ft.dir=wt;const Qt=jt.split(/(?:\r\n?|\n)/);for(let Zt=0,on=Qt.length;Zt<on;++Zt){const dn=Qt[Zt];Ft.append(document.createTextNode(dn)),Zt<on-1&&Ft.append(document.createElement("br"))}return Ft}forceHide(){Xt(this,pn,this.isVisible),at(this,pn)&&(at(this,zt).hidden=!0)}maybeShow(){at(this,pn)&&(Xt(this,pn,!1),at(this,zt).hidden=!1)}get isVisible(){return at(this,zt).hidden===!1}}Wt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,rn=new WeakMap,nn=new WeakMap,sn=new WeakMap,zt=new WeakMap,Ut=new WeakMap,Et=new WeakMap,Pt=new WeakMap,Vt=new WeakMap,Ht=new WeakMap,en=new WeakMap,un=new WeakMap,an=new WeakMap,$t=new WeakMap,pn=new WeakMap,hn=new WeakSet,Es=function(jt){jt.altKey||jt.shiftKey||jt.ctrlKey||jt.metaKey||(jt.key==="Enter"||jt.key==="Escape"&&at(this,Ht))&&Bt(this,hn,pr).call(this)},pr=function(){Xt(this,Ht,!at(this,Ht)),at(this,Ht)?(Bt(this,hn,$r).call(this),at(this,zt).addEventListener("click",at(this,nn)),at(this,zt).addEventListener("keydown",at(this,Yt))):(Bt(this,hn,Wr).call(this),at(this,zt).removeEventListener("click",at(this,nn)),at(this,zt).removeEventListener("keydown",at(this,Yt)))},$r=function(){at(this,en)||this.render(),this.isVisible?at(this,Ht)&&at(this,zt).classList.add("focused"):(at(this,zt).hidden=!1,at(this,zt).style.zIndex=parseInt(at(this,zt).style.zIndex)+1e3)},Wr=function(){at(this,zt).classList.remove("focused"),!(at(this,Ht)||!this.isVisible)&&(at(this,zt).hidden=!0,at(this,zt).style.zIndex=parseInt(at(this,zt).style.zIndex)-1e3)};class bt extends st{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=jt.data.textContent,this.textPosition=jt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const jt=document.createElement("div");jt.classList.add("annotationTextContent"),jt.setAttribute("role","comment");for(const wt of this.textContent){const Ft=document.createElement("span");Ft.textContent=wt,jt.append(Ft)}this.container.append(jt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=bt;class ft extends st{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Gt(this,wn,null)}render(){this.container.classList.add("lineAnnotation");const wt=this.data,{width:Ft,height:Qt}=et(wt.rect),Zt=this.svgFactory.create(Ft,Qt,!0),on=Xt(this,wn,this.svgFactory.createElement("svg:line"));return on.setAttribute("x1",wt.rect[2]-wt.lineCoordinates[0]),on.setAttribute("y1",wt.rect[3]-wt.lineCoordinates[1]),on.setAttribute("x2",wt.rect[2]-wt.lineCoordinates[2]),on.setAttribute("y2",wt.rect[3]-wt.lineCoordinates[3]),on.setAttribute("stroke-width",wt.borderStyle.width||1),on.setAttribute("stroke","transparent"),on.setAttribute("fill","transparent"),Zt.append(on),this.container.append(Zt),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,wn)}addHighlightArea(){this.container.classList.add("highlightArea")}}wn=new WeakMap;class yt extends st{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Gt(this,Pn,null)}render(){this.container.classList.add("squareAnnotation");const wt=this.data,{width:Ft,height:Qt}=et(wt.rect),Zt=this.svgFactory.create(Ft,Qt,!0),on=wt.borderStyle.width,dn=Xt(this,Pn,this.svgFactory.createElement("svg:rect"));return dn.setAttribute("x",on/2),dn.setAttribute("y",on/2),dn.setAttribute("width",Ft-on),dn.setAttribute("height",Qt-on),dn.setAttribute("stroke-width",on||1),dn.setAttribute("stroke","transparent"),dn.setAttribute("fill","transparent"),Zt.append(dn),this.container.append(Zt),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pn=new WeakMap;class St extends st{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Gt(this,Ln,null)}render(){this.container.classList.add("circleAnnotation");const wt=this.data,{width:Ft,height:Qt}=et(wt.rect),Zt=this.svgFactory.create(Ft,Qt,!0),on=wt.borderStyle.width,dn=Xt(this,Ln,this.svgFactory.createElement("svg:ellipse"));return dn.setAttribute("cx",Ft/2),dn.setAttribute("cy",Qt/2),dn.setAttribute("rx",Ft/2-on/2),dn.setAttribute("ry",Qt/2-on/2),dn.setAttribute("stroke-width",on||1),dn.setAttribute("stroke","transparent"),dn.setAttribute("fill","transparent"),Zt.append(dn),this.container.append(Zt),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ln=new WeakMap;class Dt extends st{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Gt(this,ln,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const wt=this.data,{width:Ft,height:Qt}=et(wt.rect),Zt=this.svgFactory.create(Ft,Qt,!0);let on=[];for(const Sn of wt.vertices){const vn=Sn.x-wt.rect[0],mn=wt.rect[3]-Sn.y;on.push(vn+","+mn)}on=on.join(" ");const dn=Xt(this,ln,this.svgFactory.createElement(this.svgElementName));return dn.setAttribute("points",on),dn.setAttribute("stroke-width",wt.borderStyle.width||1),dn.setAttribute("stroke","transparent"),dn.setAttribute("fill","transparent"),Zt.append(dn),this.container.append(Zt),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}ln=new WeakMap;class Mt extends Dt{constructor(jt){super(jt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class It extends st{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class kt extends st{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});Gt(this,Kt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const wt=this.data,{width:Ft,height:Qt}=et(wt.rect),Zt=this.svgFactory.create(Ft,Qt,!0);for(const on of wt.inkLists){let dn=[];for(const vn of on){const mn=vn.x-wt.rect[0],Cn=wt.rect[3]-vn.y;dn.push(`${mn},${Cn}`)}dn=dn.join(" ");const Sn=this.svgFactory.createElement(this.svgElementName);at(this,Kt).push(Sn),Sn.setAttribute("points",dn),Sn.setAttribute("stroke-width",wt.borderStyle.width||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),!wt.popupRef&&this.hasPopupData&&this._createPopup(),Zt.append(Sn)}return this.container.append(Zt),this.container}getElementsToTriggerPopup(){return at(this,Kt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kt=new WeakMap,s.InkAnnotationElement=kt;class Ct extends st{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class xt extends st{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class _t extends st{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Lt extends st{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class vt extends st{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=vt;class pt extends st{constructor(wt){var Zt;super(wt,{isRenderable:!0});Gt(this,xn);Gt(this,qt,null);const{filename:Ft,content:Qt}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(Ft,!0),this.content=Qt,(Zt=this.linkService.eventBus)==null||Zt.dispatch("fileattachmentannotation",{source:this,filename:Ft,content:Qt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:wt,data:Ft}=this;let Qt;Ft.hasAppearance||Ft.fillAlpha===0?Qt=document.createElement("div"):(Qt=document.createElement("img"),Qt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ft.name)?"paperclip":"pushpin"}.svg`,Ft.fillAlpha&&Ft.fillAlpha<1&&(Qt.style=`filter: opacity(${Math.round(Ft.fillAlpha*100)}%);`)),Qt.addEventListener("dblclick",Bt(this,xn,Hr).bind(this)),Xt(this,qt,Qt);const{isMac:Zt}=o.FeatureTest.platform;return wt.addEventListener("keydown",on=>{on.key==="Enter"&&(Zt?on.metaKey:on.ctrlKey)&&Bt(this,xn,Hr).call(this)}),!Ft.popupRef&&this.hasPopupData?this._createPopup():Qt.classList.add("popupTriggerArea"),wt.append(Qt),wt}getElementsToTriggerPopup(){return at(this,qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}qt=new WeakMap,xn=new WeakSet,Hr=function(){var wt;(wt=this.downloadManager)==null||wt.openOrDownloadData(this.container,this.content,this.filename)};class ht{constructor({div:jt,accessibilityManager:wt,annotationCanvasMap:Ft,l10n:Qt,page:Zt,viewport:on}){Gt(this,fn);Gt(this,Nn,null);Gt(this,Nt,null);Gt(this,tn,new Map);this.div=jt,Xt(this,Nn,wt),Xt(this,Nt,Ft),this.l10n=Qt,this.page=Zt,this.viewport=on,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(jt){const{annotations:wt}=jt,Ft=this.div;(0,a.setLayerDimensions)(Ft,this.viewport);const Qt=new Map,Zt={data:null,layer:Ft,linkService:jt.linkService,downloadManager:jt.downloadManager,imageResourcesPath:jt.imageResourcesPath||"",renderForms:jt.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:jt.annotationStorage||new c.AnnotationStorage,enableScripting:jt.enableScripting===!0,hasJSActions:jt.hasJSActions,fieldObjects:jt.fieldObjects,parent:this,elements:null};for(const on of wt){if(on.noHTML)continue;const dn=on.annotationType===o.AnnotationType.POPUP;if(dn){const mn=Qt.get(on.id);if(!mn)continue;Zt.elements=mn}else{const{width:mn,height:Cn}=et(on.rect);if(mn<=0||Cn<=0)continue}Zt.data=on;const Sn=nt.create(Zt);if(!Sn.isRenderable)continue;if(!dn&&on.popupRef){const mn=Qt.get(on.popupRef);mn?mn.push(Sn):Qt.set(on.popupRef,[Sn])}Sn.annotationEditorType>0&&at(this,tn).set(Sn.data.id,Sn);const vn=Sn.render();on.hidden&&(vn.style.visibility="hidden"),Bt(this,fn,bs).call(this,vn,on.id)}Bt(this,fn,Gr).call(this),await this.l10n.translate(Ft)}update({viewport:jt}){const wt=this.div;this.viewport=jt,(0,a.setLayerDimensions)(wt,{rotation:jt.rotation}),Bt(this,fn,Gr).call(this),wt.hidden=!1}getEditableAnnotations(){return Array.from(at(this,tn).values())}getEditableAnnotation(jt){return at(this,tn).get(jt)}}Nn=new WeakMap,Nt=new WeakMap,tn=new WeakMap,fn=new WeakSet,bs=function(jt,wt){var Qt;const Ft=jt.firstChild||jt;Ft.id=`${o.AnnotationPrefix}${wt}`,this.div.append(jt),(Qt=at(this,Nn))==null||Qt.moveElementInDOM(this.div,jt,Ft,!1)},Gr=function(){if(!at(this,Nt))return;const jt=this.div;for(const[wt,Ft]of at(this,Nt)){const Qt=jt.querySelector(`[data-annotation-id="${wt}"]`);if(!Qt)continue;const{firstChild:Zt}=Qt;Zt?Zt.nodeName==="CANVAS"?Zt.replaceWith(Ft):Zt.before(Ft):Qt.append(Ft)}at(this,Nt).clear()},s.AnnotationLayer=ht},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function i(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function o(c){return Math.max(0,Math.min(255,255*c))}class a{static CMYK_G([d,g,h,b]){return["G",1-Math.min(1,.3*d+.59*h+.11*g+b)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const g=i(d);return`#${g}${g}${g}`}static RGB_G([d,g,h]){return["G",.3*d+.59*g+.11*h]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,g,h,b]){return["RGB",1-Math.min(1,d+b),1-Math.min(1,h+b),1-Math.min(1,g+b)]}static CMYK_rgb([d,g,h,b]){return[o(1-Math.min(1,d+b)),o(1-Math.min(1,h+b)),o(1-Math.min(1,g+b))]}static CMYK_HTML(d){const g=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([d,g,h]){const b=1-d,_=1-g,j=1-h,et=Math.min(b,_,j);return["CMYK",b,_,j,et]}}s.ColorConverters=a},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=o;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function o(d,g){switch(d){case"find_match_count":d=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return i[d]||""}function a(d,g){return g?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,b)=>b in g?g[b]:"{{"+b+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,g=null,h=o(d,g)){return a(h,g)},async translate(d){}};s.NullL10n=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var o=i(25);class a{static setupStorage(d,g,h,b,_){const j=b.getValue(g,{value:null});switch(h.name){case"textarea":if(j.value!==null&&(d.textContent=j.value),_==="print")break;d.addEventListener("input",et=>{b.setValue(g,{value:et.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(j.value===h.attributes.xfaOn?d.setAttribute("checked",!0):j.value===h.attributes.xfaOff&&d.removeAttribute("checked"),_==="print")break;d.addEventListener("change",et=>{b.setValue(g,{value:et.target.checked?et.target.getAttribute("xfaOn"):et.target.getAttribute("xfaOff")})})}else{if(j.value!==null&&d.setAttribute("value",j.value),_==="print")break;d.addEventListener("input",et=>{b.setValue(g,{value:et.target.value})})}break;case"select":if(j.value!==null){d.setAttribute("value",j.value);for(const et of h.children)et.attributes.value===j.value?et.attributes.selected=!0:et.attributes.hasOwnProperty("selected")&&delete et.attributes.selected}d.addEventListener("input",et=>{const nt=et.target.options,st=nt.selectedIndex===-1?"":nt[nt.selectedIndex].value;b.setValue(g,{value:st})});break}}static setAttributes({html:d,element:g,storage:h=null,intent:b,linkService:_}){const{attributes:j}=g,et=d instanceof HTMLAnchorElement;j.type==="radio"&&(j.name=`${j.name}-${b}`);for(const[nt,st]of Object.entries(j))if(st!=null)switch(nt){case"class":st.length&&d.setAttribute(nt,st.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",st);break;case"style":Object.assign(d.style,st);break;case"textContent":d.textContent=st;break;default:(!et||nt!=="href"&&nt!=="newWindow")&&d.setAttribute(nt,st)}et&&_.addLinkAttributes(d,j.href,j.newWindow),h&&j.dataId&&this.setupStorage(d,j.dataId,g,h)}static render(d){var rt;const g=d.annotationStorage,h=d.linkService,b=d.xfaHtml,_=d.intent||"display",j=document.createElement(b.name);b.attributes&&this.setAttributes({html:j,element:b,intent:_,linkService:h});const et=[[b,-1,j]],nt=d.div;if(nt.append(j),d.viewport){const tt=`matrix(${d.viewport.transform.join(",")})`;nt.style.transform=tt}_!=="richText"&&nt.setAttribute("class","xfaLayer xfaFont");const st=[];for(;et.length>0;){const[tt,_e,$]=et.at(-1);if(_e+1===tt.children.length){et.pop();continue}const ot=tt.children[++et.at(-1)[1]];if(ot===null)continue;const{name:lt}=ot;if(lt==="#text"){const dt=document.createTextNode(ot.value);st.push(dt),$.append(dt);continue}const it=(rt=ot==null?void 0:ot.attributes)!=null&&rt.xmlns?document.createElementNS(ot.attributes.xmlns,lt):document.createElement(lt);if($.append(it),ot.attributes&&this.setAttributes({html:it,element:ot,storage:g,intent:_,linkService:h}),ot.children&&ot.children.length>0)et.push([ot,-1,it]);else if(ot.value){const dt=document.createTextNode(ot.value);o.XfaText.shouldBuildText(lt)&&st.push(dt),it.append(dt)}}for(const tt of nt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))tt.setAttribute("readOnly",!0);return{textDivs:st}}static update(d){const g=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=g,d.div.hidden=!1}}s.XfaLayer=a},(e,s,i)=>{var b,_,j,et,nt,st,rt,tt,_e,$,ot,lt,it,dt,ct,Ss,ws,Rs,As,Kr,_s,Xr,js,Ts,Cs,Ps,ks,$n,qr,fr,mr,Yn,Yr,gr,Rt,Ns,Qr,Ms,Ds,Zr,xr,Qn;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var o=i(1),a=i(4),c=i(29),d=i(6),g=i(5);const sn=class sn extends a.AnnotationEditor{constructor(Et){super({...Et,name:"inkEditor"});Gt(this,ct);Gt(this,b,0);Gt(this,_,0);Gt(this,j,this.canvasPointermove.bind(this));Gt(this,et,this.canvasPointerleave.bind(this));Gt(this,nt,this.canvasPointerup.bind(this));Gt(this,st,this.canvasPointerdown.bind(this));Gt(this,rt,new Path2D);Gt(this,tt,!1);Gt(this,_e,!1);Gt(this,$,!1);Gt(this,ot,null);Gt(this,lt,0);Gt(this,it,0);Gt(this,dt,null);this.color=Et.color||null,this.thickness=Et.thickness||null,this.opacity=Et.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Et){a.AnnotationEditor.initialize(Et,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Et,Pt){switch(Et){case o.AnnotationEditorParamsType.INK_THICKNESS:sn._defaultThickness=Pt;break;case o.AnnotationEditorParamsType.INK_COLOR:sn._defaultColor=Pt;break;case o.AnnotationEditorParamsType.INK_OPACITY:sn._defaultOpacity=Pt/100;break}}updateParams(Et,Pt){switch(Et){case o.AnnotationEditorParamsType.INK_THICKNESS:Bt(this,ct,Ss).call(this,Pt);break;case o.AnnotationEditorParamsType.INK_COLOR:Bt(this,ct,ws).call(this,Pt);break;case o.AnnotationEditorParamsType.INK_OPACITY:Bt(this,ct,Rs).call(this,Pt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,sn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,sn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(sn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||sn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||sn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??sn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Bt(this,ct,fr).call(this),Bt(this,ct,mr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Bt(this,ct,Yn).call(this)),Bt(this,ct,Qn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,at(this,ot).disconnect(),Xt(this,ot,null),super.remove())}setParent(Et){!this.parent&&Et?this._uiManager.removeShouldRescale(this):this.parent&&Et===null&&this._uiManager.addShouldRescale(this),super.setParent(Et)}onScaleChanging(){const[Et,Pt]=this.parentDimensions,Vt=this.width*Et,Ht=this.height*Pt;this.setDimensions(Vt,Ht)}enableEditMode(){at(this,tt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",at(this,st)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",at(this,st)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){at(this,tt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Xt(this,tt,!0),this.div.classList.add("disabled"),Bt(this,ct,Qn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Et){this._focusEventsAllowed&&(super.focusin(Et),this.enableEditMode())}canvasPointerdown(Et){Et.button!==0||!this.isInEditMode()||at(this,tt)||(this.setInForeground(),Et.preventDefault(),Et.type!=="mouse"&&this.div.focus(),Bt(this,ct,_s).call(this,Et.offsetX,Et.offsetY))}canvasPointermove(Et){Et.preventDefault(),Bt(this,ct,Xr).call(this,Et.offsetX,Et.offsetY)}canvasPointerup(Et){Et.preventDefault(),Bt(this,ct,qr).call(this,Et)}canvasPointerleave(Et){Bt(this,ct,qr).call(this,Et)}get isResizable(){return!this.isEmpty()&&at(this,tt)}render(){if(this.div)return this.div;let Et,Pt;this.width&&(Et=this.x,Pt=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(an=>{var $t;return($t=this.div)==null?void 0:$t.setAttribute("aria-label",an)});const[Vt,Ht,en,un]=Bt(this,ct,As).call(this);if(this.setAt(Vt,Ht,0,0),this.setDims(en,un),Bt(this,ct,fr).call(this),this.width){const[an,$t]=this.parentDimensions;this.setAspectRatio(this.width*an,this.height*$t),this.setAt(Et*an,Pt*$t,this.width*an,this.height*$t),Xt(this,$,!0),Bt(this,ct,Yn).call(this),this.setDims(this.width*an,this.height*$t),Bt(this,ct,$n).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Bt(this,ct,mr).call(this),this.div}setDimensions(Et,Pt){const Vt=Math.round(Et),Ht=Math.round(Pt);if(at(this,lt)===Vt&&at(this,it)===Ht)return;Xt(this,lt,Vt),Xt(this,it,Ht),this.canvas.style.visibility="hidden";const[en,un]=this.parentDimensions;this.width=Et/en,this.height=Pt/un,this.fixAndSetPosition(),at(this,tt)&&Bt(this,ct,Yr).call(this,Et,Pt),Bt(this,ct,Yn).call(this),Bt(this,ct,$n).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Et,Pt,Vt){var wn,Pn,Ln;if(Et instanceof c.InkAnnotationElement)return null;const Ht=super.deserialize(Et,Pt,Vt);Ht.thickness=Et.thickness,Ht.color=o.Util.makeHexColor(...Et.color),Ht.opacity=Et.opacity;const[en,un]=Ht.pageDimensions,an=Ht.width*en,$t=Ht.height*un,pn=Ht.parentScale,hn=Et.thickness/2;Xt(Ht,tt,!0),Xt(Ht,lt,Math.round(an)),Xt(Ht,it,Math.round($t));const{paths:Tn,rect:_n,rotation:Mn}=Et;for(let{bezier:ln}of Tn){ln=Bt(wn=sn,Rt,Ms).call(wn,ln,_n,Mn);const Kt=[];Ht.paths.push(Kt);let qt=pn*(ln[0]-hn),xn=pn*(ln[1]-hn);for(let Nn=2,Nt=ln.length;Nn<Nt;Nn+=6){const tn=pn*(ln[Nn]-hn),fn=pn*(ln[Nn+1]-hn),bn=pn*(ln[Nn+2]-hn),An=pn*(ln[Nn+3]-hn),gn=pn*(ln[Nn+4]-hn),jt=pn*(ln[Nn+5]-hn);Kt.push([[qt,xn],[tn,fn],[bn,An],[gn,jt]]),qt=gn,xn=jt}const Dn=Bt(this,Rt,Ns).call(this,Kt);Ht.bezierPath2D.push(Dn)}const yn=Bt(Pn=Ht,ct,Zr).call(Pn);return Xt(Ht,_,Math.max(a.AnnotationEditor.MIN_SIZE,yn[2]-yn[0])),Xt(Ht,b,Math.max(a.AnnotationEditor.MIN_SIZE,yn[3]-yn[1])),Bt(Ln=Ht,ct,Yr).call(Ln,an,$t),Ht}serialize(){if(this.isEmpty())return null;const Et=this.getRect(0,0),Pt=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Pt,thickness:this.thickness,opacity:this.opacity,paths:Bt(this,ct,Ds).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Et),pageIndex:this.pageIndex,rect:Et,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,_=new WeakMap,j=new WeakMap,et=new WeakMap,nt=new WeakMap,st=new WeakMap,rt=new WeakMap,tt=new WeakMap,_e=new WeakMap,$=new WeakMap,ot=new WeakMap,lt=new WeakMap,it=new WeakMap,dt=new WeakMap,ct=new WeakSet,Ss=function(Et){const Pt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Et,Bt(this,ct,Qn).call(this)},undo:()=>{this.thickness=Pt,Bt(this,ct,Qn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ws=function(Et){const Pt=this.color;this.addCommands({cmd:()=>{this.color=Et,Bt(this,ct,$n).call(this)},undo:()=>{this.color=Pt,Bt(this,ct,$n).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Rs=function(Et){Et/=100;const Pt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Et,Bt(this,ct,$n).call(this)},undo:()=>{this.opacity=Pt,Bt(this,ct,$n).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},As=function(){const{parentRotation:Et,parentDimensions:[Pt,Vt]}=this;switch(Et){case 90:return[0,Vt,Vt,Pt];case 180:return[Pt,Vt,Pt,Vt];case 270:return[Pt,0,Vt,Pt];default:return[0,0,Pt,Vt]}},Kr=function(){const{ctx:Et,color:Pt,opacity:Vt,thickness:Ht,parentScale:en,scaleFactor:un}=this;Et.lineWidth=Ht*en/un,Et.lineCap="round",Et.lineJoin="round",Et.miterLimit=10,Et.strokeStyle=`${Pt}${(0,g.opacityToHex)(Vt)}`},_s=function(Et,Pt){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",at(this,et)),this.canvas.addEventListener("pointermove",at(this,j)),this.canvas.addEventListener("pointerup",at(this,nt)),this.canvas.removeEventListener("pointerdown",at(this,st)),this.isEditing=!0,at(this,$)||(Xt(this,$,!0),Bt(this,ct,Yn).call(this),this.thickness||(this.thickness=sn._defaultThickness),this.color||(this.color=sn._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=sn._defaultOpacity)),this.currentPath.push([Et,Pt]),Xt(this,_e,!1),Bt(this,ct,Kr).call(this),Xt(this,dt,()=>{Bt(this,ct,Cs).call(this),at(this,dt)&&window.requestAnimationFrame(at(this,dt))}),window.requestAnimationFrame(at(this,dt))},Xr=function(Et,Pt){const[Vt,Ht]=this.currentPath.at(-1);if(this.currentPath.length>1&&Et===Vt&&Pt===Ht)return;const en=this.currentPath;let un=at(this,rt);if(en.push([Et,Pt]),Xt(this,_e,!0),en.length<=2){un.moveTo(...en[0]),un.lineTo(Et,Pt);return}en.length===3&&(Xt(this,rt,un=new Path2D),un.moveTo(...en[0])),Bt(this,ct,Ps).call(this,un,...en.at(-3),...en.at(-2),Et,Pt)},js=function(){if(this.currentPath.length===0)return;const Et=this.currentPath.at(-1);at(this,rt).lineTo(...Et)},Ts=function(Et,Pt){Xt(this,dt,null),Et=Math.min(Math.max(Et,0),this.canvas.width),Pt=Math.min(Math.max(Pt,0),this.canvas.height),Bt(this,ct,Xr).call(this,Et,Pt),Bt(this,ct,js).call(this);let Vt;if(this.currentPath.length!==1)Vt=Bt(this,ct,ks).call(this);else{const $t=[Et,Pt];Vt=[[$t,$t.slice(),$t.slice(),$t]]}const Ht=at(this,rt),en=this.currentPath;this.currentPath=[],Xt(this,rt,new Path2D);const un=()=>{this.allRawPaths.push(en),this.paths.push(Vt),this.bezierPath2D.push(Ht),this.rebuild()},an=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Bt(this,ct,fr).call(this),Bt(this,ct,mr).call(this)),Bt(this,ct,Qn).call(this))};this.addCommands({cmd:un,undo:an,mustExec:!0})},Cs=function(){if(!at(this,_e))return;Xt(this,_e,!1);const Et=Math.ceil(this.thickness*this.parentScale),Pt=this.currentPath.slice(-3),Vt=Pt.map(un=>un[0]),Ht=Pt.map(un=>un[1]);Math.min(...Vt)-Et,Math.max(...Vt)+Et,Math.min(...Ht)-Et,Math.max(...Ht)+Et;const{ctx:en}=this;en.save(),en.clearRect(0,0,this.canvas.width,this.canvas.height);for(const un of this.bezierPath2D)en.stroke(un);en.stroke(at(this,rt)),en.restore()},Ps=function(Et,Pt,Vt,Ht,en,un,an){const $t=(Pt+Ht)/2,pn=(Vt+en)/2,hn=(Ht+un)/2,Tn=(en+an)/2;Et.bezierCurveTo($t+2*(Ht-$t)/3,pn+2*(en-pn)/3,hn+2*(Ht-hn)/3,Tn+2*(en-Tn)/3,hn,Tn)},ks=function(){const Et=this.currentPath;if(Et.length<=2)return[[Et[0],Et[0],Et.at(-1),Et.at(-1)]];const Pt=[];let Vt,[Ht,en]=Et[0];for(Vt=1;Vt<Et.length-2;Vt++){const[_n,Mn]=Et[Vt],[yn,wn]=Et[Vt+1],Pn=(_n+yn)/2,Ln=(Mn+wn)/2,ln=[Ht+2*(_n-Ht)/3,en+2*(Mn-en)/3],Kt=[Pn+2*(_n-Pn)/3,Ln+2*(Mn-Ln)/3];Pt.push([[Ht,en],ln,Kt,[Pn,Ln]]),[Ht,en]=[Pn,Ln]}const[un,an]=Et[Vt],[$t,pn]=Et[Vt+1],hn=[Ht+2*(un-Ht)/3,en+2*(an-en)/3],Tn=[$t+2*(un-$t)/3,pn+2*(an-pn)/3];return Pt.push([[Ht,en],hn,Tn,[$t,pn]]),Pt},$n=function(){if(this.isEmpty()){Bt(this,ct,gr).call(this);return}Bt(this,ct,Kr).call(this);const{canvas:Et,ctx:Pt}=this;Pt.setTransform(1,0,0,1,0,0),Pt.clearRect(0,0,Et.width,Et.height),Bt(this,ct,gr).call(this);for(const Vt of this.bezierPath2D)Pt.stroke(Vt)},qr=function(Et){this.canvas.removeEventListener("pointerleave",at(this,et)),this.canvas.removeEventListener("pointermove",at(this,j)),this.canvas.removeEventListener("pointerup",at(this,nt)),this.canvas.addEventListener("pointerdown",at(this,st)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Bt(this,ct,Ts).call(this,Et.offsetX,Et.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Et=>{var Pt;return(Pt=this.canvas)==null?void 0:Pt.setAttribute("aria-label",Et)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},mr=function(){Xt(this,ot,new ResizeObserver(Et=>{const Pt=Et[0].contentRect;Pt.width&&Pt.height&&this.setDimensions(Pt.width,Pt.height)})),at(this,ot).observe(this.div)},Yn=function(){if(!at(this,$))return;const[Et,Pt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Et),this.canvas.height=Math.ceil(this.height*Pt),Bt(this,ct,gr).call(this)},Yr=function(Et,Pt){const Vt=Bt(this,ct,xr).call(this),Ht=(Et-Vt)/at(this,_),en=(Pt-Vt)/at(this,b);this.scaleFactor=Math.min(Ht,en)},gr=function(){const Et=Bt(this,ct,xr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Et,this.translationY*this.scaleFactor+Et)},Rt=new WeakSet,Ns=function(Et){const Pt=new Path2D;for(let Vt=0,Ht=Et.length;Vt<Ht;Vt++){const[en,un,an,$t]=Et[Vt];Vt===0&&Pt.moveTo(...en),Pt.bezierCurveTo(un[0],un[1],an[0],an[1],$t[0],$t[1])}return Pt},Qr=function(Et,Pt,Vt){const[Ht,en,un,an]=Pt;switch(Vt){case 0:for(let $t=0,pn=Et.length;$t<pn;$t+=2)Et[$t]+=Ht,Et[$t+1]=an-Et[$t+1];break;case 90:for(let $t=0,pn=Et.length;$t<pn;$t+=2){const hn=Et[$t];Et[$t]=Et[$t+1]+Ht,Et[$t+1]=hn+en}break;case 180:for(let $t=0,pn=Et.length;$t<pn;$t+=2)Et[$t]=un-Et[$t],Et[$t+1]+=en;break;case 270:for(let $t=0,pn=Et.length;$t<pn;$t+=2){const hn=Et[$t];Et[$t]=un-Et[$t+1],Et[$t+1]=an-hn}break;default:throw new Error("Invalid rotation")}return Et},Ms=function(Et,Pt,Vt){const[Ht,en,un,an]=Pt;switch(Vt){case 0:for(let $t=0,pn=Et.length;$t<pn;$t+=2)Et[$t]-=Ht,Et[$t+1]=an-Et[$t+1];break;case 90:for(let $t=0,pn=Et.length;$t<pn;$t+=2){const hn=Et[$t];Et[$t]=Et[$t+1]-en,Et[$t+1]=hn-Ht}break;case 180:for(let $t=0,pn=Et.length;$t<pn;$t+=2)Et[$t]=un-Et[$t],Et[$t+1]-=en;break;case 270:for(let $t=0,pn=Et.length;$t<pn;$t+=2){const hn=Et[$t];Et[$t]=an-Et[$t+1],Et[$t+1]=un-hn}break;default:throw new Error("Invalid rotation")}return Et},Ds=function(Et,Pt,Vt,Ht){var pn,hn;const en=[],un=this.thickness/2,an=Et*Pt+un,$t=Et*Vt+un;for(const Tn of this.paths){const _n=[],Mn=[];for(let yn=0,wn=Tn.length;yn<wn;yn++){const[Pn,Ln,ln,Kt]=Tn[yn],qt=Et*Pn[0]+an,xn=Et*Pn[1]+$t,Dn=Et*Ln[0]+an,Nn=Et*Ln[1]+$t,Nt=Et*ln[0]+an,tn=Et*ln[1]+$t,fn=Et*Kt[0]+an,bn=Et*Kt[1]+$t;yn===0&&(_n.push(qt,xn),Mn.push(qt,xn)),_n.push(Dn,Nn,Nt,tn,fn,bn),Mn.push(Dn,Nn),yn===wn-1&&Mn.push(fn,bn)}en.push({bezier:Bt(pn=sn,Rt,Qr).call(pn,_n,Ht,this.rotation),points:Bt(hn=sn,Rt,Qr).call(hn,Mn,Ht,this.rotation)})}return en},Zr=function(){let Et=1/0,Pt=-1/0,Vt=1/0,Ht=-1/0;for(const en of this.paths)for(const[un,an,$t,pn]of en){const hn=o.Util.bezierBoundingBox(...un,...an,...$t,...pn);Et=Math.min(Et,hn[0]),Vt=Math.min(Vt,hn[1]),Pt=Math.max(Pt,hn[2]),Ht=Math.max(Ht,hn[3])}return[Et,Vt,Pt,Ht]},xr=function(){return at(this,tt)?Math.ceil(this.thickness*this.parentScale):0},Qn=function(Et=!1){if(this.isEmpty())return;if(!at(this,tt)){Bt(this,ct,$n).call(this);return}const Pt=Bt(this,ct,Zr).call(this),Vt=Bt(this,ct,xr).call(this);Xt(this,_,Math.max(a.AnnotationEditor.MIN_SIZE,Pt[2]-Pt[0])),Xt(this,b,Math.max(a.AnnotationEditor.MIN_SIZE,Pt[3]-Pt[1]));const Ht=Math.ceil(Vt+at(this,_)*this.scaleFactor),en=Math.ceil(Vt+at(this,b)*this.scaleFactor),[un,an]=this.parentDimensions;this.width=Ht/un,this.height=en/an,this.setAspectRatio(Ht,en);const $t=this.translationX,pn=this.translationY;this.translationX=-Pt[0],this.translationY=-Pt[1],Bt(this,ct,Yn).call(this),Bt(this,ct,$n).call(this),Xt(this,lt,Ht),Xt(this,it,en),this.setDims(Ht,en);const hn=Et?Vt/this.scaleFactor/2:0;this.translate($t-this.translationX-hn,pn-this.translationY-hn)},Gt(sn,Rt),On(sn,"_defaultColor",null),On(sn,"_defaultOpacity",1),On(sn,"_defaultThickness",1),On(sn,"_type","ink");let h=sn;s.InkEditor=h},(e,s,i)=>{var h,b,_,j,et,nt,st,rt,tt,_e,$,sr,ir,yr,Jr,Ls,Is,es,vr,Fs;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var o=i(1),a=i(4),c=i(6),d=i(29);const yt=class yt extends a.AnnotationEditor{constructor(Mt){super({...Mt,name:"stampEditor"});Gt(this,$);Gt(this,h,null);Gt(this,b,null);Gt(this,_,null);Gt(this,j,null);Gt(this,et,null);Gt(this,nt,null);Gt(this,st,null);Gt(this,rt,null);Gt(this,tt,!1);Gt(this,_e,!1);Xt(this,j,Mt.bitmapUrl),Xt(this,et,Mt.bitmapFile)}static initialize(Mt){a.AnnotationEditor.initialize(Mt)}static get supportedTypes(){const Mt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Mt.map(It=>`image/${It}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Mt){return this.supportedTypes.includes(Mt)}static paste(Mt,It){It.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Mt.getAsFile()})}remove(){var Mt,It;at(this,b)&&(Xt(this,h,null),this._uiManager.imageManager.deleteId(at(this,b)),(Mt=at(this,nt))==null||Mt.remove(),Xt(this,nt,null),(It=at(this,st))==null||It.disconnect(),Xt(this,st,null)),super.remove()}rebuild(){if(!this.parent){at(this,b)&&Bt(this,$,yr).call(this);return}super.rebuild(),this.div!==null&&(at(this,b)&&Bt(this,$,yr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(at(this,_)||at(this,h)||at(this,j)||at(this,et))}get isResizable(){return!0}render(){if(this.div)return this.div;let Mt,It;if(this.width&&(Mt=this.x,It=this.y),super.render(),this.div.hidden=!0,at(this,h)?Bt(this,$,Jr).call(this):Bt(this,$,yr).call(this),this.width){const[kt,Ct]=this.parentDimensions;this.setAt(Mt*kt,It*Ct,this.width*kt,this.height*Ct)}return this.div}static deserialize(Mt,It,kt){if(Mt instanceof d.StampAnnotationElement)return null;const Ct=super.deserialize(Mt,It,kt),{rect:xt,bitmapUrl:_t,bitmapId:Lt,isSvg:vt,accessibilityData:pt}=Mt;Lt&&kt.imageManager.isValidId(Lt)?Xt(Ct,b,Lt):Xt(Ct,j,_t),Xt(Ct,tt,vt);const[ht,gt]=Ct.pageDimensions;return Ct.width=(xt[2]-xt[0])/ht,Ct.height=(xt[3]-xt[1])/gt,pt&&(Ct.altTextData=pt),Ct}serialize(Mt=!1,It=null){if(this.isEmpty())return null;const kt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:at(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:at(this,tt),structTreeParentId:this._structTreeParentId};if(Mt)return kt.bitmapUrl=Bt(this,$,vr).call(this,!0),kt.accessibilityData=this.altTextData,kt;const{decorative:Ct,altText:xt}=this.altTextData;if(!Ct&&xt&&(kt.accessibilityData={type:"Figure",alt:xt}),It===null)return kt;It.stamps||(It.stamps=new Map);const _t=at(this,tt)?(kt.rect[2]-kt.rect[0])*(kt.rect[3]-kt.rect[1]):null;if(!It.stamps.has(at(this,b)))It.stamps.set(at(this,b),{area:_t,serialized:kt}),kt.bitmap=Bt(this,$,vr).call(this,!1);else if(at(this,tt)){const Lt=It.stamps.get(at(this,b));_t>Lt.area&&(Lt.area=_t,Lt.serialized.bitmap.close(),Lt.serialized.bitmap=Bt(this,$,vr).call(this,!1))}return kt}};h=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,et=new WeakMap,nt=new WeakMap,st=new WeakMap,rt=new WeakMap,tt=new WeakMap,_e=new WeakMap,$=new WeakSet,sr=function(Mt,It=!1){if(!Mt){this.remove();return}Xt(this,h,Mt.bitmap),It||(Xt(this,b,Mt.id),Xt(this,tt,Mt.isSvg)),Bt(this,$,Jr).call(this)},ir=function(){Xt(this,_,null),this._uiManager.enableWaiting(!1),at(this,nt)&&this.div.focus()},yr=function(){if(at(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(at(this,b)).then(It=>Bt(this,$,sr).call(this,It,!0)).finally(()=>Bt(this,$,ir).call(this));return}if(at(this,j)){const It=at(this,j);Xt(this,j,null),this._uiManager.enableWaiting(!0),Xt(this,_,this._uiManager.imageManager.getFromUrl(It).then(kt=>Bt(this,$,sr).call(this,kt)).finally(()=>Bt(this,$,ir).call(this)));return}if(at(this,et)){const It=at(this,et);Xt(this,et,null),this._uiManager.enableWaiting(!0),Xt(this,_,this._uiManager.imageManager.getFromFile(It).then(kt=>Bt(this,$,sr).call(this,kt)).finally(()=>Bt(this,$,ir).call(this)));return}const Mt=document.createElement("input");Mt.type="file",Mt.accept=yt.supportedTypesStr,Xt(this,_,new Promise(It=>{Mt.addEventListener("change",async()=>{if(!Mt.files||Mt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const kt=await this._uiManager.imageManager.getFromFile(Mt.files[0]);Bt(this,$,sr).call(this,kt)}It()}),Mt.addEventListener("cancel",()=>{this.remove(),It()})}).finally(()=>Bt(this,$,ir).call(this))),Mt.click()},Jr=function(){const{div:Mt}=this;let{width:It,height:kt}=at(this,h);const[Ct,xt]=this.pageDimensions,_t=.75;if(this.width)It=this.width*Ct,kt=this.height*xt;else if(It>_t*Ct||kt>_t*xt){const ht=Math.min(_t*Ct/It,_t*xt/kt);It*=ht,kt*=ht}const[Lt,vt]=this.parentDimensions;this.setDims(It*Lt/Ct,kt*vt/xt),this._uiManager.enableWaiting(!1);const pt=Xt(this,nt,document.createElement("canvas"));Mt.append(pt),Mt.hidden=!1,Bt(this,$,es).call(this,It,kt),Bt(this,$,Fs).call(this),at(this,_e)||(this.parent.addUndoableEditor(this),Xt(this,_e,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ls=function(Mt,It){var _t;const[kt,Ct]=this.parentDimensions;this.width=Mt/kt,this.height=It/Ct,this.setDims(Mt,It),(_t=this._initialOptions)!=null&&_t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,at(this,rt)!==null&&clearTimeout(at(this,rt)),Xt(this,rt,setTimeout(()=>{Xt(this,rt,null),Bt(this,$,es).call(this,Mt,It)},200))},Is=function(Mt,It){const{width:kt,height:Ct}=at(this,h);let xt=kt,_t=Ct,Lt=at(this,h);for(;xt>2*Mt||_t>2*It;){const vt=xt,pt=_t;xt>2*Mt&&(xt=xt>=16384?Math.floor(xt/2)-1:Math.ceil(xt/2)),_t>2*It&&(_t=_t>=16384?Math.floor(_t/2)-1:Math.ceil(_t/2));const ht=new OffscreenCanvas(xt,_t);ht.getContext("2d").drawImage(Lt,0,0,vt,pt,0,0,xt,_t),Lt=ht.transferToImageBitmap()}return Lt},es=function(Mt,It){Mt=Math.ceil(Mt),It=Math.ceil(It);const kt=at(this,nt);if(!kt||kt.width===Mt&&kt.height===It)return;kt.width=Mt,kt.height=It;const Ct=at(this,tt)?at(this,h):Bt(this,$,Is).call(this,Mt,It),xt=kt.getContext("2d");xt.filter=this._uiManager.hcmFilter,xt.drawImage(Ct,0,0,Ct.width,Ct.height,0,0,Mt,It)},vr=function(Mt){if(Mt){if(at(this,tt)){const Ct=this._uiManager.imageManager.getSvgUrl(at(this,b));if(Ct)return Ct}const It=document.createElement("canvas");return{width:It.width,height:It.height}=at(this,h),It.getContext("2d").drawImage(at(this,h),0,0),It.toDataURL()}if(at(this,tt)){const[It,kt]=this.pageDimensions,Ct=Math.round(this.width*It*c.PixelsPerInch.PDF_TO_CSS_UNITS),xt=Math.round(this.height*kt*c.PixelsPerInch.PDF_TO_CSS_UNITS),_t=new OffscreenCanvas(Ct,xt);return _t.getContext("2d").drawImage(at(this,h),0,0,at(this,h).width,at(this,h).height,0,0,Ct,xt),_t.transferToImageBitmap()}return structuredClone(at(this,h))},Fs=function(){Xt(this,st,new ResizeObserver(Mt=>{const It=Mt[0].contentRect;It.width&&It.height&&Bt(this,$,Ls).call(this,It.width,It.height)})),at(this,st).observe(this.div)},On(yt,"_type","stamp");let g=yt;s.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var s=__webpack_module_cache__[e];if(s!==void 0)return s.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var s=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdf_default=getDefaultExportFromCjs(pdfExports),pdfjs=pdf_default;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(o,a,c,d,g,h){if(h!==ReactPropTypesSecret){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function s(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,s,i){if(i||arguments.length===2)for(var o=0,a=s.length,c;o<a;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return e.concat(c||Array.prototype.slice.call(s))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,s){var i={};return allEvents.forEach(function(o){var a=e[o];a&&(s?i[o]=function(c){return a(c,s(o))}:i[o]=a)}),i}function makeCancellablePromise(e){var s=!1,i=new Promise(function(o,a){e.then(function(c){return!s&&o(c)}).catch(function(c){return!s&&a(c)})});return{promise:i,cancel:function(){s=!0}}}var prefix="Invariant failed";function invariant(e,s){if(!e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(e,s,i){for(i of e.keys())if(dequal(i,s))return i}function dequal(e,s){var i,o,a;if(e===s)return!0;if(e&&s&&(i=e.constructor)===s.constructor){if(i===Date)return e.getTime()===s.getTime();if(i===RegExp)return e.toString()===s.toString();if(i===Array){if((o=e.length)===s.length)for(;o--&&dequal(e[o],s[o]););return o===-1}if(i===Set){if(e.size!==s.size)return!1;for(o of e)if(a=o,a&&typeof a=="object"&&(a=find(s,a),!a)||!s.has(a))return!1;return!0}if(i===Map){if(e.size!==s.size)return!1;for(o of e)if(a=o[0],a&&typeof a=="object"&&(a=find(s,a),!a)||!dequal(o[1],s.get(a)))return!1;return!0}if(i===ArrayBuffer)e=new Uint8Array(e),s=new Uint8Array(s);else if(i===DataView){if((o=e.byteLength)===s.byteLength)for(;o--&&e.getInt8(o)===s.getInt8(o););return o===-1}if(ArrayBuffer.isView(e)){if((o=e.byteLength)===s.byteLength)for(;o--&&e[o]===s[o];);return o===-1}if(!i||typeof e=="object"){o=0;for(i in e)if(has.call(e,i)&&++o&&!has.call(s,i)||!(i in s)||!dequal(e[i],s[i]))return!1;return Object.keys(s).length===o}}return e!==e&&s!==s}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:s}){return React$2.createElement("div",{className:`react-pdf__message react-pdf__message--${s}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(s){this.pdfDocument=s}setViewer(s){this.pdfViewer=s}setExternalLinkRel(s){this.externalLinkRel=s}setExternalLinkTarget(s){this.externalLinkTarget=s}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(s){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=s}get rotation(){return 0}set rotation(s){}goToDestination(s){return new Promise(i=>{invariant(this.pdfDocument),invariant(s),typeof s=="string"?this.pdfDocument.getDestination(s).then(i):Array.isArray(s)?i(s):s.then(i)}).then(i=>{invariant(Array.isArray(i));const o=i[0];new Promise(a=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(c=>{a(c)}).catch(()=>{invariant(!1)}):typeof o=="number"?a(o):invariant(!1)}).then(a=>{const c=a+1;invariant(this.pdfViewer),invariant(c>=1&&c<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:a,pageNumber:c})})})}navigateTo(s){this.goToDestination(s)}goToPage(s){const i=s-1;invariant(this.pdfViewer),invariant(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:s})}addLinkAttributes(s,i,o){s.href=i,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e));const[s="",i=""]=e.split(",");return s.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,s){return Object.defineProperty(e,"width",{get(){return this.view[2]*s},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*s},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((s,i)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return i(new Error("Error while reading a file."));s(o.result)},o.onerror=a=>{if(!a.target)return i(new Error("Error while reading a file."));const{error:c}=a.target;if(!c)return i(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},o.readAsArrayBuffer(e)})}function reducer(e,s){switch(s.type){case"RESOLVE":return{value:s.value,error:void 0};case"REJECT":return{value:!1,error:s.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(s=>{e[s]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(s,i,o){const{[i]:a,pageNumber:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${i}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:g}=d;if(a+1>g)return new Error(`Expected \`${i}\` to be less or equal to ${g-1}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function e(s,i,o){const{[i]:a,pageIndex:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${i}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:g}=d;if(a>g)return new Error(`Expected \`${i}\` to be less or equal to ${g}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,s,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(_){try{b(o.next(_))}catch(j){d(j)}}function h(_){try{b(o.throw(_))}catch(j){d(j)}}function b(_){_.done?c(_.value):a(_.value).then(g,h)}b((o=o.apply(e,s||[])).next())})},__rest$1=function(e,s){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(i[o[a]]=e[o[a]]);return i};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,s)=>{switch(s){case PasswordResponses.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");e(i);break}case PasswordResponses.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");e(i);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(s,i){var{children:o,className:a,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:g,file:h,inputRef:b,imageResourcesPath:_,loading:j="Loading PDF",noData:et="No PDF file specified.",onItemClick:nt,onLoadError:st,onLoadProgress:rt,onLoadSuccess:tt,onPassword:_e=defaultOnPassword,onSourceError:$,onSourceSuccess:ot,options:lt,renderMode:it,rotate:dt}=s,ct=__rest$1(s,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[ut,mt]=useResolver(),{value:bt,error:ft}=ut,[yt,St]=useResolver(),{value:Dt,error:Mt}=yt,It=reactExports.useRef(new LinkService),kt=reactExports.useRef([]),Ct=reactExports.useRef(),xt=reactExports.useRef();reactExports.useEffect(()=>{h&&h!==Ct.current&&isParameterObject(h)&&(warning$1(!dequal(h,Ct.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Ct.current=h)},[h]),reactExports.useEffect(()=>{lt&&lt!==xt.current&&(warning$1(!dequal(lt,xt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),xt.current=lt)},[lt]);const _t=reactExports.useRef({scrollPageIntoView:zt=>{const{dest:Ut,pageNumber:Et,pageIndex:Pt=Et-1}=zt;if(nt){nt({dest:Ut,pageIndex:Pt,pageNumber:Et});return}const Vt=kt.current[Pt];if(Vt){Vt.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Et} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(i,()=>({linkService:It,pages:kt,viewer:_t}),[]);function Lt(){ot&&ot()}function vt(){ft&&(warning$1(!1,ft.toString()),$&&$(ft))}function pt(){mt({type:"RESET"})}reactExports.useEffect(pt,[h,mt]);const ht=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return isDataURI(h)?{data:dataURItoByteString(h)}:(displayCORSWarning(),{url:h});if(h instanceof PDFDataRangeTransport)return{range:h};if(isArrayBuffer(h))return{data:h};if(isBrowser&&isBlob(h))return{data:yield loadFromFile(h)};if(invariant(typeof h=="object"),invariant(isParameterObject(h)),"url"in h&&typeof h.url=="string"){if(isDataURI(h.url)){const{url:zt}=h,Ut=__rest$1(h,["url"]),Et=dataURItoByteString(zt);return Object.assign({data:Et},Ut)}displayCORSWarning()}return h}),[h]);reactExports.useEffect(()=>{const zt=makeCancellablePromise(ht());return zt.promise.then(Ut=>{mt({type:"RESOLVE",value:Ut})}).catch(Ut=>{mt({type:"REJECT",error:Ut})}),()=>{cancelRunningTask(zt)}},[ht,mt]),reactExports.useEffect(()=>{if(!(typeof bt>"u")){if(bt===!1){vt();return}Lt()}},[bt]);function gt(){Dt&&(tt&&tt(Dt),kt.current=new Array(Dt.numPages),It.current.setDocument(Dt))}function At(){Mt&&(warning$1(!1,Mt.toString()),st&&st(Mt))}function Rt(){St({type:"RESET"})}reactExports.useEffect(Rt,[St,bt]);function Tt(){if(!bt)return;const zt=Object.assign(Object.assign({},lt),{isEvalSupported:!1}),Ut=Object.assign(Object.assign({},bt),zt),Et=pdfjs.getDocument(Ut);rt&&(Et.onProgress=rt),_e&&(Et.onPassword=_e);const Pt=Et;return Pt.promise.then(Vt=>{St({type:"RESOLVE",value:Vt})}).catch(Vt=>{Pt.destroyed||St({type:"REJECT",error:Vt})}),()=>{Pt.destroy()}}reactExports.useEffect(Tt,[lt,St,bt]),reactExports.useEffect(()=>{if(!(typeof Dt>"u")){if(Dt===!1){At();return}gt()}},[Dt]);function Ot(){It.current.setViewer(_t.current),It.current.setExternalLinkRel(d),It.current.setExternalLinkTarget(g)}reactExports.useEffect(Ot,[d,g]);function Wt(zt,Ut){kt.current[zt]=Ut}function Yt(zt){delete kt.current[zt]}const Jt=reactExports.useMemo(()=>({imageResourcesPath:_,linkService:It.current,onItemClick:nt,pdf:Dt,registerPage:Wt,renderMode:it,rotate:dt,unregisterPage:Yt}),[_,nt,Dt,it,dt]),rn=reactExports.useMemo(()=>makeEventProps(ct,()=>Dt),[ct,Dt]);function nn(){return React$2.createElement(DocumentContext.Provider,{value:Jt},o)}function sn(){return h?Dt==null?React$2.createElement(Message,{type:"loading"},typeof j=="function"?j():j):Dt===!1?React$2.createElement(Message,{type:"error"},typeof c=="function"?c():c):nn():React$2.createElement(Message,{type:"no-data"},typeof et=="function"?et():et)}return React$2.createElement("div",Object.assign({className:clsx("react-pdf__Document",a),ref:b,style:{"--scale-factor":"1"}},rn),sn())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var i=e.filter(Boolean);if(i.length<=1){var o=i[0];return o||null}return function(c){i.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const s={};if(isStructTreeNode(e)){const{role:i}=e,o=i.match(HEADING_PATTERN);if(o)s.role="heading",s["aria-level"]=Number(o[1]);else if(isPdfRole(i)){const a=PDF_ROLE_TO_HTML_ROLE[i];a&&(s.role=a)}}return s}function getBaseAttributes(e){const s={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(s["aria-label"]=e.alt),e.lang!==void 0&&(s.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[i]=e.children;if(i){const o=getBaseAttributes(i);return Object.assign(Object.assign({},s),o)}}}else"id"in e&&(s["aria-owns"]=e.id);return s}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:s}){const i=reactExports.useMemo(()=>getAttributes(s),[s]),o=reactExports.useMemo(()=>!isStructTreeNode(s)||isStructTreeNodeWithOnlyContentChild(s)?null:s.children.map((a,c)=>React$2.createElement(StructTreeItem,{key:c,node:a})),[s]);return React$2.createElement("span",Object.assign({className:e},i),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e);const{onGetStructTreeError:s,onGetStructTreeSuccess:i}=e,[o,a]=useResolver(),{value:c,error:d}=o,{customTextRenderer:g,page:h}=e;function b(){c&&i&&i(c)}function _(){d&&(warning$1(!1,d.toString()),s&&s(d))}function j(){a({type:"RESET"})}reactExports.useEffect(j,[a,h]);function et(){if(g||!h)return;const nt=makeCancellablePromise(h.getStructTree()),st=nt;return nt.promise.then(rt=>{a({type:"RESOLVE",value:rt})}).catch(rt=>{a({type:"REJECT",error:rt})}),()=>cancelRunningTask(st)}return reactExports.useEffect(et,[g,h,a]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){_();return}b()}},[c]),c?React$2.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},s),e),{_className:o,canvasBackground:a,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:g,page:h,renderForms:b,renderTextLayer:_,rotate:j,scale:et}=i,{canvasRef:nt}=e;invariant(h);const st=reactExports.useRef(null);function rt(){h&&g&&g(makePageCallback(h,et))}function tt(it){isCancelException(it)||(warning$1(!1,it.toString()),d&&d(it))}const _e=reactExports.useMemo(()=>h.getViewport({scale:et*c,rotation:j}),[c,h,j,et]),$=reactExports.useMemo(()=>h.getViewport({scale:et,rotation:j}),[h,j,et]);function ot(){if(!h)return;h.cleanup();const{current:it}=st;if(!it)return;it.width=_e.width,it.height=_e.height,it.style.width=`${Math.floor($.width)}px`,it.style.height=`${Math.floor($.height)}px`,it.style.visibility="hidden";const dt={annotationMode:b?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:it.getContext("2d",{alpha:!1}),viewport:_e};a&&(dt.background=a);const ct=h.render(dt),ut=ct;return ct.promise.then(()=>{it.style.visibility="",rt()}).catch(tt),()=>cancelRunningTask(ut)}reactExports.useEffect(ot,[a,st,c,h,b,_e,$]);const lt=reactExports.useCallback(()=>{const{current:it}=st;it&&(it.width=0,it.height=0)},[st]);return reactExports.useEffect(()=>lt,[lt]),React$2.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(nt,st),style:{display:"block",userSelect:"none"}},_?React$2.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e);const{_className:s,onRenderSuccess:i,onRenderError:o,page:a,rotate:c,scale:d}=e;invariant(a);const[g,h]=useResolver(),{value:b,error:_}=g;function j(){a&&i&&i(makePageCallback(a,d))}function et(){_&&(isCancelException(_)||(warning$1(!1,_.toString()),o&&o(_)))}const nt=reactExports.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);function st(){h({type:"RESET"})}reactExports.useEffect(st,[a,h,nt]);function rt(){if(!a)return;const ot=makeCancellablePromise(a.getOperatorList());return ot.promise.then(lt=>{new pdfjs.SVGGraphics(a.commonObjs,a.objs).getSVG(lt,nt).then(dt=>{if(!(dt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");h({type:"RESOLVE",value:dt})}).catch(dt=>{h({type:"REJECT",error:dt})})}).catch(lt=>{h({type:"REJECT",error:lt})}),()=>cancelRunningTask(ot)}reactExports.useEffect(rt,[a,h,nt]),reactExports.useEffect(()=>{if(b!==void 0){if(b===!1){et();return}j()}},[b]);function tt(ot){if(!ot||!b)return;ot.firstElementChild||ot.appendChild(b);const{width:lt,height:it}=nt;b.setAttribute("width",`${lt}`),b.setAttribute("height",`${it}`)}const{width:_e,height:$}=nt;return React$2.createElement("div",{className:`${s}__svg`,ref:ot=>tt(ot),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:_e,height:$,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e);const{customTextRenderer:s,onGetTextError:i,onGetTextSuccess:o,onRenderTextLayerError:a,onRenderTextLayerSuccess:c,page:d,pageIndex:g,pageNumber:h,rotate:b,scale:_}=e;invariant(d);const[j,et]=useResolver(),{value:nt,error:st}=j,rt=reactExports.useRef(null),tt=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _e(){nt&&o&&o(nt)}function $(){st&&(warning$1(!1,st.toString()),i&&i(st))}function ot(){et({type:"RESET"})}reactExports.useEffect(ot,[d,et]);function lt(){if(!d)return;const ft=makeCancellablePromise(d.getTextContent()),yt=ft;return ft.promise.then(St=>{et({type:"RESOLVE",value:St})}).catch(St=>{et({type:"REJECT",error:St})}),()=>cancelRunningTask(yt)}reactExports.useEffect(lt,[d,et]),reactExports.useEffect(()=>{if(nt!==void 0){if(nt===!1){$();return}_e()}},[nt]);const it=reactExports.useCallback(()=>{c&&c()},[c]),dt=reactExports.useCallback(ft=>{warning$1(!1,ft.toString()),a&&a(ft)},[a]);function ct(){const ft=tt.current;ft&&ft.classList.add("active")}function ut(){const ft=tt.current;ft&&ft.classList.remove("active")}const mt=reactExports.useMemo(()=>d.getViewport({scale:_,rotation:b}),[d,b,_]);function bt(){if(!d||!nt)return;const{current:ft}=rt;if(!ft)return;ft.innerHTML="";const yt=d.streamTextContent({includeMarkedContent:!0}),St={container:ft,textContentSource:yt,viewport:mt},Dt=pdfjs.renderTextLayer(St),Mt=Dt;return Dt.promise.then(()=>{const It=document.createElement("div");It.className="endOfContent",ft.append(It),tt.current=It;const kt=ft.querySelectorAll('[role="presentation"]');if(s){let Ct=0;nt.items.forEach((xt,_t)=>{if(!isTextItem(xt))return;const Lt=kt[Ct];if(!Lt)return;const vt=s(Object.assign({pageIndex:g,pageNumber:h,itemIndex:_t},xt));Lt.innerHTML=vt,Ct+=xt.str&&xt.hasEOL?2:1})}it()}).catch(dt),()=>cancelRunningTask(Mt)}return reactExports.useLayoutEffect(bt,[s,dt,it,d,g,h,nt,mt]),React$2.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:ut,onMouseDown:ct,ref:rt})}function AnnotationLayer(){const e=useDocumentContext(),s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},e),s),{imageResourcesPath:o,linkService:a,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:g,onRenderAnnotationLayerSuccess:h,page:b,pdf:_,renderForms:j,rotate:et,scale:nt=1}=i;invariant(_),invariant(b),invariant(a);const[st,rt]=useResolver(),{value:tt,error:_e}=st,$=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ot(){tt&&d&&d(tt)}function lt(){_e&&(warning$1(!1,_e.toString()),c&&c(_e))}function it(){rt({type:"RESET"})}reactExports.useEffect(it,[rt,b]);function dt(){if(!b)return;const ft=makeCancellablePromise(b.getAnnotations()),yt=ft;return ft.promise.then(St=>{rt({type:"RESOLVE",value:St})}).catch(St=>{rt({type:"REJECT",error:St})}),()=>{cancelRunningTask(yt)}}reactExports.useEffect(dt,[rt,b,j]),reactExports.useEffect(()=>{if(tt!==void 0){if(tt===!1){lt();return}ot()}},[tt]);function ct(){h&&h()}function ut(ft){warning$1(!1,`${ft}`),g&&g(ft)}const mt=reactExports.useMemo(()=>b.getViewport({scale:nt,rotation:et}),[b,et,nt]);function bt(){if(!_||!b||!a||!tt)return;const{current:ft}=$;if(!ft)return;const yt=mt.clone({dontFlip:!0}),St={accessibilityManager:null,annotationCanvasMap:null,div:ft,l10n:null,page:b,viewport:yt},Dt={annotations:tt,annotationStorage:_.annotationStorage,div:ft,downloadManager:null,imageResourcesPath:o,linkService:a,page:b,renderForms:j,viewport:yt};ft.innerHTML="";try{new pdfjs.AnnotationLayer(St).render(Dt),ct()}catch(Mt){ut(Mt)}return()=>{}}return reactExports.useEffect(bt,[tt,o,a,b,j,mt]),React$2.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:$})}var __rest=function(e,s){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(i[o[a]]=e[o[a]]);return i};const defaultScale=1,Page=function e(s){const i=useDocumentContext(),o=Object.assign(Object.assign({},i),s),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:g,children:h,className:b,customRenderer:_,customTextRenderer:j,devicePixelRatio:et,error:nt="Failed to load the page.",height:st,inputRef:rt,loading:tt="Loading page",noData:_e="No page specified.",onGetAnnotationsError:$,onGetAnnotationsSuccess:ot,onGetStructTreeError:lt,onGetStructTreeSuccess:it,onGetTextError:dt,onGetTextSuccess:ct,onLoadError:ut,onLoadSuccess:mt,onRenderAnnotationLayerError:bt,onRenderAnnotationLayerSuccess:ft,onRenderError:yt,onRenderSuccess:St,onRenderTextLayerError:Dt,onRenderTextLayerSuccess:Mt,pageIndex:It,pageNumber:kt,pdf:Ct,registerPage:xt,renderAnnotationLayer:_t=!0,renderForms:Lt=!1,renderMode:vt="canvas",renderTextLayer:pt=!0,rotate:ht,scale:gt=defaultScale,unregisterPage:At,width:Rt}=o,Tt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ot,Wt]=useResolver(),{value:Yt,error:Jt}=Ot,rn=reactExports.useRef(null);invariant(Ct);const nn=isProvided(kt)?kt-1:It??null,sn=kt??(isProvided(It)?It+1:null),zt=ht??(Yt?Yt.rotate:null),Ut=reactExports.useMemo(()=>{if(!Yt)return null;let wn=1;const Pn=gt??defaultScale;if(Rt||st){const Ln=Yt.getViewport({scale:1,rotation:zt});Rt?wn=Rt/Ln.width:st&&(wn=st/Ln.height)}return Pn*wn},[st,Yt,zt,gt,Rt]);function Et(){return()=>{isProvided(nn)&&c&&At&&At(nn)}}reactExports.useEffect(Et,[c,Ct,nn,At]);function Pt(){if(mt){if(!Yt||!Ut)return;mt(makePageCallback(Yt,Ut))}if(c&&xt){if(!isProvided(nn)||!rn.current)return;xt(nn,rn.current)}}function Vt(){Jt&&(warning$1(!1,Jt.toString()),ut&&ut(Jt))}function Ht(){Wt({type:"RESET"})}reactExports.useEffect(Ht,[Wt,Ct,nn]);function en(){if(!Ct||!sn)return;const wn=makeCancellablePromise(Ct.getPage(sn)),Pn=wn;return wn.promise.then(Ln=>{Wt({type:"RESOLVE",value:Ln})}).catch(Ln=>{Wt({type:"REJECT",error:Ln})}),()=>cancelRunningTask(Pn)}reactExports.useEffect(en,[Wt,Ct,nn,sn,xt]),reactExports.useEffect(()=>{if(Yt!==void 0){if(Yt===!1){Vt();return}Pt()}},[Yt,Ut]);const un=reactExports.useMemo(()=>Yt&&isProvided(nn)&&sn&&isProvided(zt)&&isProvided(Ut)?{_className:a,canvasBackground:d,customTextRenderer:j,devicePixelRatio:et,onGetAnnotationsError:$,onGetAnnotationsSuccess:ot,onGetStructTreeError:lt,onGetStructTreeSuccess:it,onGetTextError:dt,onGetTextSuccess:ct,onRenderAnnotationLayerError:bt,onRenderAnnotationLayerSuccess:ft,onRenderError:yt,onRenderSuccess:St,onRenderTextLayerError:Dt,onRenderTextLayerSuccess:Mt,page:Yt,pageIndex:nn,pageNumber:sn,renderForms:Lt,renderTextLayer:pt,rotate:zt,scale:Ut}:null,[a,d,j,et,$,ot,lt,it,dt,ct,bt,ft,yt,St,Dt,Mt,Yt,nn,sn,Lt,pt,zt,Ut]),an=reactExports.useMemo(()=>makeEventProps(Tt,()=>Yt&&(Ut?makePageCallback(Yt,Ut):void 0)),[Tt,Yt,Ut]),$t=`${nn}@${Ut}/${zt}`,pn=`${nn}/${zt}`;function hn(){switch(vt){case"custom":return invariant(_),React$2.createElement(_,{key:`${$t}_custom`});case"none":return null;case"svg":return React$2.createElement(PageSVG,{key:`${pn}_svg`});case"canvas":default:return React$2.createElement(PageCanvas,{key:`${$t}_canvas`,canvasRef:g})}}function Tn(){return pt?React$2.createElement(TextLayer,{key:`${$t}_text`}):null}function _n(){return _t?React$2.createElement(AnnotationLayer,{key:`${$t}_annotations`}):null}function Mn(){return React$2.createElement(PageContext.Provider,{value:un},hn(),Tn(),_n(),h)}function yn(){return sn?Ct===null||Yt===void 0||Yt===null?React$2.createElement(Message,{type:"loading"},typeof tt=="function"?tt():tt):Ct===!1||Yt===!1?React$2.createElement(Message,{type:"error"},typeof nt=="function"?nt():nt):Mn():React$2.createElement(Message,{type:"no-data"},typeof _e=="function"?_e():_e)}return React$2.createElement("div",Object.assign({className:clsx(a,b),"data-page-number":sn,ref:mergeRefs(rt,rn),style:{"--scale-factor":`${Ut}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},an),yn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFViewer({file:e,onTextSelect:s,onPageChange:i,className:o=""}){const[a,c]=reactExports.useState(0),[d,g]=reactExports.useState(1),[h,b]=reactExports.useState(1),[_,j]=reactExports.useState(!0),[et,nt]=reactExports.useState(null),st=reactExports.useCallback(({numPages:lt})=>{c(lt),j(!1),i==null||i(1,lt)},[i]),rt=reactExports.useCallback(lt=>{console.error("Error loading PDF:",lt),nt("Failed to load PDF. Please try again."),j(!1)},[]),tt=reactExports.useCallback(lt=>{lt>=1&&lt<=a&&(g(lt),i==null||i(lt,a))},[a,i]),_e=reactExports.useCallback(()=>{b(lt=>Math.min(lt+.25,3))},[]),$=reactExports.useCallback(()=>{b(lt=>Math.max(lt-.25,.5))},[]),ot=reactExports.useCallback(()=>{if(!s)return;const lt=window.getSelection(),it=lt==null?void 0:lt.toString().trim();it&&it.length>0&&s(it)},[s]);return et?jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${o}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-2",children:et}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"The PDF might be corrupted or unavailable."})]}):jsxRuntimeExports.jsxs("div",{className:`flex flex-col h-full ${o}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-bg-secondary border-b border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>tt(d-1),disabled:d<=1,className:"w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-secondary font-mono min-w-[80px] text-center",children:[d," / ",a||"..."]}),jsxRuntimeExports.jsx("button",{onClick:()=>tt(d+1),disabled:d>=a,className:"w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:$,disabled:h<=.5,className:"w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-secondary font-mono min-w-[50px] text-center",children:[Math.round(h*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:_e,disabled:h>=3,className:"w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto bg-bg-tertiary p-4 scrollbar-thin",onMouseUp:ot,children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center",children:[_&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Loading PDF..."})]}),jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:st,onLoadError:rt,loading:"",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:_?0:1},transition:{duration:.3},children:jsxRuntimeExports.jsx(Page,{pageNumber:d,scale:h,className:"shadow-lg",renderTextLayer:!0,renderAnnotationLayer:!0})})})]})})]})}function PDFViewerPage(){const{id:e}=useParams(),{token:s}=useAuthStore(),[i,o]=reactExports.useState(null),[a,c]=reactExports.useState(!0),[d,g]=reactExports.useState(null),[h,b]=reactExports.useState(""),[_,j]=reactExports.useState(!1),[et,nt]=reactExports.useState([]),[st,rt]=reactExports.useState(""),[tt,_e]=reactExports.useState(!1),[$,ot]=reactExports.useState(!1),[lt,it]=reactExports.useState(""),[dt,ct]=reactExports.useState(!1),[ut,mt]=reactExports.useState(!1),[bt,ft]=reactExports.useState([]),[yt,St]=reactExports.useState(!1),[Dt,Mt]=reactExports.useState({}),[It,kt]=reactExports.useState({}),{toast:Ct}=useToast();reactExports.useEffect(()=>{(async()=>{if(!e||!s){c(!1);return}try{const gt=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(gt.ok){const At=await gt.json();if(o(At.document),At.document.filePath)try{const Rt=await fetch(apiEndpoint(`api/documents/${e}/file`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(Rt.ok){const Tt=await Rt.blob();g(Tt)}else console.error("Failed to fetch PDF file:",Rt.status)}catch(Rt){console.error("Error fetching PDF file:",Rt)}}}catch(gt){console.error("Error fetching document:",gt)}finally{c(!1)}})()},[e,s]);const xt=reactExports.useCallback(ht=>{b(ht)},[]),_t=async()=>{if(!st.trim()||tt)return;const ht=st.trim();rt(""),nt(gt=>[...gt,{role:"user",content:ht}]),_e(!0);try{const gt=await fetch(apiEndpoint(`api/ai/documents/${e}/chat`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({message:ht,selectedText:h})}),At=await gt.json();if(gt.ok)nt(Rt=>[...Rt,{role:"assistant",content:At.response}]),b("");else throw new Error(At.error||"Failed to get response")}catch(gt){Ct({variant:"destructive",title:"Error",description:gt instanceof Error?gt.message:"Failed to send message"})}finally{_e(!1)}},Lt=async()=>{ot(!0),ct(!0),it("");try{const ht=await fetch(apiEndpoint(`api/ai/documents/${e}/summarize`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"}),gt=await ht.json();if(ht.ok)it(gt.summary);else throw new Error(gt.error||"Failed to generate summary")}catch(ht){Ct({variant:"destructive",title:"Error",description:ht instanceof Error?ht.message:"Failed to generate summary"}),ot(!1)}finally{ct(!1)}},vt=async()=>{mt(!0),St(!0),ft([]),Mt({}),kt({});try{const ht=await fetch(apiEndpoint(`api/ai/documents/${e}/exercises`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"}),gt=await ht.json();if(ht.ok)ft(gt.exercises||[]);else throw new Error(gt.error||"Failed to generate exercises")}catch(ht){Ct({variant:"destructive",title:"Error",description:ht instanceof Error?ht.message:"Failed to generate exercises"}),mt(!1)}finally{St(!1)}},pt=ht=>{kt(gt=>({...gt,[ht]:!0}))};return a?jsxRuntimeExports.jsx("div",{className:"h-screen flex items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):i?jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col bg-bg-primary",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-border bg-bg-secondary px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsx("div",{className:"h-4 w-px bg-border"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"font-medium text-text-primary truncate max-w-md",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted",children:i.filename})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"text-text-secondary hover:text-text-primary",onClick:()=>j(!_),children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4 mr-2"}),"Chat"]}),jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{size:"sm",className:"bg-accent hover:bg-accent-hover text-white",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Learning Mode"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:d?jsxRuntimeExports.jsx(PDFViewer,{file:d,onTextSelect:xt,className:"h-full"}):jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-bg-tertiary",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No PDF File"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-center max-w-md mb-4",children:"This document doesn't have an associated PDF file. The content may have been pasted as text."}),i.content&&jsxRuntimeExports.jsxs("div",{className:"w-full max-w-2xl bg-bg-secondary border border-border rounded-xl p-6 max-h-96 overflow-auto",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-text-muted mb-3",children:"Document Content:"}),jsxRuntimeExports.jsxs("div",{className:"prose prose-sm max-w-none text-text-secondary whitespace-pre-wrap",children:[i.content.slice(0,2e3),i.content.length>2e3&&"..."]})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:_&&jsxRuntimeExports.jsxs(motion.div,{initial:{width:0,opacity:0},animate:{width:384,opacity:1},exit:{width:0,opacity:0},transition:{duration:.2},className:"border-l border-border bg-bg-secondary flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-xs font-medium text-text-muted uppercase tracking-wider mb-3",children:"AI Tools"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"justify-start border-border hover:bg-bg-tertiary text-text-secondary hover:text-text-primary",onClick:Lt,disabled:dt,children:[dt?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 mr-2"}),"Summarize"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"justify-start border-border hover:bg-bg-tertiary text-text-secondary hover:text-text-primary",onClick:vt,disabled:yt,children:[yt?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 mr-2"}),"Exercises"]})]})]}),$&&jsxRuntimeExports.jsxs("div",{className:"border-b border-border p-4 max-h-64 overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-accent"}),"Summary"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-text-muted hover:text-text-primary",onClick:()=>ot(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),dt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-4",children:jsxRuntimeExports.jsx(Loader2,{className:"w-5 h-5 animate-spin text-text-muted"})}):jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:lt})]}),ut&&jsxRuntimeExports.jsxs("div",{className:"border-b border-border p-4 max-h-80 overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-accent"}),"Exercises"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-text-muted hover:text-text-primary",onClick:()=>mt(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),yt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-4",children:jsxRuntimeExports.jsx(Loader2,{className:"w-5 h-5 animate-spin text-text-muted"})}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:bt.map((ht,gt)=>{var At;return jsxRuntimeExports.jsxs("div",{className:"p-3 border border-border rounded-lg bg-bg-tertiary space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-text-primary",children:[gt+1,". ",ht.question]}),ht.type==="multiple_choice"&&ht.options&&jsxRuntimeExports.jsx("div",{className:"space-y-1",children:ht.options.map((Rt,Tt)=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-secondary cursor-pointer hover:text-text-primary",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:`exercise-${gt}`,value:Rt,onChange:()=>Mt(Ot=>({...Ot,[gt]:Rt})),className:"w-4 h-4 text-accent"}),Rt]},Tt))}),ht.type==="fill_blank"&&jsxRuntimeExports.jsx(Input,{placeholder:"Fill in the blank...",value:Dt[gt]||"",onChange:Rt=>Mt(Tt=>({...Tt,[gt]:Rt.target.value})),className:"text-sm border-border bg-bg-secondary"}),ht.type==="short_answer"&&jsxRuntimeExports.jsx(Input,{placeholder:"Your answer...",value:Dt[gt]||"",onChange:Rt=>Mt(Tt=>({...Tt,[gt]:Rt.target.value})),className:"text-sm border-border bg-bg-secondary"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",onClick:()=>pt(gt),disabled:!Dt[gt],children:"Check"}),It[gt]&&jsxRuntimeExports.jsx("div",{className:"text-sm",children:((At=Dt[gt])==null?void 0:At.toLowerCase().trim())===ht.correctAnswer.toLowerCase().trim()?jsxRuntimeExports.jsx("span",{className:"text-green-500",children:" Correct!"}):jsxRuntimeExports.jsxs("span",{className:"text-red-500",children:[" Answer: ",ht.correctAnswer]})})]})]},gt)})})]}),h&&jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border bg-accent-light/30",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-medium text-text-muted uppercase tracking-wider mb-2",children:"Selected Text"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary line-clamp-3",children:h}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"mt-2 text-xs text-accent",onClick:()=>{rt(ht=>ht+(ht?" ":"")+`Regarding "${h.slice(0,50)}...", `)},children:"Ask about this"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[et.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-12 h-12 mx-auto text-text-muted mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm",children:"Ask questions about this document"})]}),et.map((ht,gt)=>jsxRuntimeExports.jsx("div",{className:`flex ${ht.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[80%] rounded-lg px-3 py-2 ${ht.role==="user"?"bg-accent text-white":"bg-bg-tertiary text-text-primary"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:ht.content})})},gt)),tt&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-bg-tertiary rounded-lg px-3 py-2",children:jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin text-text-muted"})})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Ask a question...",value:st,onChange:ht=>rt(ht.target.value),onKeyDown:ht=>ht.key==="Enter"&&!ht.shiftKey&&_t(),className:"border-border bg-bg-tertiary"}),jsxRuntimeExports.jsx(Button,{onClick:_t,disabled:!st.trim()||tt,className:"bg-accent hover:bg-accent-hover text-white",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"h-screen bg-bg-primary p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-24 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Document not found"})]})]})})}function ChatPage(){const[e,s]=reactExports.useState([]),[i,o]=reactExports.useState(""),[a,c]=reactExports.useState(!1),d=reactExports.useRef(null),{token:g}=useAuthStore(),{toast:h}=useToast();reactExports.useEffect(()=>{var j;(j=d.current)==null||j.scrollIntoView({behavior:"smooth"})},[e]),reactExports.useEffect(()=>{const j=localStorage.getItem("chat-history");if(j)try{const et=JSON.parse(j);s(et.map(nt=>({...nt,timestamp:new Date(nt.timestamp)})))}catch(et){console.error("Failed to load chat history:",et)}},[]),reactExports.useEffect(()=>{e.length>0&&localStorage.setItem("chat-history",JSON.stringify(e))},[e]);const b=async()=>{if(!i.trim()||a)return;const j={id:Date.now().toString(),role:"user",content:i.trim(),timestamp:new Date};s(et=>[...et,j]),o(""),c(!0);try{const et=await fetch(apiEndpoint("api/ai/chat"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},credentials:"include",body:JSON.stringify({message:j.content,history:e.slice(-10).map(st=>({role:st.role,content:st.content}))})}),nt=await et.json();if(et.ok){const st={id:(Date.now()+1).toString(),role:"assistant",content:nt.response,timestamp:new Date};s(rt=>[...rt,st])}else throw new Error(nt.error||"Failed to get response")}catch(et){h({variant:"destructive",title:"Error",description:et instanceof Error?et.message:"Failed to send message"}),s(nt=>nt.filter(st=>st.id!==j.id))}finally{c(!1)}},_=()=>{s([]),localStorage.removeItem("chat-history"),h({title:"Chat cleared",description:"Your chat history has been cleared."})};return jsxRuntimeExports.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent to-purple-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-text-primary",children:"AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Ask questions about your documents"})]})]}),e.length>0&&jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:_,className:"text-text-muted hover:text-error",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-2"}),"Clear"]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto bg-bg-secondary border border-border rounded-xl p-4 scrollbar-thin",children:e.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-16 h-16 text-text-muted mb-4 opacity-50"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"Start a conversation"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary max-w-md",children:"Ask me anything about your documents, request summaries, generate quizzes, or get help with your studies."}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:["Explain machine learning","Create a study plan","Help me understand this concept"].map(j=>jsxRuntimeExports.jsx("button",{onClick:()=>o(j),className:"px-3 py-1.5 bg-bg-tertiary hover:bg-bg-hover rounded-lg text-sm text-text-secondary hover:text-text-primary transition-colors",children:j},j))})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:e.map(j=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${j.role==="user"?"bg-accent text-white rounded-br-md":"bg-bg-tertiary text-text-primary rounded-bl-md"}`,children:[jsxRuntimeExports.jsx("p",{className:"whitespace-pre-wrap",children:j.content}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1 ${j.role==="user"?"text-white/60":"text-text-muted"}`,children:j.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},j.id))}),a&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-bg-tertiary rounded-2xl rounded-bl-md px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin text-accent"}),jsxRuntimeExports.jsx("span",{className:"text-text-muted",children:"Thinking..."})]})})}),jsxRuntimeExports.jsx("div",{ref:d})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:i,onChange:j=>o(j.target.value),onKeyDown:j=>j.key==="Enter"&&!j.shiftKey&&b(),placeholder:"Type your message...",className:"flex-1 bg-bg-secondary border-border",disabled:a}),jsxRuntimeExports.jsx(Button,{onClick:b,disabled:!i.trim()||a,className:"bg-accent hover:bg-accent-hover text-white px-6",children:a?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})]})}function ProtectedRoute({children:e}){const{user:s,isLoading:i}=useAuthStore();return i?jsxRuntimeExports.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):s?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function PublicRoute({children:e}){const{user:s,isLoading:i}=useAuthStore();return i?jsxRuntimeExports.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):s?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e})}function App(){const e=useAuthStore(s=>s.initialize);return reactExports.useEffect(()=>{e()},[e]),jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(LoginPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(RegisterPage,{})})}),jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(AppShell,{})}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(DashboardPage,{})}),jsxRuntimeExports.jsx(Route,{path:"documents",element:jsxRuntimeExports.jsx(DocumentsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"documents/:id",element:jsxRuntimeExports.jsx(DocumentDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn",element:jsxRuntimeExports.jsx(LearningIndexPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId",element:jsxRuntimeExports.jsx(LearningExperiencePage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/quiz",element:jsxRuntimeExports.jsx(QuizPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/glossary",element:jsxRuntimeExports.jsx(GlossaryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/summary",element:jsxRuntimeExports.jsx(SummaryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/exercises",element:jsxRuntimeExports.jsx(ExercisesPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/flashcards",element:jsxRuntimeExports.jsx(FlashcardsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings",element:jsxRuntimeExports.jsx(SettingsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings/api-keys",element:jsxRuntimeExports.jsx(ApiKeysPage,{})}),jsxRuntimeExports.jsx(Route,{path:"chat",element:jsxRuntimeExports.jsx(ChatPage,{})})]}),jsxRuntimeExports.jsx(Route,{path:"documents/:id/view",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(PDFViewerPage,{})})})]}),jsxRuntimeExports.jsx(Toaster,{})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
