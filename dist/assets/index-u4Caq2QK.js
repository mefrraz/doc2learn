var $s=Object.defineProperty;var ss=e=>{throw TypeError(e)};var zs=(e,i,s)=>i in e?$s(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var $n=(e,i,s)=>zs(e,typeof i!="symbol"?i+"":i,s),wr=(e,i,s)=>i.has(e)||ss("Cannot "+s);var pt=(e,i,s)=>(wr(e,i,"read from private field"),s?s.call(e):i.get(e)),Jt=(e,i,s)=>i.has(e)?ss("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,s),tn=(e,i,s,o)=>(wr(e,i,"write to private field"),o?o.call(e,s):i.set(e,s),s),Gt=(e,i,s)=>(wr(e,i,"access private method"),s);var er=(e,i,s,o)=>({set _(a){tn(e,i,a,s)},get _(){return pt(e,i,o)}});function _mergeNamespaces(e,i){for(var s=0;s<i.length;s++){const o=i[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const d=Object.getOwnPropertyDescriptor(o,a);d&&Object.defineProperty(e,a,d.get?d:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=s(a);fetch(a.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var o,a={},d=null,h=null;if(i!=null)for(o in i.ref!==void 0&&(h=i.ref),i.key!==void 0&&(d=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(a[o]=i[o]);var g=arguments.length-2;if(g===1)a.children=s;else if(1<g){for(var b=Array(g),_=0;_<g;_++)b[_]=arguments[_+2];a.children=b}if(e&&e.defaultProps)for(o in g=e.defaultProps,g)a[o]===void 0&&(a[o]=g[o]);return{$$typeof:l$1,type:e,key:d,ref:h,props:a,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$3(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$3(""+e.key):i.toString(36)}function R$1(e,i,s,o,a){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:h=!0}}if(h)return h=e,a=a(h),e=o===""?"."+Q$1(h,0):o,I$1(a)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(a,i,s,"",function(_){return _})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),i.push(a)),1;if(h=0,o=o===""?".":o+":",I$1(e))for(var g=0;g<e.length;g++){d=e[g];var b=o+Q$1(d,g);h+=R$1(d,i,s,b,a)}else if(b=A$1(e),typeof b=="function")for(e=b.call(e),g=0;!(d=e.next()).done;)d=d.value,b=o+Q$1(d,g++),h+=R$1(d,i,s,b,a);else if(d==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return h}function S$1(e,i,s){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(d){return i.call(s,d,a++)}),o}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,d=e.ref,h=e._owner;if(i!=null){if(i.ref!==void 0&&(d=i.ref,h=K$1.current),i.key!==void 0&&(a=""+i.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(b in i)J.call(i,b)&&!L$1.hasOwnProperty(b)&&(o[b]=i[b]===void 0&&g!==void 0?g[b]:i[b])}var b=arguments.length-2;if(b===1)o.children=s;else if(1<b){g=Array(b);for(var _=0;_<b;_++)g[_]=arguments[_+2];o.children=g}return{$$typeof:l$1,type:e.type,key:a,ref:d,props:o,_owner:h}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var o,a={},d=null,h=null;s!==void 0&&(d=""+s),i.key!==void 0&&(d=""+i.key),i.ref!==void 0&&(h=i.ref);for(o in i)m$1.call(i,o)&&!p$2.hasOwnProperty(o)&&(a[o]=i[o]);if(e&&e.defaultProps)for(o in i=e.defaultProps,i)a[o]===void 0&&(a[o]=i[o]);return{$$typeof:k,type:e,key:d,ref:h,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Rt,Et){var gt=Rt.length;Rt.push(Et);e:for(;0<gt;){var Mt=gt-1>>>1,_t=Rt[Mt];if(0<a(_t,Et))Rt[Mt]=Et,Rt[gt]=_t,gt=Mt;else break e}}function s(Rt){return Rt.length===0?null:Rt[0]}function o(Rt){if(Rt.length===0)return null;var Et=Rt[0],gt=Rt.pop();if(gt!==Et){Rt[0]=gt;e:for(var Mt=0,_t=Rt.length,at=_t>>>1;Mt<at;){var yt=2*(Mt+1)-1,kt=Rt[yt],Pt=yt+1,jt=Rt[Pt];if(0>a(kt,gt))Pt<_t&&0>a(jt,kt)?(Rt[Mt]=jt,Rt[Pt]=gt,Mt=Pt):(Rt[Mt]=kt,Rt[yt]=gt,Mt=yt);else if(Pt<_t&&0>a(jt,gt))Rt[Mt]=jt,Rt[Pt]=gt,Mt=Pt;else break e}}return Et}function a(Rt,Et){var gt=Rt.sortIndex-Et.sortIndex;return gt!==0?gt:Rt.id-Et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();e.unstable_now=function(){return h.now()-g}}var b=[],_=[],j=1,$=null,_e=3,et=!1,nt=!1,it=!1,st=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Rt){for(var Et=s(_);Et!==null;){if(Et.callback===null)o(_);else if(Et.startTime<=Rt)o(_),Et.sortIndex=Et.expirationTime,i(b,Et);else break;Et=s(_)}}function ut(Rt){if(it=!1,ot(Rt),!nt)if(s(b)!==null)nt=!0,St(lt);else{var Et=s(_);Et!==null&&At(ut,Et.startTime-Rt)}}function lt(Rt,Et){nt=!1,it&&(it=!1,tt(ht),ht=-1),et=!0;var gt=_e;try{for(ot(Et),$=s(b);$!==null&&(!($.expirationTime>Et)||Rt&&!ft());){var Mt=$.callback;if(typeof Mt=="function"){$.callback=null,_e=$.priorityLevel;var _t=Mt($.expirationTime<=Et);Et=e.unstable_now(),typeof _t=="function"?$.callback=_t:$===s(b)&&o(b),ot(Et)}else o(b);$=s(b)}if($!==null)var at=!0;else{var yt=s(_);yt!==null&&At(ut,yt.startTime-Et),at=!1}return at}finally{$=null,_e=gt,et=!1}}var ct=!1,dt=null,ht=-1,mt=5,xt=-1;function ft(){return!(e.unstable_now()-xt<mt)}function bt(){if(dt!==null){var Rt=e.unstable_now();xt=Rt;var Et=!0;try{Et=dt(!0,Rt)}finally{Et?wt():(ct=!1,dt=null)}}else ct=!1}var wt;if(typeof rt=="function")wt=function(){rt(bt)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Tt=Ct.port2;Ct.port1.onmessage=bt,wt=function(){Tt.postMessage(null)}}else wt=function(){st(bt,0)};function St(Rt){dt=Rt,ct||(ct=!0,wt())}function At(Rt,Et){ht=st(function(){Rt(e.unstable_now())},Et)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Rt){Rt.callback=null},e.unstable_continueExecution=function(){nt||et||(nt=!0,St(lt))},e.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mt=0<Rt?Math.floor(1e3/Rt):5},e.unstable_getCurrentPriorityLevel=function(){return _e},e.unstable_getFirstCallbackNode=function(){return s(b)},e.unstable_next=function(Rt){switch(_e){case 1:case 2:case 3:var Et=3;break;default:Et=_e}var gt=_e;_e=Et;try{return Rt()}finally{_e=gt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Rt,Et){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var gt=_e;_e=Rt;try{return Et()}finally{_e=gt}},e.unstable_scheduleCallback=function(Rt,Et,gt){var Mt=e.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Mt+gt:Mt):gt=Mt,Rt){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=gt+_t,Rt={id:j++,callback:Et,priorityLevel:Rt,startTime:gt,expirationTime:_t,sortIndex:-1},gt>Mt?(Rt.sortIndex=gt,i(_,Rt),s(b)===null&&Rt===s(_)&&(it?(tt(ht),ht=-1):it=!0,At(ut,gt-Mt))):(Rt.sortIndex=_t,i(b,Rt),nt||et||(nt=!0,St(lt))),Rt},e.unstable_shouldYield=ft,e.unstable_wrapCallback=function(Rt){var Et=_e;return function(){var gt=_e;_e=Et;try{return Rt.apply(this,arguments)}finally{_e=gt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,o){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,o){if(i===null||typeof i>"u"||pa(e,i,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,s,o,a,d,h){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=d,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,o){var a=z.hasOwnProperty(i)?z[i]:null;(a!==null?a.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,a,o)&&(s=null),o||a===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(i=a.attributeName,o=a.attributeNamespace,s===null?e.removeAttribute(i):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?e.setAttributeNS(o,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(_){var o=_}Reflect.construct(e,[],i)}else{try{i.call()}catch(_){o=_}e.call(i.prototype)}else{try{throw Error()}catch(_){o=_}e()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),d=o.stack.split(`
`),h=a.length-1,g=d.length-1;1<=h&&0<=g&&a[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(a[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||a[h]!==d[g]){var b=`
`+a[h].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=h&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return a.call(this)},set:function(h){o=""+h,d.call(this,h)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),o=i.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,o){if(e=e.options,i){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=i.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}i!==null||e[a].disabled||(i=e[a])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p$1(92));if(eb(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),o=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,o,a){MSApp.execUnsafeLocalFunction(function(){return e(i,s,o,a)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,i[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,a):e[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$1(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$1(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$1(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p$1(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p$1(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,o,a,d,h,g,b){var _=Array.prototype.slice.call(arguments,3);try{i.apply(s,_)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,o,a,d,h,g,b){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,o,a,d,h,g,b){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=_)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p$1(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p$1(188));return i!==e?null:e}for(var s=e,o=i;;){var a=s.return;if(a===null)break;var d=a.alternate;if(d===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===s)return Xb(a),e;if(d===o)return Xb(a),i;d=d.sibling}throw Error(p$1(188))}if(s.return!==o.return)s=a,o=d;else{for(var h=!1,g=a.child;g;){if(g===s){h=!0,s=a,o=d;break}if(g===o){h=!0,o=a,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,o=a;break}if(g===o){h=!0,o=d,s=a;break}g=g.sibling}if(!h)throw Error(p$1(189))}}if(s.alternate!==o)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,a=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~a;g!==0?o=tc(g):(d&=h,d!==0&&(o=tc(d)))}else h=s&~a,h!==0?o=tc(h):d!==0&&(o=tc(d));if(o===0)return 0;if(i!==0&&i!==o&&!(i&a)&&(a=o&-o,d=i&-i,a>=d||a===16&&(d&4194240)!==0))return i;if(o&4&&(o|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=o;0<i;)s=31-oc(i),a=1<<s,o|=e[s],i&=~a;return o}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-oc(d),g=1<<h,b=a[h];b===-1?(!(g&s)||g&o)&&(a[h]=vc(g,i)):b<=i&&(e.expiredLanes|=g),d&=~g}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-oc(s),d=1<<a;i[a]=0,o[a]=-1,e[a]=-1,s&=~d}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-oc(s),a=1<<o;a&i|e[o]&i&&(e[o]|=i),s&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,o,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[a]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,a!==null&&i.indexOf(a)===-1&&i.push(a),e)}function Uc(e,i,s,o,a){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,o,a),!0;case"pointerover":var d=a.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,e,i,s,o,a)),!0;case"gotpointercapture":return d=a.pointerId,Pc.set(d,Tc(Pc.get(d)||null,e,i,s,o,a)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,o){var a=C,d=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,o)}finally{C=a,cd.transition=d}}function gd(e,i,s,o){var a=C,d=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,o)}finally{C=a,cd.transition=d}}function fd(e,i,s,o){if(dd){var a=Yc(e,i,s,o);if(a===null)hd(e,i,o,id$2,s),Sc(e,o);else if(Uc(a,e,i,s,o))o.stopPropagation();else if(Sc(e,o),i&4&&-1<Rc.indexOf(e)){for(;a!==null;){var d=Cb(a);if(d!==null&&Ec(d),d=Yc(e,i,s,o),d===null&&hd(e,i,o,id$2,s),d===a)break;a=d}a!==null&&o.stopPropagation()}else hd(e,i,o,null,s)}}var id$2=null;function Yc(e,i,s,o){if(id$2=null,e=xb(o),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id$2=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,o,a="value"in kd?kd.value:kd.textContent,d=a.length;for(e=0;e<s&&i[e]===a[e];e++);var h=s-e;for(o=1;o<=h&&i[s-o]===a[d-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,o,a,d,h){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,s,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re$1(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re$1,i)}}function Ce(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(i,a)||!He(e[a],i[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),s=e.focusedElem,o=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(i=o.start,e=o.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,d=Math.min(o.start,a);o=o.end===void 0?d:Math.min(o.end,a),!e.extend&&d>o&&(a=o,o=d,d=a),a=Ke(s,d);var h=Ke(s,o);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(i=i.createRange(),i.setStart(a.node,a.offset),e.removeAllRanges(),d>o?(e.addRange(i),e.extend(h.node,h.offset)):(i.setEnd(h.node,h.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=Qe)))}function Ve(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var o=e.type||"unknown-event";e.currentTarget=s,Ub(o,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],a=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var h=o.length-1;0<=h;h--){var g=o[h],b=g.instance,_=g.currentTarget;if(g=g.listener,b!==d&&a.isPropagationStopped())break e;nf(a,g,_),d=b}else for(h=0;h<o.length;h++){if(g=o[h],b=g.instance,_=g.currentTarget,g=g.listener,b!==d&&a.isPropagationStopped())break e;nf(a,g,_),d=b}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var o=e+"__bubble";s.has(o)||(pf(i,e,2,!1),s.add(o))}function qf(e,i,s){var o=0;i&&(o|=4),pf(s,e,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,o){switch(jd(i)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,i,s,e),a=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(i,s,{capture:!0,passive:a}):e.addEventListener(i,s,!0):a!==void 0?e.addEventListener(i,s,{passive:a}):e.addEventListener(i,s,!1)}function hd(e,i,s,o,a){var d=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var g=o.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(h===4)for(h=o.return;h!==null;){var b=h.tag;if((b===3||b===4)&&(b=h.stateNode.containerInfo,b===a||b.nodeType===8&&b.parentNode===a))return;h=h.return}for(;g!==null;){if(h=Wc(g),h===null)return;if(b=h.tag,b===5||b===6){o=d=h;continue e}g=g.parentNode}}o=o.return}Jb(function(){var _=d,j=xb(s),$=[];e:{var _e=df.get(e);if(_e!==void 0){var et=td,nt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":nt="focus",et=Fd;break;case"focusout":nt="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var it=(i&4)!==0,st=!it&&e==="scroll",tt=it?_e!==null?_e+"Capture":null:_e;it=[];for(var rt=_,ot;rt!==null;){ot=rt;var ut=ot.stateNode;if(ot.tag===5&&ut!==null&&(ot=ut,tt!==null&&(ut=Kb(rt,tt),ut!=null&&it.push(tf(rt,ut,ot)))),st)break;rt=rt.return}0<it.length&&(_e=new et(_e,nt,null,s,j),$.push({event:_e,listeners:it}))}}if(!(i&7)){e:{if(_e=e==="mouseover"||e==="pointerover",et=e==="mouseout"||e==="pointerout",_e&&s!==wb&&(nt=s.relatedTarget||s.fromElement)&&(Wc(nt)||nt[uf]))break e;if((et||_e)&&(_e=j.window===j?j:(_e=j.ownerDocument)?_e.defaultView||_e.parentWindow:window,et?(nt=s.relatedTarget||s.toElement,et=_,nt=nt?Wc(nt):null,nt!==null&&(st=Vb(nt),nt!==st||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(et=null,nt=_),et!==nt)){if(it=Bd,ut="onMouseLeave",tt="onMouseEnter",rt="mouse",(e==="pointerout"||e==="pointerover")&&(it=Td,ut="onPointerLeave",tt="onPointerEnter",rt="pointer"),st=et==null?_e:ue(et),ot=nt==null?_e:ue(nt),_e=new it(ut,rt+"leave",et,s,j),_e.target=st,_e.relatedTarget=ot,ut=null,Wc(j)===_&&(it=new it(tt,rt+"enter",nt,s,j),it.target=ot,it.relatedTarget=st,ut=it),st=ut,et&&nt)t:{for(it=et,tt=nt,rt=0,ot=it;ot;ot=vf(ot))rt++;for(ot=0,ut=tt;ut;ut=vf(ut))ot++;for(;0<rt-ot;)it=vf(it),rt--;for(;0<ot-rt;)tt=vf(tt),ot--;for(;rt--;){if(it===tt||tt!==null&&it===tt.alternate)break t;it=vf(it),tt=vf(tt)}it=null}else it=null;et!==null&&wf($,_e,et,it,!1),nt!==null&&st!==null&&wf($,st,nt,it,!0)}}e:{if(_e=_?ue(_):window,et=_e.nodeName&&_e.nodeName.toLowerCase(),et==="select"||et==="input"&&_e.type==="file")var lt=ve;else if(me(_e))if(we)lt=Fe;else{lt=De;var ct=Ce}else(et=_e.nodeName)&&et.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(lt=Ee);if(lt&&(lt=lt(e,_))){ne($,lt,s,j);break e}ct&&ct(e,_e,_),e==="focusout"&&(ct=_e._wrapperState)&&ct.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(ct=_?ue(_):window,e){case"focusin":(me(ct)||ct.contentEditable==="true")&&(Qe=ct,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,s,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,s,j)}var dt;if(ae)e:{switch(e){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else ie?ge(e,s)&&(ht="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ht="onCompositionStart");ht&&(de&&s.locale!=="ko"&&(ie||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&ie&&(dt=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ct=oe(_,ht),0<ct.length&&(ht=new Ld(ht,e,null,s,j),$.push({event:ht,listeners:ct}),dt?ht.data=dt:(dt=he(s),dt!==null&&(ht.data=dt)))),(dt=ce?je(e,s):ke(e,s))&&(_=oe(_,"onBeforeInput"),0<_.length&&(j=new Ld("onBeforeInput","beforeinput",null,s,j),$.push({event:j,listeners:_}),j.data=dt))}se($,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",o=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=Kb(e,s),d!=null&&o.unshift(tf(e,d,a)),d=Kb(e,i),d!=null&&o.push(tf(e,d,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,o,a){for(var d=i._reactName,h=[];s!==null&&s!==o;){var g=s,b=g.alternate,_=g.stateNode;if(b!==null&&b===o)break;g.tag===5&&_!==null&&(g=_,a?(b=Kb(s,d),b!=null&&h.unshift(tf(s,b,g))):a||(b=Kb(s,d),b!=null&&h.push(tf(s,b,g)))),s=s.return}h.length!==0&&e.push({event:i,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,o=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){e.removeChild(a),bd(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in s)a[d]=i[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,s){if(H.current!==Vf)throw Error(p$1(168));G(H,i),G(Wf,s)}function bg(e,i,s){var o=e.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in i))throw Error(p$1(108,Ra(e)||"Unknown",a));return A({},s,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,s){var o=e.stateNode;if(!o)throw Error(p$1(169));s?(e=bg(e,i,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var d=32-oc(i)+a;if(30<d){var h=a-a%5;d=(o&(1<<h)-1).toString(32),o>>=h,a-=h,rg=1<<32-oc(i)+a|s<<a|o,sg=d+e}else rg=1<<d|s<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p$1(418));i=Lf(s.nextSibling);var o=xg;i&&Cg(e,i)?Ag(o,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p$1(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var o=s.stateNode}if(!o)throw Error(p$1(147,e));var a=o,d=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(h){var g=a.refs;h===null?delete g[d]:g[d]=h},i._stringRef=d,i)}if(typeof e!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,e))}return e}function Mg(e,i){throw e=Object.prototype.toString.call(i),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function Ng(e){var i=e._init;return i(e._payload)}function Og(e){function i(tt,rt){if(e){var ot=tt.deletions;ot===null?(tt.deletions=[rt],tt.flags|=16):ot.push(rt)}}function s(tt,rt){if(!e)return null;for(;rt!==null;)i(tt,rt),rt=rt.sibling;return null}function o(tt,rt){for(tt=new Map;rt!==null;)rt.key!==null?tt.set(rt.key,rt):tt.set(rt.index,rt),rt=rt.sibling;return tt}function a(tt,rt){return tt=Pg(tt,rt),tt.index=0,tt.sibling=null,tt}function d(tt,rt,ot){return tt.index=ot,e?(ot=tt.alternate,ot!==null?(ot=ot.index,ot<rt?(tt.flags|=2,rt):ot):(tt.flags|=2,rt)):(tt.flags|=1048576,rt)}function h(tt){return e&&tt.alternate===null&&(tt.flags|=2),tt}function g(tt,rt,ot,ut){return rt===null||rt.tag!==6?(rt=Qg(ot,tt.mode,ut),rt.return=tt,rt):(rt=a(rt,ot),rt.return=tt,rt)}function b(tt,rt,ot,ut){var lt=ot.type;return lt===ya?j(tt,rt,ot.props.children,ut,ot.key):rt!==null&&(rt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Ha&&Ng(lt)===rt.type)?(ut=a(rt,ot.props),ut.ref=Lg(tt,rt,ot),ut.return=tt,ut):(ut=Rg(ot.type,ot.key,ot.props,null,tt.mode,ut),ut.ref=Lg(tt,rt,ot),ut.return=tt,ut)}function _(tt,rt,ot,ut){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ot.containerInfo||rt.stateNode.implementation!==ot.implementation?(rt=Sg(ot,tt.mode,ut),rt.return=tt,rt):(rt=a(rt,ot.children||[]),rt.return=tt,rt)}function j(tt,rt,ot,ut,lt){return rt===null||rt.tag!==7?(rt=Tg(ot,tt.mode,ut,lt),rt.return=tt,rt):(rt=a(rt,ot),rt.return=tt,rt)}function $(tt,rt,ot){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return rt=Qg(""+rt,tt.mode,ot),rt.return=tt,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return ot=Rg(rt.type,rt.key,rt.props,null,tt.mode,ot),ot.ref=Lg(tt,null,rt),ot.return=tt,ot;case wa:return rt=Sg(rt,tt.mode,ot),rt.return=tt,rt;case Ha:var ut=rt._init;return $(tt,ut(rt._payload),ot)}if(eb(rt)||Ka(rt))return rt=Tg(rt,tt.mode,ot,null),rt.return=tt,rt;Mg(tt,rt)}return null}function _e(tt,rt,ot,ut){var lt=rt!==null?rt.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return lt!==null?null:g(tt,rt,""+ot,ut);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===lt?b(tt,rt,ot,ut):null;case wa:return ot.key===lt?_(tt,rt,ot,ut):null;case Ha:return lt=ot._init,_e(tt,rt,lt(ot._payload),ut)}if(eb(ot)||Ka(ot))return lt!==null?null:j(tt,rt,ot,ut,null);Mg(tt,ot)}return null}function et(tt,rt,ot,ut,lt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return tt=tt.get(ot)||null,g(rt,tt,""+ut,lt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return tt=tt.get(ut.key===null?ot:ut.key)||null,b(rt,tt,ut,lt);case wa:return tt=tt.get(ut.key===null?ot:ut.key)||null,_(rt,tt,ut,lt);case Ha:var ct=ut._init;return et(tt,rt,ot,ct(ut._payload),lt)}if(eb(ut)||Ka(ut))return tt=tt.get(ot)||null,j(rt,tt,ut,lt,null);Mg(rt,ut)}return null}function nt(tt,rt,ot,ut){for(var lt=null,ct=null,dt=rt,ht=rt=0,mt=null;dt!==null&&ht<ot.length;ht++){dt.index>ht?(mt=dt,dt=null):mt=dt.sibling;var xt=_e(tt,dt,ot[ht],ut);if(xt===null){dt===null&&(dt=mt);break}e&&dt&&xt.alternate===null&&i(tt,dt),rt=d(xt,rt,ht),ct===null?lt=xt:ct.sibling=xt,ct=xt,dt=mt}if(ht===ot.length)return s(tt,dt),I&&tg(tt,ht),lt;if(dt===null){for(;ht<ot.length;ht++)dt=$(tt,ot[ht],ut),dt!==null&&(rt=d(dt,rt,ht),ct===null?lt=dt:ct.sibling=dt,ct=dt);return I&&tg(tt,ht),lt}for(dt=o(tt,dt);ht<ot.length;ht++)mt=et(dt,tt,ht,ot[ht],ut),mt!==null&&(e&&mt.alternate!==null&&dt.delete(mt.key===null?ht:mt.key),rt=d(mt,rt,ht),ct===null?lt=mt:ct.sibling=mt,ct=mt);return e&&dt.forEach(function(ft){return i(tt,ft)}),I&&tg(tt,ht),lt}function it(tt,rt,ot,ut){var lt=Ka(ot);if(typeof lt!="function")throw Error(p$1(150));if(ot=lt.call(ot),ot==null)throw Error(p$1(151));for(var ct=lt=null,dt=rt,ht=rt=0,mt=null,xt=ot.next();dt!==null&&!xt.done;ht++,xt=ot.next()){dt.index>ht?(mt=dt,dt=null):mt=dt.sibling;var ft=_e(tt,dt,xt.value,ut);if(ft===null){dt===null&&(dt=mt);break}e&&dt&&ft.alternate===null&&i(tt,dt),rt=d(ft,rt,ht),ct===null?lt=ft:ct.sibling=ft,ct=ft,dt=mt}if(xt.done)return s(tt,dt),I&&tg(tt,ht),lt;if(dt===null){for(;!xt.done;ht++,xt=ot.next())xt=$(tt,xt.value,ut),xt!==null&&(rt=d(xt,rt,ht),ct===null?lt=xt:ct.sibling=xt,ct=xt);return I&&tg(tt,ht),lt}for(dt=o(tt,dt);!xt.done;ht++,xt=ot.next())xt=et(dt,tt,ht,xt.value,ut),xt!==null&&(e&&xt.alternate!==null&&dt.delete(xt.key===null?ht:xt.key),rt=d(xt,rt,ht),ct===null?lt=xt:ct.sibling=xt,ct=xt);return e&&dt.forEach(function(bt){return i(tt,bt)}),I&&tg(tt,ht),lt}function st(tt,rt,ot,ut){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var lt=ot.key,ct=rt;ct!==null;){if(ct.key===lt){if(lt=ot.type,lt===ya){if(ct.tag===7){s(tt,ct.sibling),rt=a(ct,ot.props.children),rt.return=tt,tt=rt;break e}}else if(ct.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Ha&&Ng(lt)===ct.type){s(tt,ct.sibling),rt=a(ct,ot.props),rt.ref=Lg(tt,ct,ot),rt.return=tt,tt=rt;break e}s(tt,ct);break}else i(tt,ct);ct=ct.sibling}ot.type===ya?(rt=Tg(ot.props.children,tt.mode,ut,ot.key),rt.return=tt,tt=rt):(ut=Rg(ot.type,ot.key,ot.props,null,tt.mode,ut),ut.ref=Lg(tt,rt,ot),ut.return=tt,tt=ut)}return h(tt);case wa:e:{for(ct=ot.key;rt!==null;){if(rt.key===ct)if(rt.tag===4&&rt.stateNode.containerInfo===ot.containerInfo&&rt.stateNode.implementation===ot.implementation){s(tt,rt.sibling),rt=a(rt,ot.children||[]),rt.return=tt,tt=rt;break e}else{s(tt,rt);break}else i(tt,rt);rt=rt.sibling}rt=Sg(ot,tt.mode,ut),rt.return=tt,tt=rt}return h(tt);case Ha:return ct=ot._init,st(tt,rt,ct(ot._payload),ut)}if(eb(ot))return nt(tt,rt,ot,ut);if(Ka(ot))return it(tt,rt,ot,ut);Mg(tt,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,rt!==null&&rt.tag===6?(s(tt,rt.sibling),rt=a(rt,ot),rt.return=tt,tt=rt):(s(tt,rt),rt=Qg(ot,tt.mode,ut),rt.return=tt,tt=rt),h(tt)):s(tt,rt)}return st}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var i=Wg.current;E(Wg),e._currentValue=i}function bh(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function ch(e,i){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(dh=!0),e.firstContext=null)}function eh(e){var i=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return i}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,i,s,o){var a=i.interleaved;return a===null?(s.next=s,gh(i)):(s.next=a.next,a.next=s),i.interleaved=s,ih(e,o)}function ih(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i,ih(e,s)}return a=o.interleaved,a===null?(i.next=i,gh(o)):(i.next=a.next,a.next=i),o.interleaved=i,ih(e,s)}function oh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}function ph(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?a=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?a=d=i:d=d.next=i}else a=d=i;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function qh(e,i,s,o){var a=e.updateQueue;jh=!1;var d=a.firstBaseUpdate,h=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var b=g,_=b.next;b.next=null,h===null?d=_:h.next=_,h=b;var j=e.alternate;j!==null&&(j=j.updateQueue,g=j.lastBaseUpdate,g!==h&&(g===null?j.firstBaseUpdate=_:g.next=_,j.lastBaseUpdate=b))}if(d!==null){var $=a.baseState;h=0,j=_=b=null,g=d;do{var _e=g.lane,et=g.eventTime;if((o&_e)===_e){j!==null&&(j=j.next={eventTime:et,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var nt=e,it=g;switch(_e=i,et=s,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){$=nt.call(et,$,_e);break e}$=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,_e=typeof nt=="function"?nt.call(et,$,_e):nt,_e==null)break e;$=A({},$,_e);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,_e=a.effects,_e===null?a.effects=[g]:_e.push(g))}else et={eventTime:et,lane:_e,tag:g.tag,payload:g.payload,callback:g.callback,next:null},j===null?(_=j=et,b=$):j=j.next=et,h|=_e;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;_e=g,g=_e.next,_e.next=null,a.lastBaseUpdate=_e,a.shared.pending=null}}while(!0);if(j===null&&(b=$),a.baseState=b,a.firstBaseUpdate=_,a.lastBaseUpdate=j,i=a.shared.interleaved,i!==null){a=i;do h|=a.lane,a=a.next;while(a!==i)}else d===null&&(a.shared.lanes=0);rh|=h,e.lanes=h,e.memoizedState=$}}function sh(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var o=e[i],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p$1(191,a));a.call(o)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p$1(174));return e}function yh(e,i){switch(G(wh,i),G(vh$1,e),G(uh,th),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(uh),G(uh,i)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(e){xh(wh.current);var i=xh(uh.current),s=lb(i,e.type);i!==s&&(G(vh$1,e),G(uh,s))}function Bh(e){vh$1.current===e&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He(e[s],i[s]))return!1;return!0}function Nh(e,i,s,o,a,d){if(Hh=d,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=s(o,a),Jh){d=0;do{if(Jh=!1,Kh=0,25<=d)throw Error(p$1(301));d+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,e=s(o,a)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p$1(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=e;else{if(e===null)throw Error(p$1(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,i){return typeof i=="function"?i(e):i}function Wh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=e;var o=N,a=o.baseQueue,d=s.pending;if(d!==null){if(a!==null){var h=a.next;a.next=d.next,d.next=h}o.baseQueue=a=d,s.pending=null}if(a!==null){d=a.next,o=o.baseState;var g=h=null,b=null,_=d;do{var j=_.lane;if((Hh&j)===j)b!==null&&(b=b.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:e(o,_.action);else{var $={lane:j,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};b===null?(g=b=$,h=o):b=b.next=$,M.lanes|=j,rh|=j}_=_.next}while(_!==null&&_!==d);b===null?h=o:b.next=g,He(o,i.memoizedState)||(dh=!0),i.memoizedState=o,i.baseState=h,i.baseQueue=b,s.lastRenderedState=o}if(e=s.interleaved,e!==null){a=e;do d=a.lane,M.lanes|=d,rh|=d,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=e;var o=s.dispatch,a=s.pending,d=i.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do d=e(d,h.action),h=h.next;while(h!==a);He(d,i.memoizedState)||(dh=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function Yh(){}function Zh(e,i){var s=M,o=Uh(),a=i(),d=!He(o.memoizedState,a);if(d&&(o.memoizedState=a,dh=!0),o=o.queue,$h(ai.bind(null,s,o,e),[e]),o.getSnapshot!==i||d||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,o,a,i),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(s,i,a)}return a}function di(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ci(e,i,s,o){i.value=s,i.getSnapshot=o,ei(i)&&fi(e)}function ai(e,i,s){return s(function(){ei(i)&&fi(e)})}function ei(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He(e,s)}catch{return!0}}function fi(e){var i=ih(e,1);i!==null&&gi(i,e,1,-1)}function hi(e){var i=Th();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},i.queue=e,e=e.dispatch=ii.bind(null,M,e),[i.memoizedState,e]}function bi(e,i,s,o){return e={tag:e,create:i,destroy:s,deps:o,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,i,s,o){var a=Th();M.flags|=e,a.memoizedState=bi(1|i,s,void 0,o===void 0?null:o)}function li(e,i,s,o){var a=Uh();o=o===void 0?null:o;var d=void 0;if(N!==null){var h=N.memoizedState;if(d=h.destroy,o!==null&&Mh(o,h.deps)){a.memoizedState=bi(i,s,d,o);return}}M.flags|=e,a.memoizedState=bi(1|i,s,d,o)}function mi(e,i){return ki(8390656,8,e,i)}function $h(e,i){return li(2048,8,e,i)}function ni(e,i){return li(4,2,e,i)}function oi(e,i){return li(4,4,e,i)}function pi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qi(e,i,s){return s=s!=null?s.concat([e]):null,li(4,4,pi.bind(null,i,e),s)}function ri(){}function si(e,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function ti(e,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(e=e(),s.memoizedState=[e,i],e)}function ui(e,i,s){return Hh&21?(He(s,i)||(s=yc(),M.lanes|=s,rh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=s)}function vi(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),i()}finally{C=s,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,i,s){var o=yi(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(i,s);else if(s=hh(e,i,s,o),s!==null){var a=R();gi(s,e,o,a),Bi(s,i,o)}}function ii(e,i,s){var o=yi(e),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(i,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var h=i.lastRenderedState,g=d(h,s);if(a.hasEagerState=!0,a.eagerState=g,He(g,h)){var b=i.interleaved;b===null?(a.next=a,gh(i)):(a.next=b.next,b.next=a),i.interleaved=a;return}}catch{}finally{}s=hh(e,i,a,o),s!==null&&(a=R(),gi(s,e,o,a),Bi(s,i,o))}}function zi(e){var i=e.alternate;return e===M||i!==null&&i===M}function Ai(e,i){Jh=Ih=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Bi(e,i,s){if(s&4194240){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,i){return Th().memoizedState=[e,i===void 0?null:i],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ki(4194308,4,pi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ki(4194308,4,e,i)},useInsertionEffect:function(e,i){return ki(4,2,e,i)},useMemo:function(e,i){var s=Th();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var o=Th();return i=s!==void 0?s(i):i,o.memoizedState=o.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var i=Th();return e={current:e},i.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),i=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var o=M,a=Th();if(I){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=i(),Q===null)throw Error(p$1(349));Hh&30||di(o,i,s)}a.memoizedState=s;var d={value:s,getSnapshot:i};return a.queue=d,mi(ai.bind(null,o,d,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,d,s,i),void 0,null),s},useId:function(){var e=Th(),i=Q.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return ui(i,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return N===null?i.memoizedState=e:ui(i,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}function Di(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var o=R(),a=yi(e),d=mh(o,a);d.payload=i,s!=null&&(d.callback=s),i=nh(e,d,a),i!==null&&(gi(i,e,a,o),oh(i,e,a))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=R(),a=yi(e),d=mh(o,a);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=nh(e,d,a),i!==null&&(gi(i,e,a,o),oh(i,e,a))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=R(),o=yi(e),a=mh(s,o);a.tag=2,i!=null&&(a.callback=i),i=nh(e,a,o),i!==null&&(gi(i,e,o,s),oh(i,e,o))}};function Fi(e,i,s,o,a,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,h):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,o)||!Ie(a,d):!0}function Gi(e,i,s){var o=!1,a=Vf,d=i.contextType;return typeof d=="object"&&d!==null?d=eh(d):(a=Zf(i)?Xf:H.current,o=i.contextTypes,d=(o=o!=null)?Yf(e,a):Vf),i=new i(s,d),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,e.stateNode=i,i._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),i}function Hi(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(e,i,s,o){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},kh(e);var d=i.contextType;typeof d=="object"&&d!==null?a.context=eh(d):(d=Zf(i)?Xf:H.current,a.context=Yf(e,d)),a.state=e.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Di(e,i,d,s),a.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(i=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),i!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(e,s,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,i){try{var s="",o=i;do s+=Pa(o),o=o.return;while(o);var a=s}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:i,stack:a,digest:null}}function Ki(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Li(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var o=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,i)},s}function Qi(e,i,s){s=mh(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=i.value;s.payload=function(){return o(a)},s.callback=function(){Li(e,i)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Li(e,i),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var h=i.stack;this.componentDidCatch(i.value,{componentStack:h!==null?h:""})}),s}function Si(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var a=new Set;o.set(i,a)}else a=o.get(i),a===void 0&&(a=new Set,o.set(i,a));a.has(s)||(a.add(s),e=Ti.bind(null,e,i,s),i.then(e,e))}function Ui(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Vi(e,i,s,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,i,s,o){i.child=e===null?Vg(i,null,s,o):Ug(i,e.child,s,o)}function Yi(e,i,s,o,a){s=s.render;var d=i.ref;return ch(i,a),o=Nh(e,i,s,o,d,a),s=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,Zi(e,i,a)):(I&&s&&vg(i),i.flags|=1,Xi(e,i,o,a),i.child)}function $i(e,i,s,o,a){if(e===null){var d=s.type;return typeof d=="function"&&!aj(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=d,bj(e,i,d,o,a)):(e=Rg(s.type,null,o,i,i.mode,a),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!(e.lanes&a)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(h,o)&&e.ref===i.ref)return Zi(e,i,a)}return i.flags|=1,e=Pg(d,o),e.ref=i.ref,e.return=i,i.child=e}function bj(e,i,s,o,a){if(e!==null){var d=e.memoizedProps;if(Ie(d,o)&&e.ref===i.ref)if(dh=!1,i.pendingProps=o=d,(e.lanes&a)!==0)e.flags&131072&&(dh=!0);else return i.lanes=e.lanes,Zi(e,i,a)}return cj(e,i,s,o,a)}function dj(e,i,s){var o=i.pendingProps,a=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:s,G(ej,fj),fj|=o}else d!==null?(o=d.baseLanes|s,i.memoizedState=null):o=s,G(ej,fj),fj|=o;return Xi(e,i,a,s),i.child}function gj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(e,i,s,o,a){var d=Zf(s)?Xf:H.current;return d=Yf(i,d),ch(i,a),s=Nh(e,i,s,o,d,a),o=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,Zi(e,i,a)):(I&&o&&vg(i),i.flags|=1,Xi(e,i,s,a),i.child)}function hj(e,i,s,o,a){if(Zf(s)){var d=!0;cg(i)}else d=!1;if(ch(i,a),i.stateNode===null)ij(e,i),Gi(i,s,o),Ii(i,s,o,a),o=!0;else if(e===null){var h=i.stateNode,g=i.memoizedProps;h.props=g;var b=h.context,_=s.contextType;typeof _=="object"&&_!==null?_=eh(_):(_=Zf(s)?Xf:H.current,_=Yf(i,_));var j=s.getDerivedStateFromProps,$=typeof j=="function"||typeof h.getSnapshotBeforeUpdate=="function";$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==o||b!==_)&&Hi(i,h,o,_),jh=!1;var _e=i.memoizedState;h.state=_e,qh(i,o,h,a),b=i.memoizedState,g!==o||_e!==b||Wf.current||jh?(typeof j=="function"&&(Di(i,s,j,o),b=i.memoizedState),(g=jh||Fi(i,s,g,o,_e,b,_))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=b),h.props=o,h.state=b,h.context=_,o=g):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{h=i.stateNode,lh(e,i),g=i.memoizedProps,_=i.type===i.elementType?g:Ci(i.type,g),h.props=_,$=i.pendingProps,_e=h.context,b=s.contextType,typeof b=="object"&&b!==null?b=eh(b):(b=Zf(s)?Xf:H.current,b=Yf(i,b));var et=s.getDerivedStateFromProps;(j=typeof et=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==$||_e!==b)&&Hi(i,h,o,b),jh=!1,_e=i.memoizedState,h.state=_e,qh(i,o,h,a);var nt=i.memoizedState;g!==$||_e!==nt||Wf.current||jh?(typeof et=="function"&&(Di(i,s,et,o),nt=i.memoizedState),(_=jh||Fi(i,s,_,o,_e,nt,b)||!1)?(j||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,nt,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,nt,b)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=nt),h.props=o,h.state=nt,h.context=b,o=_):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(i.flags|=1024),o=!1)}return jj(e,i,s,o,d,a)}function jj(e,i,s,o,a,d){gj(e,i);var h=(i.flags&128)!==0;if(!o&&!h)return a&&dg(i,s,!1),Zi(e,i,d);o=i.stateNode,Wi.current=i;var g=h&&typeof s.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,e!==null&&h?(i.child=Ug(i,e.child,null,d),i.child=Ug(i,null,g,d)):Xi(e,i,g,d),i.memoizedState=o.state,a&&dg(i,s,!0),i.child}function kj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),yh(e,i.containerInfo)}function lj(e,i,s,o,a){return Ig(),Jg(a),i.flags|=256,Xi(e,i,s,o),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,i,s){var o=i.pendingProps,a=L.current,d=!1,h=(i.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(d=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(L,a&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(h=o.children,e=o.fallback,d?(o=i.mode,d=i.child,h={mode:"hidden",children:h},!(o&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=pj(h,o,0,null),e=Tg(e,o,s,null),d.return=i,e.return=i,d.sibling=e,i.child=d,i.child.memoizedState=nj(s),i.memoizedState=mj,e):qj(i,h));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return rj(e,i,h,o,g,a,s);if(d){d=o.fallback,h=i.mode,a=e.child,g=a.sibling;var b={mode:"hidden",children:o.children};return!(h&1)&&i.child!==a?(o=i.child,o.childLanes=0,o.pendingProps=b,i.deletions=null):(o=Pg(a,b),o.subtreeFlags=a.subtreeFlags&14680064),g!==null?d=Pg(g,d):(d=Tg(d,h,s,null),d.flags|=2),d.return=i,o.return=i,o.sibling=d,i.child=o,o=d,d=i.child,h=e.child.memoizedState,h=h===null?nj(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,i.memoizedState=mj,o}return d=e.child,e=d.sibling,o=Pg(d,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=s),o.return=i,o.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=o,i.memoizedState=null,o}function qj(e,i){return i=pj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function sj(e,i,s,o){return o!==null&&Jg(o),Ug(i,e.child,null,s),e=qj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rj(e,i,s,o,a,d,h){if(s)return i.flags&256?(i.flags&=-257,o=Ki(Error(p$1(422))),sj(e,i,h,o)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(d=o.fallback,a=i.mode,o=pj({mode:"visible",children:o.children},a,0,null),d=Tg(d,a,h,null),d.flags|=2,o.return=i,d.return=i,o.sibling=d,i.child=o,i.mode&1&&Ug(i,e.child,null,h),i.child.memoizedState=nj(h),i.memoizedState=mj,d);if(!(i.mode&1))return sj(e,i,h,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var g=o.dgst;return o=g,d=Error(p$1(419)),o=Ki(d,o,void 0),sj(e,i,h,o)}if(g=(h&e.childLanes)!==0,dh||g){if(o=Q,o!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|h)?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,ih(e,a),gi(o,e,a,-1))}return tj(),o=Ki(Error(p$1(421))),sj(e,i,h,o)}return a.data==="$?"?(i.flags|=128,i.child=e.child,i=uj.bind(null,e),a._reactRetry=i,null):(e=d.treeContext,yg=Lf(a.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=qj(i,o.children),i.flags|=4096,i)}function vj(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),bh(e.return,i,s)}function wj(e,i,s,o,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=a)}function xj(e,i,s){var o=i.pendingProps,a=o.revealOrder,d=o.tail;if(Xi(e,i,o.children,s),o=L.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,s,i);else if(e.tag===19)vj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(i.mode&1))i.memoizedState=null;else switch(a){case"forwards":for(s=i.child,a=null;s!==null;)e=s.alternate,e!==null&&Ch(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=i.child,i.child=null):(a=s.sibling,s.sibling=null),wj(i,!1,a,s,d);break;case"backwards":for(s=null,a=i.child,i.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){i.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}wj(i,!0,s,null,d);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Zi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p$1(153));if(i.child!==null){for(e=i.child,s=Pg(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Pg(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(e,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,a=i.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=a;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):s&i.child.childLanes?oj(e,i,s):(G(L,L.current&1),e=Zi(e,i,s),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(s&i.childLanes)!==0,e.flags&128){if(o)return xj(e,i,s);i.flags|=128}if(a=i.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return i.lanes=0,dj(e,i,s)}return Zi(e,i,s)}var zj,Aj,Bj,Cj;zj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(e,i,s,o){var a=e.memoizedProps;if(a!==o){e=i.stateNode,xh(uh.current);var d=null;switch(s){case"input":a=Ya(e,a),o=Ya(e,o),d=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),d=[];break;case"textarea":a=gb(e,a),o=gb(e,o),d=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(s,o);var h;s=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var g=a[_];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?d||(d=[]):(d=d||[]).push(_,null));for(_ in o){var b=o[_];if(g=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&b!==g&&(b!=null||g!=null))if(_==="style")if(g){for(h in g)!g.hasOwnProperty(h)||b&&b.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in b)b.hasOwnProperty(h)&&g[h]!==b[h]&&(s||(s={}),s[h]=b[h])}else s||(d||(d=[]),d.push(_,s)),s=b;else _==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,g=g?g.__html:void 0,b!=null&&g!==b&&(d=d||[]).push(_,b)):_==="children"?typeof b!="string"&&typeof b!="number"||(d=d||[]).push(_,""+b):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(b!=null&&_==="onScroll"&&D("scroll",e),d||g===b||(d=[])):(d=d||[]).push(_,b))}s&&(d=d||[]).push("style",s);var _=d;(i.updateQueue=_)&&(i.flags|=4)}};Cj=function(e,i,s,o){s!==o&&(i.flags|=4)};function Dj(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function Ej(e,i,s){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,i),S(i),null;case 5:Bh(i);var a=xh(wh.current);if(s=i.type,e!==null&&i.stateNode!=null)Bj(e,i,s,o,a),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p$1(166));return S(i),null}if(e=xh(uh.current),Gg(i)){o=i.stateNode,s=i.type;var d=i.memoizedProps;switch(o[Of]=i,o[Pf]=d,e=(i.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,d),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},D("invalid",o);break;case"textarea":hb(o,d),D("invalid",o)}ub(s,d),a=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?o.textContent!==g&&(d.suppressHydrationWarning!==!0&&Af(o.textContent,g,e),a=["children",g]):typeof g=="number"&&o.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Af(o.textContent,g,e),a=["children",""+g]):ea.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,d,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Bf)}o=a,i.updateQueue=o,o!==null&&(i.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=h.createElement(s,{is:o.is}):(e=h.createElement(s),s==="select"&&(h=e,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):e=h.createElementNS(e,s),e[Of]=i,e[Pf]=o,zj(e,i,!1,!1),i.stateNode=e;e:{switch(h=vb(s,o),s){case"dialog":D("cancel",e),D("close",e),a=o;break;case"iframe":case"object":case"embed":D("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=o;break;case"source":D("error",e),a=o;break;case"img":case"image":case"link":D("error",e),D("load",e),a=o;break;case"details":D("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D("invalid",e);break;default:a=o}ub(s,a),g=a;for(d in g)if(g.hasOwnProperty(d)){var b=g[d];d==="style"?sb(e,b):d==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&nb(e,b)):d==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&ob(e,b):typeof b=="number"&&ob(e,""+b):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?b!=null&&d==="onScroll"&&D("scroll",e):b!=null&&ta(e,d,b,h))}switch(s){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?fb(e,!!o.multiple,d,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Cj(e,i,e.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p$1(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(o=i.stateNode,s=i.memoizedProps,o[Of]=i,(d=o.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(e.mode&1)!==0)}d&&(i.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E(L),o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,d=!1;else if(d=Gg(i),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(p$1(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p$1(317));d[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),d=!1}else zg!==null&&(Fj(zg),zg=null),d=!0;if(!d)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),d=i.memoizedState,d===null)return S(i),null;if(o=(i.flags&128)!==0,h=d.rendering,h===null)if(o)Dj(d,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(h=Ch(e),h!==null){for(i.flags|=128,Dj(d,!1),o=h.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=s,s=i.child;s!==null;)d=s,e=o,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(L,L.current&1|2),i.child}e=e.sibling}d.tail!==null&&B()>Gj&&(i.flags|=128,o=!0,Dj(d,!1),i.lanes=4194304)}else{if(!o)if(e=Ch(h),e!==null){if(i.flags|=128,o=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!I)return S(i),null}else 2*B()-d.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,o=!0,Dj(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(s=d.last,s!==null?s.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=B(),i.sibling=null,s=L.current,G(L,o?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Hj(),o=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p$1(156,i.tag))}function Ij(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zh(),E(Wf),E(H),Eh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p$1(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(e,i,o)}else s.current=null}function Mj(e,i,s){try{s()}catch(o){W(e,i,o)}}var Nj=!1;function Oj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,b=-1,_=0,j=0,$=e,_e=null;t:for(;;){for(var et;$!==s||a!==0&&$.nodeType!==3||(g=h+a),$!==d||o!==0&&$.nodeType!==3||(b=h+o),$.nodeType===3&&(h+=$.nodeValue.length),(et=$.firstChild)!==null;)_e=$,$=et;for(;;){if($===e)break t;if(_e===s&&++_===a&&(g=h),_e===d&&++j===o&&(b=h),(et=$.nextSibling)!==null)break;$=_e,_e=$.parentNode}$=et}s=g===-1||b===-1?null:{start:g,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var nt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,st=nt.memoizedState,tt=i.stateNode,rt=tt.getSnapshotBeforeUpdate(i.elementType===i.type?it:Ci(i.type,it),st);tt.__reactInternalSnapshotBeforeUpdate=rt}break;case 3:var ot=i.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(ut){W(i,i.return,ut)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return nt=Nj,Nj=!1,nt}function Pj(e,i,s){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&Mj(i,s,d)}a=a.next}while(a!==o)}}function Qj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==i)}}function Rj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Sj(e){var i=e.alternate;i!==null&&(e.alternate=null,Sj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,i,s),e=e.sibling;e!==null;)Vj(e,i,s),e=e.sibling}function Wj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,i,s){for(s=s.child;s!==null;)Zj(e,i,s),s=s.sibling}function Zj(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,i);case 6:var o=X$1,a=Xj;X$1=null,Yj(e,i,s),X$1=o,Xj=a,X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X$1,s.stateNode));break;case 4:o=X$1,a=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(e,i,s),X$1=o,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var d=a,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&Mj(s,i,h),a=a.next}while(a!==o)}Yj(e,i,s);break;case 1:if(!U&&(Lj(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(g){W(s,i,g)}Yj(e,i,s);break;case 21:Yj(e,i,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Yj(e,i,s),U=o):Yj(e,i,s);break;default:Yj(e,i,s)}}function ak(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Kj),i.forEach(function(o){var a=bk.bind(null,e,o);s.has(o)||(s.add(o),o.then(a,a))})}}function ck(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var d=e,h=i,g=h;e:for(;g!==null;){switch(g.tag){case 5:X$1=g.stateNode,Xj=!1;break e;case 3:X$1=g.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X$1===null)throw Error(p$1(160));Zj(d,h,a),X$1=null,Xj=!1;var b=a.alternate;b!==null&&(b.return=null),a.return=null}catch(_){W(a,i,_)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,e),i=i.sibling}function dk(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(i,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(it){W(e,e.return,it)}try{Pj(5,e,e.return)}catch(it){W(e,e.return,it)}}break;case 1:ck(i,e),ek(e),o&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,e),ek(e),o&512&&s!==null&&Lj(s,s.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(it){W(e,e.return,it)}}if(o&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&ab(a,d),vb(g,h);var _=vb(g,d);for(h=0;h<b.length;h+=2){var j=b[h],$=b[h+1];j==="style"?sb(a,$):j==="dangerouslySetInnerHTML"?nb(a,$):j==="children"?ob(a,$):ta(a,j,$,_)}switch(g){case"input":bb(a,d);break;case"textarea":ib(a,d);break;case"select":var _e=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var et=d.value;et!=null?fb(a,!!d.multiple,et,!1):_e!==!!d.multiple&&(d.defaultValue!=null?fb(a,!!d.multiple,d.defaultValue,!0):fb(a,!!d.multiple,d.multiple?[]:"",!1))}a[Pf]=d}catch(it){W(e,e.return,it)}}break;case 6:if(ck(i,e),ek(e),o&4){if(e.stateNode===null)throw Error(p$1(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(it){W(e,e.return,it)}}break;case 3:if(ck(i,e),ek(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(it){W(e,e.return,it)}break;case 4:ck(i,e),ek(e);break;case 13:ck(i,e),ek(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if(j=s!==null&&s.memoizedState!==null,e.mode&1?(U=(_=U)||j,ck(i,e),U=_):ck(i,e),ek(e),o&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!j&&e.mode&1)for(V=e,j=e.child;j!==null;){for($=V=j;V!==null;){switch(_e=V,et=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var nt=_e.stateNode;if(typeof nt.componentWillUnmount=="function"){o=_e,s=_e.return;try{i=o,nt.props=i.memoizedProps,nt.state=i.memoizedState,nt.componentWillUnmount()}catch(it){W(o,s,it)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk($);continue}}et!==null?(et.return=_e,V=et):gk($)}j=j.sibling}e:for(j=null,$=e;;){if($.tag===5){if(j===null){j=$;try{a=$.stateNode,_?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=$.stateNode,b=$.memoizedProps.style,h=b!=null&&b.hasOwnProperty("display")?b.display:null,g.style.display=rb("display",h))}catch(it){W(e,e.return,it)}}}else if($.tag===6){if(j===null)try{$.stateNode.nodeValue=_?"":$.memoizedProps}catch(it){W(e,e.return,it)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;j===$&&(j=null),$=$.return}j===$&&(j=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:ck(i,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(i,e),ek(e)}}function ek(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Tj(s)){var o=s;break e}s=s.return}throw Error(p$1(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var d=Uj(e);Wj(e,d,a);break;case 3:case 4:var h=o.stateNode.containerInfo,g=Uj(e);Vj(e,g,h);break;default:throw Error(p$1(161))}}catch(b){W(e,e.return,b)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hk(e,i,s){V=e,ik(e)}function ik(e,i,s){for(var o=(e.mode&1)!==0;V!==null;){var a=V,d=a.child;if(a.tag===22&&o){var h=a.memoizedState!==null||Jj;if(!h){var g=a.alternate,b=g!==null&&g.memoizedState!==null||U;g=Jj;var _=U;if(Jj=h,(U=b)&&!_)for(V=a;V!==null;)h=V,b=h.child,h.tag===22&&h.memoizedState!==null?jk(a):b!==null?(b.return=h,V=b):jk(a);for(;d!==null;)V=d,ik(d),d=d.sibling;V=a,Jj=g,U=_}kk(e)}else a.subtreeFlags&8772&&d!==null?(d.return=a,V=d):kk(e)}}function kk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&sh(i,d,o);break;case 3:var h=i.updateQueue;if(h!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,h,s)}break;case 5:var g=i.stateNode;if(s===null&&i.flags&4){s=g;var b=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var _=i.alternate;if(_!==null){var j=_.memoizedState;if(j!==null){var $=j.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||i.flags&512&&Rj(i)}catch(_e){W(i,i.return,_e)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function gk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function jk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(b){W(i,s,b)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var a=i.return;try{o.componentDidMount()}catch(b){W(i,a,b)}}var d=i.return;try{Rj(i)}catch(b){W(i,d,b)}break;case 5:var h=i.return;try{Rj(i)}catch(b){W(i,h,b)}}}catch(b){W(i,i.return,b)}if(i===e){V=null;break}var g=i.sibling;if(g!==null){g.return=i.return,V=g;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,i,s,o){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(e,s,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(e,Z)),Dk(e,o),s===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,i){var s=e.callbackNode;wc(e,i);var o=uc(e,e===Q?Z:0);if(o===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=o&-o,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Gk(e,i){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var s=e.callbackNode;if(Hk()&&e.callbackNode!==s)return null;var o=uc(e,e===Q?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||i)i=Ik(e,o);else{i=o;var a=K;K|=2;var d=Jk();(Q!==e||Z!==i)&&(uk=null,Gj=B()+500,Kk(e,i));do try{Lk();break}catch(g){Mk(e,g)}while(!0);$g(),mk.current=d,K=a,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(a=xc(e),a!==0&&(o=a,i=Nk(e,a))),i===1)throw s=pk,Kk(e,0),Ck(e,o),Dk(e,B()),s;if(i===6)Ck(e,o);else{if(a=e.current.alternate,!(o&30)&&!Ok(a)&&(i=Ik(e,o),i===2&&(d=xc(e),d!==0&&(o=d,i=Nk(e,d))),i===1))throw s=pk,Kk(e,0),Ck(e,o),Dk(e,B()),s;switch(e.finishedWork=a,e.finishedLanes=o,i){case 0:case 1:throw Error(p$1(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(i=fk+500-B(),10<i)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),i);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(i=e.eventTimes,a=-1;0<o;){var h=31-oc(o);d=1<<h,h=i[h],h>a&&(a=h),o&=~d}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(e,B()),e.callbackNode===s?Gk.bind(null,e):null}function Nk(e,i){var s=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,i).flags|=256),e=Ik(e,i),e!==2&&(i=tk,tk=s,i!==null&&Fj(i)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],d=a.getSnapshot;a=a.value;try{if(!He(d(),a))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(e,i){for(i&=~rk,i&=~qk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),o=1<<s;e[s]=-1,i&=~o}}function Ek(e){if(K&6)throw Error(p$1(327));Hk();var i=uc(e,0);if(!(i&1))return Dk(e,B()),null;var s=Ik(e,i);if(e.tag!==0&&s===2){var o=xc(e);o!==0&&(i=o,s=Nk(e,o))}if(s===1)throw s=pk,Kk(e,0),Ck(e,i),Dk(e,B()),s;if(s===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok$2.transition,o=C;try{if(ok$2.transition=null,C=1,e)return e()}finally{C=o,ok$2.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,d=s.pending;if(d!==null){var h=d.next;d.next=a,o.next=h}s.pending=o}fh=null}return e}function Mk(e,i){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=i,Y=null;break}e:{var d=e,h=s.return,g=s,b=i;if(i=Z,g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var _=b,j=g,$=j.tag;if(!(j.mode&1)&&($===0||$===11||$===15)){var _e=j.alternate;_e?(j.updateQueue=_e.updateQueue,j.memoizedState=_e.memoizedState,j.lanes=_e.lanes):(j.updateQueue=null,j.memoizedState=null)}var et=Ui(h);if(et!==null){et.flags&=-257,Vi(et,h,g,d,i),et.mode&1&&Si(d,_,i),i=et,b=_;var nt=i.updateQueue;if(nt===null){var it=new Set;it.add(b),i.updateQueue=it}else nt.add(b);break e}else{if(!(i&1)){Si(d,_,i),tj();break e}b=Error(p$1(426))}}else if(I&&g.mode&1){var st=Ui(h);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Vi(st,h,g,d,i),Jg(Ji(b,g));break e}}d=b=Ji(b,g),T!==4&&(T=2),sk===null?sk=[d]:sk.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var tt=Ni(d,b,i);ph(d,tt);break e;case 1:g=b;var rt=d.type,ot=d.stateNode;if(!(d.flags&128)&&(typeof rt.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){d.flags|=65536,i&=-i,d.lanes|=i;var ut=Qi(d,g,i);ph(d,ut);break e}}d=d.return}while(d!==null)}Sk(s)}catch(lt){i=lt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,i){var s=K;K|=2;var o=Jk();(Q!==e||Z!==i)&&(uk=null,Kk(e,i));do try{Tk();break}catch(a){Mk(e,a)}while(!0);if($g(),K=s,mk.current=o,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var i=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,i===null?Sk(e):Y=i,nk.current=null}function Sk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,i,fj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Pk(e,i,s){var o=C,a=ok$2.transition;try{ok$2.transition=null,C=1,Wk(e,i,s,o)}finally{ok$2.transition=a,C=o}return null}function Wk(e,i,s,o){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Bc(e,d),e===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=ok$2.transition,ok$2.transition=null;var h=C;C=1;var g=K;K|=4,nk.current=null,Oj(e,s),dk(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,hk(s),dc(),K=g,C=h,ok$2.transition=d}else e.current=s;if(vk&&(vk=!1,wk=e,xk=a),d=e.pendingLanes,d===0&&(Ri=null),mc(s.stateNode),Dk(e,B()),i!==null)for(o=e.onRecoverableError,s=0;s<i.length;s++)a=i[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),d=e.pendingLanes,d&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),i=ok$2.transition,s=C;try{if(ok$2.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var a=K;for(K|=4,V=e.current;V!==null;){var d=V,h=d.child;if(V.flags&16){var g=d.deletions;if(g!==null){for(var b=0;b<g.length;b++){var _=g[b];for(V=_;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,d)}var $=j.child;if($!==null)$.return=j,V=$;else for(;V!==null;){j=V;var _e=j.sibling,et=j.return;if(Sj(j),j===_){V=null;break}if(_e!==null){_e.return=et,V=_e;break}V=et}}}var nt=d.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var st=it.sibling;it.sibling=null,it=st}while(it!==null)}}V=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,V=h;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Pj(9,d,d.return)}var tt=d.sibling;if(tt!==null){tt.return=d.return,V=tt;break e}V=d.return}}var rt=e.current;for(V=rt;V!==null;){h=V;var ot=h.child;if(h.subtreeFlags&2064&&ot!==null)ot.return=h,V=ot;else e:for(h=rt;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(lt){W(g,g.return,lt)}if(g===h){V=null;break e}var ut=g.sibling;if(ut!==null){ut.return=g.return,V=ut;break e}V=g.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=s,ok$2.transition=i}}return!1}function Xk(e,i,s){i=Ji(s,i),i=Ni(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i))}function W(e,i,s){if(e.tag===3)Xk(e,e,s);else for(;i!==null;){if(i.tag===3){Xk(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(s,e),e=Qi(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e));break}}i=i.return}}function Ti(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),i=R(),e.pingedLanes|=e.suspendedLanes&s,Q===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=s),Dk(e,i)}function Yk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R();e=ih(e,i),e!==null&&(Ac(e,i,s),Dk(e,s))}function uj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(e,s)}function bk(e,i){var s=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p$1(314))}o!==null&&o.delete(i),Yk(e,s)}var Vk;Vk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return dh=!1,yj(e,i,s);dh=!!(e.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;ij(e,i),e=i.pendingProps;var a=Yf(i,H.current);ch(i,s),a=Nh(null,i,o,e,a,s);var d=Sh();return i.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(d=!0,cg(i)):d=!1,i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(i),a.updater=Ei,i.stateNode=a,a._reactInternals=i,Ii(i,o,e,s),i=jj(null,i,o,!0,d,s)):(i.tag=0,I&&d&&vg(i),Xi(null,i,a,s),i=i.child),i;case 16:o=i.elementType;e:{switch(ij(e,i),e=i.pendingProps,a=o._init,o=a(o._payload),i.type=o,a=i.tag=Zk(o),e=Ci(o,e),a){case 0:i=cj(null,i,o,e,s);break e;case 1:i=hj(null,i,o,e,s);break e;case 11:i=Yi(null,i,o,e,s);break e;case 14:i=$i(null,i,o,Ci(o.type,e),s);break e}throw Error(p$1(306,o,""))}return i;case 0:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),cj(e,i,o,a,s);case 1:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),hj(e,i,o,a,s);case 3:e:{if(kj(i),e===null)throw Error(p$1(387));o=i.pendingProps,d=i.memoizedState,a=d.element,lh(e,i),qh(i,o,null,s);var h=i.memoizedState;if(o=h.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){a=Ji(Error(p$1(423)),i),i=lj(e,i,o,s,a);break e}else if(o!==a){a=Ji(Error(p$1(424)),i),i=lj(e,i,o,s,a);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Vg(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){i=Zi(e,i,s);break e}Xi(e,i,o,s)}i=i.child}return i;case 5:return Ah(i),e===null&&Eg(i),o=i.type,a=i.pendingProps,d=e!==null?e.memoizedProps:null,h=a.children,Ef(o,a)?h=null:d!==null&&Ef(o,d)&&(i.flags|=32),gj(e,i),Xi(e,i,h,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return oj(e,i,s);case 4:return yh(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ug(i,null,o,s):Xi(e,i,o,s),i.child;case 11:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),Yi(e,i,o,a,s);case 7:return Xi(e,i,i.pendingProps,s),i.child;case 8:return Xi(e,i,i.pendingProps.children,s),i.child;case 12:return Xi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(o=i.type._context,a=i.pendingProps,d=i.memoizedProps,h=a.value,G(Wg,o._currentValue),o._currentValue=h,d!==null)if(He(d.value,h)){if(d.children===a.children&&!Wf.current){i=Zi(e,i,s);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var b=g.firstContext;b!==null;){if(b.context===o){if(d.tag===1){b=mh(-1,s&-s),b.tag=2;var _=d.updateQueue;if(_!==null){_=_.shared;var j=_.pending;j===null?b.next=b:(b.next=j.next,j.next=b),_.pending=b}}d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),bh(d.return,s,i),g.lanes|=s;break}b=b.next}}else if(d.tag===10)h=d.type===i.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(p$1(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),bh(h,s,i),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===i){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Xi(e,i,a.children,s),i=i.child}return i;case 9:return a=i.type,o=i.pendingProps.children,ch(i,s),a=eh(a),o=o(a),i.flags|=1,Xi(e,i,o,s),i.child;case 14:return o=i.type,a=Ci(o,i.pendingProps),a=Ci(o.type,a),$i(e,i,o,a,s);case 15:return bj(e,i,i.type,i.pendingProps,s);case 17:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),ij(e,i),i.tag=1,Zf(o)?(e=!0,cg(i)):e=!1,ch(i,s),Gi(i,o,a),Ii(i,o,a,s),jj(null,i,o,!0,e,s);case 19:return xj(e,i,s);case 22:return dj(e,i,s)}throw Error(p$1(156,i.tag))};function Fk(e,i){return ac(e,i)}function $k(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,o){return new $k(e,i,s,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rg(e,i,s,o,a,d){var h=2;if(o=e,typeof e=="function")aj(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ya:return Tg(s.children,a,d,i);case za:h=8,a|=8;break;case Aa:return e=Bg(12,s,i,a|2),e.elementType=Aa,e.lanes=d,e;case Ea:return e=Bg(13,s,i,a),e.elementType=Ea,e.lanes=d,e;case Fa:return e=Bg(19,s,i,a),e.elementType=Fa,e.lanes=d,e;case Ia:return pj(s,a,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,o=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return i=Bg(h,s,i,a),i.elementType=e,i.type=o,i.lanes=d,i}function Tg(e,i,s,o){return e=Bg(7,e,o,i),e.lanes=s,e}function pj(e,i,s,o){return e=Bg(22,e,o,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function Qg(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function Sg(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function al(e,i,s,o,a){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(e,i,s,o,a,d,h,g,b){return e=new al(e,i,s,g,b),i===1?(i=1,d===!0&&(i|=8)):i=0,d=Bg(3,null,null,i),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(d),e}function cl(e,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:i,implementation:s}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p$1(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$1(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function el(e,i,s,o,a,d,h,g,b){return e=bl(s,o,!0,e,a,d,h,g,b),e.context=dl(null),s=e.current,o=R(),a=yi(s),d=mh(o,a),d.callback=i??null,nh(s,d,a),e.current.lanes=a,Ac(e,a,o),Dk(e,o),e}function fl(e,i,s,o){var a=i.current,d=R(),h=yi(a);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(d,h),i.payload={element:e},o=o===void 0?null:o,o!==null&&(i.callback=o),e=nh(a,i,h),e!==null&&(gi(e,a,h,d),oh(e,a,h)),h}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function il(e,i){hl(e,i),(e=e.alternate)&&hl(e,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p$1(409));fl(e,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Rk(function(){fl(null,e,null,null)}),i[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,i,s,o,a){if(a){if(typeof o=="function"){var d=o;o=function(){var _=gl(h);d.call(_)}}var h=el(i,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var g=o;o=function(){var _=gl(b);g.call(_)}}var b=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=b,e[uf]=b.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(i,b,s,o)}),b}function rl(e,i,s,o,a){var d=s._reactRootContainer;if(d){var h=d;if(typeof a=="function"){var g=a;a=function(){var b=gl(h);g.call(b)}}fl(i,h,e,a)}else h=ql(s,i,e,a,o);return gl(h)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var a=R();gi(o,e,1,a)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var i=ih(e,134217728);if(i!==null){var s=R();gi(i,e,134217728,s)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var i=yi(e),s=ih(e,i);if(s!==null){var o=R();gi(s,e,i,o)}il(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p$1(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p$1(200));return cl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!nl(e))throw Error(p$1(299));var s=!1,o="",a=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),i=bl(e,1,!1,null,null,s,!1,o,a),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ll(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!ol(i))throw Error(p$1(200));return rl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!nl(e))throw Error(p$1(405));var o=s!=null&&s.hydratedSources||null,a=!1,d="",h=kl;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),i=el(i,null,e,1,s??null,a,!1,d,h),e[uf]=i.current,sf(e),o)for(e=0;e<o.length;e++)s=o[e],a=s._getVersion,a=a(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,a]:i.mutableSourceEagerHydrationData.push(s,a);return new ml(i)};reactDom_production_min.render=function(e,i,s){if(!ol(i))throw Error(p$1(200));return rl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p$1(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,o){if(!ol(s))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return rl(e,i,s,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$2.apply(this,arguments)}var Action$1;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function i(o,a){let{pathname:d,search:h,hash:g}=o.location;return createLocation("",{pathname:d,search:h,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(i,s,null,e)}function invariant$2(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function warning$2(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,i){return{usr:e.state,key:e.key,idx:i}}function createLocation(e,i,s,o){return s===void 0&&(s=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:s,key:i&&i.key||o||createKey()})}function createPath(e){let{pathname:i="/",search:s="",hash:o=""}=e;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function parsePath(e){let i={};if(e){let s=e.indexOf("#");s>=0&&(i.hash=e.substr(s),e=e.substr(0,s));let o=e.indexOf("?");o>=0&&(i.search=e.substr(o),e=e.substr(0,o)),e&&(i.pathname=e)}return i}function getUrlBasedHistory(e,i,s,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:d=!1}=o,h=a.history,g=Action$1.Pop,b=null,_=j();_==null&&(_=0,h.replaceState(_extends$2({},h.state,{idx:_}),""));function j(){return(h.state||{idx:null}).idx}function $(){g=Action$1.Pop;let st=j(),tt=st==null?null:st-_;_=st,b&&b({action:g,location:it.location,delta:tt})}function _e(st,tt){g=Action$1.Push;let rt=createLocation(it.location,st,tt);_=j()+1;let ot=getHistoryState(rt,_),ut=it.createHref(rt);try{h.pushState(ot,"",ut)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;a.location.assign(ut)}d&&b&&b({action:g,location:it.location,delta:1})}function et(st,tt){g=Action$1.Replace;let rt=createLocation(it.location,st,tt);_=j();let ot=getHistoryState(rt,_),ut=it.createHref(rt);h.replaceState(ot,"",ut),d&&b&&b({action:g,location:it.location,delta:0})}function nt(st){let tt=a.location.origin!=="null"?a.location.origin:a.location.href,rt=typeof st=="string"?st:createPath(st);return rt=rt.replace(/ $/,"%20"),invariant$2(tt,"No window.location.(origin|href) available to create URL for href: "+rt),new URL(rt,tt)}let it={get action(){return g},get location(){return e(a,h)},listen(st){if(b)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,$),b=st,()=>{a.removeEventListener(PopStateEventType,$),b=null}},createHref(st){return i(a,st)},createURL:nt,encodeLocation(st){let tt=nt(st);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:_e,replace:et,go(st){return h.go(st)}};return it}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,i,s){return s===void 0&&(s="/"),matchRoutesImpl(e,i,s)}function matchRoutesImpl(e,i,s,o){let a=typeof i=="string"?parsePath(i):i,d=stripBasename(a.pathname||"/",s);if(d==null)return null;let h=flattenRoutes(e);rankRouteBranches(h);let g=null;for(let b=0;g==null&&b<h.length;++b){let _=decodePath(d);g=matchRouteBranch(h[b],_)}return g}function flattenRoutes(e,i,s,o){i===void 0&&(i=[]),s===void 0&&(s=[]),o===void 0&&(o="");let a=(d,h,g)=>{let b={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};b.relativePath.startsWith("/")&&(invariant$2(b.relativePath.startsWith(o),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(o.length));let _=joinPaths([o,b.relativePath]),j=s.concat(b);d.children&&d.children.length>0&&(invariant$2(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(d.children,i,j,_)),!(d.path==null&&!d.index)&&i.push({path:_,score:computeScore(_,d.index),routesMeta:j})};return e.forEach((d,h)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))a(d,h);else for(let b of explodeOptionalSegments(d.path))a(d,h,b)}),i}function explodeOptionalSegments(e){let i=e.split("/");if(i.length===0)return[];let[s,...o]=i,a=s.endsWith("?"),d=s.replace(/\?$/,"");if(o.length===0)return a?[d,""]:[d];let h=explodeOptionalSegments(o.join("/")),g=[];return g.push(...h.map(b=>b===""?d:[d,b].join("/"))),a&&g.push(...h),g.map(b=>e.startsWith("/")&&b===""?"/":b)}function rankRouteBranches(e){e.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,i){let s=e.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),i&&(o+=indexRouteValue),s.filter(a=>!isSplat(a)).reduce((a,d)=>a+(paramRe.test(d)?dynamicSegmentValue:d===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,i){return e.length===i.length&&e.slice(0,-1).every((o,a)=>o===i[a])?e[e.length-1]-i[i.length-1]:0}function matchRouteBranch(e,i,s){let{routesMeta:o}=e,a={},d="/",h=[];for(let g=0;g<o.length;++g){let b=o[g],_=g===o.length-1,j=d==="/"?i:i.slice(d.length)||"/",$=matchPath({path:b.relativePath,caseSensitive:b.caseSensitive,end:_},j),_e=b.route;if(!$)return null;Object.assign(a,$.params),h.push({params:a,pathname:joinPaths([d,$.pathname]),pathnameBase:normalizePathname(joinPaths([d,$.pathnameBase])),route:_e}),$.pathnameBase!=="/"&&(d=joinPaths([d,$.pathnameBase]))}return h}function matchPath(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,o]=compilePath(e.path,e.caseSensitive,e.end),a=i.match(s);if(!a)return null;let d=a[0],h=d.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((_,j,$)=>{let{paramName:_e,isOptional:et}=j;if(_e==="*"){let it=g[$]||"";h=d.slice(0,d.length-it.length).replace(/(.)\/+$/,"$1")}const nt=g[$];return et&&!nt?_[_e]=void 0:_[_e]=(nt||"").replace(/%2F/g,"/"),_},{}),pathname:d,pathnameBase:h,pattern:e}}function compilePath(e,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning$2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,b)=>(o.push({paramName:g,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,i?void 0:"i"),o]}function decodePath(e){try{return e.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning$2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function stripBasename(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,o=e.charAt(s);return o&&o!=="/"?null:e.slice(s)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=e=>ABSOLUTE_URL_REGEX$1.test(e);function resolvePath(e,i){i===void 0&&(i="/");let{pathname:s,search:o="",hash:a=""}=typeof e=="string"?parsePath(e):e,d;if(s)if(isAbsoluteUrl(s))d=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),warning$2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+s))}s.startsWith("/")?d=resolvePathname(s.substring(1),"/"):d=resolvePathname(s,i)}else d=i;return{pathname:d,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(e,i){let s=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,i,s,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(e,i){let s=getPathContributingMatches(e);return i?s.map((o,a)=>a===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function resolveTo(e,i,s,o){o===void 0&&(o=!1);let a;typeof e=="string"?a=parsePath(e):(a=_extends$2({},e),invariant$2(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant$2(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant$2(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let d=e===""||a.pathname==="",h=d?"/":a.pathname,g;if(h==null)g=s;else{let $=i.length-1;if(!o&&h.startsWith("..")){let _e=h.split("/");for(;_e[0]==="..";)_e.shift(),$-=1;a.pathname=_e.join("/")}g=$>=0?i[$]:"/"}let b=resolvePath(a,g),_=h&&h!=="/"&&h.endsWith("/"),j=(d||h===".")&&s.endsWith("/");return!b.pathname.endsWith("/")&&(_||j)&&(b.pathname+="/"),b}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,i){let{relative:s}=i===void 0?{}:i;useInRouterContext()||invariant$2(!1);let{basename:o,navigator:a}=reactExports.useContext(NavigationContext),{hash:d,pathname:h,search:g}=useResolvedPath(e,{relative:s}),b=h;return o!=="/"&&(b=h==="/"?o:joinPaths([o,h])),a.createHref({pathname:b,search:g,hash:d})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let e=reactExports.useContext(DataRouterContext),{basename:i,future:s,navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(a,s.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{g.current=!0}),reactExports.useCallback(function(_,j){if(j===void 0&&(j={}),!g.current)return;if(typeof _=="number"){o.go(_);return}let $=resolveTo(_,JSON.parse(h),d,j.relative==="path");e==null&&i!=="/"&&($.pathname=$.pathname==="/"?i:joinPaths([i,$.pathname])),(j.replace?o.replace:o.push)($,j.state,j)},[i,o,h,d,e])}const OutletContext=reactExports.createContext(null);function useOutlet(e){let i=reactExports.useContext(RouteContext).outlet;return i&&reactExports.createElement(OutletContext.Provider,{value:e},i)}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),i=e[e.length-1];return i?i.params:{}}function useResolvedPath(e,i){let{relative:s}=i===void 0?{}:i,{future:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(a,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(h),d,s==="path"),[e,h,d,s])}function useRoutes(e,i){return useRoutesImpl(e,i)}function useRoutesImpl(e,i,s,o){useInRouterContext()||invariant$2(!1);let{navigator:a}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),h=d[d.length-1],g=h?h.params:{};h&&h.pathname;let b=h?h.pathnameBase:"/";h&&h.route;let _=useLocation(),j;if(i){var $;let st=typeof i=="string"?parsePath(i):i;b==="/"||($=st.pathname)!=null&&$.startsWith(b)||invariant$2(!1),j=st}else j=_;let _e=j.pathname||"/",et=_e;if(b!=="/"){let st=b.replace(/^\//,"").split("/");et="/"+_e.replace(/^\//,"").split("/").slice(st.length).join("/")}let nt=matchRoutes(e,{pathname:et}),it=_renderMatches(nt&&nt.map(st=>Object.assign({},st,{params:Object.assign({},g,st.params),pathname:joinPaths([b,a.encodeLocation?a.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?b:joinPaths([b,a.encodeLocation?a.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),d,s,o);return i&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Action$1.Pop}},it):it}function DefaultErrorComponent(){let e=useRouteError(),i=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:a},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:i,match:s,children:o}=e,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},o)}function _renderMatches(e,i,s,o){var a;if(i===void 0&&(i=[]),s===void 0&&(s=null),o===void 0&&(o=null),e==null){var d;if(!s)return null;if(s.errors)e=s.matches;else if((d=o)!=null&&d.v7_partialHydration&&i.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let h=e,g=(a=s)==null?void 0:a.errors;if(g!=null){let j=h.findIndex($=>$.route.id&&(g==null?void 0:g[$.route.id])!==void 0);j>=0||invariant$2(!1),h=h.slice(0,Math.min(h.length,j+1))}let b=!1,_=-1;if(s&&o&&o.v7_partialHydration)for(let j=0;j<h.length;j++){let $=h[j];if(($.route.HydrateFallback||$.route.hydrateFallbackElement)&&(_=j),$.route.id){let{loaderData:_e,errors:et}=s,nt=$.route.loader&&_e[$.route.id]===void 0&&(!et||et[$.route.id]===void 0);if($.route.lazy||nt){b=!0,_>=0?h=h.slice(0,_+1):h=[h[0]];break}}}return h.reduceRight((j,$,_e)=>{let et,nt=!1,it=null,st=null;s&&(et=g&&$.route.id?g[$.route.id]:void 0,it=$.route.errorElement||defaultErrorElement,b&&(_<0&&_e===0?(warningOnce("route-fallback"),nt=!0,st=null):_===_e&&(nt=!0,st=$.route.hydrateFallbackElement||null)));let tt=i.concat(h.slice(0,_e+1)),rt=()=>{let ot;return et?ot=it:nt?ot=st:$.route.Component?ot=reactExports.createElement($.route.Component,null):$.route.element?ot=$.route.element:ot=j,reactExports.createElement(RenderedRoute,{match:$,routeContext:{outlet:j,matches:tt,isDataRoute:s!=null},children:ot})};return s&&($.route.ErrorBoundary||$.route.errorElement||_e===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:it,error:et,children:rt(),routeContext:{outlet:null,matches:tt,isDataRoute:!0}}):rt()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let i=reactExports.useContext(DataRouterContext);return i||invariant$2(!1),i}function useDataRouterState(e){let i=reactExports.useContext(DataRouterStateContext);return i||invariant$2(!1),i}function useRouteContext(e){let i=reactExports.useContext(RouteContext);return i||invariant$2(!1),i}function useCurrentRouteId(e){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant$2(!1),s.route.id}function useRouteError(){var e;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(),o=useCurrentRouteId();return i!==void 0?i:(e=s.errors)==null?void 0:e[o]}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{s.current=!0}),reactExports.useCallback(function(a,d){d===void 0&&(d={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_extends$1({fromRouteId:i},d)))},[e,i])}const alreadyWarned$1={};function warningOnce(e,i,s){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0)}function logV6DeprecationWarnings(e,i){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Navigate(e){let{to:i,replace:s,state:o,relative:a}=e;useInRouterContext()||invariant$2(!1);let{future:d,static:h}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),{pathname:b}=useLocation(),_=useNavigate(),j=resolveTo(i,getResolveToMatches(g,d.v7_relativeSplatPath),b,a==="path"),$=JSON.stringify(j);return reactExports.useEffect(()=>_(JSON.parse($),{replace:s,state:o,relative:a}),[_,$,a,s,o]),null}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant$2(!1)}function Router(e){let{basename:i="/",children:s=null,location:o,navigationType:a=Action$1.Pop,navigator:d,static:h=!1,future:g}=e;useInRouterContext()&&invariant$2(!1);let b=i.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:b,navigator:d,static:h,future:_extends$1({v7_relativeSplatPath:!1},g)}),[b,g,d,h]);typeof o=="string"&&(o=parsePath(o));let{pathname:j="/",search:$="",hash:_e="",state:et=null,key:nt="default"}=o,it=reactExports.useMemo(()=>{let st=stripBasename(j,b);return st==null?null:{location:{pathname:st,search:$,hash:_e,state:et,key:nt},navigationType:a}},[b,j,$,_e,et,nt,a]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:s,value:it}))}function Routes(e){let{children:i,location:s}=e;return useRoutes(createRoutesFromChildren(i),s)}new Promise(()=>{});function createRoutesFromChildren(e,i){i===void 0&&(i=[]);let s=[];return reactExports.Children.forEach(e,(o,a)=>{if(!reactExports.isValidElement(o))return;let d=[...i,a];if(o.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,d));return}o.type!==Route&&invariant$2(!1),!o.props.index||!o.props.children||invariant$2(!1);let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=createRoutesFromChildren(o.props.children,d)),s.push(h)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},o=Object.keys(e),a,d;for(d=0;d<o.length;d++)a=o[d],!(i.indexOf(a)>=0)&&(s[a]=e[a]);return s}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,i){return e.button===0&&(!i||i==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function BrowserRouter(e){let{basename:i,children:s,future:o,window:a}=e,d=reactExports.useRef();d.current==null&&(d.current=createBrowserHistory({window:a,v5Compat:!0}));let h=d.current,[g,b]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:_}=o||{},j=reactExports.useCallback($=>{_&&startTransitionImpl?startTransitionImpl(()=>b($)):b($)},[b,_]);return reactExports.useLayoutEffect(()=>h.listen(j),[h,j]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:i,children:s,location:g.location,navigationType:g.action,navigator:h,future:o})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(i,s){let{onClick:o,relative:a,reloadDocument:d,replace:h,state:g,target:b,to:_,preventScrollReset:j,viewTransition:$}=i,_e=_objectWithoutPropertiesLoose(i,_excluded),{basename:et}=reactExports.useContext(NavigationContext),nt,it=!1;if(typeof _=="string"&&ABSOLUTE_URL_REGEX.test(_)&&(nt=_,isBrowser$2))try{let ot=new URL(window.location.href),ut=_.startsWith("//")?new URL(ot.protocol+_):new URL(_),lt=stripBasename(ut.pathname,et);ut.origin===ot.origin&&lt!=null?_=lt+ut.search+ut.hash:it=!0}catch{}let st=useHref(_,{relative:a}),tt=useLinkClickHandler(_,{replace:h,state:g,target:b,preventScrollReset:j,relative:a,viewTransition:$});function rt(ot){o&&o(ot),ot.defaultPrevented||tt(ot)}return reactExports.createElement("a",_extends({},_e,{href:nt||st,onClick:it||d?o:rt,ref:s,target:b}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,i){let{target:s,replace:o,state:a,preventScrollReset:d,relative:h,viewTransition:g}=i===void 0?{}:i,b=useNavigate(),_=useLocation(),j=useResolvedPath(e,{relative:h});return reactExports.useCallback($=>{if(shouldProcessLinkClick($,s)){$.preventDefault();let _e=o!==void 0?o:createPath(_)===createPath(j);b(e,{replace:_e,state:a,preventScrollReset:d,relative:h,viewTransition:g})}},[_,b,j,o,a,s,e,d,h,g])}function composeEventHandlers(e,i,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return i==null?void 0:i(a)}}function setRef(e,i){if(typeof e=="function")return e(i);e!=null&&(e.current=i)}function composeRefs(...e){return i=>{let s=!1;const o=e.map(a=>{const d=setRef(a,i);return!s&&typeof d=="function"&&(s=!0),d});if(s)return()=>{for(let a=0;a<o.length;a++){const d=o[a];typeof d=="function"?d():setRef(e[a],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}function createContextScope$1(e,i=[]){let s=[];function o(d,h){const g=reactExports.createContext(h),b=s.length;s=[...s,h];const _=$=>{var tt;const{scope:_e,children:et,...nt}=$,it=((tt=_e==null?void 0:_e[e])==null?void 0:tt[b])||g,st=reactExports.useMemo(()=>nt,Object.values(nt));return jsxRuntimeExports.jsx(it.Provider,{value:st,children:et})};_.displayName=d+"Provider";function j($,_e){var it;const et=((it=_e==null?void 0:_e[e])==null?void 0:it[b])||g,nt=reactExports.useContext(et);if(nt)return nt;if(h!==void 0)return h;throw new Error(`\`${$}\` must be used within \`${d}\``)}return[_,j]}const a=()=>{const d=s.map(h=>reactExports.createContext(h));return function(g){const b=(g==null?void 0:g[e])||d;return reactExports.useMemo(()=>({[`__scope${e}`]:{...g,[e]:b}}),[g,b])}};return a.scopeName=e,[o,composeContextScopes$1(a,...i)]}function composeContextScopes$1(...e){const i=e[0];if(e.length===1)return i;const s=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(d){const h=o.reduce((g,{useScope:b,scopeName:_})=>{const $=b(d)[`__scope${_}`];return{...g,...$}},{});return reactExports.useMemo(()=>({[`__scope${i.scopeName}`]:h}),[h])}};return s.scopeName=i.scopeName,s}function createSlot$5(e){const i=createSlotClone$5(e),s=reactExports.forwardRef((o,a)=>{const{children:d,...h}=o,g=reactExports.Children.toArray(d),b=g.find(isSlottable$5);if(b){const _=b.props.children,j=g.map($=>$===b?reactExports.Children.count(_)>1?reactExports.Children.only(null):reactExports.isValidElement(_)?_.props.children:null:$);return jsxRuntimeExports.jsx(i,{...h,ref:a,children:reactExports.isValidElement(_)?reactExports.cloneElement(_,void 0,j):null})}return jsxRuntimeExports.jsx(i,{...h,ref:a,children:d})});return s.displayName=`${e}.Slot`,s}function createSlotClone$5(e){const i=reactExports.forwardRef((s,o)=>{const{children:a,...d}=s;if(reactExports.isValidElement(a)){const h=getElementRef$6(a),g=mergeProps$5(d,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,h):h),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return i.displayName=`${e}.SlotClone`,i}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$5(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$5(e,i){const s={...i};for(const o in i){const a=e[o],d=i[o];/^on[A-Z]/.test(o)?a&&d?s[o]=(...g)=>{const b=d(...g);return a(...g),b}:a&&(s[o]=a):o==="style"?s[o]={...a,...d}:o==="className"&&(s[o]=[a,d].filter(Boolean).join(" "))}return{...e,...s}}function getElementRef$6(e){var o,a;let i=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?e.ref:(i=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function createCollection(e){const i=e+"CollectionProvider",[s,o]=createContextScope$1(i),[a,d]=s(i,{collectionRef:{current:null},itemMap:new Map}),h=it=>{const{scope:st,children:tt}=it,rt=React$2.useRef(null),ot=React$2.useRef(new Map).current;return jsxRuntimeExports.jsx(a,{scope:st,itemMap:ot,collectionRef:rt,children:tt})};h.displayName=i;const g=e+"CollectionSlot",b=createSlot$5(g),_=React$2.forwardRef((it,st)=>{const{scope:tt,children:rt}=it,ot=d(g,tt),ut=useComposedRefs(st,ot.collectionRef);return jsxRuntimeExports.jsx(b,{ref:ut,children:rt})});_.displayName=g;const j=e+"CollectionItemSlot",$="data-radix-collection-item",_e=createSlot$5(j),et=React$2.forwardRef((it,st)=>{const{scope:tt,children:rt,...ot}=it,ut=React$2.useRef(null),lt=useComposedRefs(st,ut),ct=d(j,tt);return React$2.useEffect(()=>(ct.itemMap.set(ut,{ref:ut,...ot}),()=>void ct.itemMap.delete(ut))),jsxRuntimeExports.jsx(_e,{[$]:"",ref:lt,children:rt})});et.displayName=j;function nt(it){const st=d(e+"CollectionConsumer",it);return React$2.useCallback(()=>{const rt=st.collectionRef.current;if(!rt)return[];const ot=Array.from(rt.querySelectorAll(`[${$}]`));return Array.from(st.itemMap.values()).sort((ct,dt)=>ot.indexOf(ct.ref.current)-ot.indexOf(dt.ref.current))},[st.collectionRef,st.itemMap])}return[{Provider:h,Slot:_,ItemSlot:et},nt,o]}function createContextScope(e,i=[]){let s=[];function o(d,h){const g=reactExports.createContext(h),b=s.length;s=[...s,h];const _=$=>{var tt;const{scope:_e,children:et,...nt}=$,it=((tt=_e==null?void 0:_e[e])==null?void 0:tt[b])||g,st=reactExports.useMemo(()=>nt,Object.values(nt));return jsxRuntimeExports.jsx(it.Provider,{value:st,children:et})};_.displayName=d+"Provider";function j($,_e){var it;const et=((it=_e==null?void 0:_e[e])==null?void 0:it[b])||g,nt=reactExports.useContext(et);if(nt)return nt;if(h!==void 0)return h;throw new Error(`\`${$}\` must be used within \`${d}\``)}return[_,j]}const a=()=>{const d=s.map(h=>reactExports.createContext(h));return function(g){const b=(g==null?void 0:g[e])||d;return reactExports.useMemo(()=>({[`__scope${e}`]:{...g,[e]:b}}),[g,b])}};return a.scopeName=e,[o,composeContextScopes(a,...i)]}function composeContextScopes(...e){const i=e[0];if(e.length===1)return i;const s=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(d){const h=o.reduce((g,{useScope:b,scopeName:_})=>{const $=b(d)[`__scope${_}`];return{...g,...$}},{});return reactExports.useMemo(()=>({[`__scope${i.scopeName}`]:h}),[h])}};return s.scopeName=i.scopeName,s}function createSlot$4(e){const i=createSlotClone$4(e),s=reactExports.forwardRef((o,a)=>{const{children:d,...h}=o,g=reactExports.Children.toArray(d),b=g.find(isSlottable$4);if(b){const _=b.props.children,j=g.map($=>$===b?reactExports.Children.count(_)>1?reactExports.Children.only(null):reactExports.isValidElement(_)?_.props.children:null:$);return jsxRuntimeExports.jsx(i,{...h,ref:a,children:reactExports.isValidElement(_)?reactExports.cloneElement(_,void 0,j):null})}return jsxRuntimeExports.jsx(i,{...h,ref:a,children:d})});return s.displayName=`${e}.Slot`,s}function createSlotClone$4(e){const i=reactExports.forwardRef((s,o)=>{const{children:a,...d}=s;if(reactExports.isValidElement(a)){const h=getElementRef$5(a),g=mergeProps$4(d,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,h):h),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return i.displayName=`${e}.SlotClone`,i}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(e,i){const s={...i};for(const o in i){const a=e[o],d=i[o];/^on[A-Z]/.test(o)?a&&d?s[o]=(...g)=>{const b=d(...g);return a(...g),b}:a&&(s[o]=a):o==="style"?s[o]={...a,...d}:o==="className"&&(s[o]=[a,d].filter(Boolean).join(" "))}return{...e,...s}}function getElementRef$5(e){var o,a;let i=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?e.ref:(i=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var NODES$4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$4=NODES$4.reduce((e,i)=>{const s=createSlot$4(`Primitive.${i}`),o=reactExports.forwardRef((a,d)=>{const{asChild:h,...g}=a,b=h?s:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(b,{...g,ref:d})});return o.displayName=`Primitive.${i}`,{...e,[i]:o}},{});function dispatchDiscreteCustomEvent$1(e,i){e&&reactDomExports.flushSync(()=>e.dispatchEvent(i))}function useCallbackRef(e){const i=reactExports.useRef(e);return reactExports.useEffect(()=>{i.current=e}),reactExports.useMemo(()=>(...s)=>{var o;return(o=i.current)==null?void 0:o.call(i,...s)},[])}function useEscapeKeydown(e,i=globalThis==null?void 0:globalThis.document){const s=useCallbackRef(e);reactExports.useEffect(()=>{const o=a=>{a.key==="Escape"&&s(a)};return i.addEventListener("keydown",o,{capture:!0}),()=>i.removeEventListener("keydown",o,{capture:!0})},[s,i])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((e,i)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d,onInteractOutside:h,onDismiss:g,...b}=e,_=reactExports.useContext(DismissableLayerContext),[j,$]=reactExports.useState(null),_e=(j==null?void 0:j.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,et]=reactExports.useState({}),nt=useComposedRefs(i,dt=>$(dt)),it=Array.from(_.layers),[st]=[..._.layersWithOutsidePointerEventsDisabled].slice(-1),tt=it.indexOf(st),rt=j?it.indexOf(j):-1,ot=_.layersWithOutsidePointerEventsDisabled.size>0,ut=rt>=tt,lt=usePointerDownOutside(dt=>{const ht=dt.target,mt=[..._.branches].some(xt=>xt.contains(ht));!ut||mt||(a==null||a(dt),h==null||h(dt),dt.defaultPrevented||g==null||g())},_e),ct=useFocusOutside(dt=>{const ht=dt.target;[..._.branches].some(xt=>xt.contains(ht))||(d==null||d(dt),h==null||h(dt),dt.defaultPrevented||g==null||g())},_e);return useEscapeKeydown(dt=>{rt===_.layers.size-1&&(o==null||o(dt),!dt.defaultPrevented&&g&&(dt.preventDefault(),g()))},_e),reactExports.useEffect(()=>{if(j)return s&&(_.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=_e.body.style.pointerEvents,_e.body.style.pointerEvents="none"),_.layersWithOutsidePointerEventsDisabled.add(j)),_.layers.add(j),dispatchUpdate(),()=>{s&&_.layersWithOutsidePointerEventsDisabled.size===1&&(_e.body.style.pointerEvents=originalBodyPointerEvents)}},[j,_e,s,_]),reactExports.useEffect(()=>()=>{j&&(_.layers.delete(j),_.layersWithOutsidePointerEventsDisabled.delete(j),dispatchUpdate())},[j,_]),reactExports.useEffect(()=>{const dt=()=>et({});return document.addEventListener(CONTEXT_UPDATE,dt),()=>document.removeEventListener(CONTEXT_UPDATE,dt)},[]),jsxRuntimeExports.jsx(Primitive$4.div,{...b,ref:nt,style:{pointerEvents:ot?ut?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,ct.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,ct.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,lt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((e,i)=>{const s=reactExports.useContext(DismissableLayerContext),o=reactExports.useRef(null),a=useComposedRefs(i,o);return reactExports.useEffect(()=>{const d=o.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),jsxRuntimeExports.jsx(Primitive$4.div,{...e,ref:a})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(e,i=globalThis==null?void 0:globalThis.document){const s=useCallbackRef(e),o=reactExports.useRef(!1),a=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const d=g=>{if(g.target&&!o.current){let b=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,s,_,{discrete:!0})};const _={originalEvent:g};g.pointerType==="touch"?(i.removeEventListener("click",a.current),a.current=b,i.addEventListener("click",a.current,{once:!0})):b()}else i.removeEventListener("click",a.current);o.current=!1},h=window.setTimeout(()=>{i.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(h),i.removeEventListener("pointerdown",d),i.removeEventListener("click",a.current)}},[i,s]),{onPointerDownCapture:()=>o.current=!0}}function useFocusOutside(e,i=globalThis==null?void 0:globalThis.document){const s=useCallbackRef(e),o=reactExports.useRef(!1);return reactExports.useEffect(()=>{const a=d=>{d.target&&!o.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,s,{originalEvent:d},{discrete:!1})};return i.addEventListener("focusin",a),()=>i.removeEventListener("focusin",a)},[i,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function dispatchUpdate(){const e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(e)}function handleAndDispatchCustomEvent$1(e,i,s,{discrete:o}){const a=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});i&&a.addEventListener(e,i,{once:!0}),o?dispatchDiscreteCustomEvent$1(a,d):a.dispatchEvent(d)}var Root$1=DismissableLayer,Branch=DismissableLayerBranch;function createSlot$3(e){const i=createSlotClone$3(e),s=reactExports.forwardRef((o,a)=>{const{children:d,...h}=o,g=reactExports.Children.toArray(d),b=g.find(isSlottable$3);if(b){const _=b.props.children,j=g.map($=>$===b?reactExports.Children.count(_)>1?reactExports.Children.only(null):reactExports.isValidElement(_)?_.props.children:null:$);return jsxRuntimeExports.jsx(i,{...h,ref:a,children:reactExports.isValidElement(_)?reactExports.cloneElement(_,void 0,j):null})}return jsxRuntimeExports.jsx(i,{...h,ref:a,children:d})});return s.displayName=`${e}.Slot`,s}function createSlotClone$3(e){const i=reactExports.forwardRef((s,o)=>{const{children:a,...d}=s;if(reactExports.isValidElement(a)){const h=getElementRef$4(a),g=mergeProps$3(d,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,h):h),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return i.displayName=`${e}.SlotClone`,i}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(e,i){const s={...i};for(const o in i){const a=e[o],d=i[o];/^on[A-Z]/.test(o)?a&&d?s[o]=(...g)=>{const b=d(...g);return a(...g),b}:a&&(s[o]=a):o==="style"?s[o]={...a,...d}:o==="className"&&(s[o]=[a,d].filter(Boolean).join(" "))}return{...e,...s}}function getElementRef$4(e){var o,a;let i=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?e.ref:(i=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((e,i)=>{const s=createSlot$3(`Primitive.${i}`),o=reactExports.forwardRef((a,d)=>{const{asChild:h,...g}=a,b=h?s:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(b,{...g,ref:d})});return o.displayName=`Primitive.${i}`,{...e,[i]:o}},{}),useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME="Portal",Portal=reactExports.forwardRef((e,i)=>{var g;const{container:s,...o}=e,[a,d]=reactExports.useState(!1);useLayoutEffect2(()=>d(!0),[]);const h=s||a&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return h?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$3.div,{...o,ref:i}),h):null});Portal.displayName=PORTAL_NAME;function useStateMachine(e,i){return reactExports.useReducer((s,o)=>i[s][o]??s,e)}var Presence=e=>{const{present:i,children:s}=e,o=usePresence$1(i),a=typeof s=="function"?s({present:o.isPresent}):reactExports.Children.only(s),d=useComposedRefs(o.ref,getElementRef$3(a));return typeof s=="function"||o.isPresent?reactExports.cloneElement(a,{ref:d}):null};Presence.displayName="Presence";function usePresence$1(e){const[i,s]=reactExports.useState(),o=reactExports.useRef(null),a=reactExports.useRef(e),d=reactExports.useRef("none"),h=e?"mounted":"unmounted",[g,b]=useStateMachine(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const _=getAnimationName(o.current);d.current=g==="mounted"?_:"none"},[g]),useLayoutEffect2(()=>{const _=o.current,j=a.current;if(j!==e){const _e=d.current,et=getAnimationName(_);e?b("MOUNT"):et==="none"||(_==null?void 0:_.display)==="none"?b("UNMOUNT"):b(j&&_e!==et?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,b]),useLayoutEffect2(()=>{if(i){let _;const j=i.ownerDocument.defaultView??window,$=et=>{const it=getAnimationName(o.current).includes(CSS.escape(et.animationName));if(et.target===i&&it&&(b("ANIMATION_END"),!a.current)){const st=i.style.animationFillMode;i.style.animationFillMode="forwards",_=j.setTimeout(()=>{i.style.animationFillMode==="forwards"&&(i.style.animationFillMode=st)})}},_e=et=>{et.target===i&&(d.current=getAnimationName(o.current))};return i.addEventListener("animationstart",_e),i.addEventListener("animationcancel",$),i.addEventListener("animationend",$),()=>{j.clearTimeout(_),i.removeEventListener("animationstart",_e),i.removeEventListener("animationcancel",$),i.removeEventListener("animationend",$)}}else b("ANIMATION_END")},[i,b]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:reactExports.useCallback(_=>{o.current=_?getComputedStyle(_):null,s(_)},[])}}function getAnimationName(e){return(e==null?void 0:e.animationName)||"none"}function getElementRef$3(e){var o,a;let i=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?e.ref:(i=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function createSlot$2(e){const i=createSlotClone$2(e),s=reactExports.forwardRef((o,a)=>{const{children:d,...h}=o,g=reactExports.Children.toArray(d),b=g.find(isSlottable$2);if(b){const _=b.props.children,j=g.map($=>$===b?reactExports.Children.count(_)>1?reactExports.Children.only(null):reactExports.isValidElement(_)?_.props.children:null:$);return jsxRuntimeExports.jsx(i,{...h,ref:a,children:reactExports.isValidElement(_)?reactExports.cloneElement(_,void 0,j):null})}return jsxRuntimeExports.jsx(i,{...h,ref:a,children:d})});return s.displayName=`${e}.Slot`,s}function createSlotClone$2(e){const i=reactExports.forwardRef((s,o)=>{const{children:a,...d}=s;if(reactExports.isValidElement(a)){const h=getElementRef$2(a),g=mergeProps$2(d,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,h):h),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return i.displayName=`${e}.SlotClone`,i}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(e,i){const s={...i};for(const o in i){const a=e[o],d=i[o];/^on[A-Z]/.test(o)?a&&d?s[o]=(...g)=>{const b=d(...g);return a(...g),b}:a&&(s[o]=a):o==="style"?s[o]={...a,...d}:o==="className"&&(s[o]=[a,d].filter(Boolean).join(" "))}return{...e,...s}}function getElementRef$2(e){var o,a;let i=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?e.ref:(i=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((e,i)=>{const s=createSlot$2(`Primitive.${i}`),o=reactExports.forwardRef((a,d)=>{const{asChild:h,...g}=a,b=h?s:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(b,{...g,ref:d})});return o.displayName=`Primitive.${i}`,{...e,[i]:o}},{});function dispatchDiscreteCustomEvent(e,i){e&&reactDomExports.flushSync(()=>e.dispatchEvent(i))}var useInsertionEffect=React$3[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:e,defaultProp:i,onChange:s=()=>{},caller:o}){const[a,d,h]=useUncontrolledState({defaultProp:i,onChange:s}),g=e!==void 0,b=g?e:a;{const j=reactExports.useRef(e!==void 0);reactExports.useEffect(()=>{const $=j.current;$!==g&&console.warn(`${o} is changing from ${$?"controlled":"uncontrolled"} to ${g?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),j.current=g},[g,o])}const _=reactExports.useCallback(j=>{var $;if(g){const _e=isFunction(j)?j(e):j;_e!==e&&(($=h.current)==null||$.call(h,_e))}else d(j)},[g,e,d,h]);return[b,_]}function useUncontrolledState({defaultProp:e,onChange:i}){const[s,o]=reactExports.useState(e),a=reactExports.useRef(s),d=reactExports.useRef(i);return useInsertionEffect(()=>{d.current=i},[i]),reactExports.useEffect(()=>{var h;a.current!==s&&((h=d.current)==null||h.call(d,s),a.current=s)},[s,a]),[s,o,d]}function isFunction(e){return typeof e=="function"}function createSlot$1(e){const i=createSlotClone$1(e),s=reactExports.forwardRef((o,a)=>{const{children:d,...h}=o,g=reactExports.Children.toArray(d),b=g.find(isSlottable$1);if(b){const _=b.props.children,j=g.map($=>$===b?reactExports.Children.count(_)>1?reactExports.Children.only(null):reactExports.isValidElement(_)?_.props.children:null:$);return jsxRuntimeExports.jsx(i,{...h,ref:a,children:reactExports.isValidElement(_)?reactExports.cloneElement(_,void 0,j):null})}return jsxRuntimeExports.jsx(i,{...h,ref:a,children:d})});return s.displayName=`${e}.Slot`,s}function createSlotClone$1(e){const i=reactExports.forwardRef((s,o)=>{const{children:a,...d}=s;if(reactExports.isValidElement(a)){const h=getElementRef$1(a),g=mergeProps$1(d,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,h):h),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return i.displayName=`${e}.SlotClone`,i}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(e,i){const s={...i};for(const o in i){const a=e[o],d=i[o];/^on[A-Z]/.test(o)?a&&d?s[o]=(...g)=>{const b=d(...g);return a(...g),b}:a&&(s[o]=a):o==="style"?s[o]={...a,...d}:o==="className"&&(s[o]=[a,d].filter(Boolean).join(" "))}return{...e,...s}}function getElementRef$1(e){var o,a;let i=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?e.ref:(i=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((e,i)=>{const s=createSlot$1(`Primitive.${i}`),o=reactExports.forwardRef((a,d)=>{const{asChild:h,...g}=a,b=h?s:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(b,{...g,ref:d})});return o.displayName=`Primitive.${i}`,{...e,[i]:o}},{}),VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((e,i)=>jsxRuntimeExports.jsx(Primitive$1.span,{...e,ref:i,style:{...VISUALLY_HIDDEN_STYLES,...e.style}}));VisuallyHidden.displayName=NAME$1;var PROVIDER_NAME="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext]=createContextScope("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),ToastProvider$1=e=>{const{__scopeToast:i,label:s="Notification",duration:o=5e3,swipeDirection:a="right",swipeThreshold:d=50,children:h}=e,[g,b]=reactExports.useState(null),[_,j]=reactExports.useState(0),$=reactExports.useRef(!1),_e=reactExports.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:i,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:i,label:s,duration:o,swipeDirection:a,swipeThreshold:d,toastCount:_,viewport:g,onViewportChange:b,onToastAdd:reactExports.useCallback(()=>j(et=>et+1),[]),onToastRemove:reactExports.useCallback(()=>j(et=>et-1),[]),isFocusedToastEscapeKeyDownRef:$,isClosePausedRef:_e,children:h})})};ToastProvider$1.displayName=PROVIDER_NAME;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((e,i)=>{const{__scopeToast:s,hotkey:o=VIEWPORT_DEFAULT_HOTKEY,label:a="Notifications ({hotkey})",...d}=e,h=useToastProviderContext(VIEWPORT_NAME,s),g=useCollection(s),b=reactExports.useRef(null),_=reactExports.useRef(null),j=reactExports.useRef(null),$=reactExports.useRef(null),_e=useComposedRefs(i,$,h.onViewportChange),et=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),nt=h.toastCount>0;reactExports.useEffect(()=>{const st=tt=>{var ot;o.length!==0&&o.every(ut=>tt[ut]||tt.code===ut)&&((ot=$.current)==null||ot.focus())};return document.addEventListener("keydown",st),()=>document.removeEventListener("keydown",st)},[o]),reactExports.useEffect(()=>{const st=b.current,tt=$.current;if(nt&&st&&tt){const rt=()=>{if(!h.isClosePausedRef.current){const ct=new CustomEvent(VIEWPORT_PAUSE);tt.dispatchEvent(ct),h.isClosePausedRef.current=!0}},ot=()=>{if(h.isClosePausedRef.current){const ct=new CustomEvent(VIEWPORT_RESUME);tt.dispatchEvent(ct),h.isClosePausedRef.current=!1}},ut=ct=>{!st.contains(ct.relatedTarget)&&ot()},lt=()=>{st.contains(document.activeElement)||ot()};return st.addEventListener("focusin",rt),st.addEventListener("focusout",ut),st.addEventListener("pointermove",rt),st.addEventListener("pointerleave",lt),window.addEventListener("blur",rt),window.addEventListener("focus",ot),()=>{st.removeEventListener("focusin",rt),st.removeEventListener("focusout",ut),st.removeEventListener("pointermove",rt),st.removeEventListener("pointerleave",lt),window.removeEventListener("blur",rt),window.removeEventListener("focus",ot)}}},[nt,h.isClosePausedRef]);const it=reactExports.useCallback(({tabbingDirection:st})=>{const rt=g().map(ot=>{const ut=ot.ref.current,lt=[ut,...getTabbableCandidates(ut)];return st==="forwards"?lt:lt.reverse()});return(st==="forwards"?rt.reverse():rt).flat()},[g]);return reactExports.useEffect(()=>{const st=$.current;if(st){const tt=rt=>{var lt,ct,dt;const ot=rt.altKey||rt.ctrlKey||rt.metaKey;if(rt.key==="Tab"&&!ot){const ht=document.activeElement,mt=rt.shiftKey;if(rt.target===st&&mt){(lt=_.current)==null||lt.focus();return}const bt=it({tabbingDirection:mt?"backwards":"forwards"}),wt=bt.findIndex(Ct=>Ct===ht);focusFirst(bt.slice(wt+1))?rt.preventDefault():mt?(ct=_.current)==null||ct.focus():(dt=j.current)==null||dt.focus()}};return st.addEventListener("keydown",tt),()=>st.removeEventListener("keydown",tt)}},[g,it]),jsxRuntimeExports.jsxs(Branch,{ref:b,role:"region","aria-label":a.replace("{hotkey}",et),tabIndex:-1,style:{pointerEvents:nt?void 0:"none"},children:[nt&&jsxRuntimeExports.jsx(FocusProxy,{ref:_,onFocusFromOutsideViewport:()=>{const st=it({tabbingDirection:"forwards"});focusFirst(st)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:s,children:jsxRuntimeExports.jsx(Primitive$2.ol,{tabIndex:-1,...d,ref:_e})}),nt&&jsxRuntimeExports.jsx(FocusProxy,{ref:j,onFocusFromOutsideViewport:()=>{const st=it({tabbingDirection:"backwards"});focusFirst(st)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((e,i)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...a}=e,d=useToastProviderContext(FOCUS_PROXY_NAME,s);return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:0,...a,ref:i,style:{position:"fixed"},onFocus:h=>{var _;const g=h.relatedTarget;!((_=d.viewport)!=null&&_.contains(g))&&o()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((e,i)=>{const{forceMount:s,open:o,defaultOpen:a,onOpenChange:d,...h}=e,[g,b]=useControllableState({prop:o,defaultProp:a??!0,onChange:d,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:s||g,children:jsxRuntimeExports.jsx(ToastImpl,{open:g,...h,ref:i,onClose:()=>b(!1),onPause:useCallbackRef(e.onPause),onResume:useCallbackRef(e.onResume),onSwipeStart:composeEventHandlers(e.onSwipeStart,_=>{_.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(e.onSwipeMove,_=>{const{x:j,y:$}=_.detail.delta;_.currentTarget.setAttribute("data-swipe","move"),_.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${j}px`),_.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${$}px`)}),onSwipeCancel:composeEventHandlers(e.onSwipeCancel,_=>{_.currentTarget.setAttribute("data-swipe","cancel"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),_.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(e.onSwipeEnd,_=>{const{x:j,y:$}=_.detail.delta;_.currentTarget.setAttribute("data-swipe","end"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),_.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${j}px`),_.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${$}px`),b(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((e,i)=>{const{__scopeToast:s,type:o="foreground",duration:a,open:d,onClose:h,onEscapeKeyDown:g,onPause:b,onResume:_,onSwipeStart:j,onSwipeMove:$,onSwipeCancel:_e,onSwipeEnd:et,...nt}=e,it=useToastProviderContext(TOAST_NAME,s),[st,tt]=reactExports.useState(null),rt=useComposedRefs(i,Ct=>tt(Ct)),ot=reactExports.useRef(null),ut=reactExports.useRef(null),lt=a||it.duration,ct=reactExports.useRef(0),dt=reactExports.useRef(lt),ht=reactExports.useRef(0),{onToastAdd:mt,onToastRemove:xt}=it,ft=useCallbackRef(()=>{var Tt;(st==null?void 0:st.contains(document.activeElement))&&((Tt=it.viewport)==null||Tt.focus()),h()}),bt=reactExports.useCallback(Ct=>{!Ct||Ct===1/0||(window.clearTimeout(ht.current),ct.current=new Date().getTime(),ht.current=window.setTimeout(ft,Ct))},[ft]);reactExports.useEffect(()=>{const Ct=it.viewport;if(Ct){const Tt=()=>{bt(dt.current),_==null||_()},St=()=>{const At=new Date().getTime()-ct.current;dt.current=dt.current-At,window.clearTimeout(ht.current),b==null||b()};return Ct.addEventListener(VIEWPORT_PAUSE,St),Ct.addEventListener(VIEWPORT_RESUME,Tt),()=>{Ct.removeEventListener(VIEWPORT_PAUSE,St),Ct.removeEventListener(VIEWPORT_RESUME,Tt)}}},[it.viewport,lt,b,_,bt]),reactExports.useEffect(()=>{d&&!it.isClosePausedRef.current&&bt(lt)},[d,lt,it.isClosePausedRef,bt]),reactExports.useEffect(()=>(mt(),()=>xt()),[mt,xt]);const wt=reactExports.useMemo(()=>st?getAnnounceTextContent(st):null,[st]);return it.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[wt&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:wt}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:s,onClose:ft,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:s,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,onEscapeKeyDown:composeEventHandlers(g,()=>{it.isFocusedToastEscapeKeyDownRef.current||ft(),it.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive$2.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":it.swipeDirection,...nt,ref:rt,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:composeEventHandlers(e.onKeyDown,Ct=>{Ct.key==="Escape"&&(g==null||g(Ct.nativeEvent),Ct.nativeEvent.defaultPrevented||(it.isFocusedToastEscapeKeyDownRef.current=!0,ft()))}),onPointerDown:composeEventHandlers(e.onPointerDown,Ct=>{Ct.button===0&&(ot.current={x:Ct.clientX,y:Ct.clientY})}),onPointerMove:composeEventHandlers(e.onPointerMove,Ct=>{if(!ot.current)return;const Tt=Ct.clientX-ot.current.x,St=Ct.clientY-ot.current.y,At=!!ut.current,Rt=["left","right"].includes(it.swipeDirection),Et=["left","up"].includes(it.swipeDirection)?Math.min:Math.max,gt=Rt?Et(0,Tt):0,Mt=Rt?0:Et(0,St),_t=Ct.pointerType==="touch"?10:2,at={x:gt,y:Mt},yt={originalEvent:Ct,delta:at};At?(ut.current=at,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,$,yt,{discrete:!1})):isDeltaInDirection(at,it.swipeDirection,_t)?(ut.current=at,handleAndDispatchCustomEvent(TOAST_SWIPE_START,j,yt,{discrete:!1}),Ct.target.setPointerCapture(Ct.pointerId)):(Math.abs(Tt)>_t||Math.abs(St)>_t)&&(ot.current=null)}),onPointerUp:composeEventHandlers(e.onPointerUp,Ct=>{const Tt=ut.current,St=Ct.target;if(St.hasPointerCapture(Ct.pointerId)&&St.releasePointerCapture(Ct.pointerId),ut.current=null,ot.current=null,Tt){const At=Ct.currentTarget,Rt={originalEvent:Ct,delta:Tt};isDeltaInDirection(Tt,it.swipeDirection,it.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,et,Rt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,_e,Rt,{discrete:!0}),At.addEventListener("click",Et=>Et.preventDefault(),{once:!0})}})})})}),it.viewport)})]}):null}),ToastAnnounce=e=>{const{__scopeToast:i,children:s,...o}=e,a=useToastProviderContext(TOAST_NAME,i),[d,h]=reactExports.useState(!1),[g,b]=reactExports.useState(!1);return useNextFrame(()=>h(!0)),reactExports.useEffect(()=>{const _=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(_)},[]),g?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...o,children:d&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a.label," ",s]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((e,i)=>{const{__scopeToast:s,...o}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{...o,ref:i})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((e,i)=>{const{__scopeToast:s,...o}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{...o,ref:i})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((e,i)=>{const{altText:s,...o}=e;return s.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:s,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...o,ref:i})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((e,i)=>{const{__scopeToast:s,...o}=e,a=useToastInteractiveContext(CLOSE_NAME,s);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...o,ref:i,onClick:composeEventHandlers(e.onClick,a.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((e,i)=>{const{__scopeToast:s,altText:o,...a}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...a,ref:i})});function getAnnounceTextContent(e){const i=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&i.push(o.textContent),isHTMLElement(o)){const a=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!a)if(d){const h=o.dataset.radixToastAnnounceAlt;h&&i.push(h)}else i.push(...getAnnounceTextContent(o))}}),i}function handleAndDispatchCustomEvent(e,i,s,{discrete:o}){const a=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});i&&a.addEventListener(e,i,{once:!0}),o?dispatchDiscreteCustomEvent(a,d):a.dispatchEvent(d)}var isDeltaInDirection=(e,i,s=0)=>{const o=Math.abs(e.x),a=Math.abs(e.y),d=o>a;return i==="left"||i==="right"?d&&o>s:!d&&a>s};function useNextFrame(e=()=>{}){const i=useCallbackRef(e);useLayoutEffect2(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(i)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[i])}function isHTMLElement(e){return e.nodeType===e.ELEMENT_NODE}function getTabbableCandidates(e){const i=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)i.push(s.currentNode);return i}function focusFirst(e){const i=document.activeElement;return e.some(s=>s===i?!0:(s.focus(),document.activeElement!==i))}var Provider=ToastProvider$1,Viewport=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action=ToastAction$1,Close=ToastClose$1;function r$1(e){var i,s,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(i=0;i<a;i++)e[i]&&(s=r$1(e[i]))&&(o&&(o+=" "),o+=s)}else for(s in e)e[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var e,i,s=0,o="",a=arguments.length;s<a;s++)(e=arguments[s])&&(i=r$1(e))&&(o&&(o+=" "),o+=i);return o}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,i)=>s=>{var o;if((i==null?void 0:i.variants)==null)return cx(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:d}=i,h=Object.keys(a).map(_=>{const j=s==null?void 0:s[_],$=d==null?void 0:d[_];if(j===null)return null;const _e=falsyToString(j)||falsyToString($);return a[_][_e]}),g=s&&Object.entries(s).reduce((_,j)=>{let[$,_e]=j;return _e===void 0||(_[$]=_e),_},{}),b=i==null||(o=i.compoundVariants)===null||o===void 0?void 0:o.reduce((_,j)=>{let{class:$,className:_e,...et}=j;return Object.entries(et).every(nt=>{let[it,st]=nt;return Array.isArray(st)?st.includes({...d,...g}[it]):{...d,...g}[it]===st})?[..._,$,_e]:_},[]);return cx(e,h,b,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,i)=>{const s=reactExports.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:h,className:g="",children:b,..._},j)=>reactExports.createElement("svg",{ref:j,...defaultAttributes,width:a,height:a,stroke:o,strokeWidth:h?Number(d)*24/Number(a):d,className:["lucide",`lucide-${toKebabCase(e)}`,g].join(" "),..._},[...i.map(([$,_e])=>reactExports.createElement($,_e)),...Array.isArray(b)?b:[b]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronsLeft=createLucideIcon("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronsRight=createLucideIcon("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Columns2=createLucideIcon("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Command=createLucideIcon("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Construction=createLucideIcon("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GripVertical=createLucideIcon("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HelpCircle=createLucideIcon("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Key=createLucideIcon("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Layers=createLucideIcon("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize2=createLucideIcon("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XCircle=createLucideIcon("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const i=createClassMap(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:h=>{const g=h.split(CLASS_PART_SEPARATOR);return g[0]===""&&g.length!==1&&g.shift(),getGroupRecursive(g,i)||getGroupIdForArbitraryProperty(h)},getConflictingClassGroupIds:(h,g)=>{const b=s[h]||[];return g&&o[h]?[...b,...o[h]]:b}}},getGroupRecursive=(e,i)=>{var h;if(e.length===0)return i.classGroupId;const s=e[0],o=i.nextPart.get(s),a=o?getGroupRecursive(e.slice(1),o):void 0;if(a)return a;if(i.validators.length===0)return;const d=e.join(CLASS_PART_SEPARATOR);return(h=i.validators.find(({validator:g})=>g(d)))==null?void 0:h.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const i=arbitraryPropertyRegex.exec(e)[1],s=i==null?void 0:i.substring(0,i.indexOf(":"));if(s)return"arbitrary.."+s}},createClassMap=e=>{const{theme:i,prefix:s}=e,o={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(e.classGroups),s).forEach(([d,h])=>{processClassesRecursively(h,o,d,i)}),o},processClassesRecursively=(e,i,s,o)=>{e.forEach(a=>{if(typeof a=="string"){const d=a===""?i:getPart(i,a);d.classGroupId=s;return}if(typeof a=="function"){if(isThemeGetter(a)){processClassesRecursively(a(o),i,s,o);return}i.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([d,h])=>{processClassesRecursively(h,getPart(i,d),s,o)})})},getPart=(e,i)=>{let s=e;return i.split(CLASS_PART_SEPARATOR).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},isThemeGetter=e=>e.isThemeGetter,getPrefixedClassGroupEntries=(e,i)=>i?e.map(([s,o])=>{const a=o.map(d=>typeof d=="string"?i+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([h,g])=>[i+h,g])):d);return[s,a]}):e,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let i=0,s=new Map,o=new Map;const a=(d,h)=>{s.set(d,h),i++,i>e&&(i=0,o=s,s=new Map)};return{get(d){let h=s.get(d);if(h!==void 0)return h;if((h=o.get(d))!==void 0)return a(d,h),h},set(d,h){s.has(d)?s.set(d,h):a(d,h)}}},IMPORTANT_MODIFIER="!",createParseClassName=e=>{const{separator:i,experimentalParseClassName:s}=e,o=i.length===1,a=i[0],d=i.length,h=g=>{const b=[];let _=0,j=0,$;for(let st=0;st<g.length;st++){let tt=g[st];if(_===0){if(tt===a&&(o||g.slice(st,st+d)===i)){b.push(g.slice(j,st)),j=st+d;continue}if(tt==="/"){$=st;continue}}tt==="["?_++:tt==="]"&&_--}const _e=b.length===0?g:g.substring(j),et=_e.startsWith(IMPORTANT_MODIFIER),nt=et?_e.substring(1):_e,it=$&&$>j?$-j:void 0;return{modifiers:b,hasImportantModifier:et,baseClassName:nt,maybePostfixModifierPosition:it}};return s?g=>s({className:g,parseClassName:h}):h},sortModifiers=e=>{if(e.length<=1)return e;const i=[];let s=[];return e.forEach(o=>{o[0]==="["?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,i)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:a}=i,d=[],h=e.trim().split(SPLIT_CLASSES_REGEX);let g="";for(let b=h.length-1;b>=0;b-=1){const _=h[b],{modifiers:j,hasImportantModifier:$,baseClassName:_e,maybePostfixModifierPosition:et}=s(_);let nt=!!et,it=o(nt?_e.substring(0,et):_e);if(!it){if(!nt){g=_+(g.length>0?" "+g:g);continue}if(it=o(_e),!it){g=_+(g.length>0?" "+g:g);continue}nt=!1}const st=sortModifiers(j).join(":"),tt=$?st+IMPORTANT_MODIFIER:st,rt=tt+it;if(d.includes(rt))continue;d.push(rt);const ot=a(it,nt);for(let ut=0;ut<ot.length;++ut){const lt=ot[ut];d.push(tt+lt)}g=_+(g.length>0?" "+g:g)}return g};function twJoin(){let e=0,i,s,o="";for(;e<arguments.length;)(i=arguments[e++])&&(s=toValue(i))&&(o&&(o+=" "),o+=s);return o}const toValue=e=>{if(typeof e=="string")return e;let i,s="";for(let o=0;o<e.length;o++)e[o]&&(i=toValue(e[o]))&&(s&&(s+=" "),s+=i);return s};function createTailwindMerge(e,...i){let s,o,a,d=h;function h(b){const _=i.reduce((j,$)=>$(j),e());return s=createConfigUtils(_),o=s.cache.get,a=s.cache.set,d=g,g(b)}function g(b){const _=o(b);if(_)return _;const j=mergeClassList(b,s);return a(b,j),j}return function(){return d(twJoin.apply(null,arguments))}}const fromTheme=e=>{const i=s=>s[e]||[];return i.isThemeGetter=!0,i},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=e=>isNumber(e)||stringLengths.has(e)||fractionRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,"length",isLengthOnly),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isArbitraryNumber=e=>getIsArbitraryValue(e,"number",isNumber),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isArbitraryValue=e=>arbitraryValueRegex.test(e),isTshirtSize=e=>tshirtUnitRegex.test(e),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=e=>getIsArbitraryValue(e,sizeLabels,isNever),isArbitraryPosition=e=>getIsArbitraryValue(e,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=e=>getIsArbitraryValue(e,imageLabels,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(e,i,s)=>{const o=arbitraryValueRegex.exec(e);return o?o[1]?typeof i=="string"?o[1]===i:i.has(o[1]):s(o[2]):!1},isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),getDefaultConfig=()=>{const e=fromTheme("colors"),i=fromTheme("spacing"),s=fromTheme("blur"),o=fromTheme("brightness"),a=fromTheme("borderColor"),d=fromTheme("borderRadius"),h=fromTheme("borderSpacing"),g=fromTheme("borderWidth"),b=fromTheme("contrast"),_=fromTheme("grayscale"),j=fromTheme("hueRotate"),$=fromTheme("invert"),_e=fromTheme("gap"),et=fromTheme("gradientColorStops"),nt=fromTheme("gradientColorStopPositions"),it=fromTheme("inset"),st=fromTheme("margin"),tt=fromTheme("opacity"),rt=fromTheme("padding"),ot=fromTheme("saturate"),ut=fromTheme("scale"),lt=fromTheme("sepia"),ct=fromTheme("skew"),dt=fromTheme("space"),ht=fromTheme("translate"),mt=()=>["auto","contain","none"],xt=()=>["auto","hidden","clip","visible","scroll"],ft=()=>["auto",isArbitraryValue,i],bt=()=>[isArbitraryValue,i],wt=()=>["",isLength,isArbitraryLength],Ct=()=>["auto",isNumber,isArbitraryValue],Tt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],St=()=>["solid","dashed","dotted","double","none"],At=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Rt=()=>["start","end","center","between","around","evenly","stretch"],Et=()=>["","0",isArbitraryValue],gt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Mt=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Mt(),borderColor:[e],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:bt(),borderWidth:wt(),contrast:Mt(),grayscale:Et(),hueRotate:Mt(),invert:Et(),gap:bt(),gradientColorStops:[e],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:ft(),margin:ft(),opacity:Mt(),padding:bt(),saturate:Mt(),scale:Mt(),sepia:Et(),skew:Mt(),space:bt(),translate:bt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":gt()}],"break-before":[{"break-before":gt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Tt(),isArbitraryValue]}],overflow:[{overflow:xt()}],"overflow-x":[{"overflow-x":xt()}],"overflow-y":[{"overflow-y":xt()}],overscroll:[{overscroll:mt()}],"overscroll-x":[{"overscroll-x":mt()}],"overscroll-y":[{"overscroll-y":mt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[it]}],"inset-x":[{"inset-x":[it]}],"inset-y":[{"inset-y":[it]}],start:[{start:[it]}],end:[{end:[it]}],top:[{top:[it]}],right:[{right:[it]}],bottom:[{bottom:[it]}],left:[{left:[it]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:ft()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Et()}],shrink:[{shrink:Et()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Ct()}],"col-end":[{"col-end":Ct()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Ct()}],"row-end":[{"row-end":Ct()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[_e]}],"gap-x":[{"gap-x":[_e]}],"gap-y":[{"gap-y":[_e]}],"justify-content":[{justify:["normal",...Rt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Rt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Rt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[rt]}],px:[{px:[rt]}],py:[{py:[rt]}],ps:[{ps:[rt]}],pe:[{pe:[rt]}],pt:[{pt:[rt]}],pr:[{pr:[rt]}],pb:[{pb:[rt]}],pl:[{pl:[rt]}],m:[{m:[st]}],mx:[{mx:[st]}],my:[{my:[st]}],ms:[{ms:[st]}],me:[{me:[st]}],mt:[{mt:[st]}],mr:[{mr:[st]}],mb:[{mb:[st]}],ml:[{ml:[st]}],"space-x":[{"space-x":[dt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[dt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,i]}],"min-w":[{"min-w":[isArbitraryValue,i,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,i,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,i,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,i,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,i,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,i,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[tt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...St(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:bt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[tt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Tt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[nt]}],"gradient-via-pos":[{via:[nt]}],"gradient-to-pos":[{to:[nt]}],"gradient-from":[{from:[et]}],"gradient-via":[{via:[et]}],"gradient-to":[{to:[et]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[tt]}],"border-style":[{border:[...St(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[tt]}],"divide-style":[{divide:St()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...St()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:wt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[tt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[tt]}],"mix-blend":[{"mix-blend":[...At(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":At()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[b]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[_]}],"hue-rotate":[{"hue-rotate":[j]}],invert:[{invert:[$]}],saturate:[{saturate:[ot]}],sepia:[{sepia:[lt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[b]}],"backdrop-grayscale":[{"backdrop-grayscale":[_]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[j]}],"backdrop-invert":[{"backdrop-invert":[$]}],"backdrop-opacity":[{"backdrop-opacity":[tt]}],"backdrop-saturate":[{"backdrop-saturate":[ot]}],"backdrop-sepia":[{"backdrop-sepia":[lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Mt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Mt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ut]}],"scale-x":[{"scale-x":[ut]}],"scale-y":[{"scale-y":[ut]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[ht]}],"translate-y":[{"translate-y":[ht]}],"skew-x":[{"skew-x":[ct]}],"skew-y":[{"skew-y":[ct]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":bt()}],"scroll-mx":[{"scroll-mx":bt()}],"scroll-my":[{"scroll-my":bt()}],"scroll-ms":[{"scroll-ms":bt()}],"scroll-me":[{"scroll-me":bt()}],"scroll-mt":[{"scroll-mt":bt()}],"scroll-mr":[{"scroll-mr":bt()}],"scroll-mb":[{"scroll-mb":bt()}],"scroll-ml":[{"scroll-ml":bt()}],"scroll-p":[{"scroll-p":bt()}],"scroll-px":[{"scroll-px":bt()}],"scroll-py":[{"scroll-py":bt()}],"scroll-ps":[{"scroll-ps":bt()}],"scroll-pe":[{"scroll-pe":bt()}],"scroll-pt":[{"scroll-pt":bt()}],"scroll-pr":[{"scroll-pr":bt()}],"scroll-pb":[{"scroll-pb":bt()}],"scroll-pl":[{"scroll-pl":bt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}function formatDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e))}function formatFileSize(e){if(!e)return"0 B";const i=["B","KB","MB","GB"];let s=0,o=e;for(;o>=1024&&s<i.length-1;)o/=1024,s++;return`${o.toFixed(1)} ${i[s]}`}const ToastProvider=Provider,ToastViewport=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx(Viewport,{ref:s,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...i}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:e,variant:i,...s},o)=>jsxRuntimeExports.jsx(Root2,{ref:o,className:cn(toastVariants({variant:i}),e),...s}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx(Action,{ref:s,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...i}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx(Close,{ref:s,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...i,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx(Title,{ref:s,className:cn("text-sm font-semibold",e),...i}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx(Description,{ref:s,className:cn("text-sm opacity-90",e),...i}));ToastDescription.displayName=Description.displayName;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=e=>{if(toastTimeouts.has(e))return;const i=setTimeout(()=>{toastTimeouts.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},TOAST_REMOVE_DELAY);toastTimeouts.set(e,i)},reducer$1=(e,i)=>{switch(i.type){case"ADD_TOAST":return{...e,toasts:[i.toast,...e.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===i.toast.id?{...s,...i.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=i;return s?addToRemoveQueue(s):e.toasts.forEach(o=>{addToRemoveQueue(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return i.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==i.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(e){memoryState=reducer$1(memoryState,e),listeners.forEach(i=>{i(memoryState)})}function toast({...e}){const i=genId(),s=a=>dispatch({type:"UPDATE_TOAST",toast:{...a,id:i}}),o=()=>dispatch({type:"DISMISS_TOAST",toastId:i});return dispatch({type:"ADD_TOAST",toast:{...e,id:i,open:!0,onOpenChange:a=>{a||o()}}}),{id:i,dismiss:o,update:s}}function useToast(){const[e,i]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(i),()=>{const s=listeners.indexOf(i);s>-1&&listeners.splice(s,1)}),[e]),{...e,toast,dismiss:s=>dispatch({type:"DISMISS_TOAST",toastId:s})}}function Toaster(){const{toasts:e}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[e.map(function({id:i,title:s,description:o,action:a,...d}){return jsxRuntimeExports.jsxs(Toast,{...d,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[s&&jsxRuntimeExports.jsx(ToastTitle,{children:s}),o&&jsxRuntimeExports.jsx(ToastDescription,{children:o})]}),a,jsxRuntimeExports.jsx(ToastClose,{})]},i)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}const __vite_import_meta_env__$2={},createStoreImpl=e=>{let i;const s=new Set,o=(j,$)=>{const _e=typeof j=="function"?j(i):j;if(!Object.is(_e,i)){const et=i;i=$??(typeof _e!="object"||_e===null)?_e:Object.assign({},i,_e),s.forEach(nt=>nt(i,et))}},a=()=>i,b={setState:o,getState:a,getInitialState:()=>_,subscribe:j=>(s.add(j),()=>s.delete(j)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},_=i=e(o,a,b);return b},createStore=e=>e?createStoreImpl(e):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(e,i){var s=i(),o=useState({inst:{value:s,getSnapshot:i}}),a=o[0].inst,d=o[1];return useLayoutEffect(function(){a.value=s,a.getSnapshot=i,checkIfSnapshotChanged(a)&&d({inst:a})},[e,s,i]),useEffect$1(function(){return checkIfSnapshotChanged(a)&&d({inst:a}),e(function(){checkIfSnapshotChanged(a)&&d({inst:a})})},[e]),useDebugValue$2(s),s}function checkIfSnapshotChanged(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!objectIs$1(e,s)}catch{return!0}}function useSyncExternalStore$1(e,i){return i()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(e,i,s,o,a){var d=useRef(null);if(d.current===null){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=useMemo(function(){function b(et){if(!_){if(_=!0,j=et,et=o(et),a!==void 0&&h.hasValue){var nt=h.value;if(a(nt,et))return $=nt}return $=et}if(nt=$,objectIs(j,et))return nt;var it=o(et);return a!==void 0&&a(nt,it)?(j=et,nt):(j=et,$=it)}var _=!1,j,$,_e=s===void 0?null:s;return[function(){return b(i())},_e===null?void 0:function(){return b(_e())}]},[i,s,o,a]);var g=useSyncExternalStore(e,d[0],d[1]);return useEffect(function(){h.hasValue=!0,h.value=g},[g]),useDebugValue$1(g),g};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=e=>e;function useStore(e,i=identity,s){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&s&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const o=useSyncExternalStoreWithSelector(e.subscribe,e.getState,e.getServerState||e.getInitialState,i,s);return useDebugValue(o),o}const createImpl=e=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const i=typeof e=="function"?createStore(e):e,s=(o,a)=>useStore(i,o,a);return Object.assign(s,i),s},create$1=e=>createImpl,__vite_import_meta_env__={};function createJSONStorage(e,i){let s;try{s=e()}catch{return}return{getItem:a=>{var d;const h=b=>b===null?null:JSON.parse(b,void 0),g=(d=s.getItem(a))!=null?d:null;return g instanceof Promise?g.then(h):h(g)},setItem:(a,d)=>s.setItem(a,JSON.stringify(d,void 0)),removeItem:a=>s.removeItem(a)}}const toThenable=e=>i=>{try{const s=e(i);return s instanceof Promise?s:{then(o){return toThenable(o)(s)},catch(o){return this}}}catch(s){return{then(o){return this},catch(o){return toThenable(o)(s)}}}},oldImpl=(e,i)=>(s,o,a)=>{let d={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:st=>st,version:0,merge:(st,tt)=>({...tt,...st}),...i},h=!1;const g=new Set,b=new Set;let _;try{_=d.getStorage()}catch{}if(!_)return e((...st)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),s(...st)},o,a);const j=toThenable(d.serialize),$=()=>{const st=d.partialize({...o()});let tt;const rt=j({state:st,version:d.version}).then(ot=>_.setItem(d.name,ot)).catch(ot=>{tt=ot});if(tt)throw tt;return rt},_e=a.setState;a.setState=(st,tt)=>{_e(st,tt),$()};const et=e((...st)=>{s(...st),$()},o,a);let nt;const it=()=>{var st;if(!_)return;h=!1,g.forEach(rt=>rt(o()));const tt=((st=d.onRehydrateStorage)==null?void 0:st.call(d,o()))||void 0;return toThenable(_.getItem.bind(_))(d.name).then(rt=>{if(rt)return d.deserialize(rt)}).then(rt=>{if(rt)if(typeof rt.version=="number"&&rt.version!==d.version){if(d.migrate)return d.migrate(rt.state,rt.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return rt.state}).then(rt=>{var ot;return nt=d.merge(rt,(ot=o())!=null?ot:et),s(nt,!0),$()}).then(()=>{tt==null||tt(nt,void 0),h=!0,b.forEach(rt=>rt(nt))}).catch(rt=>{tt==null||tt(void 0,rt)})};return a.persist={setOptions:st=>{d={...d,...st},st.getStorage&&(_=st.getStorage())},clearStorage:()=>{_==null||_.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>it(),hasHydrated:()=>h,onHydrate:st=>(g.add(st),()=>{g.delete(st)}),onFinishHydration:st=>(b.add(st),()=>{b.delete(st)})},it(),nt||et},newImpl=(e,i)=>(s,o,a)=>{let d={storage:createJSONStorage(()=>localStorage),partialize:it=>it,version:0,merge:(it,st)=>({...st,...it}),...i},h=!1;const g=new Set,b=new Set;let _=d.storage;if(!_)return e((...it)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),s(...it)},o,a);const j=()=>{const it=d.partialize({...o()});return _.setItem(d.name,{state:it,version:d.version})},$=a.setState;a.setState=(it,st)=>{$(it,st),j()};const _e=e((...it)=>{s(...it),j()},o,a);a.getInitialState=()=>_e;let et;const nt=()=>{var it,st;if(!_)return;h=!1,g.forEach(rt=>{var ot;return rt((ot=o())!=null?ot:_e)});const tt=((st=d.onRehydrateStorage)==null?void 0:st.call(d,(it=o())!=null?it:_e))||void 0;return toThenable(_.getItem.bind(_))(d.name).then(rt=>{if(rt)if(typeof rt.version=="number"&&rt.version!==d.version){if(d.migrate)return[!0,d.migrate(rt.state,rt.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,rt.state];return[!1,void 0]}).then(rt=>{var ot;const[ut,lt]=rt;if(et=d.merge(lt,(ot=o())!=null?ot:_e),s(et,!0),ut)return j()}).then(()=>{tt==null||tt(et,void 0),et=o(),h=!0,b.forEach(rt=>rt(et))}).catch(rt=>{tt==null||tt(void 0,rt)})};return a.persist={setOptions:it=>{d={...d,...it},it.storage&&(_=it.storage)},clearStorage:()=>{_==null||_.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>nt(),hasHydrated:()=>h,onHydrate:it=>(g.add(it),()=>{g.delete(it)}),onFinishHydration:it=>(b.add(it),()=>{b.delete(it)})},d.skipHydration||nt(),et||_e},persistImpl=(e,i)=>"getStorage"in i||"serialize"in i||"deserialize"in i?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(e,i)):newImpl(e,i),persist=persistImpl,config={apiUrl:"http://localhost:3001"};function apiEndpoint(e){const i=config.apiUrl.replace(/\/$/,""),s=e.replace(/^\//,"");return`${i}/${s}`}const useAuthStore=create$1()(persist((e,i)=>({user:null,token:null,isLoading:!0,error:null,setUser:s=>e({user:s}),setToken:s=>e({token:s}),setLoading:s=>e({isLoading:s}),setError:s=>e({error:s}),signInWithEmail:async(s,o)=>{e({isLoading:!0,error:null});try{const a=await fetch(apiEndpoint("api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,password:o})}),d=await a.json();if(!a.ok)throw new Error(d.error||"Failed to sign in");e({user:d.user,token:d.token})}catch(a){const d=a instanceof Error?a.message:"Failed to sign in";throw e({error:d}),a}finally{e({isLoading:!1})}},signUpWithEmail:async(s,o,a)=>{e({isLoading:!0,error:null});try{const d=await fetch(apiEndpoint("api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,password:o,name:a})}),h=await d.json();if(!d.ok)throw new Error(h.error||"Failed to sign up");e({user:h.user,token:h.token})}catch(d){const h=d instanceof Error?d.message:"Failed to sign up";throw e({error:h}),d}finally{e({isLoading:!1})}},signOut:async()=>{e({isLoading:!0});try{await fetch(apiEndpoint("api/auth/logout"),{method:"POST",credentials:"include"}),e({user:null,token:null})}catch(s){const o=s instanceof Error?s.message:"Failed to sign out";e({error:o})}finally{e({isLoading:!1})}},fetchUser:async()=>{const{token:s}=i();if(s)try{const o=await fetch(apiEndpoint("api/auth/me"),{credentials:"include",headers:{Authorization:`Bearer ${s}`}});if(o.ok){const a=await o.json();e({user:a.user})}else e({user:null,token:null})}catch(o){console.error("Error fetching user:",o),e({user:null,token:null})}},initialize:async()=>{e({isLoading:!0});try{const{token:s}=i();s&&await i().fetchUser()}catch(s){console.error("Error initializing auth:",s)}finally{e({isLoading:!1})}}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user})})),isString$2=e=>typeof e=="string",defer=()=>{let e,i;const s=new Promise((o,a)=>{e=o,i=a});return s.resolve=e,s.reject=i,s},makeString=e=>e==null?"":""+e,copy=(e,i,s)=>{e.forEach(o=>{i[o]&&(s[o]=i[o])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=e=>e&&e.indexOf("###")>-1?e.replace(lastOfPathSeparatorRegExp,"."):e,canNotTraverseDeeper=e=>!e||isString$2(e),getLastOfPath=(e,i,s)=>{const o=isString$2(i)?i.split("."):i;let a=0;for(;a<o.length-1;){if(canNotTraverseDeeper(e))return{};const d=cleanKey(o[a]);!e[d]&&s&&(e[d]=new s),Object.prototype.hasOwnProperty.call(e,d)?e=e[d]:e={},++a}return canNotTraverseDeeper(e)?{}:{obj:e,k:cleanKey(o[a])}},setPath=(e,i,s)=>{const{obj:o,k:a}=getLastOfPath(e,i,Object);if(o!==void 0||i.length===1){o[a]=s;return}let d=i[i.length-1],h=i.slice(0,i.length-1),g=getLastOfPath(e,h,Object);for(;g.obj===void 0&&h.length;)d=`${h[h.length-1]}.${d}`,h=h.slice(0,h.length-1),g=getLastOfPath(e,h,Object),g!=null&&g.obj&&typeof g.obj[`${g.k}.${d}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${d}`]=s},pushPath=(e,i,s,o)=>{const{obj:a,k:d}=getLastOfPath(e,i,Object);a[d]=a[d]||[],a[d].push(s)},getPath=(e,i)=>{const{obj:s,k:o}=getLastOfPath(e,i);if(s&&Object.prototype.hasOwnProperty.call(s,o))return s[o]},getPathWithDefaults=(e,i,s)=>{const o=getPath(e,s);return o!==void 0?o:getPath(i,s)},deepExtend=(e,i,s)=>{for(const o in i)o!=="__proto__"&&o!=="constructor"&&(o in e?isString$2(e[o])||e[o]instanceof String||isString$2(i[o])||i[o]instanceof String?s&&(e[o]=i[o]):deepExtend(e[o],i[o],s):e[o]=i[o]);return e},regexEscape=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape$2=e=>isString$2(e)?e.replace(/[&<>"'\/]/g,i=>_entityMap[i]):e;class RegExpCache{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const s=this.regExpMap.get(i);if(s!==void 0)return s;const o=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,o),this.regExpQueue.push(i),o}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(e,i,s)=>{i=i||"",s=s||"";const o=chars.filter(h=>i.indexOf(h)<0&&s.indexOf(h)<0);if(o.length===0)return!0;const a=looksLikeObjectPathRegExpCache.getRegExp(`(${o.map(h=>h==="?"?"\\?":h).join("|")})`);let d=!a.test(e);if(!d){const h=e.indexOf(s);h>0&&!a.test(e.substring(0,h))&&(d=!0)}return d},deepFind=(e,i,s=".")=>{if(!e)return;if(e[i])return Object.prototype.hasOwnProperty.call(e,i)?e[i]:void 0;const o=i.split(s);let a=e;for(let d=0;d<o.length;){if(!a||typeof a!="object")return;let h,g="";for(let b=d;b<o.length;++b)if(b!==d&&(g+=s),g+=o[b],h=a[g],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&b<o.length-1)continue;d+=b-d+1;break}a=h}return a},getCleanedCode=e=>e==null?void 0:e.replace("_","-"),consoleLogger={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,i){var s,o;(o=(s=console==null?void 0:console[e])==null?void 0:s.apply)==null||o.call(s,console,i)}};class Logger{constructor(i,s={}){this.init(i,s)}init(i,s={}){this.prefix=s.prefix||"i18next:",this.logger=i||consoleLogger,this.options=s,this.debug=s.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,s,o,a){return a&&!this.debug?null:(isString$2(i[0])&&(i[0]=`${o}${this.prefix} ${i[0]}`),this.logger[s](i))}create(i){return new Logger(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new Logger(this.logger,i)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(i,s){return i.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const a=this.observers[o].get(s)||0;this.observers[o].set(s,a+1)}),this}off(i,s){if(this.observers[i]){if(!s){delete this.observers[i];return}this.observers[i].delete(s)}}emit(i,...s){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([a,d])=>{for(let h=0;h<d;h++)a(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,d])=>{for(let h=0;h<d;h++)a.apply(a,[i,...s])})}}class ResourceStore extends EventEmitter{constructor(i,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}getResource(i,s,o,a={}){var _,j;const d=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,h=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;i.indexOf(".")>-1?g=i.split("."):(g=[i,s],o&&(Array.isArray(o)?g.push(...o):isString$2(o)&&d?g.push(...o.split(d)):g.push(o)));const b=getPath(this.data,g);return!b&&!s&&!o&&i.indexOf(".")>-1&&(i=g[0],s=g[1],o=g.slice(2).join(".")),b||!h||!isString$2(o)?b:deepFind((j=(_=this.data)==null?void 0:_[i])==null?void 0:j[s],o,d)}addResource(i,s,o,a,d={silent:!1}){const h=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let g=[i,s];o&&(g=g.concat(h?o.split(h):o)),i.indexOf(".")>-1&&(g=i.split("."),a=s,s=g[1]),this.addNamespaces(s),setPath(this.data,g,a),d.silent||this.emit("added",i,s,o,a)}addResources(i,s,o,a={silent:!1}){for(const d in o)(isString$2(o[d])||Array.isArray(o[d]))&&this.addResource(i,s,d,o[d],{silent:!0});a.silent||this.emit("added",i,s,o)}addResourceBundle(i,s,o,a,d,h={silent:!1,skipCopy:!1}){let g=[i,s];i.indexOf(".")>-1&&(g=i.split("."),a=o,o=s,s=g[1]),this.addNamespaces(s);let b=getPath(this.data,g)||{};h.skipCopy||(o=JSON.parse(JSON.stringify(o))),a?deepExtend(b,o,d):b={...b,...o},setPath(this.data,g,b),h.silent||this.emit("added",i,s,o)}removeResourceBundle(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}hasResourceBundle(i,s){return this.getResource(i,s)!==void 0}getResourceBundle(i,s){return s||(s=this.options.defaultNS),this.getResource(i,s)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const s=this.getDataByLanguage(i);return!!(s&&Object.keys(s)||[]).find(a=>s[a]&&Object.keys(s[a]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,i,s,o,a){return e.forEach(d=>{var h;i=((h=this.processors[d])==null?void 0:h.process(i,s,o,a))??i}),i}};const PATH_KEY=Symbol("i18next/PATH_KEY");function createProxy(){const e=[],i=Object.create(null);let s;return i.get=(o,a)=>{var d;return(d=s==null?void 0:s.revoke)==null||d.call(s),a===PATH_KEY?e:(e.push(a),s=Proxy.revocable(o,i),s.proxy)},Proxy.revocable(Object.create(null),i).proxy}function keysFromSelector(e,i){const{[PATH_KEY]:s}=e(createProxy());return s.join((i==null?void 0:i.keySeparator)??".")}const checkedLoadedFor={},shouldHandleAsObject=e=>!isString$2(e)&&typeof e!="boolean"&&typeof e!="number";class Translator extends EventEmitter{constructor(i,s={}){super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,s={interpolation:{}}){const o={...s};if(i==null)return!1;const a=this.resolve(i,o);if((a==null?void 0:a.res)===void 0)return!1;const d=shouldHandleAsObject(a.res);return!(o.returnObjects===!1&&d)}extractFromKey(i,s){let o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let d=s.ns||this.options.defaultNS||[];const h=o&&i.indexOf(o)>-1,g=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!looksLikeObjectPath(i,o,a);if(h&&!g){const b=i.match(this.interpolator.nestingRegexp);if(b&&b.length>0)return{key:i,namespaces:isString$2(d)?[d]:d};const _=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(_[0])>-1)&&(d=_.shift()),i=_.join(a)}return{key:i,namespaces:isString$2(d)?[d]:d}}translate(i,s,o){let a=typeof s=="object"?{...s}:s;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),i==null)return"";typeof i=="function"&&(i=keysFromSelector(i,{...this.options,...a})),Array.isArray(i)||(i=[String(i)]);const d=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,h=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:g,namespaces:b}=this.extractFromKey(i[i.length-1],a),_=b[b.length-1];let j=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;j===void 0&&(j=":");const $=a.lng||this.language,_e=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(($==null?void 0:$.toLowerCase())==="cimode")return _e?d?{res:`${_}${j}${g}`,usedKey:g,exactUsedKey:g,usedLng:$,usedNS:_,usedParams:this.getUsedParamsDetails(a)}:`${_}${j}${g}`:d?{res:g,usedKey:g,exactUsedKey:g,usedLng:$,usedNS:_,usedParams:this.getUsedParamsDetails(a)}:g;const et=this.resolve(i,a);let nt=et==null?void 0:et.res;const it=(et==null?void 0:et.usedKey)||g,st=(et==null?void 0:et.exactUsedKey)||g,tt=["[object Number]","[object Function]","[object RegExp]"],rt=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,ot=!this.i18nFormat||this.i18nFormat.handleAsObject,ut=a.count!==void 0&&!isString$2(a.count),lt=Translator.hasDefaultValue(a),ct=ut?this.pluralResolver.getSuffix($,a.count,a):"",dt=a.ordinal&&ut?this.pluralResolver.getSuffix($,a.count,{ordinal:!1}):"",ht=ut&&!a.ordinal&&a.count===0,mt=ht&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${ct}`]||a[`defaultValue${dt}`]||a.defaultValue;let xt=nt;ot&&!nt&&lt&&(xt=mt);const ft=shouldHandleAsObject(xt),bt=Object.prototype.toString.apply(xt);if(ot&&xt&&ft&&tt.indexOf(bt)<0&&!(isString$2(rt)&&Array.isArray(xt))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const wt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(it,xt,{...a,ns:b}):`key '${g} (${this.language})' returned an object instead of string.`;return d?(et.res=wt,et.usedParams=this.getUsedParamsDetails(a),et):wt}if(h){const wt=Array.isArray(xt),Ct=wt?[]:{},Tt=wt?st:it;for(const St in xt)if(Object.prototype.hasOwnProperty.call(xt,St)){const At=`${Tt}${h}${St}`;lt&&!nt?Ct[St]=this.translate(At,{...a,defaultValue:shouldHandleAsObject(mt)?mt[St]:void 0,joinArrays:!1,ns:b}):Ct[St]=this.translate(At,{...a,joinArrays:!1,ns:b}),Ct[St]===At&&(Ct[St]=xt[St])}nt=Ct}}else if(ot&&isString$2(rt)&&Array.isArray(nt))nt=nt.join(rt),nt&&(nt=this.extendTranslation(nt,i,a,o));else{let wt=!1,Ct=!1;!this.isValidLookup(nt)&&lt&&(wt=!0,nt=mt),this.isValidLookup(nt)||(Ct=!0,nt=g);const St=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ct?void 0:nt,At=lt&&mt!==nt&&this.options.updateMissing;if(Ct||wt||At){if(this.logger.log(At?"updateKey":"missingKey",$,_,g,At?mt:nt),h){const Mt=this.resolve(g,{...a,keySeparator:!1});Mt&&Mt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Rt=[];const Et=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Et&&Et[0])for(let Mt=0;Mt<Et.length;Mt++)Rt.push(Et[Mt]);else this.options.saveMissingTo==="all"?Rt=this.languageUtils.toResolveHierarchy(a.lng||this.language):Rt.push(a.lng||this.language);const gt=(Mt,_t,at)=>{var kt;const yt=lt&&at!==nt?at:St;this.options.missingKeyHandler?this.options.missingKeyHandler(Mt,_,_t,yt,At,a):(kt=this.backendConnector)!=null&&kt.saveMissing&&this.backendConnector.saveMissing(Mt,_,_t,yt,At,a),this.emit("missingKey",Mt,_,_t,nt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ut?Rt.forEach(Mt=>{const _t=this.pluralResolver.getSuffixes(Mt,a);ht&&a[`defaultValue${this.options.pluralSeparator}zero`]&&_t.indexOf(`${this.options.pluralSeparator}zero`)<0&&_t.push(`${this.options.pluralSeparator}zero`),_t.forEach(at=>{gt([Mt],g+at,a[`defaultValue${at}`]||mt)})}):gt(Rt,g,mt))}nt=this.extendTranslation(nt,i,a,et,o),Ct&&nt===g&&this.options.appendNamespaceToMissingKey&&(nt=`${_}${j}${g}`),(Ct||wt)&&this.options.parseMissingKeyHandler&&(nt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${_}${j}${g}`:g,wt?nt:void 0,a))}return d?(et.res=nt,et.usedParams=this.getUsedParamsDetails(a),et):nt}extendTranslation(i,s,o,a,d){var b,_;if((b=this.i18nFormat)!=null&&b.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const j=isString$2(i)&&(((_=o==null?void 0:o.interpolation)==null?void 0:_.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let $;if(j){const et=i.match(this.interpolator.nestingRegexp);$=et&&et.length}let _e=o.replace&&!isString$2(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(_e={...this.options.interpolation.defaultVariables,..._e}),i=this.interpolator.interpolate(i,_e,o.lng||this.language||a.usedLng,o),j){const et=i.match(this.interpolator.nestingRegexp),nt=et&&et.length;$<nt&&(o.nest=!1)}!o.lng&&a&&a.res&&(o.lng=this.language||a.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,(...et)=>(d==null?void 0:d[0])===et[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${et[0]} in key: ${s[0]}`),null):this.translate(...et,s),o)),o.interpolation&&this.interpolator.reset()}const h=o.postProcess||this.options.postProcess,g=isString$2(h)?[h]:h;return i!=null&&(g!=null&&g.length)&&o.applyPostProcessor!==!1&&(i=postProcessor.handle(g,i,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),i}resolve(i,s={}){let o,a,d,h,g;return isString$2(i)&&(i=[i]),i.forEach(b=>{if(this.isValidLookup(o))return;const _=this.extractFromKey(b,s),j=_.key;a=j;let $=_.namespaces;this.options.fallbackNS&&($=$.concat(this.options.fallbackNS));const _e=s.count!==void 0&&!isString$2(s.count),et=_e&&!s.ordinal&&s.count===0,nt=s.context!==void 0&&(isString$2(s.context)||typeof s.context=="number")&&s.context!=="",it=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);$.forEach(st=>{var tt,rt;this.isValidLookup(o)||(g=st,!checkedLoadedFor[`${it[0]}-${st}`]&&((tt=this.utils)!=null&&tt.hasLoadedNamespace)&&!((rt=this.utils)!=null&&rt.hasLoadedNamespace(g))&&(checkedLoadedFor[`${it[0]}-${st}`]=!0,this.logger.warn(`key "${a}" for languages "${it.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),it.forEach(ot=>{var ct;if(this.isValidLookup(o))return;h=ot;const ut=[j];if((ct=this.i18nFormat)!=null&&ct.addLookupKeys)this.i18nFormat.addLookupKeys(ut,j,ot,st,s);else{let dt;_e&&(dt=this.pluralResolver.getSuffix(ot,s.count,s));const ht=`${this.options.pluralSeparator}zero`,mt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_e&&(s.ordinal&&dt.indexOf(mt)===0&&ut.push(j+dt.replace(mt,this.options.pluralSeparator)),ut.push(j+dt),et&&ut.push(j+ht)),nt){const xt=`${j}${this.options.contextSeparator||"_"}${s.context}`;ut.push(xt),_e&&(s.ordinal&&dt.indexOf(mt)===0&&ut.push(xt+dt.replace(mt,this.options.pluralSeparator)),ut.push(xt+dt),et&&ut.push(xt+ht))}}let lt;for(;lt=ut.pop();)this.isValidLookup(o)||(d=lt,o=this.getResource(ot,st,lt,s))}))})}),{res:o,usedKey:a,exactUsedKey:d,usedLng:h,usedNS:g}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,s,o,a={}){var d;return(d=this.i18nFormat)!=null&&d.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}getUsedParamsDetails(i={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=i.replace&&!isString$2(i.replace);let a=o?i.replace:i;if(o&&typeof i.count<"u"&&(a.count=i.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!o){a={...a};for(const d of s)delete a[d]}return a}static hasDefaultValue(i){const s="defaultValue";for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}class LanguageUtil{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(i){if(i=getCleanedCode(i),!i||i.indexOf("-")<0)return null;const s=i.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(i){if(i=getCleanedCode(i),!i||i.indexOf("-")<0)return i;const s=i.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(i){if(isString$2(i)&&i.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(i)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let s;return i.forEach(o=>{if(s)return;const a=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(a))&&(s=a)}),!s&&this.options.supportedLngs&&i.forEach(o=>{if(s)return;const a=this.getScriptPartFromCode(o);if(this.isSupportedCode(a))return s=a;const d=this.getLanguagePartFromCode(o);if(this.isSupportedCode(d))return s=d;s=this.options.supportedLngs.find(h=>{if(h===d)return h;if(!(h.indexOf("-")<0&&d.indexOf("-")<0)&&(h.indexOf("-")>0&&d.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===d||h.indexOf(d)===0&&d.length>1))return h})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(i,s){if(!i)return[];if(typeof i=="function"&&(i=i(s)),isString$2(i)&&(i=[i]),Array.isArray(i))return i;if(!s)return i.default||[];let o=i[s];return o||(o=i[this.getScriptPartFromCode(s)]),o||(o=i[this.formatLanguageCode(s)]),o||(o=i[this.getLanguagePartFromCode(s)]),o||(o=i.default),o||[]}toResolveHierarchy(i,s){const o=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],i),a=[],d=h=>{h&&(this.isSupportedCode(h)?a.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return isString$2(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(i))):isString$2(i)&&d(this.formatLanguageCode(i)),o.forEach(h=>{a.indexOf(h)<0&&d(this.formatLanguageCode(h))}),a}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(i,s={}){this.languageUtils=i,this.options=s,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(i,s={}){const o=getCleanedCode(i==="dev"?"en":i),a=s.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:o,type:a});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let h;try{h=new Intl.PluralRules(o,{type:a})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!i.match(/-|_/))return dummyRule;const b=this.languageUtils.getLanguagePartFromCode(i);h=this.getRule(b,s)}return this.pluralRulesCache[d]=h,h}needsPlural(i,s={}){let o=this.getRule(i,s);return o||(o=this.getRule("dev",s)),(o==null?void 0:o.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(i,s,o={}){return this.getSuffixes(i,o).map(a=>`${s}${a}`)}getSuffixes(i,s={}){let o=this.getRule(i,s);return o||(o=this.getRule("dev",s)),o?o.resolvedOptions().pluralCategories.sort((a,d)=>suffixesOrder[a]-suffixesOrder[d]).map(a=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(i,s,o={}){const a=this.getRule(i,o);return a?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${a.select(s)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",s,o))}}const deepFindWithDefaults=(e,i,s,o=".",a=!0)=>{let d=getPathWithDefaults(e,i,s);return!d&&a&&isString$2(s)&&(d=deepFind(e,s,o),d===void 0&&(d=deepFind(i,s,o))),d},regexSafe=e=>e.replace(/\$/g,"$$$$");class Interpolator{constructor(i={}){var s;this.logger=baseLogger.create("interpolator"),this.options=i,this.format=((s=i==null?void 0:i.interpolation)==null?void 0:s.format)||(o=>o),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:s,escapeValue:o,useRawValueToEscape:a,prefix:d,prefixEscaped:h,suffix:g,suffixEscaped:b,formatSeparator:_,unescapeSuffix:j,unescapePrefix:$,nestingPrefix:_e,nestingPrefixEscaped:et,nestingSuffix:nt,nestingSuffixEscaped:it,nestingOptionsSeparator:st,maxReplaces:tt,alwaysFormat:rt}=i.interpolation;this.escape=s!==void 0?s:escape$2,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=d?regexEscape(d):h||"{{",this.suffix=g?regexEscape(g):b||"}}",this.formatSeparator=_||",",this.unescapePrefix=j?"":$||"-",this.unescapeSuffix=this.unescapePrefix?"":j||"",this.nestingPrefix=_e?regexEscape(_e):et||regexEscape("$t("),this.nestingSuffix=nt?regexEscape(nt):it||regexEscape(")"),this.nestingOptionsSeparator=st||",",this.maxReplaces=tt||1e3,this.alwaysFormat=rt!==void 0?rt:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(s,o)=>(s==null?void 0:s.source)===o?(s.lastIndex=0,s):new RegExp(o,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,s,o,a){var et;let d,h,g;const b=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},_=nt=>{if(nt.indexOf(this.formatSeparator)<0){const rt=deepFindWithDefaults(s,b,nt,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(rt,void 0,o,{...a,...s,interpolationkey:nt}):rt}const it=nt.split(this.formatSeparator),st=it.shift().trim(),tt=it.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(s,b,st,this.options.keySeparator,this.options.ignoreJSONStructure),tt,o,{...a,...s,interpolationkey:st})};this.resetRegExp();const j=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,$=((et=a==null?void 0:a.interpolation)==null?void 0:et.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:nt=>regexSafe(nt)},{regex:this.regexp,safeValue:nt=>this.escapeValue?regexSafe(this.escape(nt)):regexSafe(nt)}].forEach(nt=>{for(g=0;d=nt.regex.exec(i);){const it=d[1].trim();if(h=_(it),h===void 0)if(typeof j=="function"){const tt=j(i,d,a);h=isString$2(tt)?tt:""}else if(a&&Object.prototype.hasOwnProperty.call(a,it))h="";else if($){h=d[0];continue}else this.logger.warn(`missed to pass in variable ${it} for interpolating ${i}`),h="";else!isString$2(h)&&!this.useRawValueToEscape&&(h=makeString(h));const st=nt.safeValue(h);if(i=i.replace(d[0],st),$?(nt.regex.lastIndex+=h.length,nt.regex.lastIndex-=d[0].length):nt.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),i}nest(i,s,o={}){let a,d,h;const g=(b,_)=>{const j=this.nestingOptionsSeparator;if(b.indexOf(j)<0)return b;const $=b.split(new RegExp(`${j}[ ]*{`));let _e=`{${$[1]}`;b=$[0],_e=this.interpolate(_e,h);const et=_e.match(/'/g),nt=_e.match(/"/g);(((et==null?void 0:et.length)??0)%2===0&&!nt||nt.length%2!==0)&&(_e=_e.replace(/'/g,'"'));try{h=JSON.parse(_e),_&&(h={..._,...h})}catch(it){return this.logger.warn(`failed parsing options string in nesting for key ${b}`,it),`${b}${j}${_e}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,b};for(;a=this.nestingRegexp.exec(i);){let b=[];h={...o},h=h.replace&&!isString$2(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;const _=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(_!==-1&&(b=a[1].slice(_).split(this.formatSeparator).map(j=>j.trim()).filter(Boolean),a[1]=a[1].slice(0,_)),d=s(g.call(this,a[1].trim(),h),h),d&&a[0]===i&&!isString$2(d))return d;isString$2(d)||(d=makeString(d)),d||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${i}`),d=""),b.length&&(d=b.reduce((j,$)=>this.format(j,$,o.lng,{...o,interpolationkey:a[1].trim()}),d.trim())),i=i.replace(a[0],d),this.regexp.lastIndex=0}return i}}const parseFormatStr=e=>{let i=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const o=e.split("(");i=o[0].toLowerCase().trim();const a=o[1].substring(0,o[1].length-1);i==="currency"&&a.indexOf(":")<0?s.currency||(s.currency=a.trim()):i==="relativetime"&&a.indexOf(":")<0?s.range||(s.range=a.trim()):a.split(";").forEach(h=>{if(h){const[g,...b]=h.split(":"),_=b.join(":").trim().replace(/^'+|'+$/g,""),j=g.trim();s[j]||(s[j]=_),_==="false"&&(s[j]=!1),_==="true"&&(s[j]=!0),isNaN(_)||(s[j]=parseInt(_,10))}})}return{formatName:i,formatOptions:s}},createCachedFormatter=e=>{const i={};return(s,o,a)=>{let d=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(d={...d,[a.interpolationkey]:void 0});const h=o+JSON.stringify(d);let g=i[h];return g||(g=e(getCleanedCode(o),a),i[h]=g),g(s)}},createNonCachedFormatter=e=>(i,s,o)=>e(getCleanedCode(s),o)(i);class Formatter{constructor(i={}){this.logger=baseLogger.create("formatter"),this.options=i,this.init(i)}init(i,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const o=s.cacheInBuiltFormats?createCachedFormatter:createNonCachedFormatter;this.formats={number:o((a,d)=>{const h=new Intl.NumberFormat(a,{...d});return g=>h.format(g)}),currency:o((a,d)=>{const h=new Intl.NumberFormat(a,{...d,style:"currency"});return g=>h.format(g)}),datetime:o((a,d)=>{const h=new Intl.DateTimeFormat(a,{...d});return g=>h.format(g)}),relativetime:o((a,d)=>{const h=new Intl.RelativeTimeFormat(a,{...d});return g=>h.format(g,d.range||"day")}),list:o((a,d)=>{const h=new Intl.ListFormat(a,{...d});return g=>h.format(g)})}}add(i,s){this.formats[i.toLowerCase().trim()]=s}addCached(i,s){this.formats[i.toLowerCase().trim()]=createCachedFormatter(s)}format(i,s,o,a={}){const d=s.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(g=>g.indexOf(")")>-1)){const g=d.findIndex(b=>b.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,g)].join(this.formatSeparator)}return d.reduce((g,b)=>{var $;const{formatName:_,formatOptions:j}=parseFormatStr(b);if(this.formats[_]){let _e=g;try{const et=(($=a==null?void 0:a.formatParams)==null?void 0:$[a.interpolationkey])||{},nt=et.locale||et.lng||a.locale||a.lng||o;_e=this.formats[_](g,nt,{...j,...a,...et})}catch(et){this.logger.warn(et)}return _e}else this.logger.warn(`there was no format function for ${_}`);return g},i)}}const removePending=(e,i)=>{e.pending[i]!==void 0&&(delete e.pending[i],e.pendingCount--)};class Connector extends EventEmitter{constructor(i,s,o,a={}){var d,h;super(),this.backend=i,this.store=s,this.services=o,this.languageUtils=o.languageUtils,this.options=a,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(h=(d=this.backend)==null?void 0:d.init)==null||h.call(d,o,a.backend,a)}queueLoad(i,s,o,a){const d={},h={},g={},b={};return i.forEach(_=>{let j=!0;s.forEach($=>{const _e=`${_}|${$}`;!o.reload&&this.store.hasResourceBundle(_,$)?this.state[_e]=2:this.state[_e]<0||(this.state[_e]===1?h[_e]===void 0&&(h[_e]=!0):(this.state[_e]=1,j=!1,h[_e]===void 0&&(h[_e]=!0),d[_e]===void 0&&(d[_e]=!0),b[$]===void 0&&(b[$]=!0)))}),j||(g[_]=!0)}),(Object.keys(d).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(d),pending:Object.keys(h),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(b)}}loaded(i,s,o){const a=i.split("|"),d=a[0],h=a[1];s&&this.emit("failedLoading",d,h,s),!s&&o&&this.store.addResourceBundle(d,h,o,void 0,void 0,{skipCopy:!0}),this.state[i]=s?-1:2,s&&o&&(this.state[i]=0);const g={};this.queue.forEach(b=>{pushPath(b.loaded,[d],h),removePending(b,i),s&&b.errors.push(s),b.pendingCount===0&&!b.done&&(Object.keys(b.loaded).forEach(_=>{g[_]||(g[_]={});const j=b.loaded[_];j.length&&j.forEach($=>{g[_][$]===void 0&&(g[_][$]=!0)})}),b.done=!0,b.errors.length?b.callback(b.errors):b.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(b=>!b.done)}read(i,s,o,a=0,d=this.retryTimeout,h){if(!i.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:a,wait:d,callback:h});return}this.readingCalls++;const g=(_,j)=>{if(this.readingCalls--,this.waitingReads.length>0){const $=this.waitingReads.shift();this.read($.lng,$.ns,$.fcName,$.tried,$.wait,$.callback)}if(_&&j&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,i,s,o,a+1,d*2,h)},d);return}h(_,j)},b=this.backend[o].bind(this.backend);if(b.length===2){try{const _=b(i,s);_&&typeof _.then=="function"?_.then(j=>g(null,j)).catch(g):g(null,_)}catch(_){g(_)}return}return b(i,s,g)}prepareLoading(i,s,o={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();isString$2(i)&&(i=this.languageUtils.toResolveHierarchy(i)),isString$2(s)&&(s=[s]);const d=this.queueLoad(i,s,o,a);if(!d.toLoad.length)return d.pending.length||a(),null;d.toLoad.forEach(h=>{this.loadOne(h)})}load(i,s,o){this.prepareLoading(i,s,{},o)}reload(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}loadOne(i,s=""){const o=i.split("|"),a=o[0],d=o[1];this.read(a,d,"read",void 0,void 0,(h,g)=>{h&&this.logger.warn(`${s}loading namespace ${d} for language ${a} failed`,h),!h&&g&&this.logger.log(`${s}loaded namespace ${d} for language ${a}`,g),this.loaded(i,h,g)})}saveMissing(i,s,o,a,d,h={},g=()=>{}){var b,_,j,$,_e;if((_=(b=this.services)==null?void 0:b.utils)!=null&&_.hasLoadedNamespace&&!(($=(j=this.services)==null?void 0:j.utils)!=null&&$.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${o}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if((_e=this.backend)!=null&&_e.create){const et={...h,isUpdate:d},nt=this.backend.create.bind(this.backend);if(nt.length<6)try{let it;nt.length===5?it=nt(i,s,o,a,et):it=nt(i,s,o,a),it&&typeof it.then=="function"?it.then(st=>g(null,st)).catch(g):g(null,it)}catch(it){g(it)}else nt(i,s,o,a,g,et)}!i||!i[0]||this.store.addResource(i[0],s,o,a)}}}const get=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let i={};if(typeof e[1]=="object"&&(i=e[1]),isString$2(e[1])&&(i.defaultValue=e[1]),isString$2(e[2])&&(i.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const s=e[3]||e[2];Object.keys(s).forEach(o=>{i[o]=s[o]})}return i},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),transformOptions=e=>{var i,s;return isString$2(e.ns)&&(e.ns=[e.ns]),isString$2(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),isString$2(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((s=(i=e.supportedLngs)==null?void 0:i.indexOf)==null?void 0:s.call(i,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},noop$1=()=>{},bindMemberFunctions=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(s=>{typeof e[s]=="function"&&(e[s]=e[s].bind(e))})};let supportNoticeShown=!1;const usesLocize=e=>{var i,s,o,a,d,h,g,b,_;return!!(((o=(s=(i=e==null?void 0:e.modules)==null?void 0:i.backend)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||((g=(h=(d=(a=e==null?void 0:e.modules)==null?void 0:a.backend)==null?void 0:d.constructor)==null?void 0:h.name)==null?void 0:g.indexOf("Locize"))>0||(_=(b=e==null?void 0:e.options)==null?void 0:b.backend)!=null&&_.backends&&e.options.backend.backends.some(j=>{var $,_e,et;return(($=j==null?void 0:j.name)==null?void 0:$.indexOf("Locize"))>0||((et=(_e=j==null?void 0:j.constructor)==null?void 0:_e.name)==null?void 0:et.indexOf("Locize"))>0}))};class I18n extends EventEmitter{constructor(i={},s){if(super(),this.options=transformOptions(i),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),s&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,s),this;setTimeout(()=>{this.init(i,s)},0)}}init(i={},s){this.isInitializing=!0,typeof i=="function"&&(s=i,i={}),i.defaultNS==null&&i.ns&&(isString$2(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const o=get();this.options={...o,...this.options,...transformOptions(i)},this.options.interpolation={...o.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=o.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!usesLocize(this)&&!supportNoticeShown&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),supportNoticeShown=!0);const a=_=>_?typeof _=="function"?new _:_:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(a(this.modules.logger),this.options):baseLogger.init(null,this.options);let _;this.modules.formatter?_=this.modules.formatter:_=Formatter;const j=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const $=this.services;$.logger=baseLogger,$.resourceStore=this.store,$.languageUtils=j,$.pluralResolver=new PluralResolver(j,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),_&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&($.formatter=a(_),$.formatter.init&&$.formatter.init($,this.options),this.options.interpolation.format=$.formatter.format.bind($.formatter)),$.interpolator=new Interpolator(this.options),$.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},$.backendConnector=new Connector(a(this.modules.backend),$.resourceStore,$,this.options),$.backendConnector.on("*",(et,...nt)=>{this.emit(et,...nt)}),this.modules.languageDetector&&($.languageDetector=a(this.modules.languageDetector),$.languageDetector.init&&$.languageDetector.init($,this.options.detection,this.options)),this.modules.i18nFormat&&($.i18nFormat=a(this.modules.i18nFormat),$.i18nFormat.init&&$.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(et,...nt)=>{this.emit(et,...nt)}),this.modules.external.forEach(et=>{et.init&&et.init(this)})}if(this.format=this.options.interpolation.format,s||(s=noop$1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const _=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);_.length>0&&_[0]!=="dev"&&(this.options.lng=_[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(_=>{this[_]=(...j)=>this.store[_](...j)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(_=>{this[_]=(...j)=>(this.store[_](...j),this)});const g=defer(),b=()=>{const _=(j,$)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve($),s(j,$)};if(this.languages&&!this.isInitialized)return _(null,this.t.bind(this));this.changeLanguage(this.options.lng,_)};return this.options.resources||!this.options.initAsync?b():setTimeout(b,0),g}loadResources(i,s=noop$1){var d,h;let o=s;const a=isString$2(i)?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const g=[],b=_=>{if(!_||_==="cimode")return;this.services.languageUtils.toResolveHierarchy(_).forEach($=>{$!=="cimode"&&g.indexOf($)<0&&g.push($)})};a?b(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(j=>b(j)),(h=(d=this.options.preload)==null?void 0:d.forEach)==null||h.call(d,_=>b(_)),this.services.backendConnector.load(g,this.options.ns,_=>{!_&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(_)})}else o(null)}reloadResources(i,s,o){const a=defer();return typeof i=="function"&&(o=i,i=void 0),typeof s=="function"&&(o=s,s=void 0),i||(i=this.languages),s||(s=this.options.ns),o||(o=noop$1),this.services.backendConnector.reload(i,s,d=>{a.resolve(),o(d)}),a}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&postProcessor.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let s=0;s<this.languages.length;s++){const o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,s){this.isLanguageChangingTo=i;const o=defer();this.emit("languageChanging",i);const a=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},d=(g,b)=>{b?this.isLanguageChangingTo===i&&(a(b),this.translator.changeLanguage(b),this.isLanguageChangingTo=void 0,this.emit("languageChanged",b),this.logger.log("languageChanged",b)):this.isLanguageChangingTo=void 0,o.resolve((..._)=>this.t(..._)),s&&s(g,(..._)=>this.t(..._))},h=g=>{var j,$;!i&&!g&&this.services.languageDetector&&(g=[]);const b=isString$2(g)?g:g&&g[0],_=this.store.hasLanguageSomeTranslations(b)?b:this.services.languageUtils.getBestMatchFromCodes(isString$2(g)?[g]:g);_&&(this.language||a(_),this.translator.language||this.translator.changeLanguage(_),($=(j=this.services.languageDetector)==null?void 0:j.cacheUserLanguage)==null||$.call(j,_)),this.loadResources(_,_e=>{d(_e,_)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(i),o}getFixedT(i,s,o){const a=(d,h,...g)=>{let b;typeof h!="object"?b=this.options.overloadTranslationOptionHandler([d,h].concat(g)):b={...h},b.lng=b.lng||a.lng,b.lngs=b.lngs||a.lngs,b.ns=b.ns||a.ns,b.keyPrefix!==""&&(b.keyPrefix=b.keyPrefix||o||a.keyPrefix);const _=this.options.keySeparator||".";let j;return b.keyPrefix&&Array.isArray(d)?j=d.map($=>(typeof $=="function"&&($=keysFromSelector($,{...this.options,...h})),`${b.keyPrefix}${_}${$}`)):(typeof d=="function"&&(d=keysFromSelector(d,{...this.options,...h})),j=b.keyPrefix?`${b.keyPrefix}${_}${d}`:d),this.t(j,b)};return isString$2(i)?a.lng=i:a.lngs=i,a.ns=s,a.keyPrefix=o,a}t(...i){var s;return(s=this.translator)==null?void 0:s.translate(...i)}exists(...i){var s;return(s=this.translator)==null?void 0:s.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=s.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const h=(g,b)=>{const _=this.services.backendConnector.state[`${g}|${b}`];return _===-1||_===0||_===2};if(s.precheck){const g=s.precheck(this,h);if(g!==void 0)return g}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(o,i)&&(!a||h(d,i)))}loadNamespaces(i,s){const o=defer();return this.options.ns?(isString$2(i)&&(i=[i]),i.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{o.resolve(),s&&s(a)}),o):(s&&s(),Promise.resolve())}loadLanguages(i,s){const o=defer();isString$2(i)&&(i=[i]);const a=this.options.preload||[],d=i.filter(h=>a.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return d.length?(this.options.preload=a.concat(d),this.loadResources(h=>{o.resolve(),s&&s(h)}),o):(s&&s(),Promise.resolve())}dir(i){var a,d;if(i||(i=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!i)return"rtl";try{const h=new Intl.Locale(i);if(h&&h.getTextInfo){const g=h.getTextInfo();if(g&&g.direction)return g.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=((d=this.services)==null?void 0:d.languageUtils)||new LanguageUtil(get());return i.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},s){const o=new I18n(i,s);return o.createInstance=I18n.createInstance,o}cloneInstance(i={},s=noop$1){const o=i.forkResourceStore;o&&delete i.forkResourceStore;const a={...this.options,...i,isClone:!0},d=new I18n(a);if((i.debug!==void 0||i.prefix!==void 0)&&(d.logger=d.logger.clone(i)),["store","services","language"].forEach(g=>{d[g]=this[g]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},o){const g=Object.keys(this.store.data).reduce((b,_)=>(b[_]={...this.store.data[_]},b[_]=Object.keys(b[_]).reduce((j,$)=>(j[$]={...b[_][$]},j),b[_]),b),{});d.store=new ResourceStore(g,a),d.services.resourceStore=d.store}if(i.interpolation){const b={...get().interpolation,...this.options.interpolation,...i.interpolation},_={...a,interpolation:b};d.services.interpolator=new Interpolator(_)}return d.translator=new Translator(d.services,a),d.translator.on("*",(g,...b)=>{d.emit(g,...b)}),d.init(a,s),d.translator.options=a,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const warn$1=(e,i,s,o)=>{var d,h,g,b;const a=[s,{code:i,...o||{}}];if((h=(d=e==null?void 0:e.services)==null?void 0:d.logger)!=null&&h.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);isString$1(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(b=(g=e==null?void 0:e.services)==null?void 0:g.logger)!=null&&b.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},alreadyWarned={},warnOnce=(e,i,s,o)=>{isString$1(s)&&alreadyWarned[s]||(isString$1(s)&&(alreadyWarned[s]=new Date),warn$1(e,i,s,o))},loadedClb=(e,i)=>()=>{if(e.isInitialized)i();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),i()};e.on("initialized",s)}},loadNamespaces=(e,i,s)=>{e.loadNamespaces(i,loadedClb(e,s))},loadLanguages=(e,i,s,o)=>{if(isString$1(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(i)>-1)return loadNamespaces(e,s,o);s.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(i,loadedClb(e,o))},hasLoadedNamespace=(e,i,s={})=>!i.languages||!i.languages.length?(warnOnce(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(e,{lng:s.lng,precheck:(o,a)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,e))return!1}}),isString$1=e=>typeof e=="string",isObject=e=>typeof e=="object"&&e!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=e=>htmlEntities[e],unescape$1=e=>e.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1,transDefaultProps:void 0};const setDefaults=(e={})=>{defaultOptions={...defaultOptions,...e}},getDefaults$1=()=>defaultOptions;let i18nInstance;const setI18n=e=>{i18nInstance=e},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(e){setDefaults(e.options.react),setI18n(e)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const notReadyT=(e,i)=>isString$1(i)?i:isObject(i)&&isString$1(i.defaultValue)?i.defaultValue:Array.isArray(e)?e[e.length-1]:e,notReadySnapshot={t:notReadyT,ready:!1},dummySubscribe=()=>()=>{},useTranslation=(e,i={})=>{var mt,xt,ft;const{i18n:s}=i,{i18n:o,defaultNS:a}=reactExports.useContext(I18nContext)||{},d=s||o||getI18n();d&&!d.reportNamespaces&&(d.reportNamespaces=new ReportNamespaces),d||warnOnce(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const h=reactExports.useMemo(()=>{var bt;return{...getDefaults$1(),...(bt=d==null?void 0:d.options)==null?void 0:bt.react,...i}},[d,i]),{useSuspense:g,keyPrefix:b}=h,_=a||((mt=d==null?void 0:d.options)==null?void 0:mt.defaultNS),j=isString$1(_)?[_]:_||["translation"],$=reactExports.useMemo(()=>j,j);(ft=(xt=d==null?void 0:d.reportNamespaces)==null?void 0:xt.addUsedNamespaces)==null||ft.call(xt,$);const _e=reactExports.useRef(0),et=reactExports.useCallback(bt=>{if(!d)return dummySubscribe;const{bindI18n:wt,bindI18nStore:Ct}=h,Tt=()=>{_e.current+=1,bt()};return wt&&d.on(wt,Tt),Ct&&d.store.on(Ct,Tt),()=>{wt&&wt.split(" ").forEach(St=>d.off(St,Tt)),Ct&&Ct.split(" ").forEach(St=>d.store.off(St,Tt))}},[d,h]),nt=reactExports.useRef(),it=reactExports.useCallback(()=>{if(!d)return notReadySnapshot;const bt=!!(d.isInitialized||d.initializedStoreOnce)&&$.every(Rt=>hasLoadedNamespace(Rt,d,h)),wt=i.lng||d.language,Ct=_e.current,Tt=nt.current;if(Tt&&Tt.ready===bt&&Tt.lng===wt&&Tt.keyPrefix===b&&Tt.revision===Ct)return Tt;const At={t:d.getFixedT(wt,h.nsMode==="fallback"?$:$[0],b),ready:bt,lng:wt,keyPrefix:b,revision:Ct};return nt.current=At,At},[d,$,b,h,i.lng]),[st,tt]=reactExports.useState(0),{t:rt,ready:ot}=shimExports.useSyncExternalStore(et,it,it);reactExports.useEffect(()=>{if(d&&!ot&&!g){const bt=()=>tt(wt=>wt+1);i.lng?loadLanguages(d,i.lng,$,bt):loadNamespaces(d,$,bt)}},[d,i.lng,$,ot,g,st]);const ut=d||{},lt=reactExports.useRef(null),ct=reactExports.useRef(),dt=bt=>{const wt=Object.getOwnPropertyDescriptors(bt);wt.__original&&delete wt.__original;const Ct=Object.create(Object.getPrototypeOf(bt),wt);if(!Object.prototype.hasOwnProperty.call(Ct,"__original"))try{Object.defineProperty(Ct,"__original",{value:bt,writable:!1,enumerable:!1,configurable:!1})}catch{}return Ct},ht=reactExports.useMemo(()=>{const bt=ut,wt=bt==null?void 0:bt.language;let Ct=bt;bt&&(lt.current&&lt.current.__original===bt?ct.current!==wt?(Ct=dt(bt),lt.current=Ct,ct.current=wt):Ct=lt.current:(Ct=dt(bt),lt.current=Ct,ct.current=wt));const Tt=[rt,Ct,ot];return Tt.t=rt,Tt.i18n=Ct,Tt.ready=ot,Tt},[rt,ut,ot,ut.resolvedLanguage,ut.language,ut.languages]);if(d&&g&&!ot)throw new Promise(bt=>{const wt=()=>bt();i.lng?loadLanguages(d,i.lng,$,wt):loadNamespaces(d,$,wt)});return ht},LayoutGroupContext=reactExports.createContext({});function useConstant(e){const i=reactExports.useRef(null);return i.current===null&&(i.current=e()),i.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:i}){const s=reactExports.useId(),o=reactExports.useRef(null),a=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:h,height:g,top:b,left:_}=a.current;if(i||!o.current||!h||!g)return;o.current.dataset.motionPopId=s;const j=document.createElement("style");return d&&(j.nonce=d),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${g}px !important;
            top: ${b}px !important;
            left: ${_}px !important;
          }
        `),()=>{document.head.removeChild(j)}},[i]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:i,childRef:o,sizeRef:a,children:reactExports.cloneElement(e,{ref:o})})}const PresenceChild=({children:e,initial:i,isPresent:s,onExitComplete:o,custom:a,presenceAffectsLayout:d,mode:h})=>{const g=useConstant(newChildrenMap),b=reactExports.useId(),_=reactExports.useCallback($=>{g.set($,!0);for(const _e of g.values())if(!_e)return;o&&o()},[g,o]),j=reactExports.useMemo(()=>({id:b,initial:i,isPresent:s,custom:a,onExitComplete:_,register:$=>(g.set($,!1),()=>g.delete($))}),d?[Math.random(),_]:[s,_]);return reactExports.useMemo(()=>{g.forEach(($,_e)=>g.set(_e,!1))},[s]),reactExports.useEffect(()=>{!s&&!g.size&&o&&o()},[s]),h==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:s,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:j,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:a}=i,d=reactExports.useId();reactExports.useEffect(()=>{e&&a(d)},[e]);const h=reactExports.useCallback(()=>e&&o&&o(d),[d,o,e]);return!s&&o?[!1,h]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const i=[];return reactExports.Children.forEach(e,s=>{reactExports.isValidElement(s)&&i.push(s)}),i}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:e,custom:i,initial:s=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:d="sync",propagate:h=!1})=>{const[g,b]=usePresence(h),_=reactExports.useMemo(()=>onlyElements(e),[e]),j=h&&!g?[]:_.map(getChildKey),$=reactExports.useRef(!0),_e=reactExports.useRef(_),et=useConstant(()=>new Map),[nt,it]=reactExports.useState(_),[st,tt]=reactExports.useState(_);useIsomorphicLayoutEffect(()=>{$.current=!1,_e.current=_;for(let ut=0;ut<st.length;ut++){const lt=getChildKey(st[ut]);j.includes(lt)?et.delete(lt):et.get(lt)!==!0&&et.set(lt,!1)}},[st,j.length,j.join("-")]);const rt=[];if(_!==nt){let ut=[..._];for(let lt=0;lt<st.length;lt++){const ct=st[lt],dt=getChildKey(ct);j.includes(dt)||(ut.splice(lt,0,ct),rt.push(ct))}d==="wait"&&rt.length&&(ut=rt),tt(onlyElements(ut)),it(_);return}const{forceRender:ot}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:st.map(ut=>{const lt=getChildKey(ut),ct=h&&!g?!1:_===st||j.includes(lt),dt=()=>{if(et.has(lt))et.set(lt,!0);else return;let ht=!0;et.forEach(mt=>{mt||(ht=!1)}),ht&&(ot==null||ot(),tt(_e.current),h&&(b==null||b()),o&&o())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:ct,initial:!$.current||s?void 0:!1,custom:ct?void 0:i,presenceAffectsLayout:a,mode:d,onExitComplete:ct?void 0:dt,children:ut},lt)})})},noop=e=>e;let invariant$1=noop;function memo(e){let i;return()=>(i===void 0&&(i=e()),i)}const progress=(e,i,s)=>{const o=i-e;return o===0?1:(s-e)/o},secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(e){let i=new Set,s=new Set,o=!1,a=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function g(_){d.has(_)&&(b.schedule(_),e()),_(h)}const b={schedule:(_,j=!1,$=!1)=>{const et=$&&o?i:s;return j&&d.add(_),et.has(_)||et.add(_),_},cancel:_=>{s.delete(_),d.delete(_)},process:_=>{if(h=_,o){a=!0;return}o=!0,[i,s]=[s,i],i.forEach(g),i.clear(),o=!1,a&&(a=!1,b.process(_))}};return b}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,i){let s=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},d=()=>s=!0,h=stepsOrder.reduce((tt,rt)=>(tt[rt]=createRenderStep(d),tt),{}),{read:g,resolveKeyframes:b,update:_,preRender:j,render:$,postRender:_e}=h,et=()=>{const tt=performance.now();s=!1,a.delta=o?1e3/60:Math.max(Math.min(tt-a.timestamp,maxElapsed),1),a.timestamp=tt,a.isProcessing=!0,g.process(a),b.process(a),_.process(a),j.process(a),$.process(a),_e.process(a),a.isProcessing=!1,s&&i&&(o=!1,e(et))},nt=()=>{s=!0,o=!0,a.isProcessing||e(et)};return{schedule:stepsOrder.reduce((tt,rt)=>{const ot=h[rt];return tt[rt]=(ut,lt=!1,ct=!1)=>(s||nt(),ot.schedule(ut,lt,ct)),tt},{}),cancel:tt=>{for(let rt=0;rt<stepsOrder.length;rt++)h[stepsOrder[rt]].cancel(tt)},state:a,steps:h}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:i=>featureProps[e].some(s=>!!i[s])};function loadFeatures(e){for(const i in e)featureDefinitions[i]={...featureDefinitions[i],...e[i]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=i=>i.startsWith("on")?!isValidMotionProp(i):e(i))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,i,s){const o={};for(const a in e)a==="values"&&typeof e.values=="object"||(shouldForward(a)||s===!0&&isValidMotionProp(a)||!i&&!isValidMotionProp(a)||e.draggable&&a.startsWith("onDrag"))&&(o[a]=e[a]);return o}function createDOMMotionComponentProxy(e){if(typeof Proxy>"u")return e;const i=new Map,s=(...o)=>e(...o);return new Proxy(s,{get:(o,a)=>a==="create"?e:(i.has(a)||i.set(a,e(a)),i.get(a))})}const MotionContext=reactExports.createContext({});function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(i=>isVariantLabel(e[i]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,i){if(isControllingVariants(e)){const{initial:s,animate:o}=e;return{initial:s===!1||isVariantLabel(s)?s:void 0,animate:isVariantLabel(o)?o:void 0}}return e.inherit!==!1?i:{}}function useCreateMotionContext(e){const{initial:i,animate:s}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:i,animate:s}),[variantLabelsAsDependency(i),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,i,s){return reactExports.useCallback(o=>{o&&e.onMount&&e.onMount(o),i&&(o?i.mount(o):i.unmount()),s&&(typeof s=="function"?s(o):isRefObject(s)&&(s.current=o))},[i])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,i,s,o,a){var d,h;const{visualElement:g}=reactExports.useContext(MotionContext),b=reactExports.useContext(LazyContext),_=reactExports.useContext(PresenceContext),j=reactExports.useContext(MotionConfigContext).reducedMotion,$=reactExports.useRef(null);o=o||b.renderer,!$.current&&o&&($.current=o(e,{visualState:i,parent:g,props:s,presenceContext:_,blockInitialAnimation:_?_.initial===!1:!1,reducedMotionConfig:j}));const _e=$.current,et=reactExports.useContext(SwitchLayoutGroupContext);_e&&!_e.projection&&a&&(_e.type==="html"||_e.type==="svg")&&createProjectionNode$1($.current,s,a,et);const nt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{_e&&nt.current&&_e.update(s,_)});const it=s[optimizedAppearDataAttribute],st=reactExports.useRef(!!it&&!(!((d=window.MotionHandoffIsComplete)===null||d===void 0)&&d.call(window,it))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,it)));return useIsomorphicLayoutEffect(()=>{_e&&(nt.current=!0,window.MotionIsMounted=!0,_e.updateFeatures(),microtask.render(_e.render),st.current&&_e.animationState&&_e.animationState.animateChanges())}),reactExports.useEffect(()=>{_e&&(!st.current&&_e.animationState&&_e.animationState.animateChanges(),st.current&&(queueMicrotask(()=>{var tt;(tt=window.MotionHandoffMarkAsComplete)===null||tt===void 0||tt.call(window,it)}),st.current=!1))}),_e}function createProjectionNode$1(e,i,s,o){const{layoutId:a,layout:d,drag:h,dragConstraints:g,layoutScroll:b,layoutRoot:_}=i;e.projection=new s(e.latestValues,i["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:a,layout:d,alwaysMeasureLayout:!!h||g&&isRefObject(g),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:b,layoutRoot:_})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createRendererMotionComponent({preloadedFeatures:e,createVisualElement:i,useRender:s,useVisualState:o,Component:a}){var d,h;e&&loadFeatures(e);function g(_,j){let $;const _e={...reactExports.useContext(MotionConfigContext),..._,layoutId:useLayoutId(_)},{isStatic:et}=_e,nt=useCreateMotionContext(_),it=o(_,et);if(!et&&isBrowser$1){useStrictMode();const st=getProjectionFunctionality(_e);$=st.MeasureLayout,nt.visualElement=useVisualElement(a,it,_e,i,st.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:nt,children:[$&&nt.visualElement?jsxRuntimeExports.jsx($,{visualElement:nt.visualElement,..._e}):null,s(a,_,useMotionRef(it,nt.visualElement,j),it,et,nt.visualElement)]})}g.displayName=`motion.${typeof a=="string"?a:`create(${(h=(d=a.displayName)!==null&&d!==void 0?d:a.name)!==null&&h!==void 0?h:""})`}`;const b=reactExports.forwardRef(g);return b[motionComponentSymbol]=a,b}function useLayoutId({layoutId:e}){const i=reactExports.useContext(LayoutGroupContext).id;return i&&e!==void 0?i+"-"+e:e}function useStrictMode(e,i){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:i,layout:s}=featureDefinitions;if(!i&&!s)return{};const o={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(e)||s!=null&&s.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function getValueState(e){const i=[{},{}];return e==null||e.values.forEach((s,o)=>{i[0][o]=s.get(),i[1][o]=s.getVelocity()}),i}function resolveVariantFromProps(e,i,s,o){if(typeof i=="function"){const[a,d]=getValueState(o);i=i(s!==void 0?s:e.custom,a,d)}if(typeof i=="string"&&(i=e.variants&&e.variants[i]),typeof i=="function"){const[a,d]=getValueState(o);i=i(s!==void 0?s:e.custom,a,d)}return i}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e,isMotionValue=e=>!!(e&&e.getVelocity);function resolveMotionValue(e){const i=isMotionValue(e)?e.get():e;return isCustomValue(i)?i.toValue():i}function makeState({scrapeMotionValuesFromProps:e,createRenderState:i,onUpdate:s},o,a,d){const h={latestValues:makeLatestValues(o,a,d,e),renderState:i()};return s&&(h.onMount=g=>s({props:o,current:g,...h}),h.onUpdate=g=>s(g)),h}const makeUseVisualState=e=>(i,s)=>{const o=reactExports.useContext(MotionContext),a=reactExports.useContext(PresenceContext),d=()=>makeState(e,i,o,a);return s?d():useConstant(d)};function makeLatestValues(e,i,s,o){const a={},d=o(e,{});for(const _e in d)a[_e]=resolveMotionValue(d[_e]);let{initial:h,animate:g}=e;const b=isControllingVariants(e),_=isVariantNode(e);i&&_&&!b&&e.inherit!==!1&&(h===void 0&&(h=i.initial),g===void 0&&(g=i.animate));let j=s?s.initial===!1:!1;j=j||h===!1;const $=j?g:h;if($&&typeof $!="boolean"&&!isAnimationControls($)){const _e=Array.isArray($)?$:[$];for(let et=0;et<_e.length;et++){const nt=resolveVariantFromProps(e,_e[et]);if(nt){const{transitionEnd:it,transition:st,...tt}=nt;for(const rt in tt){let ot=tt[rt];if(Array.isArray(ot)){const ut=j?ot.length-1:0;ot=ot[ut]}ot!==null&&(a[rt]=ot)}for(const rt in it)a[rt]=it[rt]}}}return a}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=e=>i=>typeof i=="string"&&i.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(e,i)=>i&&typeof e=="number"?i.transform(e):e,clamp=(e,i,s)=>s>i?i:s<e?e:s,number$1={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number$1,transform:e=>clamp(0,1,e)},scale={...number$1,default:1},createUnitType=e=>({test:i=>typeof i=="string"&&i.endsWith(e)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number$1,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,i,s){let o="",a=!0;for(let d=0;d<numTransforms;d++){const h=transformPropOrder[d],g=e[h];if(g===void 0)continue;let b=!0;if(typeof g=="number"?b=g===(h.startsWith("scale")?1:0):b=parseFloat(g)===0,!b||s){const _=getValueAsType(g,numberValueTypes[h]);if(!b){a=!1;const j=translateAlias[h]||h;o+=`${j}(${_}) `}s&&(i[h]=_)}}return o=o.trim(),s?o=s(i,a?"":o):a&&(o="none"),o}function buildHTMLStyles(e,i,s){const{style:o,vars:a,transformOrigin:d}=e;let h=!1,g=!1;for(const b in i){const _=i[b];if(transformProps.has(b)){h=!0;continue}else if(isCSSVariableName(b)){a[b]=_;continue}else{const j=getValueAsType(_,numberValueTypes[b]);b.startsWith("origin")?(g=!0,d[b]=j):o[b]=j}}if(i.transform||(h||s?o.transform=buildTransform(i,e.transform,s):o.transform&&(o.transform="none")),g){const{originX:b="50%",originY:_="50%",originZ:j=0}=d;o.transformOrigin=`${b} ${_} ${j}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,i,s=1,o=0,a=!0){e.pathLength=1;const d=a?dashKeys:camelKeys;e[d.offset]=px.transform(-o);const h=px.transform(i),g=px.transform(s);e[d.array]=`${h} ${g}`}function calcOrigin$1(e,i,s){return typeof e=="string"?e:px.transform(i+s*e)}function calcSVGTransformOrigin(e,i,s){const o=calcOrigin$1(i,e.x,e.width),a=calcOrigin$1(s,e.y,e.height);return`${o} ${a}`}function buildSVGAttrs(e,{attrX:i,attrY:s,attrScale:o,originX:a,originY:d,pathLength:h,pathSpacing:g=1,pathOffset:b=0,..._},j,$){if(buildHTMLStyles(e,_,$),j){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_e,style:et,dimensions:nt}=e;_e.transform&&(nt&&(et.transform=_e.transform),delete _e.transform),nt&&(a!==void 0||d!==void 0||et.transform)&&(et.transformOrigin=calcSVGTransformOrigin(nt,a!==void 0?a:.5,d!==void 0?d:.5)),i!==void 0&&(_e.x=i),s!==void 0&&(_e.y=s),o!==void 0&&(_e.scale=o),h!==void 0&&buildSVGPath(_e,h,g,b,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function renderHTML(e,{style:i,vars:s},o,a){Object.assign(e.style,i,a&&a.getProjectionStyles(o));for(const d in s)e.style.setProperty(d,s[d])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,i,s,o){renderHTML(e,i,void 0,o);for(const a in i.attrs)e.setAttribute(camelCaseAttributes.has(a)?a:camelToDash(a),i.attrs[a])}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}function isForcedMotionValue(e,{layout:i,layoutId:s}){return transformProps.has(e)||e.startsWith("origin")||(i||s!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}function scrapeMotionValuesFromProps$1(e,i,s){var o;const{style:a}=e,d={};for(const h in a)(isMotionValue(a[h])||i.style&&isMotionValue(i.style[h])||isForcedMotionValue(h,e)||((o=s==null?void 0:s.getValue(h))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(d[h]=a[h]);return d}function scrapeMotionValuesFromProps(e,i,s){const o=scrapeMotionValuesFromProps$1(e,i,s);for(const a in e)if(isMotionValue(e[a])||isMotionValue(i[a])){const d=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[d]=e[a]}return o}function updateSVGDimensions(e,i){try{i.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:e,prevProps:i,current:s,renderState:o,latestValues:a})=>{if(!s)return;let d=!!e.drag;if(!d){for(const g in a)if(transformProps.has(g)){d=!0;break}}if(!d)return;let h=!i;if(i)for(let g=0;g<layoutProps.length;g++){const b=layoutProps[g];e[b]!==i[b]&&(h=!0)}h&&frame.read(()=>{updateSVGDimensions(s,o),frame.render(()=>{buildSVGAttrs(o,a,isSVGTag(s.tagName),e.transformTemplate),renderSVG(s,o)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(e,i,s){for(const o in i)!isMotionValue(i[o])&&!isForcedMotionValue(o,s)&&(e[o]=i[o])}function useInitialMotionValues({transformTemplate:e},i){return reactExports.useMemo(()=>{const s=createHtmlRenderState();return buildHTMLStyles(s,i,e),Object.assign({},s.vars,s.style)},[i])}function useStyle(e,i){const s=e.style||{},o={};return copyRawValuesOnly(o,s,e),Object.assign(o,useInitialMotionValues(e,i)),o}function useHTMLProps(e,i){const s={},o=useStyle(e,i);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=o,s}function useSVGProps(e,i,s,o){const a=reactExports.useMemo(()=>{const d=createSvgRenderState();return buildSVGAttrs(d,i,isSVGTag(o),e.transformTemplate),{...d.attrs,style:{...d.style}}},[i]);if(e.style){const d={};copyRawValuesOnly(d,e.style,e),a.style={...d,...a.style}}return a}function createUseRender(e=!1){return(s,o,a,{latestValues:d},h)=>{const b=(isSVGComponent(s)?useSVGProps:useHTMLProps)(o,d,h,s),_=filterProps(o,typeof s=="string",e),j=s!==reactExports.Fragment?{..._,...b,ref:a}:{},{children:$}=o,_e=reactExports.useMemo(()=>isMotionValue($)?$.get():$,[$]);return reactExports.createElement(s,{...j,children:_e})}}function createMotionComponentFactory(e,i){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const h={...isSVGComponent(o)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:e,useRender:createUseRender(a),createVisualElement:i,Component:o};return createRendererMotionComponent(h)}}function shallowCompare(e,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==e.length)return!1;for(let o=0;o<s;o++)if(i[o]!==e[o])return!1;return!0}function resolveVariant(e,i,s){const o=e.getProps();return resolveVariantFromProps(o,i,s!==void 0?s:o.custom,e)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(i){this.stop=()=>this.runAll("stop"),this.animations=i.filter(Boolean)}get finished(){return Promise.all(this.animations.map(i=>"finished"in i?i.finished:i))}getAll(i){return this.animations[0][i]}setAll(i,s){for(let o=0;o<this.animations.length;o++)this.animations[o][i]=s}attachTimeline(i,s){const o=this.animations.map(a=>{if(supportsScrollTimeline()&&a.attachTimeline)return a.attachTimeline(i);if(typeof s=="function")return s(a)});return()=>{o.forEach((a,d)=>{a&&a(),this.animations[d].stop()})}}get time(){return this.getAll("time")}set time(i){this.setAll("time",i)}get speed(){return this.getAll("speed")}set speed(i){this.setAll("speed",i)}get startTime(){return this.getAll("startTime")}get duration(){let i=0;for(let s=0;s<this.animations.length;s++)i=Math.max(i,this.animations[s].duration);return i}runAll(i){this.animations.forEach(s=>s[i]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(i,s){return Promise.all(this.animations).then(i).catch(s)}}function getValueTransition(e,i){return e?e[i]||e.default||e:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let i=0;const s=50;let o=e.next(i);for(;!o.done&&i<maxGeneratorDuration;)i+=s,o=e.next(i);return i>=maxGeneratorDuration?1/0:i}function isGenerator(e){return typeof e=="function"}function attachTimeline(e,i){e.timeline=i,e.onfinish=null}const isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(e,i){const s=memo(e);return()=>{var o;return(o=supportsFlags[i])!==null&&o!==void 0?o:s()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(e,i,s=10)=>{let o="";const a=Math.max(Math.round(i/s),2);for(let d=0;d<a;d++)o+=e(progress(0,a-1,d))+", ";return`linear(${o.substring(0,o.length-2)})`};function isWaapiSupportedEasing(e){return!!(typeof e=="function"&&supportsLinearEasing()||!e||typeof e=="string"&&(e in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,i,s,o])=>`cubic-bezier(${e}, ${i}, ${s}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,i){if(e)return typeof e=="function"&&supportsLinearEasing()?generateLinearEasing(e,i):isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(s=>mapEasingToNativeEasing(s,i)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(e,i,s){var o;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const d=(o=void 0)!==null&&o!==void 0?o:a.querySelectorAll(e);return d?Array.from(d):[]}return Array.from(e)}function setupGesture(e,i){const s=resolveElements(e),o=new AbortController,a={passive:!0,...i,signal:o.signal};return[s,a,()=>o.abort()]}function filterEvents$1(e){return i=>{i.pointerType==="touch"||isDragActive()||e(i)}}function hover(e,i,s={}){const[o,a,d]=setupGesture(e,s),h=filterEvents$1(g=>{const{target:b}=g,_=i(g);if(typeof _!="function"||!b)return;const j=filterEvents$1($=>{_($),b.removeEventListener("pointerleave",j)});b.addEventListener("pointerleave",j,a)});return o.forEach(g=>{g.addEventListener("pointerenter",h,a)}),d}const isNodeOrChild=(e,i)=>i?e===i?!0:isNodeOrChild(e,i.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return i=>{i.key==="Enter"&&e(i)}}function firePointerEvent(e,i){e.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,i)=>{const s=e.currentTarget;if(!s)return;const o=filterEvents(()=>{if(isPressing.has(s))return;firePointerEvent(s,"down");const a=filterEvents(()=>{firePointerEvent(s,"up")}),d=()=>firePointerEvent(s,"cancel");s.addEventListener("keyup",a,i),s.addEventListener("blur",d,i)});s.addEventListener("keydown",o,i),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),i)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,i,s={}){const[o,a,d]=setupGesture(e,s),h=g=>{const b=g.currentTarget;if(!isValidPressEvent(g)||isPressing.has(b))return;isPressing.add(b);const _=i(g),j=(et,nt)=>{window.removeEventListener("pointerup",$),window.removeEventListener("pointercancel",_e),!(!isValidPressEvent(et)||!isPressing.has(b))&&(isPressing.delete(b),typeof _=="function"&&_(et,{success:nt}))},$=et=>{j(et,s.useGlobalTarget||isNodeOrChild(b,et.target))},_e=et=>{j(et,!1)};window.addEventListener("pointerup",$,a),window.addEventListener("pointercancel",_e,a)};return o.forEach(g=>{!isElementKeyboardAccessible(g)&&g.getAttribute("tabindex")===null&&(g.tabIndex=0),(s.useGlobalTarget?window:g).addEventListener("pointerdown",h,a),g.addEventListener("focus",_=>enableKeyboardPress(_,a),a)}),d}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}};function addUniqueItem(e,i){e.indexOf(i)===-1&&e.push(i)}function removeItem(e,i){const s=e.indexOf(i);s>-1&&e.splice(s,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(i){return addUniqueItem(this.subscriptions,i),()=>removeItem(this.subscriptions,i)}notify(i,s,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](i,s,o);else for(let d=0;d<a;d++){const h=this.subscriptions[d];h&&h(i,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(e,i){return i?e*(1e3/i):0}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(i,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{const d=time.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.owner=s.owner}setCurrent(i){this.current=i,this.updatedAt=time.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new SubscriptionManager);const o=this.events[i].add(s);return i==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,s=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,i){return new MotionValue(e,i)}function setMotionValue(e,i,s){e.hasValue(i)?e.getValue(i).set(s):e.addValue(i,motionValue(s))}function setTarget(e,i){const s=resolveVariant(e,i);let{transitionEnd:o={},transition:a={},...d}=s||{};d={...d,...o};for(const h in d){const g=resolveFinalValueInKeyframes(d[h]);setMotionValue(e,h,g)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,i){const s=e.getValue("willChange");if(isWillChangeMotionValue(s))return s.add(i)}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const calcBezier=(e,i,s)=>(((1-3*s+3*i)*e+(3*s-6*i))*e+3*i)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,i,s,o,a){let d,h,g=0;do h=i+(s-i)/2,d=calcBezier(h,o,a)-e,d>0?s=h:i=h;while(Math.abs(d)>subdivisionPrecision&&++g<subdivisionMaxIterations);return h}function cubicBezier(e,i,s,o){if(e===i&&s===o)return noop;const a=d=>binarySubdivide(d,0,1,e,s);return d=>d===0||d===1?d:calcBezier(a(d),i,o)}const mirrorEasing=e=>i=>i<=.5?e(2*i)/2:(2-e(2*(1-i)))/2,reverseEasing=e=>i=>1-e(1-i),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,i)=>s=>!!(typeof s=="string"&&singleColorRegex.test(s)&&s.startsWith(e)||i&&!isNullish(s)&&Object.prototype.hasOwnProperty.call(s,i)),splitColor=(e,i,s)=>o=>{if(typeof o!="string")return o;const[a,d,h,g]=o.match(floatRegex);return{[e]:parseFloat(a),[i]:parseFloat(d),[s]:parseFloat(h),alpha:g!==void 0?parseFloat(g):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number$1,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:i,blue:s,alpha:o=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+sanitize(alpha.transform(o))+")"};function parseHex(e){let i="",s="",o="",a="";return e.length>5?(i=e.substring(1,3),s=e.substring(3,5),o=e.substring(5,7),a=e.substring(7,9)):(i=e.substring(1,2),s=e.substring(2,3),o=e.substring(3,4),a=e.substring(4,5),i+=i,s+=s,o+=o,a+=a),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:i,lightness:s,alpha:o=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(i))+", "+percent.transform(sanitize(s))+", "+sanitize(alpha.transform(o))+")"},color$1={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var i,s;return isNaN(e)&&typeof e=="string"&&(((i=e.match(floatRegex))===null||i===void 0?void 0:i.length)||0)+(((s=e.match(colorRegex))===null||s===void 0?void 0:s.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const i=e.toString(),s=[],o={color:[],number:[],var:[]},a=[];let d=0;const g=i.replace(complexRegex,b=>(color$1.test(b)?(o.color.push(d),a.push(COLOR_TOKEN),s.push(color$1.parse(b))):b.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(d),a.push(VAR_TOKEN),s.push(b)):(o.number.push(d),a.push(NUMBER_TOKEN),s.push(parseFloat(b))),++d,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:s,split:g,indexes:o,types:a}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:i,types:s}=analyseComplexValue(e),o=i.length;return a=>{let d="";for(let h=0;h<o;h++)if(d+=i[h],a[h]!==void 0){const g=s[h];g===NUMBER_TOKEN?d+=sanitize(a[h]):g===COLOR_TOKEN?d+=color$1.transform(a[h]):d+=a[h]}return d}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const i=parseComplexValue(e);return createTransformer(e)(i.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[i,s]=e.slice(0,-1).split("(");if(i==="drop-shadow")return e;const[o]=s.match(floatRegex)||[];if(!o)return e;const a=s.replace(o,"");let d=maxDefaults.has(i)?1:0;return o!==s&&(d*=100),i+"("+d+a+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const i=e.match(functionRegex);return i?i.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,i){let s=getDefaultValueType(e);return s!==filter&&(s=complex),s.getAnimatableNone?s.getAnimatableNone(i):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,i,s){let o=0,a;for(;o<e.length&&!a;){const d=e[o];typeof d=="string"&&!invalidTemplates.has(d)&&analyseComplexValue(d).values.length&&(a=e[o]),o++}if(a&&s)for(const d of i)e[d]=getAnimatableNone(s,a)}const isNumOrPxType=e=>e===number$1||e===px,getPosFromMatrix=(e,i)=>parseFloat(e.split(", ")[i]),getTranslateFromMatrix=(e,i)=>(s,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/u);if(a)return getPosFromMatrix(a[1],i);{const d=o.match(/^matrix\((.+)\)$/u);return d?getPosFromMatrix(d[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const i=[];return nonTranslationalTransformKeys.forEach(s=>{const o=e.getValue(s);o!==void 0&&(i.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),i}const positionalValues={width:({x:e},{paddingLeft:i="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(i)-parseFloat(s),height:({y:e},{paddingTop:i="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(i)-parseFloat(s),top:(e,{top:i})=>parseFloat(i),left:(e,{left:i})=>parseFloat(i),bottom:({y:e},{top:i})=>parseFloat(i)+(e.max-e.min),right:({x:e},{left:i})=>parseFloat(i)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(o=>o.needsMeasurement),i=new Set(e.map(o=>o.element)),s=new Map;i.forEach(o=>{const a=removeNonTranslationalTransform(o);a.length&&(s.set(o,a),o.render())}),e.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const a=s.get(o);a&&a.forEach(([d,h])=>{var g;(g=o.getValue(d))===null||g===void 0||g.set(h)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(i,s,o,a,d,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=s,this.name=o,this.motionValue=a,this.element=d,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:s,element:o,motionValue:a}=this;for(let d=0;d<i.length;d++)if(i[d]===null)if(d===0){const h=a==null?void 0:a.get(),g=i[i.length-1];if(h!==void 0)i[0]=h;else if(o&&s){const b=o.readValue(s,g);b!=null&&(i[0]=b)}i[0]===void 0&&(i[0]=g),a&&h===void 0&&a.set(i[0])}else i[d]=i[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const i=splitCSSVariableRegex.exec(e);if(!i)return[,];const[,s,o,a]=i;return[`--${s??o}`,a]}function getVariableValue(e,i,s=1){const[o,a]=parseCSSVariable(e);if(!o)return;const d=window.getComputedStyle(i).getPropertyValue(o);if(d){const h=d.trim();return isNumericalString(h)?parseFloat(h):h}return isCSSVariableToken(a)?getVariableValue(a,i,s+1):a}const testValueType=e=>i=>i.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number$1,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));class DOMKeyframesResolver extends KeyframeResolver{constructor(i,s,o,a,d){super(i,s,o,a,d,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let b=0;b<i.length;b++){let _=i[b];if(typeof _=="string"&&(_=_.trim(),isCSSVariableToken(_))){const j=getVariableValue(_,s.current);j!==void 0&&(i[b]=j),b===i.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||i.length!==2)return;const[a,d]=i,h=findDimensionValueType(a),g=findDimensionValueType(d);if(h!==g)if(isNumOrPxType(h)&&isNumOrPxType(g))for(let b=0;b<i.length;b++){const _=i[b];typeof _=="string"&&(i[b]=parseFloat(_))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:s}=this,o=[];for(let a=0;a<i.length;a++)isNone(i[a])&&o.push(a);o.length&&makeNoneKeyframesAnimatable(i,o,s)}measureInitialState(){const{element:i,unresolvedKeyframes:s,name:o}=this;if(!i||!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](i.measureViewportBox(),window.getComputedStyle(i.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&i.getValue(o,a).jump(a,!1)}measureEndState(){var i;const{element:s,name:o,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const d=s.getValue(o);d&&d.jump(this.measuredOrigin,!1);const h=a.length-1,g=a[h];a[h]=positionalValues[o](s.measureViewportBox(),window.getComputedStyle(s.current)),g!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=g),!((i=this.removedTransforms)===null||i===void 0)&&i.length&&this.removedTransforms.forEach(([b,_])=>{s.getValue(b).set(_)}),this.resolveNoneKeyframes()}}const isAnimatable=(e,i)=>i==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const i=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==i)return!0}function canAnimate(e,i,s,o){const a=e[0];if(a===null)return!1;if(i==="display"||i==="visibility")return!0;const d=e[e.length-1],h=isAnimatable(a,i),g=isAnimatable(d,i);return!h||!g?!1:hasKeyframesChanged(e)||(s==="spring"||isGenerator(s))&&o}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:i,repeatType:s="loop"},o){const a=e.filter(isNotNull),d=i&&s!=="loop"&&i%2===1?0:a.length-1;return!d||o===void 0?a[d]:o}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:i=!0,delay:s=0,type:o="keyframes",repeat:a=0,repeatDelay:d=0,repeatType:h="loop",...g}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:i,delay:s,type:o,repeat:a,repeatDelay:d,repeatType:h,...g},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(i,s){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:o,type:a,velocity:d,delay:h,onComplete:g,onUpdate:b,isGenerator:_}=this.options;if(!_&&!canAnimate(i,o,a,d))if(h)this.options.duration=0;else{b&&b(getFinalKeyframe(i,this.options,s)),g&&g(),this.resolveFinishedPromise();return}const j=this.initPlayback(i,s);j!==!1&&(this._resolved={keyframes:i,finalKeyframe:s,...j},this.onPostResolved())}onPostResolved(){}then(i,s){return this.currentFinishedPromise.then(i,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}const mixNumber$1=(e,i,s)=>e+(i-e)*s;function hueToRgb(e,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(i-e)*6*s:s<1/2?i:s<2/3?e+(i-e)*(2/3-s)*6:e}function hslaToRgba({hue:e,saturation:i,lightness:s,alpha:o}){e/=360,i/=100,s/=100;let a=0,d=0,h=0;if(!i)a=d=h=s;else{const g=s<.5?s*(1+i):s+i-s*i,b=2*s-g;a=hueToRgb(b,g,e+1/3),d=hueToRgb(b,g,e),h=hueToRgb(b,g,e-1/3)}return{red:Math.round(a*255),green:Math.round(d*255),blue:Math.round(h*255),alpha:o}}function mixImmediate(e,i){return s=>s>0?i:e}const mixLinearColor=(e,i,s)=>{const o=e*e,a=s*(i*i-o)+o;return a<0?0:Math.sqrt(a)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(i=>i.test(e));function asRGBA(e){const i=getColorType(e);if(!i)return!1;let s=i.parse(e);return i===hsla&&(s=hslaToRgba(s)),s}const mixColor=(e,i)=>{const s=asRGBA(e),o=asRGBA(i);if(!s||!o)return mixImmediate(e,i);const a={...s};return d=>(a.red=mixLinearColor(s.red,o.red,d),a.green=mixLinearColor(s.green,o.green,d),a.blue=mixLinearColor(s.blue,o.blue,d),a.alpha=mixNumber$1(s.alpha,o.alpha,d),rgba.transform(a))},combineFunctions=(e,i)=>s=>i(e(s)),pipe=(...e)=>e.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,i){return invisibleValues.has(e)?s=>s<=0?e:i:s=>s>=1?i:e}function mixNumber(e,i){return s=>mixNumber$1(e,i,s)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color$1.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color$1.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,i){const s=[...e],o=s.length,a=e.map((d,h)=>getMixer(d)(d,i[h]));return d=>{for(let h=0;h<o;h++)s[h]=a[h](d);return s}}function mixObject(e,i){const s={...e,...i},o={};for(const a in s)e[a]!==void 0&&i[a]!==void 0&&(o[a]=getMixer(e[a])(e[a],i[a]));return a=>{for(const d in o)s[d]=o[d](a);return s}}function matchOrder(e,i){var s;const o=[],a={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const h=i.types[d],g=e.indexes[h][a[h]],b=(s=e.values[g])!==null&&s!==void 0?s:0;o[d]=b,a[h]++}return o}const mixComplex=(e,i)=>{const s=complex.createTransformer(i),o=analyseComplexValue(e),a=analyseComplexValue(i);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?invisibleValues.has(e)&&!a.values.length||invisibleValues.has(i)&&!o.values.length?mixVisibility(e,i):pipe(mixArray(matchOrder(o,a),a.values),s):mixImmediate(e,i)};function mix(e,i,s){return typeof e=="number"&&typeof i=="number"&&typeof s=="number"?mixNumber$1(e,i,s):getMixer(e)(e,i)}const velocitySampleDuration=5;function calcGeneratorVelocity(e,i,s){const o=Math.max(i-velocitySampleDuration,0);return velocityPerSecond(s-e(o),i-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:i=springDefaults.bounce,velocity:s=springDefaults.velocity,mass:o=springDefaults.mass}){let a,d,h=1-i;h=clamp(springDefaults.minDamping,springDefaults.maxDamping,h),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),h<1?(a=_=>{const j=_*h,$=j*e,_e=j-s,et=calcAngularFreq(_,h),nt=Math.exp(-$);return safeMin-_e/et*nt},d=_=>{const $=_*h*e,_e=$*s+s,et=Math.pow(h,2)*Math.pow(_,2)*e,nt=Math.exp(-$),it=calcAngularFreq(Math.pow(_,2),h);return(-a(_)+safeMin>0?-1:1)*((_e-et)*nt)/it}):(a=_=>{const j=Math.exp(-_*e),$=(_-s)*e+1;return-safeMin+j*$},d=_=>{const j=Math.exp(-_*e),$=(s-_)*(e*e);return j*$});const g=5/e,b=approximateRoot(a,d,g);if(e=secondsToMilliseconds(e),isNaN(b))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const _=Math.pow(b,2)*o;return{stiffness:_,damping:h*2*Math.sqrt(o*_),duration:e}}}const rootIterations=12;function approximateRoot(e,i,s){let o=s;for(let a=1;a<rootIterations;a++)o=o-e(o)/i(o);return o}function calcAngularFreq(e,i){return e*Math.sqrt(1-i*i)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,i){return i.some(s=>e[s]!==void 0)}function getSpringOptions(e){let i={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const s=e.visualDuration,o=2*Math.PI/(s*1.2),a=o*o,d=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(a);i={...i,mass:springDefaults.mass,stiffness:a,damping:d}}else{const s=findSpring(e);i={...i,...s,mass:springDefaults.mass},i.isResolvedFromDuration=!0}return i}function spring(e=springDefaults.visualDuration,i=springDefaults.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:i}:e;let{restSpeed:o,restDelta:a}=s;const d=s.keyframes[0],h=s.keyframes[s.keyframes.length-1],g={done:!1,value:d},{stiffness:b,damping:_,mass:j,duration:$,velocity:_e,isResolvedFromDuration:et}=getSpringOptions({...s,velocity:-millisecondsToSeconds(s.velocity||0)}),nt=_e||0,it=_/(2*Math.sqrt(b*j)),st=h-d,tt=millisecondsToSeconds(Math.sqrt(b/j)),rt=Math.abs(st)<5;o||(o=rt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),a||(a=rt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let ot;if(it<1){const lt=calcAngularFreq(tt,it);ot=ct=>{const dt=Math.exp(-it*tt*ct);return h-dt*((nt+it*tt*st)/lt*Math.sin(lt*ct)+st*Math.cos(lt*ct))}}else if(it===1)ot=lt=>h-Math.exp(-tt*lt)*(st+(nt+tt*st)*lt);else{const lt=tt*Math.sqrt(it*it-1);ot=ct=>{const dt=Math.exp(-it*tt*ct),ht=Math.min(lt*ct,300);return h-dt*((nt+it*tt*st)*Math.sinh(ht)+lt*st*Math.cosh(ht))/lt}}const ut={calculatedDuration:et&&$||null,next:lt=>{const ct=ot(lt);if(et)g.done=lt>=$;else{let dt=0;it<1&&(dt=lt===0?secondsToMilliseconds(nt):calcGeneratorVelocity(ot,lt,ct));const ht=Math.abs(dt)<=o,mt=Math.abs(h-ct)<=a;g.done=ht&&mt}return g.value=g.done?h:ct,g},toString:()=>{const lt=Math.min(calcGeneratorDuration(ut),maxGeneratorDuration),ct=generateLinearEasing(dt=>ut.next(lt*dt).value,lt,30);return lt+"ms "+ct}};return ut}function inertia({keyframes:e,velocity:i=0,power:s=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:d=500,modifyTarget:h,min:g,max:b,restDelta:_=.5,restSpeed:j}){const $=e[0],_e={done:!1,value:$},et=ht=>g!==void 0&&ht<g||b!==void 0&&ht>b,nt=ht=>g===void 0?b:b===void 0||Math.abs(g-ht)<Math.abs(b-ht)?g:b;let it=s*i;const st=$+it,tt=h===void 0?st:h(st);tt!==st&&(it=tt-$);const rt=ht=>-it*Math.exp(-ht/o),ot=ht=>tt+rt(ht),ut=ht=>{const mt=rt(ht),xt=ot(ht);_e.done=Math.abs(mt)<=_,_e.value=_e.done?tt:xt};let lt,ct;const dt=ht=>{et(_e.value)&&(lt=ht,ct=spring({keyframes:[_e.value,nt(_e.value)],velocity:calcGeneratorVelocity(ot,ht,_e.value),damping:a,stiffness:d,restDelta:_,restSpeed:j}))};return dt(0),{calculatedDuration:null,next:ht=>{let mt=!1;return!ct&&lt===void 0&&(mt=!0,ut(ht),dt(ht)),lt!==void 0&&ht>=lt?ct.next(ht-lt):(!mt&&ut(ht),_e)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant$1(e.length===4);const[i,s,o,a]=e;return cubicBezier(i,s,o,a)}else if(typeof e=="string")return easingLookup[e];return e};function createMixers(e,i,s){const o=[],a=s||mix,d=e.length-1;for(let h=0;h<d;h++){let g=a(e[h],e[h+1]);if(i){const b=Array.isArray(i)?i[h]||noop:i;g=pipe(b,g)}o.push(g)}return o}function interpolate(e,i,{clamp:s=!0,ease:o,mixer:a}={}){const d=e.length;if(invariant$1(d===i.length),d===1)return()=>i[0];if(d===2&&i[0]===i[1])return()=>i[1];const h=e[0]===e[1];e[0]>e[d-1]&&(e=[...e].reverse(),i=[...i].reverse());const g=createMixers(i,o,a),b=g.length,_=j=>{if(h&&j<e[0])return i[0];let $=0;if(b>1)for(;$<e.length-2&&!(j<e[$+1]);$++);const _e=progress(e[$],e[$+1],j);return g[$](_e)};return s?j=>_(clamp(e[0],e[d-1],j)):_}function fillOffset(e,i){const s=e[e.length-1];for(let o=1;o<=i;o++){const a=progress(0,i,o);e.push(mixNumber$1(s,1,a))}}function defaultOffset(e){const i=[0];return fillOffset(i,e.length-1),i}function convertOffsetToTimes(e,i){return e.map(s=>s*i)}function defaultEasing(e,i){return e.map(()=>i||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:i,times:s,ease:o="easeInOut"}){const a=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),d={done:!1,value:i[0]},h=convertOffsetToTimes(s&&s.length===i.length?s:defaultOffset(i),e),g=interpolate(h,i,{ease:Array.isArray(a)?a:defaultEasing(i,a)});return{calculatedDuration:e,next:b=>(d.value=g(b),d.done=b>=e,d)}}const frameloopDriver=e=>{const i=({timestamp:s})=>e(s);return{start:()=>frame.update(i,!0),stop:()=>cancelFrame(i),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=e=>e/100;class MainThreadAnimation extends BaseAnimation{constructor(i){super(i),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:b}=this.options;b&&b()};const{name:s,motionValue:o,element:a,keyframes:d}=this.options,h=(a==null?void 0:a.KeyframeResolver)||KeyframeResolver,g=(b,_)=>this.onKeyframesResolved(b,_);this.resolver=new h(d,g,s,o,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(i){const{type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:d,velocity:h=0}=this.options,g=isGenerator(s)?s:generators[s]||keyframes;let b,_;g!==keyframes&&typeof i[0]!="number"&&(b=pipe(percentToProgress,mix(i[0],i[1])),i=[0,100]);const j=g({...this.options,keyframes:i});d==="mirror"&&(_=g({...this.options,keyframes:[...i].reverse(),velocity:-h})),j.calculatedDuration===null&&(j.calculatedDuration=calcGeneratorDuration(j));const{calculatedDuration:$}=j,_e=$+a,et=_e*(o+1)-a;return{generator:j,mirroredGenerator:_,mapPercentToKeyframes:b,calculatedDuration:$,resolvedDuration:_e,totalDuration:et}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,s=!1){const{resolved:o}=this;if(!o){const{keyframes:ht}=this.options;return{done:!0,value:ht[ht.length-1]}}const{finalKeyframe:a,generator:d,mirroredGenerator:h,mapPercentToKeyframes:g,keyframes:b,calculatedDuration:_,totalDuration:j,resolvedDuration:$}=o;if(this.startTime===null)return d.next(0);const{delay:_e,repeat:et,repeatType:nt,repeatDelay:it,onUpdate:st}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-j/this.speed,this.startTime)),s?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const tt=this.currentTime-_e*(this.speed>=0?1:-1),rt=this.speed>=0?tt<0:tt>j;this.currentTime=Math.max(tt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=j);let ot=this.currentTime,ut=d;if(et){const ht=Math.min(this.currentTime,j)/$;let mt=Math.floor(ht),xt=ht%1;!xt&&ht>=1&&(xt=1),xt===1&&mt--,mt=Math.min(mt,et+1),!!(mt%2)&&(nt==="reverse"?(xt=1-xt,it&&(xt-=it/$)):nt==="mirror"&&(ut=h)),ot=clamp(0,1,xt)*$}const lt=rt?{done:!1,value:b[0]}:ut.next(ot);g&&(lt.value=g(lt.value));let{done:ct}=lt;!rt&&_!==null&&(ct=this.speed>=0?this.currentTime>=j:this.currentTime<=0);const dt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return dt&&a!==void 0&&(lt.value=getFinalKeyframe(b,this.options,a)),st&&st(lt.value),dt&&this.finish(),lt}get duration(){const{resolved:i}=this;return i?millisecondsToSeconds(i.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(i){i=secondsToMilliseconds(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const s=this.playbackSpeed!==i;this.playbackSpeed=i,s&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=frameloopDriver,onPlay:s,startTime:o}=this.options;this.driver||(this.driver=i(d=>this.tick(d))),s&&s();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var i;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(i=this.currentTime)!==null&&i!==void 0?i:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(e,i,s,{delay:o=0,duration:a=300,repeat:d=0,repeatType:h="loop",ease:g="easeInOut",times:b}={}){const _={[i]:s};b&&(_.offset=b);const j=mapEasingToNativeEasing(g,a);return Array.isArray(j)&&(_.easing=j),e.animate(_,{delay:o,duration:a,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:d+1,direction:h==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(e){return isGenerator(e.type)||e.type==="spring"||!isWaapiSupportedEasing(e.ease)}function pregenerateKeyframes(e,i){const s=new MainThreadAnimation({...i,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const a=[];let d=0;for(;!o.done&&d<maxDuration;)o=s.sample(d),a.push(o.value),d+=sampleDelta;return{times:void 0,keyframes:a,duration:d-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(i){super(i);const{name:s,motionValue:o,element:a,keyframes:d}=this.options;this.resolver=new DOMKeyframesResolver(d,(h,g)=>this.onKeyframesResolved(h,g),s,o,a),this.resolver.scheduleResolve()}initPlayback(i,s){let{duration:o=300,times:a,ease:d,type:h,motionValue:g,name:b,startTime:_}=this.options;if(!g.owner||!g.owner.current)return!1;if(typeof d=="string"&&supportsLinearEasing()&&isUnsupportedEase(d)&&(d=unsupportedEasingFunctions[d]),requiresPregeneratedKeyframes(this.options)){const{onComplete:$,onUpdate:_e,motionValue:et,element:nt,...it}=this.options,st=pregenerateKeyframes(i,it);i=st.keyframes,i.length===1&&(i[1]=i[0]),o=st.duration,a=st.times,d=st.ease,h="keyframes"}const j=startWaapiAnimation(g.owner.current,b,i,{...this.options,duration:o,times:a,ease:d});return j.startTime=_??this.calcStartTime(),this.pendingTimeline?(attachTimeline(j,this.pendingTimeline),this.pendingTimeline=void 0):j.onfinish=()=>{const{onComplete:$}=this.options;g.set(getFinalKeyframe(i,this.options,s)),$&&$(),this.cancel(),this.resolveFinishedPromise()},{animation:j,duration:o,times:a,type:h,ease:d,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:s}=i;return millisecondsToSeconds(s)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:s}=i;return millisecondsToSeconds(s.currentTime||0)}set time(i){const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.currentTime=secondsToMilliseconds(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:s}=i;return s.playbackRate}set speed(i){const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:s}=i;return s.playState}get startTime(){const{resolved:i}=this;if(!i)return null;const{animation:s}=i;return s.startTime}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:s}=this;if(!s)return noop;const{animation:o}=s;attachTimeline(o,i)}return noop}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:i}=this;if(!i)return;const{animation:s,keyframes:o,duration:a,type:d,ease:h,times:g}=i;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:_,onUpdate:j,onComplete:$,element:_e,...et}=this.options,nt=new MainThreadAnimation({...et,keyframes:o,duration:a,type:d,ease:h,times:g,isGenerator:!0}),it=secondsToMilliseconds(this.time);_.setWithVelocity(nt.sample(it-sampleDelta).value,nt.sample(it).value,sampleDelta)}const{onStop:b}=this.options;b&&b(),this.cancel()}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:s,name:o,repeatDelay:a,repeatType:d,damping:h,type:g}=i;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:b,transformTemplate:_}=s.owner.getProps();return supportsWaapi()&&o&&acceleratedValues.has(o)&&!b&&!_&&!a&&d!=="mirror"&&h!==0&&g!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:i})=>i.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(i[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:i,delayChildren:s,staggerChildren:o,staggerDirection:a,repeat:d,repeatType:h,repeatDelay:g,from:b,elapsed:_,...j}){return!!Object.keys(j).length}const animateMotionValue=(e,i,s,o={},a,d)=>h=>{const g=getValueTransition(o,e)||{},b=g.delay||o.delay||0;let{elapsed:_=0}=o;_=_-secondsToMilliseconds(b);let j={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:i.getVelocity(),...g,delay:-_,onUpdate:_e=>{i.set(_e),g.onUpdate&&g.onUpdate(_e)},onComplete:()=>{h(),g.onComplete&&g.onComplete()},name:e,motionValue:i,element:d?void 0:a};isTransitionDefined(g)||(j={...j,...getDefaultTransition(e,j)}),j.duration&&(j.duration=secondsToMilliseconds(j.duration)),j.repeatDelay&&(j.repeatDelay=secondsToMilliseconds(j.repeatDelay)),j.from!==void 0&&(j.keyframes[0]=j.from);let $=!1;if((j.type===!1||j.duration===0&&!j.repeatDelay)&&(j.duration=0,j.delay===0&&($=!0)),$&&!d&&i.get()!==void 0){const _e=getFinalKeyframe(j.keyframes,g);if(_e!==void 0)return frame.update(()=>{j.onUpdate(_e),j.onComplete()}),new GroupPlaybackControls([])}return!d&&AcceleratedAnimation.supports(j)?new AcceleratedAnimation(j):new MainThreadAnimation(j)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:i},s){const o=e.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,o}function animateTarget(e,i,{delay:s=0,transitionOverride:o,type:a}={}){var d;let{transition:h=e.getDefaultTransition(),transitionEnd:g,...b}=i;o&&(h=o);const _=[],j=a&&e.animationState&&e.animationState.getState()[a];for(const $ in b){const _e=e.getValue($,(d=e.latestValues[$])!==null&&d!==void 0?d:null),et=b[$];if(et===void 0||j&&shouldBlockAnimation(j,$))continue;const nt={delay:s,...getValueTransition(h||{},$)};let it=!1;if(window.MotionHandoffAnimation){const tt=getOptimisedAppearId(e);if(tt){const rt=window.MotionHandoffAnimation(tt,$,frame);rt!==null&&(nt.startTime=rt,it=!0)}}addValueToWillChange(e,$),_e.start(animateMotionValue($,_e,et,e.shouldReduceMotion&&positionalKeys.has($)?{type:!1}:nt,e,it));const st=_e.animation;st&&_.push(st)}return g&&Promise.all(_).then(()=>{frame.update(()=>{g&&setTarget(e,g)})}),_}function animateVariant(e,i,s={}){var o;const a=resolveVariant(e,i,s.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:d=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(d=s.transitionOverride);const h=a?()=>Promise.all(animateTarget(e,a,s)):()=>Promise.resolve(),g=e.variantChildren&&e.variantChildren.size?(_=0)=>{const{delayChildren:j=0,staggerChildren:$,staggerDirection:_e}=d;return animateChildren(e,i,j+_,$,_e,s)}:()=>Promise.resolve(),{when:b}=d;if(b){const[_,j]=b==="beforeChildren"?[h,g]:[g,h];return _().then(()=>j())}else return Promise.all([h(),g(s.delay)])}function animateChildren(e,i,s=0,o=0,a=1,d){const h=[],g=(e.variantChildren.size-1)*o,b=a===1?(_=0)=>_*o:(_=0)=>g-_*o;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((_,j)=>{_.notify("AnimationStart",i),h.push(animateVariant(_,i,{...d,delay:s+b(j)}).then(()=>_.notify("AnimationComplete",i)))}),Promise.all(h)}function sortByTreeOrder(e,i){return e.sortNodePosition(i)}function animateVisualElement(e,i,s={}){e.notify("AnimationStart",i);let o;if(Array.isArray(i)){const a=i.map(d=>animateVariant(e,d,s));o=Promise.all(a)}else if(typeof i=="string")o=animateVariant(e,i,s);else{const a=typeof i=="function"?resolveVariant(e,i,s.custom):i;o=Promise.all(animateTarget(e,a,s))}return o.then(()=>{e.notify("AnimationComplete",i)})}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const i={};for(let s=0;s<numVariantProps;s++){const o=variantProps[s],a=e.props[o];(isVariantLabel(a)||a===!1)&&(i[o]=a)}return i}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return i=>Promise.all(i.map(({animation:s,options:o})=>animateVisualElement(e,s,o)))}function createAnimationState(e){let i=animateList(e),s=createState$1(),o=!0;const a=b=>(_,j)=>{var $;const _e=resolveVariant(e,j,b==="exit"?($=e.presenceContext)===null||$===void 0?void 0:$.custom:void 0);if(_e){const{transition:et,transitionEnd:nt,...it}=_e;_={..._,...it,...nt}}return _};function d(b){i=b(e)}function h(b){const{props:_}=e,j=getVariantContext(e.parent)||{},$=[],_e=new Set;let et={},nt=1/0;for(let st=0;st<numAnimationTypes;st++){const tt=reversePriorityOrder[st],rt=s[tt],ot=_[tt]!==void 0?_[tt]:j[tt],ut=isVariantLabel(ot),lt=tt===b?rt.isActive:null;lt===!1&&(nt=st);let ct=ot===j[tt]&&ot!==_[tt]&&ut;if(ct&&o&&e.manuallyAnimateOnMount&&(ct=!1),rt.protectedKeys={...et},!rt.isActive&&lt===null||!ot&&!rt.prevProp||isAnimationControls(ot)||typeof ot=="boolean")continue;const dt=checkVariantsDidChange(rt.prevProp,ot);let ht=dt||tt===b&&rt.isActive&&!ct&&ut||st>nt&&ut,mt=!1;const xt=Array.isArray(ot)?ot:[ot];let ft=xt.reduce(a(tt),{});lt===!1&&(ft={});const{prevResolvedValues:bt={}}=rt,wt={...bt,...ft},Ct=At=>{ht=!0,_e.has(At)&&(mt=!0,_e.delete(At)),rt.needsAnimating[At]=!0;const Rt=e.getValue(At);Rt&&(Rt.liveStyle=!1)};for(const At in wt){const Rt=ft[At],Et=bt[At];if(et.hasOwnProperty(At))continue;let gt=!1;isKeyframesTarget(Rt)&&isKeyframesTarget(Et)?gt=!shallowCompare(Rt,Et):gt=Rt!==Et,gt?Rt!=null?Ct(At):_e.add(At):Rt!==void 0&&_e.has(At)?Ct(At):rt.protectedKeys[At]=!0}rt.prevProp=ot,rt.prevResolvedValues=ft,rt.isActive&&(et={...et,...ft}),o&&e.blockInitialAnimation&&(ht=!1),ht&&(!(ct&&dt)||mt)&&$.push(...xt.map(At=>({animation:At,options:{type:tt}})))}if(_e.size){const st={};_e.forEach(tt=>{const rt=e.getBaseTarget(tt),ot=e.getValue(tt);ot&&(ot.liveStyle=!0),st[tt]=rt??null}),$.push({animation:st})}let it=!!$.length;return o&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(it=!1),o=!1,it?i($):Promise.resolve()}function g(b,_){var j;if(s[b].isActive===_)return Promise.resolve();(j=e.variantChildren)===null||j===void 0||j.forEach(_e=>{var et;return(et=_e.animationState)===null||et===void 0?void 0:et.setActive(b,_)}),s[b].isActive=_;const $=h(b);for(const _e in s)s[_e].protectedKeys={};return $}return{animateChanges:h,setActive:g,setAnimateFunction:d,getState:()=>s,reset:()=>{s=createState$1(),o=!0}}}function checkVariantsDidChange(e,i){return typeof i=="string"?i!==e:Array.isArray(i)?!shallowCompare(i,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(i){this.isMounted=!1,this.node=i}update(){}}class AnimationFeature extends Feature{constructor(i){super(i),i.animationState||(i.animationState=createAnimationState(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();isAnimationControls(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)===null||i===void 0||i.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const a=this.node.animationState.setActive("exit",!i);s&&!i&&a.then(()=>s(this.id))}mount(){const{register:i}=this.node.presenceContext||{};i&&(this.unmount=i(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,i,s,o={passive:!0}){return e.addEventListener(i,s,o),()=>e.removeEventListener(i,s)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>i=>isPrimaryPointer(i)&&e(i,extractEventInfo(i));function addPointerEvent(e,i,s,o){return addDomEvent(e,i,addPointerInfo(s),o)}const distance=(e,i)=>Math.abs(e-i);function distance2D(e,i){const s=distance(e.x,i.x),o=distance(e.y,i.y);return Math.sqrt(s**2+o**2)}class PanSession{constructor(i,s,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=getPanInfo(this.lastMoveEventInfo,this.history),_e=this.startEvent!==null,et=distance2D($.offset,{x:0,y:0})>=3;if(!_e&&!et)return;const{point:nt}=$,{timestamp:it}=frameData;this.history.push({...nt,timestamp:it});const{onStart:st,onMove:tt}=this.handlers;_e||(st&&st(this.lastMoveEvent,$),this.startEvent=this.lastMoveEvent),tt&&tt(this.lastMoveEvent,$)},this.handlePointerMove=($,_e)=>{this.lastMoveEvent=$,this.lastMoveEventInfo=transformPoint(_e,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=($,_e)=>{this.end();const{onEnd:et,onSessionEnd:nt,resumeAnimation:it}=this.handlers;if(this.dragSnapToOrigin&&it&&it(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const st=getPanInfo($.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(_e,this.transformPagePoint),this.history);this.startEvent&&et&&et($,st),nt&&nt($,st)},!isPrimaryPointer(i))return;this.dragSnapToOrigin=d,this.handlers=s,this.transformPagePoint=o,this.contextWindow=a||window;const h=extractEventInfo(i),g=transformPoint(h,this.transformPagePoint),{point:b}=g,{timestamp:_}=frameData;this.history=[{...b,timestamp:_}];const{onSessionStart:j}=s;j&&j(i,getPanInfo(g,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,i){return i?{point:i(e.point)}:e}function subtractPoint(e,i){return{x:e.x-i.x,y:e.y-i.y}}function getPanInfo({point:e},i){return{point:e,delta:subtractPoint(e,lastDevicePoint(i)),offset:subtractPoint(e,startDevicePoint(i)),velocity:getVelocity(i,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,i){if(e.length<2)return{x:0,y:0};let s=e.length-1,o=null;const a=lastDevicePoint(e);for(;s>=0&&(o=e[s],!(a.timestamp-o.timestamp>secondsToMilliseconds(i)));)s--;if(!o)return{x:0,y:0};const d=millisecondsToSeconds(a.timestamp-o.timestamp);if(d===0)return{x:0,y:0};const h={x:(a.x-o.x)/d,y:(a.y-o.y)/d};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,i,s){return Math.abs(e-i)<=s}function calcAxisDelta(e,i,s,o=.5){e.origin=o,e.originPoint=mixNumber$1(i.min,i.max,e.origin),e.scale=calcLength(s)/calcLength(i),e.translate=mixNumber$1(s.min,s.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,i,s,o){calcAxisDelta(e.x,i.x,s.x,o?o.originX:void 0),calcAxisDelta(e.y,i.y,s.y,o?o.originY:void 0)}function calcRelativeAxis(e,i,s){e.min=s.min+i.min,e.max=e.min+calcLength(i)}function calcRelativeBox(e,i,s){calcRelativeAxis(e.x,i.x,s.x),calcRelativeAxis(e.y,i.y,s.y)}function calcRelativeAxisPosition(e,i,s){e.min=i.min-s.min,e.max=e.min+calcLength(i)}function calcRelativePosition(e,i,s){calcRelativeAxisPosition(e.x,i.x,s.x),calcRelativeAxisPosition(e.y,i.y,s.y)}function applyConstraints(e,{min:i,max:s},o){return i!==void 0&&e<i?e=o?mixNumber$1(i,e,o.min):Math.max(e,i):s!==void 0&&e>s&&(e=o?mixNumber$1(s,e,o.max):Math.min(e,s)),e}function calcRelativeAxisConstraints(e,i,s){return{min:i!==void 0?e.min+i:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:i,left:s,bottom:o,right:a}){return{x:calcRelativeAxisConstraints(e.x,s,a),y:calcRelativeAxisConstraints(e.y,i,o)}}function calcViewportAxisConstraints(e,i){let s=i.min-e.min,o=i.max-e.max;return i.max-i.min<e.max-e.min&&([s,o]=[o,s]),{min:s,max:o}}function calcViewportConstraints(e,i){return{x:calcViewportAxisConstraints(e.x,i.x),y:calcViewportAxisConstraints(e.y,i.y)}}function calcOrigin(e,i){let s=.5;const o=calcLength(e),a=calcLength(i);return a>o?s=progress(i.min,i.max-o,e.min):o>a&&(s=progress(e.min,e.max-a,i.min)),clamp(0,1,s)}function rebaseAxisConstraints(e,i){const s={};return i.min!==void 0&&(s.min=i.min-e.min),i.max!==void 0&&(s.max=i.max-e.min),s}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,i,s){return{min:resolvePointElastic(e,i),max:resolvePointElastic(e,s)}}function resolvePointElastic(e,i){return typeof e=="number"?e:e[i]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:i,right:s,bottom:o}){return{x:{min:i,max:s},y:{min:e,max:o}}}function convertBoxToBoundingBox({x:e,y:i}){return{top:i.min,right:e.max,bottom:i.max,left:e.min}}function transformBoxPoints(e,i){if(!i)return e;const s=i({x:e.left,y:e.top}),o=i({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:i,scaleY:s}){return!isIdentityScale(e)||!isIdentityScale(i)||!isIdentityScale(s)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,i,s){const o=e-s,a=i*o;return s+a}function applyPointDelta(e,i,s,o,a){return a!==void 0&&(e=scalePoint(e,a,o)),scalePoint(e,s,o)+i}function applyAxisDelta(e,i=0,s=1,o,a){e.min=applyPointDelta(e.min,i,s,o,a),e.max=applyPointDelta(e.max,i,s,o,a)}function applyBoxDelta(e,{x:i,y:s}){applyAxisDelta(e.x,i.translate,i.scale,i.originPoint),applyAxisDelta(e.y,s.translate,s.scale,s.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,i,s,o=!1){const a=s.length;if(!a)return;i.x=i.y=1;let d,h;for(let g=0;g<a;g++){d=s[g],h=d.projectionDelta;const{visualElement:b}=d.options;b&&b.props.style&&b.props.style.display==="contents"||(o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&transformBox(e,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),h&&(i.x*=h.x.scale,i.y*=h.y.scale,applyBoxDelta(e,h)),o&&hasTransform(d.latestValues)&&transformBox(e,d.latestValues))}i.x<TREE_SCALE_SNAP_MAX&&i.x>TREE_SCALE_SNAP_MIN&&(i.x=1),i.y<TREE_SCALE_SNAP_MAX&&i.y>TREE_SCALE_SNAP_MIN&&(i.y=1)}function translateAxis(e,i){e.min=e.min+i,e.max=e.max+i}function transformAxis(e,i,s,o,a=.5){const d=mixNumber$1(e.min,e.max,a);applyAxisDelta(e,i,s,d,o)}function transformBox(e,i){transformAxis(e.x,i.x,i.scaleX,i.scale,i.originX),transformAxis(e.y,i.y,i.scaleY,i.scale,i.originY)}function measureViewportBox(e,i){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),i))}function measurePageBox(e,i,s){const o=measureViewportBox(e,s),{scroll:a}=i;return a&&(translateAxis(o.x,a.offset.x),translateAxis(o.y,a.offset.y)),o}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=j=>{const{dragSnapToOrigin:$}=this.getProps();$?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(extractEventInfo(j).point)},d=(j,$)=>{const{drag:_e,dragPropagation:et,onDragStart:nt}=this.getProps();if(_e&&!et&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(_e),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(st=>{let tt=this.getAxisMotionValue(st).get()||0;if(percent.test(tt)){const{projection:rt}=this.visualElement;if(rt&&rt.layout){const ot=rt.layout.layoutBox[st];ot&&(tt=calcLength(ot)*(parseFloat(tt)/100))}}this.originPoint[st]=tt}),nt&&frame.postRender(()=>nt(j,$)),addValueToWillChange(this.visualElement,"transform");const{animationState:it}=this.visualElement;it&&it.setActive("whileDrag",!0)},h=(j,$)=>{const{dragPropagation:_e,dragDirectionLock:et,onDirectionLock:nt,onDrag:it}=this.getProps();if(!_e&&!this.openDragLock)return;const{offset:st}=$;if(et&&this.currentDirection===null){this.currentDirection=getCurrentDirection(st),this.currentDirection!==null&&nt&&nt(this.currentDirection);return}this.updateAxis("x",$.point,st),this.updateAxis("y",$.point,st),this.visualElement.render(),it&&it(j,$)},g=(j,$)=>this.stop(j,$),b=()=>eachAxis(j=>{var $;return this.getAnimationState(j)==="paused"&&(($=this.getAxisMotionValue(j).animation)===null||$===void 0?void 0:$.play())}),{dragSnapToOrigin:_}=this.getProps();this.panSession=new PanSession(i,{onSessionStart:a,onStart:d,onMove:h,onSessionEnd:g,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,contextWindow:getContextWindow(this.visualElement)})}stop(i,s){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:d}=this.getProps();d&&frame.postRender(()=>d(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,o){const{drag:a}=this.getProps();if(!o||!shouldDrag(i,a,this.currentDirection))return;const d=this.getAxisMotionValue(i);let h=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(h=applyConstraints(h,this.constraints[i],this.elastic[i])),d.set(h)}resolveConstraints(){var i;const{dragConstraints:s,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)===null||i===void 0?void 0:i.layout,d=this.constraints;s&&isRefObject(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=calcRelativeConstraints(a.layoutBox,s):this.constraints=!1,this.elastic=resolveDragElastic(o),d!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=rebaseAxisConstraints(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!isRefObject(i))return!1;const o=i.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const d=measurePageBox(o,a.root,this.visualElement.getTransformPagePoint());let h=calcViewportConstraints(a.layout.layoutBox,d);if(s){const g=s(convertBoxToBoundingBox(h));this.hasMutatedConstraints=!!g,g&&(h=convertBoundingBoxToBox(g))}return h}startAnimation(i){const{drag:s,dragMomentum:o,dragElastic:a,dragTransition:d,dragSnapToOrigin:h,onDragTransitionEnd:g}=this.getProps(),b=this.constraints||{},_=eachAxis(j=>{if(!shouldDrag(j,s,this.currentDirection))return;let $=b&&b[j]||{};h&&($={min:0,max:0});const _e=a?200:1e6,et=a?40:1e7,nt={type:"inertia",velocity:o?i[j]:0,bounceStiffness:_e,bounceDamping:et,timeConstant:750,restDelta:1,restSpeed:10,...d,...$};return this.startAxisValueAnimation(j,nt)});return Promise.all(_).then(g)}startAxisValueAnimation(i,s){const o=this.getAxisMotionValue(i);return addValueToWillChange(this.visualElement,i),o.start(animateMotionValue(i,o,0,s,this.visualElement,!1))}stopAnimation(){eachAxis(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){eachAxis(i=>{var s;return(s=this.getAxisMotionValue(i).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(i){var s;return(s=this.getAxisMotionValue(i).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(i){const s=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),a=o[s];return a||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){eachAxis(s=>{const{drag:o}=this.getProps();if(!shouldDrag(s,o,this.currentDirection))return;const{projection:a}=this.visualElement,d=this.getAxisMotionValue(s);if(a&&a.layout){const{min:h,max:g}=a.layout.layoutBox[s];d.set(i[s]-mixNumber$1(h,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(s)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};eachAxis(h=>{const g=this.getAxisMotionValue(h);if(g&&this.constraints!==!1){const b=g.get();a[h]=calcOrigin({min:b,max:b},this.constraints[h])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(h=>{if(!shouldDrag(h,i,null))return;const g=this.getAxisMotionValue(h),{min:b,max:_}=this.constraints[h];g.set(mixNumber$1(b,_,a[h]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const i=this.visualElement.current,s=addPointerEvent(i,"pointerdown",b=>{const{drag:_,dragListener:j=!0}=this.getProps();_&&j&&this.start(b)}),o=()=>{const{dragConstraints:b}=this.getProps();isRefObject(b)&&b.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,d=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),frame.read(o);const h=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),g=a.addEventListener("didUpdate",({delta:b,hasLayoutChanged:_})=>{this.isDragging&&_&&(eachAxis(j=>{const $=this.getAxisMotionValue(j);$&&(this.originPoint[j]+=b[j].translate,$.set($.get()+b[j].translate))}),this.visualElement.render())});return()=>{h(),s(),d(),g&&g()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:d=!1,dragElastic:h=defaultElastic,dragMomentum:g=!0}=i;return{...i,drag:s,dragDirectionLock:o,dragPropagation:a,dragConstraints:d,dragElastic:h,dragMomentum:g}}}function shouldDrag(e,i,s){return(i===!0||i===e)&&(s===null||s===e)}function getCurrentDirection(e,i=10){let s=null;return Math.abs(e.y)>i?s="y":Math.abs(e.x)>i&&(s="x"),s}class DragGesture extends Feature{constructor(i){super(i),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(i,s)=>{e&&frame.postRender(()=>e(i,s))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(i){this.session=new PanSession(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:asyncHandler(i),onStart:asyncHandler(s),onMove:o,onEnd:(d,h)=>{delete this.session,a&&frame.postRender(()=>a(d,h))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,i){return i.max===i.min?0:e/(i.max-i.min)*100}const correctBorderRadius={correct:(e,i)=>{if(!i.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const s=pixelsToPercent(e,i.target.x),o=pixelsToPercent(e,i.target.y);return`${s}% ${o}%`}},correctBoxShadow={correct:(e,{treeScale:i,projectionDelta:s})=>{const o=e,a=complex.parse(e);if(a.length>5)return o;const d=complex.createTransformer(e),h=typeof a[0]!="number"?1:0,g=s.x.scale*i.x,b=s.y.scale*i.y;a[0+h]/=g,a[1+h]/=b;const _=mixNumber$1(g,b,.5);return typeof a[2+h]=="number"&&(a[2+h]/=_),typeof a[3+h]=="number"&&(a[3+h]/=_),d(a)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:o,layoutId:a}=this.props,{projection:d}=i;addScaleCorrector(defaultScaleCorrectors),d&&(s.group&&s.group.add(d),o&&o.register&&a&&o.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:o,drag:a,isPresent:d}=this.props,h=o.projection;return h&&(h.isPresent=d,a||i.layoutDependency!==s||s===void 0?h.willUpdate():this.safeToRemove(),i.isPresent!==d&&(d?h.promote():h.relegate()||frame.postRender(()=>{const g=h.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),microtask.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:a}=i;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function MeasureLayout(e){const[i,s]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:i,safeToRemove:s})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,i,s){const o=isMotionValue(e)?e:motionValue(e);return o.start(animateMotionValue("",o,i,s)),o.animation}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}const compareByDepth=(e,i)=>e.depth-i.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(i){addUniqueItem(this.children,i),this.isDirty=!0}remove(i){removeItem(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(i)}}function delay(e,i){const s=time.now(),o=({timestamp:a})=>{const d=a-s;d>=i&&(cancelFrame(o),e(d-i))};return frame.read(o,!0),()=>cancelFrame(o)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,i,s,o,a,d){a?(e.opacity=mixNumber$1(0,s.opacity!==void 0?s.opacity:1,easeCrossfadeIn(o)),e.opacityExit=mixNumber$1(i.opacity!==void 0?i.opacity:1,0,easeCrossfadeOut(o))):d&&(e.opacity=mixNumber$1(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,o));for(let h=0;h<numBorders;h++){const g=`border${borders[h]}Radius`;let b=getRadius(i,g),_=getRadius(s,g);if(b===void 0&&_===void 0)continue;b||(b=0),_||(_=0),b===0||_===0||isPx(b)===isPx(_)?(e[g]=Math.max(mixNumber$1(asNumber(b),asNumber(_),o),0),(percent.test(_)||percent.test(b))&&(e[g]+="%")):e[g]=_}(i.rotate||s.rotate)&&(e.rotate=mixNumber$1(i.rotate||0,s.rotate||0,o))}function getRadius(e,i){return e[i]!==void 0?e[i]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(e,i,s){return o=>o<e?0:o>i?1:s(progress(e,i,o))}function copyAxisInto(e,i){e.min=i.min,e.max=i.max}function copyBoxInto(e,i){copyAxisInto(e.x,i.x),copyAxisInto(e.y,i.y)}function copyAxisDeltaInto(e,i){e.translate=i.translate,e.scale=i.scale,e.originPoint=i.originPoint,e.origin=i.origin}function removePointDelta(e,i,s,o,a){return e-=i,e=scalePoint(e,1/s,o),a!==void 0&&(e=scalePoint(e,1/a,o)),e}function removeAxisDelta(e,i=0,s=1,o=.5,a,d=e,h=e){if(percent.test(i)&&(i=parseFloat(i),i=mixNumber$1(h.min,h.max,i/100)-h.min),typeof i!="number")return;let g=mixNumber$1(d.min,d.max,o);e===d&&(g-=i),e.min=removePointDelta(e.min,i,s,g,a),e.max=removePointDelta(e.max,i,s,g,a)}function removeAxisTransforms(e,i,[s,o,a],d,h){removeAxisDelta(e,i[s],i[o],i[a],i.scale,d,h)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,i,s,o){removeAxisTransforms(e.x,i,xKeys,s?s.x:void 0,o?o.x:void 0),removeAxisTransforms(e.y,i,yKeys,s?s.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,i){return e.min===i.min&&e.max===i.max}function boxEquals(e,i){return axisEquals(e.x,i.x)&&axisEquals(e.y,i.y)}function axisEqualsRounded(e,i){return Math.round(e.min)===Math.round(i.min)&&Math.round(e.max)===Math.round(i.max)}function boxEqualsRounded(e,i){return axisEqualsRounded(e.x,i.x)&&axisEqualsRounded(e.y,i.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,i){return e.translate===i.translate&&e.scale===i.scale&&e.originPoint===i.originPoint}class NodeStack{constructor(){this.members=[]}add(i){addUniqueItem(this.members,i),i.scheduleRender()}remove(i){if(removeItem(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(a=>i===a);if(s===0)return!1;let o;for(let a=s;a>=0;a--){const d=this.members[a];if(d.isPresent!==!1){o=d;break}}return o?(this.promote(o),!0):!1}promote(i,s){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,s&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:a}=i.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:o}=i;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,i,s){let o="";const a=e.x.translate/i.x,d=e.y.translate/i.y,h=(s==null?void 0:s.z)||0;if((a||d||h)&&(o=`translate3d(${a}px, ${d}px, ${h}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),s){const{transformPerspective:_,rotate:j,rotateX:$,rotateY:_e,skewX:et,skewY:nt}=s;_&&(o=`perspective(${_}px) ${o}`),j&&(o+=`rotate(${j}deg) `),$&&(o+=`rotateX(${$}deg) `),_e&&(o+=`rotateY(${_e}deg) `),et&&(o+=`skewX(${et}deg) `),nt&&(o+=`skewY(${nt}deg) `)}const g=e.x.scale*i.x,b=e.y.scale*i.y;return(g!==1||b!==1)&&(o+=`scale(${g}, ${b})`),o||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(e,i,s,o){const{latestValues:a}=i;a[e]&&(s[e]=a[e],i.setStaticValue(e,0),o&&(o[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:i}=e.options;if(!i)return;const s=getOptimisedAppearId(i);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:d}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",frame,!(a||d))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:e,defaultParent:i,measureScroll:s,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(h={},g=i==null?void 0:i()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(h,g){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new SubscriptionManager),this.eventHandlers.get(h).add(g)}notifyListeners(h,...g){const b=this.eventHandlers.get(h);b&&b.notify(...g)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(h),this.instance=h;const{layoutId:b,layout:_,visualElement:j}=this.options;if(j&&!j.current&&j.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(_||b)&&(this.isLayoutDirty=!0),e){let $;const _e=()=>this.root.updateBlockedByResize=!1;e(h,()=>{this.root.updateBlockedByResize=!0,$&&$(),$=delay(_e,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}b&&this.root.registerSharedNode(b,this),this.options.animate!==!1&&j&&(b||_)&&this.addEventListener("didUpdate",({delta:$,hasLayoutChanged:_e,hasRelativeTargetChanged:et,layout:nt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const it=this.options.transition||j.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:st,onLayoutAnimationComplete:tt}=j.getProps(),rt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,nt)||et,ot=!_e&&et;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ot||_e&&(rt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin($,ot);const ut={...getValueTransition(it,"layout"),onPlay:st,onComplete:tt};(j.shouldReduceMotion||this.options.layoutRoot)&&(ut.delay=0,ut.type=!1),this.startAnimation(ut)}else _e||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=nt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let j=0;j<this.path.length;j++){const $=this.path[j];$.shouldResetTransform=!0,$.updateScroll("snapshot"),$.options.layoutRoot&&$.willUpdate(!1)}const{layoutId:g,layout:b}=this.options;if(g===void 0&&!b)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const g=time.now();frameData.delta=clamp(0,1e3/60,g-frameData.timestamp),frameData.timestamp=g,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let b=0;b<this.path.length;b++)this.path[b].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(g=!1),g){const b=o(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:b,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!isDeltaZero(this.projectionDelta),b=this.getTransformTemplate(),_=b?b(this.latestValues,""):void 0,j=_!==this.prevTransformTemplateValue;h&&(g||hasTransform(this.latestValues)||j)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const g=this.measurePageBox();let b=this.removeElementScroll(g);return h&&(b=this.removeTransform(b)),roundBox(b),{animationId:this.root.animationId,measuredBox:g,layoutBox:b,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:g}=this.options;if(!g)return createBox();const b=g.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:j}=this.root;j&&(translateAxis(b.x,j.offset.x),translateAxis(b.y,j.offset.y))}return b}removeElementScroll(h){var g;const b=createBox();if(copyBoxInto(b,h),!((g=this.scroll)===null||g===void 0)&&g.wasRoot)return b;for(let _=0;_<this.path.length;_++){const j=this.path[_],{scroll:$,options:_e}=j;j!==this.root&&$&&_e.layoutScroll&&($.wasRoot&&copyBoxInto(b,h),translateAxis(b.x,$.offset.x),translateAxis(b.y,$.offset.y))}return b}applyTransform(h,g=!1){const b=createBox();copyBoxInto(b,h);for(let _=0;_<this.path.length;_++){const j=this.path[_];!g&&j.options.layoutScroll&&j.scroll&&j!==j.root&&transformBox(b,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),hasTransform(j.latestValues)&&transformBox(b,j.latestValues)}return hasTransform(this.latestValues)&&transformBox(b,this.latestValues),b}removeTransform(h){const g=createBox();copyBoxInto(g,h);for(let b=0;b<this.path.length;b++){const _=this.path[b];if(!_.instance||!hasTransform(_.latestValues))continue;hasScale(_.latestValues)&&_.updateSnapshot();const j=createBox(),$=_.measurePageBox();copyBoxInto(j,$),removeBoxTransforms(g,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,j)}return hasTransform(this.latestValues)&&removeBoxTransforms(g,this.latestValues),g}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var g;const b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);const _=!!this.resumingFrom||this!==b;if(!(h||_&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:$,layoutId:_e}=this.options;if(!(!this.layout||!($||_e))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const et=this.getClosestProjectingParent();et&&et.layout&&this.animationProgress!==1?(this.relativeParent=et,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,et.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const et=this.getClosestProjectingParent();et&&!!et.resumingFrom==!!this.resumingFrom&&!et.options.layoutScroll&&et.target&&this.animationProgress!==1?(this.relativeParent=et,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,et.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const g=this.getLead(),b=!!this.resumingFrom||this!==g;let _=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(_=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(_=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(_=!1),_)return;const{layout:j,layoutId:$}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(j||$))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const _e=this.treeScale.x,et=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,b),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox,g.targetWithTransforms=createBox());const{target:nt}=g;if(!nt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,nt,this.latestValues),(this.treeScale.x!==_e||this.treeScale.y!==et||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",nt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var g;if((g=this.options.visualElement)===null||g===void 0||g.scheduleRender(),h){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(h,g=!1){const b=this.snapshot,_=b?b.latestValues:{},j={...this.latestValues},$=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const _e=createBox(),et=b?b.source:void 0,nt=this.layout?this.layout.source:void 0,it=et!==nt,st=this.getStack(),tt=!st||st.members.length<=1,rt=!!(it&&!tt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ot;this.mixTargetDelta=ut=>{const lt=ut/1e3;mixAxisDelta($.x,h.x,lt),mixAxisDelta($.y,h.y,lt),this.setTargetDelta($),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(_e,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,_e,lt),ot&&boxEquals(this.relativeTarget,ot)&&(this.isProjectionDirty=!1),ot||(ot=createBox()),copyBoxInto(ot,this.relativeTarget)),it&&(this.animationValues=j,mixValues(j,_,this.latestValues,lt,rt,tt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=lt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...h,onUpdate:g=>{this.mixTargetDelta(g),h.onUpdate&&h.onUpdate(g)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:g,target:b,layout:_,latestValues:j}=h;if(!(!g||!b||!_)){if(this!==h&&this.layout&&_&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,_.layoutBox)){b=this.target||createBox();const $=calcLength(this.layout.layoutBox.x);b.x.min=h.target.x.min,b.x.max=b.x.min+$;const _e=calcLength(this.layout.layoutBox.y);b.y.min=h.target.y.min,b.y.max=b.y.min+_e}copyBoxInto(g,b),transformBox(g,j),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,g,j)}}registerSharedNode(h,g){this.sharedNodes.has(h)||this.sharedNodes.set(h,new NodeStack),this.sharedNodes.get(h).add(g);const _=g.options.initialPromotionConfig;g.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(g):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:g}=this.options;return g?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:g}=this.options;return g?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:g,preserveFollowOpacity:b}={}){const _=this.getStack();_&&_.promote(this,b),h&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let g=!1;const{latestValues:b}=h;if((b.z||b.rotate||b.rotateX||b.rotateY||b.rotateZ||b.skewX||b.skewY)&&(g=!0),!g)return;const _={};b.z&&resetDistortingTransform("z",h,_,this.animationValues);for(let j=0;j<transformAxes.length;j++)resetDistortingTransform(`rotate${transformAxes[j]}`,h,_,this.animationValues),resetDistortingTransform(`skew${transformAxes[j]}`,h,_,this.animationValues);h.render();for(const j in _)h.setStaticValue(j,_[j]),this.animationValues&&(this.animationValues[j]=_[j]);h.scheduleRender()}getProjectionStyles(h){var g,b;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const _={visibility:""},j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,_.opacity="",_.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||"",_.transform=j?j(this.latestValues,""):"none",_;const $=this.getLead();if(!this.projectionDelta||!this.layout||!$.target){const it={};return this.options.layoutId&&(it.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,it.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(it.transform=j?j({},""):"none",this.hasProjected=!1),it}const _e=$.animationValues||$.latestValues;this.applyTransformsToTarget(),_.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,_e),j&&(_.transform=j(_e,_.transform));const{x:et,y:nt}=this.projectionDelta;_.transformOrigin=`${et.origin*100}% ${nt.origin*100}% 0`,$.animationValues?_.opacity=$===this?(b=(g=_e.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&b!==void 0?b:1:this.preserveOpacity?this.latestValues.opacity:_e.opacityExit:_.opacity=$===this?_e.opacity!==void 0?_e.opacity:"":_e.opacityExit!==void 0?_e.opacityExit:0;for(const it in scaleCorrectors){if(_e[it]===void 0)continue;const{correct:st,applyTo:tt}=scaleCorrectors[it],rt=_.transform==="none"?_e[it]:st(_e[it],$);if(tt){const ot=tt.length;for(let ut=0;ut<ot;ut++)_[tt[ut]]=rt}else _[it]=rt}return this.options.layoutId&&(_.pointerEvents=$===this?resolveMotionValue(h==null?void 0:h.pointerEvents)||"":"none"),_}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var g;return(g=h.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var i;const s=((i=e.resumeFrom)===null||i===void 0?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=e.layout,{animationType:d}=e.options,h=s.source!==e.layout.source;d==="size"?eachAxis($=>{const _e=h?s.measuredBox[$]:s.layoutBox[$],et=calcLength(_e);_e.min=o[$].min,_e.max=_e.min+et}):shouldAnimatePositionOnly(d,s.layoutBox,o)&&eachAxis($=>{const _e=h?s.measuredBox[$]:s.layoutBox[$],et=calcLength(o[$]);_e.max=_e.min+et,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[$].max=e.relativeTarget[$].min+et)});const g=createDelta();calcBoxDelta(g,o,s.layoutBox);const b=createDelta();h?calcBoxDelta(b,e.applyTransform(a,!0),s.measuredBox):calcBoxDelta(b,o,s.layoutBox);const _=!isDeltaZero(g);let j=!1;if(!e.resumeFrom){const $=e.getClosestProjectingParent();if($&&!$.resumeFrom){const{snapshot:_e,layout:et}=$;if(_e&&et){const nt=createBox();calcRelativePosition(nt,s.layoutBox,_e.layoutBox);const it=createBox();calcRelativePosition(it,o,et.layoutBox),boxEqualsRounded(nt,it)||(j=!0),$.options.layoutRoot&&(e.relativeTarget=it,e.relativeTargetOrigin=nt,e.relativeParent=$)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:s,delta:b,layoutDelta:g,hasLayoutChanged:_,hasRelativeTargetChanged:j})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function propagateDirtyNodes(e){isDebug&&metrics.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:i}=e.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,i,s){e.translate=mixNumber$1(i.translate,0,s),e.scale=mixNumber$1(i.scale,1,s),e.origin=i.origin,e.originPoint=i.originPoint}function mixAxis(e,i,s,o){e.min=mixNumber$1(i.min,s.min,o),e.max=mixNumber$1(i.max,s.max,o)}function mixBox(e,i,s,o){mixAxis(e.x,i.x,s.x,o),mixAxis(e.y,i.y,s.y,o)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,i,s){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(i),aspectRatio(s),.2)}function checkNodeWasScrollRoot(e){var i;return e!==e.root&&((i=e.scroll)===null||i===void 0?void 0:i.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,i)=>addDomEvent(e,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,i)=>{e.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,i,s){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,d=o[a];d&&frame.postRender(()=>d(i,extractEventInfo(i)))}class HoverGesture extends Feature{mount(){const{current:i}=this.node;i&&(this.unmount=hover(i,s=>(handleHoverEvent(this.node,s,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,i,s){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),d=o[a];d&&frame.postRender(()=>d(i,extractEventInfo(i)))}class PressGesture extends Feature{mount(){const{current:i}=this.node;i&&(this.unmount=press(i,s=>(handlePressEvent(this.node,s,"Start"),(o,{success:a})=>handlePressEvent(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const i=observerCallbacks.get(e.target);i&&i(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...i}){const s=e||document;observers.has(s)||observers.set(s,{});const o=observers.get(s),a=JSON.stringify(i);return o[a]||(o[a]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...i})),o[a]}function observeIntersection(e,i,s){const o=initIntersectionObserver(i);return observerCallbacks.set(e,s),o.observe(e),()=>{observerCallbacks.delete(e),o.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:o,amount:a="some",once:d}=i,h={root:s?s.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:thresholdNames[a]},g=b=>{const{isIntersecting:_}=b;if(this.isInView===_||(this.isInView=_,d&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:j,onViewportLeave:$}=this.node.getProps(),_e=_?j:$;_e&&_e(b)};return observeIntersection(this.node.current,h,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(i,s))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:i={}}={}){return s=>e[s]!==i[s]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),i=()=>prefersReducedMotion.current=e.matches;e.addListener(i),i()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=e=>valueTypes.find(testValueType(e)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,i,s){for(const o in i){const a=i[o],d=s[o];if(isMotionValue(a))e.addValue(o,a);else if(isMotionValue(d))e.addValue(o,motionValue(a,{owner:e}));else if(d!==a)if(e.hasValue(o)){const h=e.getValue(o);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=e.getStaticValue(o);e.addValue(o,motionValue(h!==void 0?h:a,{owner:e}))}}for(const o in s)i[o]===void 0&&e.removeValue(o);return i}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(i,s,o){return{}}constructor({parent:i,props:s,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:d,visualState:h},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const et=time.now();this.renderScheduledAt<et&&(this.renderScheduledAt=et,frame.render(this.render,!1,!0))};const{latestValues:b,renderState:_,onUpdate:j}=h;this.onUpdate=j,this.latestValues=b,this.baseTarget={...b},this.initialValues=s.initial?{...b}:{},this.renderState=_,this.parent=i,this.props=s,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=a,this.options=g,this.blockInitialAnimation=!!d,this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:$,..._e}=this.scrapeMotionValuesFromProps(s,{},this);for(const et in _e){const nt=_e[et];b[et]!==void 0&&isMotionValue(nt)&&nt.set(b[et],!1)}}mount(i){this.current=i,visualElementStore.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(i,s){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const o=transformProps.has(i),a=s.on("change",g=>{this.latestValues[i]=g,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),d=s.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,i,s)),this.valueSubscriptions.set(i,()=>{a(),d(),h&&h(),s.owner&&s.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in featureDefinitions){const s=featureDefinitions[i];if(!s)continue;const{isEnabled:o,Feature:a}=s;if(!this.features[i]&&a&&o(this.props)&&(this.features[i]=new a(this)),this.features[i]){const d=this.features[i];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<propEventHandlers.length;o++){const a=propEventHandlers[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const d="on"+a,h=i[d];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){const o=this.values.get(i);s!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,s),this.values.set(i,s),this.latestValues[i]=s.get())}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&s!==void 0&&(o=motionValue(s===null?void 0:s,{owner:this}),this.addValue(i,o)),o}readValue(i,s){var o;let a=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:(o=this.getBaseTargetFromProps(this.props,i))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,i,this.options);return a!=null&&(typeof a=="string"&&(isNumericalString(a)||isZeroValueString(a))?a=parseFloat(a):!findValueType(a)&&complex.test(s)&&(a=getAnimatableNone(i,s)),this.setBaseTarget(i,isMotionValue(a)?a.get():a)),isMotionValue(a)?a.get():a}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var s;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const h=resolveVariantFromProps(this.props,o,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);h&&(a=h[i])}if(o&&a!==void 0)return a;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!isMotionValue(d)?d:this.initialValues[i]!==void 0&&a===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new SubscriptionManager),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:o}){delete s[i],delete o[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;isMotionValue(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(i,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}else{const o=getComputedStyle$1(i),a=(isCSSVariableName(s)?o.getPropertyValue(s):o[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(i,{transformPagePoint:s}){return measureViewportBox(i,s)}build(i,s,o){buildHTMLStyles(i,s,o.transformTemplate)}scrapeMotionValuesFromProps(i,s,o){return scrapeMotionValuesFromProps$1(i,s,o)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}return s=camelCaseAttributes.has(s)?s:camelToDash(s),i.getAttribute(s)}scrapeMotionValuesFromProps(i,s,o){return scrapeMotionValuesFromProps(i,s,o)}build(i,s,o){buildSVGAttrs(i,s,this.isSVGTag,o.transformTemplate)}renderInstance(i,s,o,a){renderSVG(i,s,o,a)}mount(i){this.isSVGTag=isSVGTag(i.tagName),super.mount(i)}}const createDomVisualElement=(e,i)=>isSVGComponent(e)?new SVGVisualElement(i):new HTMLVisualElement(i,{allowProjection:e!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function Sidebar({collapsed:e,onToggle:i}){var b,_;const s=useLocation(),{user:o,signOut:a}=useAuthStore(),{t:d}=useTranslation(),h=[{icon:FileText,label:d("navigation.documents"),path:"/documents"},{icon:BookOpen,label:d("navigation.learning"),path:"/learn"},{icon:MessageSquare,label:d("navigation.aiChat"),path:"/chat"},{icon:Settings,label:d("navigation.settings"),path:"/settings"}],g=j=>s.pathname.startsWith(j);return jsxRuntimeExports.jsxs(motion.aside,{initial:!1,animate:{width:e?64:240},transition:{duration:.2,ease:"easeInOut"},className:"h-screen bg-bg-secondary border-r border-border flex flex-col fixed left-0 top-0 z-40",children:[jsxRuntimeExports.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-border",children:[jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-text-primary",children:"Doc2Learn"})]})}),jsxRuntimeExports.jsx("button",{onClick:i,className:"w-8 h-8 rounded-lg hover:bg-bg-tertiary flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",children:e?jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"p-3",children:jsxRuntimeExports.jsxs(Link,{to:"/documents",className:`flex items-center gap-3 px-3 py-2 rounded-lg bg-accent text-white hover:bg-accent-hover transition-colors ${e?"justify-center":""}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:d("navigation.newDocument")})})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-3 py-2 space-y-1 overflow-y-auto scrollbar-thin",children:h.map(j=>{const $=j.icon,_e=g(j.path);return jsxRuntimeExports.jsxs(Link,{to:j.path,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${e?"justify-center":""} ${_e?"bg-accent-light text-accent":"text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,title:e?j.label:void 0,children:[jsxRuntimeExports.jsx($,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:j.label})})]},j.path)})}),jsxRuntimeExports.jsx("div",{className:"px-3 py-2 border-t border-border",children:jsxRuntimeExports.jsxs(Link,{to:"/chat",className:`flex items-center gap-3 px-3 py-2 rounded-lg bg-gradient-to-r from-accent to-purple-600 text-white hover:opacity-90 transition-opacity ${e?"justify-center":""}`,title:e?d("navigation.aiAssistant"):void 0,children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:d("navigation.aiAssistant")})})]})}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-border",children:jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-3 ${e?"justify-center":""}`,children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:((b=o==null?void 0:o.email)==null?void 0:b.charAt(0).toUpperCase())||"U"})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:!e&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:((_=o==null?void 0:o.email)==null?void 0:_.split("@")[0])||"User"}),jsxRuntimeExports.jsxs("button",{onClick:a,className:"text-xs text-text-muted hover:text-error flex items-center gap-1 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-3 h-3"}),d("auth.signOut")]})]})})]})})]})}const{slice,forEach}=[];function defaults(e){return forEach.call(slice.call(arguments,1),i=>{if(i)for(const s in i)e[s]===void 0&&(e[s]=i[s])}),e}function hasXSS(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(e))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(e,i){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(i);let d=`${e}=${a}`;if(o.maxAge>0){const h=o.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");d+=`; Max-Age=${Math.floor(h)}`}if(o.domain){if(!fieldContentRegExp.test(o.domain))throw new TypeError("option domain is invalid");d+=`; Domain=${o.domain}`}if(o.path){if(!fieldContentRegExp.test(o.path))throw new TypeError("option path is invalid");d+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(d+="; HttpOnly"),o.secure&&(d+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(d+="; Partitioned"),d},cookie={create(e,i,s,o){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+s*60*1e3)),o&&(a.domain=o),document.cookie=serializeCookie(e,i,a)},read(e){const i=`${e}=`,s=document.cookie.split(";");for(let o=0;o<s.length;o++){let a=s[o];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(i)===0)return a.substring(i.length,a.length)}return null},remove(e,i){this.create(e,"",-1,i)}};var cookie$1={name:"cookie",lookup(e){let{lookupCookie:i}=e;if(i&&typeof document<"u")return cookie.read(i)||void 0},cacheUserLanguage(e,i){let{lookupCookie:s,cookieMinutes:o,cookieDomain:a,cookieOptions:d}=i;s&&typeof document<"u"&&cookie.create(s,e,o,a,d)}},querystring={name:"querystring",lookup(e){var o;let{lookupQuerystring:i}=e,s;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((o=window.location.hash)==null?void 0:o.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const h=a.substring(1).split("&");for(let g=0;g<h.length;g++){const b=h[g].indexOf("=");b>0&&h[g].substring(0,b)===i&&(s=h[g].substring(b+1))}}return s}},hash={name:"hash",lookup(e){var a;let{lookupHash:i,lookupFromHashIndex:s}=e,o;if(typeof window<"u"){const{hash:d}=window.location;if(d&&d.length>2){const h=d.substring(1);if(i){const g=h.split("&");for(let b=0;b<g.length;b++){const _=g[b].indexOf("=");_>0&&g[b].substring(0,_)===i&&(o=g[b].substring(_+1))}}if(o)return o;if(!o&&s>-1){const g=d.match(/\/([a-zA-Z-]*)/g);return Array.isArray(g)?(a=g[typeof s=="number"?s:0])==null?void 0:a.replace("/",""):void 0}}}return o}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(e){let{lookupLocalStorage:i}=e;if(i&&localStorageAvailable())return window.localStorage.getItem(i)||void 0},cacheUserLanguage(e,i){let{lookupLocalStorage:s}=i;s&&localStorageAvailable()&&window.localStorage.setItem(s,e)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(e){let{lookupSessionStorage:i}=e;if(i&&sessionStorageAvailable())return window.sessionStorage.getItem(i)||void 0},cacheUserLanguage(e,i){let{lookupSessionStorage:s}=i;s&&sessionStorageAvailable()&&window.sessionStorage.setItem(s,e)}},navigator$1={name:"navigator",lookup(e){const i=[];if(typeof navigator<"u"){const{languages:s,userLanguage:o,language:a}=navigator;if(s)for(let d=0;d<s.length;d++)i.push(s[d]);o&&i.push(o),a&&i.push(a)}return i.length>0?i:void 0}},htmlTag={name:"htmlTag",lookup(e){let{htmlTag:i}=e,s;const o=i||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(s=o.getAttribute("lang")),s}},path$1={name:"path",lookup(e){var a;let{lookupFromPathIndex:i}=e;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(a=s[typeof i=="number"?i:0])==null?void 0:a.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(e){var a,d;let{lookupFromSubdomainIndex:i}=e;const s=typeof i=="number"?i+1:1,o=typeof window<"u"&&((d=(a=window.location)==null?void 0:a.hostname)==null?void 0:d.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(o)return o[s]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch{}const order$1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order$1.splice(1,1);const getDefaults=()=>({order:order$1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class Browser{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(i,s)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=i,this.options=defaults(s,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path$1),this.addDetector(subdomain),this.addDetector(hash)}addDetector(i){return this.detectors[i.name]=i,this}detect(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return i.forEach(o=>{if(this.detectors[o]){let a=this.detectors[o].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),s=s.filter(o=>o!=null&&!hasXSS(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(i)>-1||s.forEach(o=>{this.detectors[o]&&this.detectors[o].cacheUserLanguage(i,this.options)}))}}Browser.type="languageDetector";const common$1={loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",searchDocuments:"Search documents...",noResults:"No results found",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous",close:"Close",submit:"Submit",continue:"Continue",start:"Start",finish:"Finish",retry:"Retry",refresh:"Refresh"},auth$1={signIn:"Sign in",signUp:"Sign up",signOut:"Sign out",signingIn:"Signing in...",signingUp:"Creating account...",email:"Email",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",welcomeBack:"Welcome back",signInToContinue:"Sign in to your account to continue",createAccount:"Create account",getStarted:"Get started with your free account",welcomeBackToast:"Welcome back!",signInSuccess:"You have successfully signed in.",accountCreated:"Account created!",accountCreatedDesc:"Your account has been created successfully.",invalidCredentials:"Invalid email or password",passwordMismatch:"Passwords do not match",name:"Name (optional)",passwordHint:"Must be at least 6 characters",passwordMinLength:"Password must be at least 6 characters",signUpError:"Failed to create account"},navigation$1={documents:"Documents",learning:"Learning",aiChat:"AI Chat",settings:"Settings",newDocument:"New Document",aiAssistant:"AI Assistant"},dashboard$1={title:"Dashboard",welcome:"Welcome back, {{name}}!",continueLearning:"Continue your learning journey",recentDocuments:"Recent Documents",viewAllDocuments:"View all documents",quickActions:"Quick Actions",uploadDocument:"Upload Document",startLearning:"Start Learning",askAI:"Ask AI",statistics:"Statistics",totalDocuments:"Total Documents",wordsLearned:"Words Learned",quizzesCompleted:"Quizzes Completed",dayStreak:"Day Streak",noDocumentsYet:"No documents yet",uploadFirst:"Upload your first PDF to start learning",uploadFirstButton:"Upload First Document",aiAssistantDesc:"Ask questions about your documents, get summaries, and generate quizzes",startChat:"Start Chat",uploadDesc:"Upload a PDF document and start learning with AI-powered tools"},documents$1={title:"Documents",upload:"Upload",uploadNew:"Upload New Document",uploadSuccess:"Document uploaded successfully. Extracted {{chars}} characters from {{pages}} pages.",uploadError:"Failed to upload document",deleteConfirm:"Are you sure you want to delete this document?",deleteSuccess:"Document deleted successfully",deleteError:"Failed to delete document",noDocuments:"No documents found",noDocumentsDesc:"Upload a PDF to get started",onlyPDF:"Only PDF files are supported",fileTooLarge:"File size must be less than 50MB",processing:"Processing document...",viewDocument:"View Document",startLearning:"Start Learning",generateContent:"Generate Content",generating:"Generating content...",generateSuccess:"Content generated successfully!",generateError:"Failed to generate content",pages:"pages",uploaded:"Uploaded",lastModified:"Last modified"},documentDetail$1={title:"Document Details",overview:"Overview",content:"Content",learning:"Learning",generateAll:"Generate All Content",regenerate:"Regenerate",generating:"Generating...",generated:"Generated",notGenerated:"Not generated yet",summary:"Summary",glossary:"Glossary",quiz:"Quiz",exercises:"Exercises",flashcards:"Flashcards",viewPDF:"View PDF",chatWithPDF:"Chat with PDF",download:"Download",delete:"Delete Document",fileInfo:"File Information",fileName:"File name",fileSize:"File size",pageCount:"Page count",uploadedAt:"Uploaded at",words:"words",characters:"characters"},learning$1={title:"Learning Center",selectDocument:"Select a document to start learning",noDocuments:"No documents available",uploadFirst:"Upload a document first to access learning features",summary:"Summary",glossary:"Glossary",quiz:"Quiz",exercises:"Exercises",flashcards:"Flashcards",progress:"Progress",completed:"Completed",inProgress:"In Progress",notStarted:"Not Started",startQuiz:"Start Quiz",retakeQuiz:"Retake Quiz",quizScore:"Quiz Score",correctAnswers:"Correct Answers",questionsTotal:"questions total",reviewFlashcards:"Review Flashcards",cardsTotal:"cards total",known:"Known",stillLearning:"Still Learning",viewGlossary:"View Glossary",termsTotal:"terms total",readSummary:"Read Summary",estimatedTime:"Estimated reading time",minutes:"min"},quiz$1={title:"Quiz",question:"Question {{current}} of {{total}}",selectAnswer:"Select your answer",checkAnswer:"Check Answer",nextQuestion:"Next Question",result:"Result",correct:"Correct!",incorrect:"Incorrect",correctAnswer:"Correct answer:",yourAnswer:"Your answer:",score:"Score",passed:"Passed!",failed:"Keep practicing!",tryAgain:"Try Again",reviewAnswers:"Review Answers",completed:"Quiz Completed!",wellDone:"Well done!",keepPracticing:"Keep practicing to improve your score.",finishQuiz:"Finish Quiz"},flashcards$1={title:"Flashcards",card:"Card {{current}} of {{total}}",clickToFlip:"Click to flip",previous:"Previous",next:"Next",know:"Know",dontKnow:"Don't Know",reset:"Reset Progress",progress:"Progress",known:"Known",learning:"Still Learning",completed:"All cards reviewed!",startOver:"Start Over"},glossary$1={title:"Glossary",noTerms:"No terms found",searchTerms:"Search terms...",term:"Term",definition:"Definition",relatedTerms:"Related Terms"},summary$1={title:"Summary",noSummary:"No summary available",generateSummary:"Generate Summary",keyPoints:"Key Points",mainTopics:"Main Topics"},exercises$1={title:"Exercises",noExercises:"No exercises available",generateExercises:"Generate Exercises",type:"Type",difficulty:"Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",hint:"Hint",showHint:"Show Hint",hideHint:"Hide Hint",checkAnswer:"Check Answer",correct:"Correct!",incorrect:"Incorrect. Try again!"},chat$1={title:"AI Chat",placeholder:"Ask anything about your documents...",send:"Send",sending:"Sending...",thinking:"Thinking...",noMessages:"No messages yet",startConversation:"Start a conversation with the AI assistant",clearChat:"Clear Chat",clearConfirm:"Are you sure you want to clear the chat history?",copyResponse:"Copy Response",copied:"Copied to clipboard!",regenerate:"Regenerate Response",selectDocument:"Select a document for context",noDocumentSelected:"No document selected",documentContext:"Document context: {{title}}"},pdfViewer$1={title:"PDF Viewer",previousPage:"Previous page",nextPage:"Next page",zoomIn:"Zoom in",zoomOut:"Zoom out",fitWidth:"Fit width",fitPage:"Fit page",fullScreen:"Full screen",exitFullScreen:"Exit full screen",download:"Download PDF",print:"Print",pageOf:"Page {{current}} of {{total}}",loading:"Loading PDF...",error:"Failed to load PDF",chatWithPDF:"Chat with PDF",askAboutPage:"Ask about this page",closeChat:"Close Chat",chatPlaceholder:"Ask a question about this PDF..."},settings$1={title:"Settings",general:"General",appearance:"Appearance",language:"Language",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",systemDefault:"System Default",apiKeys:"API Keys",apiKeysDesc:"Configure your AI provider API keys. Keys are encrypted and stored securely.",anthropicKey:"Anthropic API Key",anthropicDesc:"For Claude models (claude-3-opus, claude-3-sonnet)",openaiKey:"OpenAI API Key",openaiDesc:"For GPT models (gpt-4, gpt-3.5-turbo)",googleKey:"Google AI API Key",googleDesc:"For Gemini models (gemini-pro)",groqKey:"Groq API Key",groqDesc:"For fast inference (llama, mixtral)",saveKeys:"Save API Keys",keysSaved:"API keys saved successfully!",keysError:"Failed to save API keys",profile:"Profile",profileDesc:"Manage your profile information",security:"Security",securityDesc:"Password and authentication settings",notifications:"Notifications",notificationsDesc:"Configure notification preferences",comingSoon:"Coming Soon",featureInDevelopment:"This feature is currently in development",manageAccount:"Manage your account and preferences",manage:"Manage",backToSettings:"Back to Settings",yourApiKeys:"Your API Keys",apiKeysSecure:"Add your own API keys to use with Doc2Learn. Your keys are encrypted and stored securely.",keySavedFor:"API key for {{provider}} saved successfully",keyDeletedFor:"API key for {{provider}} deleted",keyDeleteError:"Failed to delete API key",keyEnding:"Key ending in {{last4}}",notConfigured:"Not configured",active:"Active"},errors$1={generic:"Something went wrong",networkError:"Network error. Please check your connection.",unauthorized:"You are not authorized to perform this action",notFound:"The requested resource was not found",serverError:"Server error. Please try again later.",validationError:"Please check your input and try again",sessionExpired:"Your session has expired. Please sign in again."},theme$1={switchToLight:"Switch to light mode",switchToDark:"Switch to dark mode"},language$2={switchLanguage:"Switch language",english:"English",portuguese:"Portugus"},en={common:common$1,auth:auth$1,navigation:navigation$1,dashboard:dashboard$1,documents:documents$1,documentDetail:documentDetail$1,learning:learning$1,quiz:quiz$1,flashcards:flashcards$1,glossary:glossary$1,summary:summary$1,exercises:exercises$1,chat:chat$1,pdfViewer:pdfViewer$1,settings:settings$1,errors:errors$1,theme:theme$1,language:language$2},common={loading:"A carregar...",error:"Erro",success:"Sucesso",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",create:"Criar",search:"Pesquisar",searchDocuments:"Pesquisar documentos...",noResults:"Nenhum resultado encontrado",confirm:"Confirmar",back:"Voltar",next:"Seguinte",previous:"Anterior",close:"Fechar",submit:"Submeter",continue:"Continuar",start:"Iniciar",finish:"Terminar",retry:"Tentar novamente",refresh:"Atualizar"},auth={signIn:"Entrar",signUp:"Registar",signOut:"Sair",signingIn:"A entrar...",signingUp:"A criar conta...",email:"Email",password:"Palavra-passe",confirmPassword:"Confirmar palavra-passe",forgotPassword:"Esqueceu a palavra-passe?",noAccount:"No tem uma conta?",hasAccount:"J tem uma conta?",welcomeBack:"Bem-vindo de volta",signInToContinue:"Entre na sua conta para continuar",createAccount:"Criar conta",getStarted:"Comece com a sua conta gratuita",welcomeBackToast:"Bem-vindo de volta!",signInSuccess:"Entrou na sua conta com sucesso.",accountCreated:"Conta criada!",accountCreatedDesc:"A sua conta foi criada com sucesso.",invalidCredentials:"Email ou palavra-passe invlidos",passwordMismatch:"As palavras-passe no coincidem",name:"Nome (opcional)",passwordHint:"Deve ter pelo menos 6 caracteres",passwordMinLength:"A palavra-passe deve ter pelo menos 6 caracteres",signUpError:"Falha ao criar conta"},navigation={documents:"Documentos",learning:"Aprendizagem",aiChat:"Chat IA",settings:"Definies",newDocument:"Novo Documento",aiAssistant:"Assistente IA"},dashboard={title:"Painel",welcome:"Bem-vindo de volta, {{name}}!",continueLearning:"Continue a sua jornada de aprendizagem",recentDocuments:"Documentos Recentes",viewAllDocuments:"Ver todos os documentos",quickActions:"Aes Rpidas",uploadDocument:"Carregar Documento",startLearning:"Comear a Aprender",askAI:"Perguntar  IA",statistics:"Estatsticas",totalDocuments:"Total de Documentos",wordsLearned:"Palavras Aprendidas",quizzesCompleted:"Quizzes Completados",dayStreak:"Dias Consecutivos",noDocumentsYet:"Ainda no tem documentos",uploadFirst:"Carregue o seu primeiro PDF para comear a aprender",uploadFirstButton:"Carregar Primeiro Documento",aiAssistantDesc:"Faa perguntas sobre os seus documentos, obtenha resumos e gere quizzes",startChat:"Iniciar Chat",uploadDesc:"Carregue um documento PDF e comece a aprender com ferramentas de IA"},documents={title:"Documentos",upload:"Carregar",uploadNew:"Carregar Novo Documento",uploadSuccess:"Documento carregado com sucesso. Extrados {{chars}} caracteres de {{pages}} pginas.",uploadError:"Falha ao carregar documento",deleteConfirm:"Tem a certeza que deseja eliminar este documento?",deleteSuccess:"Documento eliminado com sucesso",deleteError:"Falha ao eliminar documento",noDocuments:"Nenhum documento encontrado",noDocumentsDesc:"Carregue um PDF para comear",onlyPDF:"Apenas ficheiros PDF so suportados",fileTooLarge:"O ficheiro deve ter menos de 50MB",processing:"A processar documento...",viewDocument:"Ver Documento",startLearning:"Comear Aprendizagem",generateContent:"Gerar Contedo",generating:"A gerar contedo...",generateSuccess:"Contedo gerado com sucesso!",generateError:"Falha ao gerar contedo",pages:"pginas",uploaded:"Carregado",lastModified:"ltima modificao"},documentDetail={title:"Detalhes do Documento",overview:"Viso Geral",content:"Contedo",learning:"Aprendizagem",generateAll:"Gerar Todo o Contedo",regenerate:"Regenerar",generating:"A gerar...",generated:"Gerado",notGenerated:"Ainda no gerado",summary:"Resumo",glossary:"Glossrio",quiz:"Quiz",exercises:"Exerccios",flashcards:"Flashcards",viewPDF:"Ver PDF",chatWithPDF:"Conversar com PDF",download:"Transferir",delete:"Eliminar Documento",fileInfo:"Informao do Ficheiro",fileName:"Nome do ficheiro",fileSize:"Tamanho do ficheiro",pageCount:"Nmero de pginas",uploadedAt:"Carregado em",words:"palavras",characters:"caracteres"},learning={title:"Centro de Aprendizagem",selectDocument:"Selecione um documento para comear a aprender",noDocuments:"Nenhum documento disponvel",uploadFirst:"Carregue primeiro um documento para aceder s funcionalidades de aprendizagem",summary:"Resumo",glossary:"Glossrio",quiz:"Quiz",exercises:"Exerccios",flashcards:"Flashcards",progress:"Progresso",completed:"Concludo",inProgress:"Em Progresso",notStarted:"No Iniciado",startQuiz:"Iniciar Quiz",retakeQuiz:"Refazer Quiz",quizScore:"Pontuao do Quiz",correctAnswers:"Respostas Corretas",questionsTotal:"perguntas no total",reviewFlashcards:"Rever Flashcards",cardsTotal:"cartas no total",known:"Conhecido",stillLearning:"A Aprender",viewGlossary:"Ver Glossrio",termsTotal:"termos no total",readSummary:"Ler Resumo",estimatedTime:"Tempo estimado de leitura",minutes:"min"},quiz={title:"Quiz",question:"Pergunta {{current}} de {{total}}",selectAnswer:"Selecione a sua resposta",checkAnswer:"Verificar Resposta",nextQuestion:"Prxima Pergunta",result:"Resultado",correct:"Correto!",incorrect:"Incorreto",correctAnswer:"Resposta correta:",yourAnswer:"A sua resposta:",score:"Pontuao",passed:"Passou!",failed:"Continue a praticar!",tryAgain:"Tentar Novamente",reviewAnswers:"Rever Respostas",completed:"Quiz Concludo!",wellDone:"Muito bem!",keepPracticing:"Continue a praticar para melhorar a sua pontuao.",finishQuiz:"Terminar Quiz"},flashcards={title:"Flashcards",card:"Carta {{current}} de {{total}}",clickToFlip:"Clique para virar",previous:"Anterior",next:"Seguinte",know:"Sei",dontKnow:"No Sei",reset:"Reiniciar Progresso",progress:"Progresso",known:"Conhecidas",learning:"A Aprender",completed:"Todas as cartas revistas!",startOver:"Comear de Novo"},glossary={title:"Glossrio",noTerms:"Nenhum termo encontrado",searchTerms:"Pesquisar termos...",term:"Termo",definition:"Definio",relatedTerms:"Termos Relacionados"},summary={title:"Resumo",noSummary:"Nenhum resumo disponvel",generateSummary:"Gerar Resumo",keyPoints:"Pontos-Chave",mainTopics:"Temas Principais"},exercises={title:"Exerccios",noExercises:"Nenhum exerccio disponvel",generateExercises:"Gerar Exerccios",type:"Tipo",difficulty:"Dificuldade",easy:"Fcil",medium:"Mdio",hard:"Difcil",hint:"Dica",showHint:"Mostrar Dica",hideHint:"Esconder Dica",checkAnswer:"Verificar Resposta",correct:"Correto!",incorrect:"Incorreto. Tente novamente!"},chat={title:"Chat IA",placeholder:"Pergunte algo sobre os seus documentos...",send:"Enviar",sending:"A enviar...",thinking:"A pensar...",noMessages:"Ainda no h mensagens",startConversation:"Inicie uma conversa com o assistente IA",clearChat:"Limpar Chat",clearConfirm:"Tem a certeza que deseja limpar o histrico do chat?",copyResponse:"Copiar Resposta",copied:"Copiado para a rea de transferncia!",regenerate:"Regenerar Resposta",selectDocument:"Selecione um documento para contexto",noDocumentSelected:"Nenhum documento selecionado",documentContext:"Contexto do documento: {{title}}"},pdfViewer={title:"Visualizador PDF",previousPage:"Pgina anterior",nextPage:"Pgina seguinte",zoomIn:"Aumentar zoom",zoomOut:"Diminuir zoom",fitWidth:"Ajustar  largura",fitPage:"Ajustar  pgina",fullScreen:"Ecr inteiro",exitFullScreen:"Sair do ecr inteiro",download:"Transferir PDF",print:"Imprimir",pageOf:"Pgina {{current}} de {{total}}",loading:"A carregar PDF...",error:"Falha ao carregar PDF",chatWithPDF:"Conversar com PDF",askAboutPage:"Perguntar sobre esta pgina",closeChat:"Fechar Chat",chatPlaceholder:"Faa uma pergunta sobre este PDF..."},settings={title:"Definies",general:"Geral",appearance:"Aparncia",language:"Idioma",theme:"Tema",lightMode:"Modo Claro",darkMode:"Modo Escuro",systemDefault:"Predefinio do Sistema",apiKeys:"Chaves API",apiKeysDesc:"Configure as suas chaves API de fornecedores de IA. As chaves so encriptadas e armazenadas de forma segura.",anthropicKey:"Chave API Anthropic",anthropicDesc:"Para modelos Claude (claude-3-opus, claude-3-sonnet)",openaiKey:"Chave API OpenAI",openaiDesc:"Para modelos GPT (gpt-4, gpt-3.5-turbo)",googleKey:"Chave API Google AI",googleDesc:"Para modelos Gemini (gemini-pro)",groqKey:"Chave API Groq",groqDesc:"Para inferncia rpida (llama, mixtral)",saveKeys:"Guardar Chaves API",keysSaved:"Chaves API guardadas com sucesso!",keysError:"Falha ao guardar chaves API",profile:"Perfil",profileDesc:"Gerir informao do perfil",security:"Segurana",securityDesc:"Definies de palavra-passe e autenticao",notifications:"Notificaes",notificationsDesc:"Configurar preferncias de notificao",comingSoon:"Brevemente",featureInDevelopment:"Esta funcionalidade est em desenvolvimento",manageAccount:"Gerir a sua conta e preferncias",manage:"Gerir",backToSettings:"Voltar s Definies",yourApiKeys:"As suas Chaves API",apiKeysSecure:"Adicione as suas prprias chaves API para usar com o Doc2Learn. As suas chaves so encriptadas e armazenadas de forma segura.",keySavedFor:"Chave API para {{provider}} guardada com sucesso",keyDeletedFor:"Chave API para {{provider}} eliminada",keyDeleteError:"Falha ao eliminar chave API",keyEnding:"Chave terminando em {{last4}}",notConfigured:"No configurado",active:"Ativo"},errors={generic:"Algo correu mal",networkError:"Erro de rede. Por favor verifique a sua ligao.",unauthorized:"No est autorizado a realizar esta ao",notFound:"O recurso solicitado no foi encontrado",serverError:"Erro de servidor. Por favor tente novamente mais tarde.",validationError:"Por favor verifique os seus dados e tente novamente",sessionExpired:"A sua sesso expirou. Por favor entre novamente."},theme={switchToLight:"Mudar para modo claro",switchToDark:"Mudar para modo escuro"},language$1={switchLanguage:"Mudar idioma",english:"English",portuguese:"Portugus"},ptPT={common,auth,navigation,dashboard,documents,documentDetail,learning,quiz,flashcards,glossary,summary,exercises,chat,pdfViewer,settings,errors,theme,language:language$1},supportedLanguages=[{code:"en",name:"English",nativeName:"English",flag:"EN"},{code:"pt-PT",name:"Portuguese (Portugal)",nativeName:"Portugus",flag:"PT"}];instance.use(Browser).use(initReactI18next).init({resources:{en:{translation:en},"pt-PT":{translation:ptPT}},fallbackLng:"en",supportedLngs:supportedLanguages.map(e=>e.code),interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}});function LanguageToggle(){const{i18n:e}=useTranslation(),[i,s]=reactExports.useState(!1),o=reactExports.useRef(null),a=supportedLanguages.find(h=>h.code===e.language)||supportedLanguages[0],d=h=>{e.changeLanguage(h),s(!1)};return reactExports.useEffect(()=>{const h=g=>{o.current&&!o.current.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),jsxRuntimeExports.jsxs("div",{className:"relative",ref:o,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",title:e.t("language.switchLanguage"),children:[jsxRuntimeExports.jsx(Globe,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:a.flag})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-48 bg-bg-secondary border border-border rounded-lg shadow-lg overflow-hidden z-50",children:jsxRuntimeExports.jsx("div",{className:"p-1",children:supportedLanguages.map(h=>jsxRuntimeExports.jsxs("button",{onClick:()=>d(h.code),className:`w-full flex items-center justify-between px-3 py-2 rounded-md text-sm transition-colors ${e.language===h.code||e.language.startsWith("pt")&&h.code==="pt-PT"?"bg-accent-light text-accent":"text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"w-6 text-center font-semibold",children:h.flag}),jsxRuntimeExports.jsx("span",{children:h.nativeName})]}),(e.language===h.code||e.language.startsWith("pt")&&h.code==="pt-PT")&&jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})]},h.code))})})})]})}function TopBar({onSearch:e}){const{t:i}=useTranslation(),[s,o]=reactExports.useState(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1),a=()=>{const d=!s;o(d),document.documentElement.classList.toggle("dark",d),localStorage.setItem("theme",d?"dark":"light")};return jsxRuntimeExports.jsx("header",{className:"h-16 bg-bg-secondary/80 backdrop-blur-lg border-b border-border sticky top-0 z-30",children:jsxRuntimeExports.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-4 py-2 bg-bg-tertiary hover:bg-bg-hover rounded-lg text-text-muted hover:text-text-primary transition-colors w-64 group",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:i("common.searchDocuments")}),jsxRuntimeExports.jsxs("kbd",{className:"hidden sm:flex items-center gap-1 ml-auto text-xs text-text-muted bg-bg-secondary px-1.5 py-0.5 rounded",children:[jsxRuntimeExports.jsx(Command,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"K"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LanguageToggle,{}),jsxRuntimeExports.jsx("button",{onClick:a,className:"w-9 h-9 rounded-lg hover:bg-bg-tertiary flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors",title:i(s?"theme.switchToLight":"theme.switchToDark"),children:jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{rotate:s?180:0},transition:{duration:.3},children:s?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"})})})]})]})})}function AppShell(){const[e,i]=reactExports.useState(()=>typeof window<"u"?window.innerWidth<1024:!1);return reactExports.useEffect(()=>{const s=()=>{window.innerWidth<768&&i(!0)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),reactExports.useEffect(()=>{const s=localStorage.getItem("theme");(s==="dark"||s===null&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-bg-primary",children:[jsxRuntimeExports.jsx(Sidebar,{collapsed:e,onToggle:()=>i(!e)}),jsxRuntimeExports.jsxs(motion.div,{initial:!1,animate:{marginLeft:e?64:240},transition:{duration:.2,ease:"easeInOut"},className:"min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx(TopBar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:jsxRuntimeExports.jsx(Outlet,{})})})]})]})}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$3[" use ".trim().toString()];function isPromiseLike(e){return typeof e=="object"&&e!==null&&"then"in e}function isLazyComponent(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===REACT_LAZY_TYPE&&"_payload"in e&&isPromiseLike(e._payload)}function createSlot(e){const i=createSlotClone(e),s=reactExports.forwardRef((o,a)=>{let{children:d,...h}=o;isLazyComponent(d)&&typeof use=="function"&&(d=use(d._payload));const g=reactExports.Children.toArray(d),b=g.find(isSlottable);if(b){const _=b.props.children,j=g.map($=>$===b?reactExports.Children.count(_)>1?reactExports.Children.only(null):reactExports.isValidElement(_)?_.props.children:null:$);return jsxRuntimeExports.jsx(i,{...h,ref:a,children:reactExports.isValidElement(_)?reactExports.cloneElement(_,void 0,j):null})}return jsxRuntimeExports.jsx(i,{...h,ref:a,children:d})});return s.displayName=`${e}.Slot`,s}var Slot=createSlot("Slot");function createSlotClone(e){const i=reactExports.forwardRef((s,o)=>{let{children:a,...d}=s;if(isLazyComponent(a)&&typeof use=="function"&&(a=use(a._payload)),reactExports.isValidElement(a)){const h=getElementRef(a),g=mergeProps(d,a.props);return a.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,h):h),reactExports.cloneElement(a,g)}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});return i.displayName=`${e}.SlotClone`,i}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,i){const s={...i};for(const o in i){const a=e[o],d=i[o];/^on[A-Z]/.test(o)?a&&d?s[o]=(...g)=>{const b=d(...g);return a(...g),b}:a&&(s[o]=a):o==="style"?s[o]={...a,...d}:o==="className"&&(s[o]=[a,d].filter(Boolean).join(" "))}return{...e,...s}}function getElementRef(e){var o,a;let i=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?e.ref:(i=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:i,size:s,asChild:o=!1,...a},d)=>{const h=o?Slot:"button";return jsxRuntimeExports.jsx(h,{className:cn(buttonVariants({variant:i,size:s,className:e})),ref:d,...a})});Button.displayName="Button";const Input=reactExports.forwardRef(({className:e,type:i,...s},o)=>jsxRuntimeExports.jsx("input",{type:i,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...s}));Input.displayName="Input";var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((e,i)=>{const s=createSlot(`Primitive.${i}`),o=reactExports.forwardRef((a,d)=>{const{asChild:h,...g}=a,b=h?s:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(b,{...g,ref:d})});return o.displayName=`Primitive.${i}`,{...e,[i]:o}},{}),NAME="Label",Label$1=reactExports.forwardRef((e,i)=>jsxRuntimeExports.jsx(Primitive.label,{...e,ref:i,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Label$1.displayName=NAME;var Root=Label$1;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx(Root,{ref:s,className:cn(labelVariants(),e),...i}));Label.displayName=Root.displayName;const Card=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...i}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("flex flex-col space-y-1.5 p-6",e),...i}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx("h3",{ref:s,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...i}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx("p",{ref:s,className:cn("text-sm text-muted-foreground",e),...i}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("p-6 pt-0",e),...i}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:e,...i},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("flex items-center p-6 pt-0",e),...i}));CardFooter.displayName="CardFooter";function LoginPage(){const{t:e}=useTranslation(),[i,s]=reactExports.useState(""),[o,a]=reactExports.useState(""),[d,h]=reactExports.useState(!1),{signInWithEmail:g}=useAuthStore(),b=useNavigate(),{toast:_}=useToast(),j=async $=>{$.preventDefault(),h(!0);try{await g(i,o),_({title:e("auth.welcomeBackToast"),description:e("auth.signInSuccess")}),b("/")}catch(_e){_({variant:"destructive",title:e("common.error"),description:_e instanceof Error?_e.message:e("auth.invalidCredentials")})}finally{h(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:e("auth.welcomeBack")}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:e("auth.signInToContinue")})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:e("auth.email")}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"name@example.com",value:i,onChange:$=>s($.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx(Label,{htmlFor:"password",children:e("auth.password")})}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:o,onChange:$=>a($.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:d,children:e(d?"auth.signingIn":"auth.signIn")})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("auth.noAccount")," ",jsxRuntimeExports.jsx(Link,{to:"/register",className:"text-primary hover:underline font-medium",children:e("auth.signUp")})]})})]})})}function RegisterPage(){const{t:e}=useTranslation(),[i,s]=reactExports.useState(""),[o,a]=reactExports.useState(""),[d,h]=reactExports.useState(""),[g,b]=reactExports.useState(""),[_,j]=reactExports.useState(!1),{signUpWithEmail:$}=useAuthStore(),_e=useNavigate(),{toast:et}=useToast(),nt=async it=>{if(it.preventDefault(),d!==g){et({variant:"destructive",title:e("common.error"),description:e("auth.passwordMismatch")});return}if(d.length<6){et({variant:"destructive",title:e("common.error"),description:e("auth.passwordMinLength","Password must be at least 6 characters")});return}j(!0);try{await $(o,d,i||void 0),et({title:e("auth.accountCreated"),description:e("auth.accountCreatedDesc")}),_e("/")}catch(st){et({variant:"destructive",title:e("common.error"),description:st instanceof Error?st.message:e("auth.signUpError","Failed to create account")})}finally{j(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:e("auth.createAccount")}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:e("auth.getStarted")})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:e("auth.name","Name (optional)")}),jsxRuntimeExports.jsx(Input,{id:"name",type:"text",placeholder:"John Doe",value:i,onChange:it=>s(it.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:e("auth.email")}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"name@example.com",value:o,onChange:it=>a(it.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"password",children:e("auth.password")}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:d,onChange:it=>h(it.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:e("auth.passwordHint","Must be at least 6 characters")})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"confirmPassword",children:e("auth.confirmPassword")}),jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:"password",value:g,onChange:it=>b(it.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:_,children:e(_?"auth.signingUp":"auth.createAccount")})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("auth.hasAccount")," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-primary hover:underline font-medium",children:e("auth.signIn")})]})})]})})}function DashboardPage(){var j;const{t:e}=useTranslation(),{user:i,token:s}=useAuthStore(),[o,a]=reactExports.useState([]),[d,h]=reactExports.useState({totalDocuments:0,totalWords:0,quizzesCompleted:0,streak:0}),[g,b]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{var _e,et;if(!s){b(!1);return}try{const nt=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(nt.ok){const it=await nt.json();a(it.documents||[]);const st=((_e=it.documents)==null?void 0:_e.length)||0,tt=((et=it.documents)==null?void 0:et.reduce((rt,ot)=>{var ut;return rt+(((ut=ot.summary)==null?void 0:ut.split(/\s+/).length)||0)},0))||0;h({totalDocuments:st,totalWords:tt,quizzesCompleted:0,streak:0})}}catch(nt){console.error("Error fetching documents:",nt)}finally{b(!1)}})()},[s]);const _=o.slice(0,4);return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:e("dashboard.welcome",{name:((j=i==null?void 0:i.email)==null?void 0:j.split("@")[0])||"User"})}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mt-1",children:e("dashboard.continueLearning")})]}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{className:"bg-accent hover:bg-accent-hover text-white gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),e("navigation.newDocument")]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-light flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-accent"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:d.totalDocuments}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.totalDocuments")})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-success-light flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-success"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:d.totalWords.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.wordsLearned")})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning-light flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-warning"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:d.quizzesCompleted}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.quizzesCompleted")})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-bg-secondary border border-border rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-error-light flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-error"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-text-primary",children:d.streak}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:e("dashboard.dayStreak")})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-accent to-purple-600 rounded-xl p-6 text-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:e("navigation.aiAssistant")}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-sm mb-4",children:e("dashboard.aiAssistantDesc","Ask questions about your documents, get summaries, and generate quizzes")}),jsxRuntimeExports.jsx(Link,{to:"/chat",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"}),e("dashboard.startChat","Start Chat")]})})]}),jsxRuntimeExports.jsx(Sparkles,{className:"w-12 h-12 text-white/20"})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-bg-secondary border border-border rounded-xl p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg text-text-primary mb-2",children:e("dashboard.uploadDocument")}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm mb-4",children:e("dashboard.uploadDesc","Upload a PDF document and start learning with AI-powered tools")}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"gap-2 border-border text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),e("documents.upload")]})})]}),jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 text-text-muted"})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:e("dashboard.recentDocuments")}),jsxRuntimeExports.jsxs(Link,{to:"/documents",className:"text-sm text-accent hover:underline flex items-center gap-1",children:[e("dashboard.viewAllDocuments"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]}),g?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-accent"})}):_.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary mb-2",children:e("dashboard.noDocumentsYet")}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm mb-4",children:e("dashboard.uploadFirst")}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{className:"bg-accent hover:bg-accent-hover text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),e("dashboard.uploadFirstButton")]})})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map(($,_e)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*_e},children:jsxRuntimeExports.jsxs(Link,{to:`/documents/${$.id}`,className:"block bg-bg-secondary border border-border rounded-xl p-4 hover:border-border-strong transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-accent"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary truncate",children:$.title||$.filename}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted mt-1",children:new Date($.createdAt).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-3",children:[$.summary&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-success-light text-success px-2 py-0.5 rounded",children:"Summary"}),$.quiz&&$.quiz.length>0&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-accent-light text-accent px-2 py-0.5 rounded",children:"Quiz"}),$.glossary&&$.glossary.length>0&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-warning-light text-warning px-2 py-0.5 rounded",children:"Glossary"})]})]})},$.id))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-text-primary mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-accent"}),"Learning Tips"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"1"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Active Recall"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Take quizzes to reinforce your memory"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"2"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Spaced Repetition"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Review glossary terms regularly"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-accent",children:"3"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Ask Questions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Use AI chat to clarify concepts"})]})]})]})]})]})}function DocumentsPage(){const{t:e}=useTranslation(),{user:i,token:s}=useAuthStore(),[o,a]=reactExports.useState([]),[d,h]=reactExports.useState(!0),[g,b]=reactExports.useState(""),[_,j]=reactExports.useState(!1),{toast:$}=useToast(),_e=reactExports.useCallback(async()=>{if(!i||!s){h(!1);return}try{const st=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(st.ok){const tt=await st.json();a(tt.documents||[])}}catch(st){console.error("Error fetching documents:",st)}finally{h(!1)}},[i,s]);reactExports.useEffect(()=>{_e()},[_e]);const et=async st=>{var rt,ot,ut;const tt=(rt=st.target.files)==null?void 0:rt[0];if(!(!tt||!i||!s)){if(tt.type!=="application/pdf"){$({variant:"destructive",title:e("common.error"),description:e("documents.onlyPDF")});return}if(tt.size>50*1024*1024){$({variant:"destructive",title:e("common.error"),description:e("documents.fileTooLarge")});return}j(!0);try{const lt=new FormData;lt.append("file",tt),lt.append("title",tt.name.replace(".pdf",""));const ct=await fetch(apiEndpoint("api/documents/upload"),{method:"POST",headers:{Authorization:`Bearer ${s}`},credentials:"include",body:lt});if(!ct.ok)throw new Error("Failed to upload document");const dt=await ct.json();$({title:e("common.success"),description:e("documents.uploadSuccess",{chars:((ot=dt.metadata)==null?void 0:ot.textLength)||0,pages:((ut=dt.metadata)==null?void 0:ut.numPages)||0})}),_e()}catch{$({variant:"destructive",title:e("common.error"),description:e("documents.uploadError")})}finally{j(!1)}}},nt=async st=>{if(s)try{await fetch(apiEndpoint(`api/documents/${st}`),{method:"DELETE",headers:{Authorization:`Bearer ${s}`},credentials:"include"}),$({title:e("common.success"),description:e("documents.deleteSuccess")}),_e()}catch{$({variant:"destructive",title:e("common.error"),description:e("documents.deleteError")})}},it=g?o.filter(st=>st.title.toLowerCase().includes(g.toLowerCase())):o;return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:e("documents.title")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:e("documents.uploadDesc","Upload and manage your PDFs")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Input,{type:"file",accept:".pdf",onChange:et,disabled:_,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",children:jsxRuntimeExports.jsx(Button,{asChild:!0,disabled:_,children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),e(_?"documents.processing":"documents.uploadNew")]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:e("common.searchDocuments"),value:g,onChange:st=>b(st.target.value),className:"pl-10"})]}),d?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):it.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-col items-center justify-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("documents.noDocuments")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center mb-4",children:e("documents.noDocumentsDesc")}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",children:jsxRuntimeExports.jsx(Button,{asChild:!0,children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),e("documents.uploadNew")]})})})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:it.map(st=>jsxRuntimeExports.jsx(Card,{className:"group",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${st.id}`,className:"block",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold truncate",children:st.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:formatFileSize(st.fileSize)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:formatDate(st.createdAt)})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[jsxRuntimeExports.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${st.summary?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:st.summary?"Ready":"Processing"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>nt(st.id),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]})},st.id))})]})}function DocumentDetailPage(){var et,nt,it;const{id:e}=useParams(),{token:i}=useAuthStore(),[s,o]=reactExports.useState(null),[a,d]=reactExports.useState(!0),[h,g]=reactExports.useState(!1),{toast:b}=useToast(),_=async()=>{if(!e||!i){d(!1);return}try{const st=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(st.ok){const tt=await st.json();o(tt.document)}}catch(st){console.error("Error fetching document:",st)}finally{d(!1)}};reactExports.useEffect(()=>{_()},[e,i]);const j=async()=>{var st,tt;if(!(!e||!i)){g(!0);try{const rt=await fetch(apiEndpoint(`api/documents/${e}/generate`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include",body:JSON.stringify({})}),ot=await rt.json();if(!rt.ok)throw new Error(ot.error||"Failed to generate content");b({title:"Content Generated!",description:`Created ${((st=ot.generated)==null?void 0:st.quizCount)||0} quiz questions, ${((tt=ot.generated)==null?void 0:tt.glossaryCount)||0} glossary terms, and more.`}),_()}catch(rt){b({variant:"destructive",title:"Error",description:rt instanceof Error?rt.message:"Failed to generate content"})}finally{g(!1)}}};if(a)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!s)return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Document not found"})]})]});const $=s.summary||s.quiz||s.glossary,_e=[{title:"Summary",description:"Get a concise summary of the document",icon:BookOpen,href:`/learn/${e}/summary`,available:!!s.summary},{title:"Quiz",description:"Test your knowledge with a quiz",icon:HelpCircle,href:`/learn/${e}/quiz`,available:!!s.quiz},{title:"Glossary",description:"Learn key terms and definitions",icon:List,href:`/learn/${e}/glossary`,available:!!s.glossary}];return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900",children:jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:s.title}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:[formatFileSize(s.fileSize),"  Uploaded ",formatDate(s.createdAt)]})]})]}),jsxRuntimeExports.jsx(Link,{to:`/documents/${e}/view`,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-2"}),"Open in Viewer"]})})]}),!$&&jsxRuntimeExports.jsxs(Card,{className:"border-dashed",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-purple-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Generate Learning Content"}),jsxRuntimeExports.jsx(CardDescription,{children:"Use AI to create flashcards, quizzes, and more from this document"})]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Button,{onClick:j,disabled:h||!s.content,className:"w-full",children:h?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Generate Content"]})}),!s.content&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"No text content available. Upload a PDF with extractable text."})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_e.map(st=>jsxRuntimeExports.jsxs(Card,{className:st.available?"":"opacity-60",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(st.icon,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:st.title}),jsxRuntimeExports.jsx(CardDescription,{children:st.description})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:st.available?jsxRuntimeExports.jsx(Link,{to:st.href,children:jsxRuntimeExports.jsx(Button,{className:"w-full",children:"Start Learning"})}):jsxRuntimeExports.jsx(Button,{className:"w-full",disabled:!0,children:"Generate Content First"})})]},st.title))}),s.summary&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Summary"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:s.summary})})]}),$&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Content Generated"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((et=s.quiz)==null?void 0:et.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Quiz Questions"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((nt=s.glossary)==null?void 0:nt.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Glossary Terms"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:((it=s.concepts)==null?void 0:it.length)||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Concepts"})]})]})})]})]})}function SettingsPage(){const{t:e}=useTranslation(),i=[{title:e("settings.apiKeys"),description:e("settings.apiKeysDesc"),icon:Key,href:"/settings/api-keys"},{title:e("settings.profile"),description:e("settings.profileDesc"),icon:User,href:"/settings/profile",disabled:!0},{title:e("settings.security"),description:e("settings.securityDesc"),icon:Shield,href:"/settings/security",disabled:!0}];return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:e("settings.title")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:e("settings.manageAccount","Manage your account and preferences")})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(s=>jsxRuntimeExports.jsxs(Card,{className:s.disabled?"opacity-50":"",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(s.icon,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:s.title}),jsxRuntimeExports.jsx(CardDescription,{children:s.description})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:s.disabled?jsxRuntimeExports.jsx(Button,{variant:"outline",disabled:!0,className:"w-full",children:e("settings.comingSoon")}):jsxRuntimeExports.jsx(Link,{to:s.href,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"w-full",children:e("settings.manage","Manage")})})})]},s.title))})]})}const PROVIDERS=[{id:"openai",name:"OpenAI"},{id:"anthropic",name:"Anthropic"},{id:"google",name:"Google"},{id:"groq",name:"Groq"},{id:"cerebras",name:"Cerebras"},{id:"openrouter",name:"OpenRouter"}];function ApiKeysPage(){const{t:e}=useTranslation(),{user:i,token:s}=useAuthStore(),[o,a]=reactExports.useState([]),[d,h]=reactExports.useState(!0),[g,b]=reactExports.useState(null),[_,j]=reactExports.useState(""),[$,_e]=reactExports.useState(""),{toast:et}=useToast(),nt=async()=>{if(!i||!s){h(!1);return}try{const tt=await fetch(apiEndpoint("api/api-keys"),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(tt.ok){const rt=await tt.json();a(rt.apiKeys||[])}}catch(tt){console.error("Error fetching API keys:",tt)}finally{h(!1)}};reactExports.useEffect(()=>{nt()},[i,s]);const it=async tt=>{if(!(!_||!s))try{if(!(await fetch(apiEndpoint("api/api-keys"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify({provider:tt,key:_,name:$||void 0})})).ok)throw new Error("Failed to save API key");et({title:e("common.success"),description:e("settings.keySavedFor",{provider:tt})}),j(""),_e(""),b(null),nt()}catch{et({variant:"destructive",title:e("common.error"),description:e("settings.keysError")})}},st=async(tt,rt)=>{if(s)try{await fetch(apiEndpoint(`api/api-keys/${tt}`),{method:"DELETE",headers:{Authorization:`Bearer ${s}`},credentials:"include"}),et({title:e("common.success"),description:e("settings.keyDeletedFor",{provider:rt})}),nt()}catch{et({variant:"destructive",title:e("common.error"),description:e("settings.keyDeleteError","Failed to delete API key")})}};return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/settings",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),e("settings.backToSettings","Back to Settings")]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:e("settings.apiKeys")}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:e("settings.apiKeysDesc")})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:e("settings.yourApiKeys","Your API Keys")}),jsxRuntimeExports.jsx(CardDescription,{children:e("settings.apiKeysSecure","Add your own API keys to use with Doc2Learn. Your keys are encrypted and stored securely.")})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:d?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):PROVIDERS.map(tt=>{const rt=o.find(ot=>ot.provider===tt.id);return jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(Key,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:tt.name}),rt?jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("settings.keyEnding","Key ending in {{last4}}",{last4:rt.keyLast4}),rt.name&&` (${rt.name})`]}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:e("settings.notConfigured","Not configured")})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-4 h-4"}),e("settings.active","Active")]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>st(rt.id,tt.name),children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-destructive"})})]}):g===tt.id?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Enter API key",value:_,onChange:ot=>j(ot.target.value),className:"w-48"}),jsxRuntimeExports.jsx(Input,{placeholder:"Name (optional)",value:$,onChange:ot=>_e(ot.target.value),className:"w-32"}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>it(tt.id),children:"Save"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{b(null),j(""),_e("")},children:"Cancel"})]}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>b(tt.id),children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Key"]})})]})},tt.id)})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"About BYOK"}),jsxRuntimeExports.jsx(CardDescription,{children:"How Doc2Learn handles your API keys"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("li",{children:" Your API keys are hashed before storage"}),jsxRuntimeExports.jsx("li",{children:" Keys are only used when making requests to AI providers"}),jsxRuntimeExports.jsx("li",{children:" Doc2Learn stores a secure hash of your keys"}),jsxRuntimeExports.jsx("li",{children:" You can delete your keys at any time"}),jsxRuntimeExports.jsx("li",{children:" You are billed directly by the AI providers for usage"})]})})]})]})}function LearningIndexPage(){const{token:e}=useAuthStore(),[i,s]=reactExports.useState([]),[o,a]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{if(!e){a(!1);return}try{const g=await fetch(apiEndpoint("api/documents"),{headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(g.ok){const b=await g.json();s(b.documents||[])}}catch(g){console.error("Error fetching documents:",g)}finally{a(!1)}})()},[e]);const d=h=>h.summary||h.quiz&&h.quiz.length>0||h.glossary&&h.glossary.length>0||h.flashcards&&h.flashcards.length>0;return o?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-accent/10 mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-accent"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Learning Center"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Transform your documents into interactive learning experiences with AI-powered quizzes, flashcards, glossaries, and summaries."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-blue-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Summaries"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"AI-generated summaries highlighting key concepts and main ideas."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-green-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Quizzes"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Test your knowledge with automatically generated quiz questions."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-purple-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Glossary"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Learn key terms and definitions from your documents."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5 text-orange-500"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Flashcards"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Memorize important concepts with interactive flashcards."})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Your Documents"}),i.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No documents yet"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"Upload a document to start learning"}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsx(Button,{className:"bg-accent hover:bg-accent-hover text-white",children:"Upload Document"})})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:i.map(h=>jsxRuntimeExports.jsx(Link,{to:`/learn/${h.id}`,className:"block bg-bg-secondary border border-border rounded-xl p-5 hover:border-accent/50 transition-colors group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-lg bg-bg-tertiary flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-text-muted"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary group-hover:text-accent transition-colors",children:h.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:new Date(h.createdAt).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[d(h)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[h.summary&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-500/10 text-blue-500",children:"Summary"}),h.quiz&&h.quiz.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-500/10 text-green-500",children:"Quiz"}),h.glossary&&h.glossary.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-500/10 text-purple-500",children:"Glossary"}),h.flashcards&&h.flashcards.length>0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-orange-500/10 text-orange-500",children:"Flashcards"})]}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 text-text-muted group-hover:text-accent transition-colors"})]})]})},h.id))})]})]})}const tabs=[{id:"summary",label:"Summary",icon:FileText},{id:"quiz",label:"Quiz",icon:Target},{id:"glossary",label:"Glossary",icon:BookOpen},{id:"flashcards",label:"Flashcards",icon:Lightbulb}];function LearningExperiencePage(){const{experienceId:e}=useParams(),i=e,s=useNavigate(),{token:o}=useAuthStore(),[a,d]=reactExports.useState(null),[h,g]=reactExports.useState(!0),[b,_]=reactExports.useState("summary"),[j,$]=reactExports.useState(!1),{toast:_e}=useToast();reactExports.useEffect(()=>{(async()=>{if(!i||!o){g(!1);return}try{const tt=await fetch(apiEndpoint(`api/documents/${i}`),{headers:{Authorization:`Bearer ${o}`},credentials:"include"});if(tt.ok){const rt=await tt.json();d(rt.document)}}catch(tt){console.error("Error fetching document:",tt)}finally{g(!1)}})()},[i,o]);const et=async()=>{if(!(!a||j)){$(!0);try{const st=await fetch(apiEndpoint(`api/documents/${i}/generate`),{method:"POST",headers:{Authorization:`Bearer ${o}`},credentials:"include"});if(st.ok){const tt=await st.json();d(rt=>rt&&{...rt,...tt}),_e({title:"Content generated!",description:"Your learning content is ready."})}else throw new Error("Failed to generate content")}catch(st){_e({variant:"destructive",title:"Error",description:st instanceof Error?st.message:"Failed to generate content"})}finally{$(!1)}}},nt=st=>{if(!a)return!1;switch(st){case"summary":return!!a.summary;case"quiz":return a.quiz&&a.quiz.length>0;case"glossary":return a.glossary&&a.glossary.length>0;case"flashcards":return a.flashcards&&a.flashcards.length>0}return!1},it=()=>tabs.some(st=>nt(st.id));return h?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):a?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-text-primary",children:a.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Learning Experience"})]})]})}),!it()&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-accent-light border border-accent/20 rounded-xl p-6 text-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-accent mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No learning content yet"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"Generate AI-powered learning content from this document"}),jsxRuntimeExports.jsx(Button,{onClick:et,disabled:j,className:"bg-accent hover:bg-accent-hover text-white",children:j?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Generate Learning Content"]})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:tabs.map(st=>{const tt=st.icon,rt=nt(st.id);return jsxRuntimeExports.jsxs("button",{onClick:()=>_(st.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors relative ${b===st.id?"text-accent":"text-text-muted hover:text-text-secondary"}`,children:[jsxRuntimeExports.jsx(tt,{className:"w-4 h-4"}),st.label,rt&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-success"}),b===st.id&&jsxRuntimeExports.jsx(motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent"})]},st.id)})})}),jsxRuntimeExports.jsxs("div",{className:"min-h-[400px]",children:[b==="summary"&&jsxRuntimeExports.jsx("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:a.summary?jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed",children:a.summary})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No summary available"}),jsxRuntimeExports.jsx(Button,{onClick:et,disabled:j,variant:"outline",className:"mt-4",children:"Generate Content"})]})}),b==="quiz"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.quiz&&a.quiz.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.quiz.length," questions"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>s(`/learn/${i}/quiz`),className:"bg-accent hover:bg-accent-hover text-white",children:"Start Quiz"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-6",children:[a.quiz.slice(0,3).map((st,tt)=>{var rt;return jsxRuntimeExports.jsxs("div",{className:"mb-4 last:mb-0",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium text-text-primary",children:[tt+1,". ",st.question]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-muted mt-1",children:[((rt=st.options)==null?void 0:rt.length)||0," options"]})]},tt)}),a.quiz.length>3&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-muted text-center",children:["+",a.quiz.length-3," more questions"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No quiz available"})]})}),b==="glossary"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.glossary&&a.glossary.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.glossary.length," terms"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>s(`/learn/${i}/glossary`),variant:"outline",children:"View Full Glossary"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3",children:a.glossary.slice(0,6).map((st,tt)=>jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary",children:st.term}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary mt-1 line-clamp-2",children:st.definition})]},tt))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No glossary available"})]})}),b==="flashcards"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:a.flashcards&&a.flashcards.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:[a.flashcards.length," flashcards"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>s(`/learn/${i}/flashcards`),variant:"outline",children:"Study Flashcards"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:a.flashcards.slice(0,6).map((st,tt)=>jsxRuntimeExports.jsxs("div",{className:"bg-bg-secondary border border-border rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary mb-2",children:st.front}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary border-t border-border pt-2",children:st.back})]},tt))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No flashcards available"})]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Document not found"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"The document you're looking for doesn't exist."})]})]})}const CORRECT_MESSAGES=[{title:"Excelente!",description:"Acertaste em cheio!",emoji:""},{title:"Perfeito!",description:"Dominaste este conceito!",emoji:""},{title:"Muito bem!",description:"Continua assim!",emoji:""},{title:"Fantstico!",description:"Ests a brilhar!",emoji:""},{title:"Incrvel!",description:"Que resposta genial!",emoji:""},{title:"Brilhante!",description:"O teu conhecimento  slido!",emoji:""},{title:"Assim  que !",description:"Ests no caminho certo!",emoji:""},{title:"Mandaste bem!",description:"Excelente trabalho!",emoji:""}],INCORRECT_MESSAGES=[{title:"Quase l!",description:"Tenta novamente!",emoji:""},{title:"No desistas!",description:"A prtica leva  perfeio!",emoji:""},{title:"Boa tentativa!",description:"Rev o material e tenta novamente!",emoji:""},{title:"No te preocupes!",description:"Cada erro  uma oportunidade de aprender!",emoji:""},{title:"Continua a tentar!",description:"Ests quase a conseguir!",emoji:""},{title:"Fora!",description:"O sucesso vem com persistncia!",emoji:""},{title:"nimo!",description:"Aprendizagem  um processo!",emoji:""},{title:"No baixos os braos!",description:"Vais conseguir!",emoji:""}],getScoreMessage=e=>e===100?{title:"Perfeio Absoluta!",description:"Conquistaste todos os pontos! s um mestre neste tema!",icon:Trophy}:e>=90?{title:"Excelente!",description:"Quase perfeito! O teu conhecimento  impressionante!",icon:Star}:e>=70?{title:"Muito Bem!",description:"Bom trabalho! Continua a praticar para melhorar ainda mais!",icon:Target}:e>=50?{title:"Bom Esforo!",description:"Ests no caminho certo! Rev os pontos que falhaste.",icon:Sparkles}:{title:"Continua a Tentar!",description:"No desistas! Cada tentativa  uma oportunidade de aprender.",icon:Zap};function QuizPage(){const{experienceId:e}=useParams(),i=e,{token:s}=useAuthStore(),[o,a]=reactExports.useState(null),[d,h]=reactExports.useState(!0),[g,b]=reactExports.useState(0),[_,j]=reactExports.useState(null),[$,_e]=reactExports.useState(!1),[et,nt]=reactExports.useState([]),[it,st]=reactExports.useState(!1),[tt,rt]=reactExports.useState(null),[ot,ut]=reactExports.useState(0),[lt,ct]=reactExports.useState(0),{toast:dt}=useToast();reactExports.useEffect(()=>{(async()=>{var Et;if(!i||!s){h(!1);return}try{const gt=await fetch(apiEndpoint(`api/documents/${i}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(gt.ok){const Mt=await gt.json();a(Mt.document),nt(new Array(((Et=Mt.document.quiz)==null?void 0:Et.length)||0).fill(null))}}catch(gt){console.error("Error fetching document:",gt)}finally{h(!1)}})()},[i,s]);const ht=(o==null?void 0:o.quiz)||[],mt=reactExports.useCallback(Rt=>{const Et=Rt?CORRECT_MESSAGES:INCORRECT_MESSAGES;return Et[Math.floor(Math.random()*Et.length)]},[]),xt=Rt=>{$||j(Rt)},ft=()=>{if(_===null)return;const Rt=[...et];Rt[g]=_,nt(Rt);const Et=_===ht[g].correct,gt=mt(Et);rt(gt),Et?(ut(Mt=>Mt+1),ct(Mt=>Mt+1),ot>=2&&dt({title:` Sequncia de ${ot+1}!`,description:"Ests imparvel!"})):ut(0),_e(!0),dt({title:gt.title,description:gt.description,variant:Et?"default":"destructive"})},bt=()=>{g+1>=ht.length?st(!0):(b(g+1),j(null),_e(!1),rt(null))},wt=()=>{b(0),j(null),_e(!1),nt(new Array(ht.length).fill(null)),st(!1),rt(null),ut(0),ct(0)},Ct=()=>lt;if(d)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})});if(!o||ht.length===0)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Quiz Available"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the quiz"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})});if(it){const Rt=Ct(),Et=Math.round(Rt/ht.length*100),gt=getScoreMessage(Et),Mt=gt.icon;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})})})}),jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-surface-elevated border border-border rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-8 border-b border-border",children:[jsxRuntimeExports.jsx(Mt,{className:"w-16 h-16 mx-auto text-action mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-text-primary mb-2",children:gt.title}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:gt.description})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-5xl font-bold text-action mb-2",children:[Et,"%"]}),jsxRuntimeExports.jsxs("p",{className:"text-text-secondary",children:[Rt," correct out of ",ht.length," questions"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-success",children:Rt}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Correct"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-error",children:ht.length-Rt}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Incorrect"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded bg-surface",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-action",children:ot}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Best Streak"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:wt,className:"bg-action hover:bg-action-hover text-white",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 mr-2"}),"Try Again"]}),jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Back to Document"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 pt-6 border-t border-border",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Review Your Answers"}),ht.map((_t,at)=>jsxRuntimeExports.jsx("div",{className:`p-4 border rounded ${et[at]===_t.correct?"border-success bg-success-light":"border-error bg-error-light"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[et[at]===_t.correct?jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-success mt-0.5 flex-shrink-0"}):jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5 text-error mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary mb-2",children:_t.question}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:["Your answer: ",jsxRuntimeExports.jsx("span",{className:et[at]===_t.correct?"text-success":"text-error",children:_t.options[et[at]]})]}),et[at]!==_t.correct&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["Correct answer: ",jsxRuntimeExports.jsx("span",{className:"text-success",children:_t.options[_t.correct]})]})]})]})},at))]})]})]})})]})}const Tt=ht[g],St=(g+1)/ht.length*100,At=$&&_===Tt.correct;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[ot>=2&&jsxRuntimeExports.jsxs("span",{className:"text-warning font-medium flex items-center gap-1",children:[" ",ot," streak!"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-muted font-mono",children:[g+1," / ",ht.length]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-1 bg-border rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-action transition-all duration-500",style:{width:`${St}%`}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[jsxRuntimeExports.jsxs("span",{children:[lt," correct"]}),jsxRuntimeExports.jsxs("span",{children:[Math.round(St),"% complete"]})]})]}),$&&tt&&jsxRuntimeExports.jsxs("div",{className:`p-4 rounded border text-center ${At?"bg-success-light border-success":"bg-error-light border-error"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xl mr-2",children:tt.emoji}),jsxRuntimeExports.jsx("span",{className:`font-medium ${At?"text-success":"text-error"}`,children:tt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary mt-1",children:tt.description})]}),jsxRuntimeExports.jsxs("div",{className:`bg-surface-elevated border rounded-lg p-6 ${$?At?"border-success":"border-error":"border-border"}`,children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium text-text-primary mb-6",children:Tt.question}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Tt.options.map((Rt,Et)=>{let gt="border border-border rounded cursor-pointer transition-all";return $?Et===Tt.correct?gt+=" bg-success-light border-success":Et===_&&Et!==Tt.correct?gt+=" bg-error-light border-error":gt+=" opacity-50":_===Et?gt+=" bg-action-light border-action":gt+=" hover:border-border-strong",jsxRuntimeExports.jsx("div",{className:gt,onClick:()=>xt(Et),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-4",children:[jsxRuntimeExports.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-medium ${$&&Et===Tt.correct?"bg-success border-success text-white":$&&Et===_&&Et!==Tt.correct?"bg-error border-error text-white":_===Et?"bg-action border-action text-white":"border-border text-text-secondary"}`,children:String.fromCharCode(65+Et)}),jsxRuntimeExports.jsx("span",{className:"flex-1 text-text-primary",children:Rt}),$&&Et===Tt.correct&&jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-success"}),$&&Et===_&&Et!==Tt.correct&&jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5 text-error"})]})},Et)})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end gap-3",children:$?jsxRuntimeExports.jsx(Button,{onClick:bt,className:"bg-action hover:bg-action-hover text-white",children:g+1>=ht.length?"See Results":"Next Question"}):jsxRuntimeExports.jsx(Button,{onClick:ft,disabled:_===null,className:"bg-action hover:bg-action-hover text-white",children:"Submit Answer"})})]})]})}function GlossaryPage(){const{experienceId:e}=useParams(),i=e,{token:s}=useAuthStore(),[o,a]=reactExports.useState(null),[d,h]=reactExports.useState(!0),[g,b]=reactExports.useState(""),[_,j]=reactExports.useState(null),[$,_e]=reactExports.useState(new Set);reactExports.useEffect(()=>{(async()=>{if(!i||!s){h(!1);return}try{const ot=await fetch(apiEndpoint(`api/documents/${i}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(ot.ok){const ut=await ot.json();a(ut.document)}}catch(ot){console.error("Error fetching document:",ot)}finally{h(!1)}})()},[i,s]);const et=(o==null?void 0:o.glossary)||[],nt=reactExports.useMemo(()=>{const rt=new Set;return et.forEach(ot=>{const ut=ot.term.charAt(0).toUpperCase();/[A-Z]/.test(ut)&&rt.add(ut)}),Array.from(rt).sort()},[et]),it=reactExports.useMemo(()=>{let rt=et;if(g){const ot=g.toLowerCase();rt=rt.filter(ut=>ut.term.toLowerCase().includes(ot)||ut.definition.toLowerCase().includes(ot))}return _&&(rt=rt.filter(ot=>ot.term.charAt(0).toUpperCase()===_)),rt.sort((ot,ut)=>ot.term.localeCompare(ut.term))},[et,g,_]),st=reactExports.useMemo(()=>{const rt={};return it.forEach(ot=>{const ut=ot.term.charAt(0).toUpperCase();rt[ut]||(rt[ut]=[]),rt[ut].push(ot)}),rt},[it]),tt=rt=>{_e(ot=>{const ut=new Set(ot);return ut.has(rt)?ut.delete(rt):ut.add(rt),ut})};return d?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})}):!o||et.length===0?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Glossary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the glossary"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-muted font-mono",children:[et.length," terms"]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Glossary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:o.title})]}),jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto mb-6",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search terms...",value:g,onChange:rt=>b(rt.target.value),className:"pl-10 pr-10 border-border bg-surface-elevated"}),g&&jsxRuntimeExports.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-8",children:[jsxRuntimeExports.jsx(Button,{variant:_===null?"default":"ghost",size:"sm",onClick:()=>j(null),className:`min-w-[36px] h-8 ${_===null?"bg-action text-white hover:bg-action-hover":"text-text-secondary hover:text-text-primary"}`,children:"All"}),nt.map(rt=>jsxRuntimeExports.jsx(Button,{variant:_===rt?"default":"ghost",size:"sm",onClick:()=>j(_===rt?null:rt),className:`min-w-[36px] h-8 ${_===rt?"bg-action text-white hover:bg-action-hover":"text-text-secondary hover:text-text-primary"}`,children:rt},rt))]}),(g||_)&&jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-text-muted mb-6",children:["Found ",it.length," term",it.length!==1?"s":""]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(st).map(([rt,ot])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-text-muted uppercase tracking-wider w-8",children:rt}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-border"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-text-muted",children:ot.length})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ot.map((ut,lt)=>{const ct=$.has(ut.term);return jsxRuntimeExports.jsx("div",{className:"bg-surface-elevated border border-border rounded cursor-pointer transition-colors hover:border-border-strong",onClick:()=>tt(ut.term),children:jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:ut.term}),jsxRuntimeExports.jsx("p",{className:`text-sm text-text-secondary mt-1 ${ct?"":"line-clamp-2"}`,children:ut.definition})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 pt-1",children:ct?jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4 text-text-muted"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4 text-text-muted"})})]})})},`${ut.term}-${lt}`)})})]},rt))}),it.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx(Search,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-4",children:"No terms found matching your search"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",className:"text-text-secondary hover:text-text-primary",onClick:()=>{b(""),j(null)},children:"Clear filters"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center pt-8 mt-8 border-t border-border",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${i}/quiz`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Take Quiz"})}),jsxRuntimeExports.jsx(Link,{to:`/learn/${i}/summary`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"View Summary"})})]})]})]})}function renderMarkdown(e){const i=e.split(`
`),s=[];let o=[],a=!1;return i.forEach((d,h)=>{if(d.startsWith("- ")||d.startsWith("* ")){a=!0,o.push(d.slice(2));return}if(a&&o.length>0&&(s.push(jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 my-3 ml-4",children:o.map((g,b)=>jsxRuntimeExports.jsx("li",{className:"text-text-secondary",children:renderInlineMarkdown(g)},b))},`list-${h}`)),o=[],a=!1),d.startsWith("## ")){s.push(jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3 text-text-primary",children:renderInlineMarkdown(d.slice(3))},h));return}if(d.startsWith("### ")){s.push(jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium mt-4 mb-2 text-text-primary",children:renderInlineMarkdown(d.slice(4))},h));return}if(d.startsWith("# ")){s.push(jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mt-6 mb-4 text-text-primary",children:renderInlineMarkdown(d.slice(2))},h));return}if(d.startsWith("> ")){s.push(jsxRuntimeExports.jsx("blockquote",{className:"border-l-2 border-action pl-4 italic my-3 text-text-secondary",children:renderInlineMarkdown(d.slice(2))},h));return}d.trim()!==""&&s.push(jsxRuntimeExports.jsx("p",{className:"my-3 text-text-secondary leading-relaxed",children:renderInlineMarkdown(d)},h))}),o.length>0&&s.push(jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 my-3 ml-4",children:o.map((d,h)=>jsxRuntimeExports.jsx("li",{className:"text-text-secondary",children:renderInlineMarkdown(d)},h))},"list-final")),s}function renderInlineMarkdown(e){const i=[];let s=e,o=0;for(;s.length>0;){const a=s.match(/\*\*(.+?)\*\*/);if(a){const g=s.slice(0,a.index);g&&i.push(g),i.push(jsxRuntimeExports.jsx("strong",{className:"font-medium text-text-primary",children:a[1]},o++)),s=s.slice(a.index+a[0].length);continue}const d=s.match(/\*(.+?)\*/);if(d){const g=s.slice(0,d.index);g&&i.push(g),i.push(jsxRuntimeExports.jsx("em",{className:"italic",children:d[1]},o++)),s=s.slice(d.index+d[0].length);continue}const h=s.match(/`(.+?)`/);if(h){const g=s.slice(0,h.index);g&&i.push(g),i.push(jsxRuntimeExports.jsx("code",{className:"bg-surface border border-border px-1.5 py-0.5 rounded text-sm font-mono text-text-primary",children:h[1]},o++)),s=s.slice(h.index+h[0].length);continue}i.push(s);break}return i}function SummaryPage(){const{experienceId:e}=useParams(),i=e,{token:s}=useAuthStore(),[o,a]=reactExports.useState(null),[d,h]=reactExports.useState(!0),[g,b]=reactExports.useState(!1),{toast:_}=useToast();reactExports.useEffect(()=>{(async()=>{if(!i||!s){h(!1);return}try{const nt=await fetch(apiEndpoint(`api/documents/${i}`),{headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(nt.ok){const it=await nt.json();a(it.document)}}catch(nt){console.error("Error fetching document:",nt)}finally{h(!1)}})()},[i,s]);const j=async()=>{if(o!=null&&o.summary)try{await navigator.clipboard.writeText(o.summary),b(!0),_({title:"Copied!",description:"Summary copied to clipboard"}),setTimeout(()=>b(!1),2e3)}catch{_({variant:"destructive",title:"Error",description:"Failed to copy to clipboard"})}};if(d)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-border-strong border-t-action"})});if(!o||!o.summary)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-surface p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Document"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-surface-elevated border border-border rounded-lg",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Summary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-6",children:"Generate learning content first to access the summary"}),jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsx(Button,{className:"bg-action hover:bg-action-hover text-white",children:"Go to Document"})})]})]})});const $=o.summary.split(/\s+/).length,_e=Math.ceil($/200);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-surface",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border bg-surface-elevated",children:jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${i}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:j,className:"text-text-secondary hover:text-text-primary",children:g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 mr-2 text-success"}),"Copied"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4 mr-2"}),"Copy"]})})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Summary"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:o.title})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6 text-sm text-text-muted mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[$," words"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("span",{children:["~",_e," min read"]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-surface-elevated border border-border rounded-lg p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-none",children:renderMarkdown(o.summary)})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center pt-8 mt-8 border-t border-border",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${i}/quiz`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"Take Quiz"})}),jsxRuntimeExports.jsx(Link,{to:`/learn/${i}/glossary`,children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",children:"View Glossary"})})]})]})]})}function ExercisesPage(){const{experienceId:e}=useParams();return jsxRuntimeExports.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Construction,{className:"w-8 h-8 text-yellow-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Exercises"}),jsxRuntimeExports.jsx(CardDescription,{children:"AI-generated exercises coming soon"})]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Exercise generation will be available once AI integration is complete."})})]})]})}function FlashcardsPage(){const{experienceId:e}=useParams(),{token:i}=useAuthStore(),[s,o]=reactExports.useState(null),[a,d]=reactExports.useState(!0),[h,g]=reactExports.useState(0),[b,_]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{if(!e||!i){d(!1);return}try{const it=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(it.ok){const st=await it.json();o(st.document)}}catch(it){console.error("Error fetching document:",it)}finally{d(!1)}})()},[e,i]);const j=(s==null?void 0:s.flashcards)||[],$=()=>{_(!1),setTimeout(()=>{g(nt=>(nt+1)%j.length)},150)},_e=()=>{_(!1),setTimeout(()=>{g(nt=>(nt-1+j.length)%j.length)},150)};if(a)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})});if(!s||j.length===0)return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Learning"]})}),jsxRuntimeExports.jsx("div",{className:"text-center py-12 bg-bg-secondary border border-border rounded-xl",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"No flashcards available for this document."})})]});const et=j[h];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-text-muted",children:[h+1," / ",j.length]})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-2 bg-bg-tertiary rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${(h+1)/j.length*100}%`}})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-lg h-72 cursor-pointer perspective-1000",onClick:()=>_(!b),children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{rotateY:b?-90:90,opacity:0},animate:{rotateY:0,opacity:1},exit:{rotateY:b?90:-90,opacity:0},transition:{duration:.2},className:`w-full h-full rounded-2xl p-8 flex flex-col items-center justify-center text-center shadow-lg ${b?"bg-accent text-white":"bg-bg-secondary border border-border text-text-primary"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-wider mb-4 opacity-60",children:b?"Answer":"Question"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-medium leading-relaxed",children:b?et.back:et.front})]},b?"back":"front")})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:_e,disabled:j.length<=1,className:"w-24",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5 mr-1"}),"Prev"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:()=>_(!1),className:"w-24",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5 mr-1"}),"Flip"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",onClick:$,disabled:j.length<=1,className:"w-24",children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 ml-1"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-text-muted",children:"Click on the card to flip it"})]})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var In;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Et,i.bytesToString=Qt,i.createValidAbsoluteUrl=Mt,i.getModificationDate=$t,i.getUuid=wn,i.getVerbosityLevel=Tt,i.info=St,i.isArrayBuffer=Kt,i.isArrayEqual=Dt,i.isNodeJS=void 0,i.normalizeUnicode=yn,i.objectFromMap=qt,i.objectSize=an,i.setVerbosityLevel=Ct,i.shadow=_t,i.string32=ln,i.stringToBytes=rn,i.stringToPDFString=sn,i.stringToUTF8String=dn,i.unreachable=Rt,i.utf8StringToString=pn,i.warn=At;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=a;const d=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=d;const h=1.35;i.LINE_FACTOR=h;const g=.35;i.LINE_DESCENT_FACTOR=g;const b=g/h;i.BASELINE_FACTOR=b;const _={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=_;const j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=j;const $="pdfjs_internal_editor_";i.AnnotationEditorPrefix=$;const _e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=_e;const et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=et;const nt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=nt;const it={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=it;const st={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=st;const tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=tt;const rt={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=rt;const ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=ot;const ut={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=ut;const lt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=lt;const ct={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=ct;const dt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=dt;const ht={O:"PageOpen",C:"PageClose"};i.PageActionEventType=ht;const mt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=mt;const xt={NONE:0,BINARY:1};i.CMapCompressionType=xt;const ft={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=ft;const bt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=bt;let wt=mt.WARNINGS;function Ct(fn){Number.isInteger(fn)&&(wt=fn)}function Tt(){return wt}function St(fn){wt>=mt.INFOS&&console.log(`Info: ${fn}`)}function At(fn){wt>=mt.WARNINGS&&console.log(`Warning: ${fn}`)}function Rt(fn){throw new Error(fn)}function Et(fn,Yt){fn||Rt(Yt)}function gt(fn){switch(fn==null?void 0:fn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Mt(fn,Yt=null,Zt=null){if(!fn)return null;try{if(Zt&&typeof fn=="string"){if(Zt.addDefaultProtocol&&fn.startsWith("www.")){const On=fn.match(/\./g);(On==null?void 0:On.length)>=2&&(fn=`http://${fn}`)}if(Zt.tryConvertEncoding)try{fn=dn(fn)}catch{}}const Sn=Yt?new URL(fn,Yt):new URL(fn);if(gt(Sn))return Sn}catch{}return null}function _t(fn,Yt,Zt,Sn=!1){return Object.defineProperty(fn,Yt,{value:Zt,enumerable:!Sn,configurable:!0,writable:!1}),Zt}const at=function(){function Yt(Zt,Sn){this.constructor===Yt&&Rt("Cannot initialize BaseException."),this.message=Zt,this.name=Sn}return Yt.prototype=new Error,Yt.constructor=Yt,Yt}();i.BaseException=at;class yt extends at{constructor(Yt,Zt){super(Yt,"PasswordException"),this.code=Zt}}i.PasswordException=yt;class kt extends at{constructor(Yt,Zt){super(Yt,"UnknownErrorException"),this.details=Zt}}i.UnknownErrorException=kt;class Pt extends at{constructor(Yt){super(Yt,"InvalidPDFException")}}i.InvalidPDFException=Pt;class jt extends at{constructor(Yt){super(Yt,"MissingPDFException")}}i.MissingPDFException=jt;class Lt extends at{constructor(Yt,Zt){super(Yt,"UnexpectedResponseException"),this.status=Zt}}i.UnexpectedResponseException=Lt;class Ut extends at{constructor(Yt){super(Yt,"FormatError")}}i.FormatError=Ut;class Xt extends at{constructor(Yt){super(Yt,"AbortException")}}i.AbortException=Xt;function Qt(fn){(typeof fn!="object"||(fn==null?void 0:fn.length)===void 0)&&Rt("Invalid argument for bytesToString");const Yt=fn.length,Zt=8192;if(Yt<Zt)return String.fromCharCode.apply(null,fn);const Sn=[];for(let On=0;On<Yt;On+=Zt){const Dn=Math.min(On+Zt,Yt),Bt=fn.subarray(On,Dn);Sn.push(String.fromCharCode.apply(null,Bt))}return Sn.join("")}function rn(fn){typeof fn!="string"&&Rt("Invalid argument for stringToBytes");const Yt=fn.length,Zt=new Uint8Array(Yt);for(let Sn=0;Sn<Yt;++Sn)Zt[Sn]=fn.charCodeAt(Sn)&255;return Zt}function ln(fn){return String.fromCharCode(fn>>24&255,fn>>16&255,fn>>8&255,fn&255)}function an(fn){return Object.keys(fn).length}function qt(fn){const Yt=Object.create(null);for(const[Zt,Sn]of fn)Yt[Zt]=Sn;return Yt}function Ft(){const fn=new Uint8Array(4);return fn[0]=1,new Uint32Array(fn.buffer,0,1)[0]===1}function Vt(){try{return new Function(""),!0}catch{return!1}}class vt{static get isLittleEndian(){return _t(this,"isLittleEndian",Ft())}static get isEvalSupported(){return _t(this,"isEvalSupported",Vt())}static get isOffscreenCanvasSupported(){return _t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?_t(this,"platform",{isWin:!1,isMac:!1}):_t(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yt,Zt;return _t(this,"isCSSRoundSupported",(Zt=(Yt=globalThis.CSS)==null?void 0:Yt.supports)==null?void 0:Zt.call(Yt,"width: round(1.5px, 1px)"))}}i.FeatureTest=vt;const It=[...Array(256).keys()].map(fn=>fn.toString(16).padStart(2,"0"));class zt{static makeHexColor(Yt,Zt,Sn){return`#${It[Yt]}${It[Zt]}${It[Sn]}`}static scaleMinMax(Yt,Zt){let Sn;Yt[0]?(Yt[0]<0&&(Sn=Zt[0],Zt[0]=Zt[1],Zt[1]=Sn),Zt[0]*=Yt[0],Zt[1]*=Yt[0],Yt[3]<0&&(Sn=Zt[2],Zt[2]=Zt[3],Zt[3]=Sn),Zt[2]*=Yt[3],Zt[3]*=Yt[3]):(Sn=Zt[0],Zt[0]=Zt[2],Zt[2]=Sn,Sn=Zt[1],Zt[1]=Zt[3],Zt[3]=Sn,Yt[1]<0&&(Sn=Zt[2],Zt[2]=Zt[3],Zt[3]=Sn),Zt[2]*=Yt[1],Zt[3]*=Yt[1],Yt[2]<0&&(Sn=Zt[0],Zt[0]=Zt[1],Zt[1]=Sn),Zt[0]*=Yt[2],Zt[1]*=Yt[2]),Zt[0]+=Yt[4],Zt[1]+=Yt[4],Zt[2]+=Yt[5],Zt[3]+=Yt[5]}static transform(Yt,Zt){return[Yt[0]*Zt[0]+Yt[2]*Zt[1],Yt[1]*Zt[0]+Yt[3]*Zt[1],Yt[0]*Zt[2]+Yt[2]*Zt[3],Yt[1]*Zt[2]+Yt[3]*Zt[3],Yt[0]*Zt[4]+Yt[2]*Zt[5]+Yt[4],Yt[1]*Zt[4]+Yt[3]*Zt[5]+Yt[5]]}static applyTransform(Yt,Zt){const Sn=Yt[0]*Zt[0]+Yt[1]*Zt[2]+Zt[4],On=Yt[0]*Zt[1]+Yt[1]*Zt[3]+Zt[5];return[Sn,On]}static applyInverseTransform(Yt,Zt){const Sn=Zt[0]*Zt[3]-Zt[1]*Zt[2],On=(Yt[0]*Zt[3]-Yt[1]*Zt[2]+Zt[2]*Zt[5]-Zt[4]*Zt[3])/Sn,Dn=(-Yt[0]*Zt[1]+Yt[1]*Zt[0]+Zt[4]*Zt[1]-Zt[5]*Zt[0])/Sn;return[On,Dn]}static getAxialAlignedBoundingBox(Yt,Zt){const Sn=this.applyTransform(Yt,Zt),On=this.applyTransform(Yt.slice(2,4),Zt),Dn=this.applyTransform([Yt[0],Yt[3]],Zt),Bt=this.applyTransform([Yt[2],Yt[1]],Zt);return[Math.min(Sn[0],On[0],Dn[0],Bt[0]),Math.min(Sn[1],On[1],Dn[1],Bt[1]),Math.max(Sn[0],On[0],Dn[0],Bt[0]),Math.max(Sn[1],On[1],Dn[1],Bt[1])]}static inverseTransform(Yt){const Zt=Yt[0]*Yt[3]-Yt[1]*Yt[2];return[Yt[3]/Zt,-Yt[1]/Zt,-Yt[2]/Zt,Yt[0]/Zt,(Yt[2]*Yt[5]-Yt[4]*Yt[3])/Zt,(Yt[4]*Yt[1]-Yt[5]*Yt[0])/Zt]}static singularValueDecompose2dScale(Yt){const Zt=[Yt[0],Yt[2],Yt[1],Yt[3]],Sn=Yt[0]*Zt[0]+Yt[1]*Zt[2],On=Yt[0]*Zt[1]+Yt[1]*Zt[3],Dn=Yt[2]*Zt[0]+Yt[3]*Zt[2],Bt=Yt[2]*Zt[1]+Yt[3]*Zt[3],un=(Sn+Bt)/2,bn=Math.sqrt((Sn+Bt)**2-4*(Sn*Bt-Dn*On))/2,Rn=un+bn||1,Pn=un-bn||1;return[Math.sqrt(Rn),Math.sqrt(Pn)]}static normalizeRect(Yt){const Zt=Yt.slice(0);return Yt[0]>Yt[2]&&(Zt[0]=Yt[2],Zt[2]=Yt[0]),Yt[1]>Yt[3]&&(Zt[1]=Yt[3],Zt[3]=Yt[1]),Zt}static intersect(Yt,Zt){const Sn=Math.max(Math.min(Yt[0],Yt[2]),Math.min(Zt[0],Zt[2])),On=Math.min(Math.max(Yt[0],Yt[2]),Math.max(Zt[0],Zt[2]));if(Sn>On)return null;const Dn=Math.max(Math.min(Yt[1],Yt[3]),Math.min(Zt[1],Zt[3])),Bt=Math.min(Math.max(Yt[1],Yt[3]),Math.max(Zt[1],Zt[3]));return Dn>Bt?null:[Sn,Dn,On,Bt]}static bezierBoundingBox(Yt,Zt,Sn,On,Dn,Bt,un,bn){const Rn=[],Pn=[[],[]];let _n,Ot,Nt,Ht,nn,on,mn,xn;for(let Ln=0;Ln<2;++Ln){if(Ln===0?(Ot=6*Yt-12*Sn+6*Dn,_n=-3*Yt+9*Sn-9*Dn+3*un,Nt=3*Sn-3*Yt):(Ot=6*Zt-12*On+6*Bt,_n=-3*Zt+9*On-9*Bt+3*bn,Nt=3*On-3*Zt),Math.abs(_n)<1e-12){if(Math.abs(Ot)<1e-12)continue;Ht=-Nt/Ot,0<Ht&&Ht<1&&Rn.push(Ht);continue}mn=Ot*Ot-4*Nt*_n,xn=Math.sqrt(mn),!(mn<0)&&(nn=(-Ot+xn)/(2*_n),0<nn&&nn<1&&Rn.push(nn),on=(-Ot-xn)/(2*_n),0<on&&on<1&&Rn.push(on))}let Tn=Rn.length,kn;const En=Tn;for(;Tn--;)Ht=Rn[Tn],kn=1-Ht,Pn[0][Tn]=kn*kn*kn*Yt+3*kn*kn*Ht*Sn+3*kn*Ht*Ht*Dn+Ht*Ht*Ht*un,Pn[1][Tn]=kn*kn*kn*Zt+3*kn*kn*Ht*On+3*kn*Ht*Ht*Bt+Ht*Ht*Ht*bn;return Pn[0][En]=Yt,Pn[1][En]=Zt,Pn[0][En+1]=un,Pn[1][En+1]=bn,Pn[0].length=Pn[1].length=En+2,[Math.min(...Pn[0]),Math.min(...Pn[1]),Math.max(...Pn[0]),Math.max(...Pn[1])]}}i.Util=zt;const Wt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function sn(fn){if(fn[0]>=""){let Zt;if(fn[0]===""&&fn[1]===""?Zt="utf-16be":fn[0]===""&&fn[1]===""?Zt="utf-16le":fn[0]===""&&fn[1]===""&&fn[2]===""&&(Zt="utf-8"),Zt)try{const Sn=new TextDecoder(Zt,{fatal:!0}),On=rn(fn);return Sn.decode(On)}catch(Sn){At(`stringToPDFString: "${Sn}".`)}}const Yt=[];for(let Zt=0,Sn=fn.length;Zt<Sn;Zt++){const On=Wt[fn.charCodeAt(Zt)];Yt.push(On?String.fromCharCode(On):fn.charAt(Zt))}return Yt.join("")}function dn(fn){return decodeURIComponent(escape(fn))}function pn(fn){return unescape(encodeURIComponent(fn))}function Kt(fn){return typeof fn=="object"&&(fn==null?void 0:fn.byteLength)!==void 0}function Dt(fn,Yt){if(fn.length!==Yt.length)return!1;for(let Zt=0,Sn=fn.length;Zt<Sn;Zt++)if(fn[Zt]!==Yt[Zt])return!1;return!0}function $t(fn=new Date){return[fn.getUTCFullYear().toString(),(fn.getUTCMonth()+1).toString().padStart(2,"0"),fn.getUTCDate().toString().padStart(2,"0"),fn.getUTCHours().toString().padStart(2,"0"),fn.getUTCMinutes().toString().padStart(2,"0"),fn.getUTCSeconds().toString().padStart(2,"0")].join("")}class hn{constructor(){Jt(this,In,!1);this.promise=new Promise((Yt,Zt)=>{this.resolve=Sn=>{tn(this,In,!0),Yt(Sn)},this.reject=Sn=>{tn(this,In,!0),Zt(Sn)}})}get settled(){return pt(this,In)}}In=new WeakMap,i.PromiseCapability=hn;let gn=null,vn=null;function yn(fn){return gn||(gn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vn=new Map([["","t"]])),fn.replaceAll(gn,(Yt,Zt,Sn)=>Zt?Zt.normalize("NFKC"):vn.get(Sn))}function wn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const fn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(fn);else for(let Yt=0;Yt<32;Yt++)fn[Yt]=Math.floor(Math.random()*255);return Qt(fn)}const Nn="pdfjs_internal_id_";i.AnnotationPrefix=Nn},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var e,s,o,a,Xn,lr,g,b,_,j,$,_e,et,nt,it,cr,tt,rt,_r,ut,lt;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(dt){if(typeof dt=="string"||dt instanceof URL?dt={url:dt}:(0,_util.isArrayBuffer)(dt)&&(dt={data:dt}),typeof dt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!dt.url&&!dt.data&&!dt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ht=new PDFDocumentLoadingTask,{docId:mt}=ht,xt=dt.url?getUrlProp(dt.url):null,ft=dt.data?getDataProp(dt.data):null,bt=dt.httpHeaders||null,wt=dt.withCredentials===!0,Ct=dt.password??null,Tt=dt.range instanceof PDFDataRangeTransport?dt.range:null,St=Number.isInteger(dt.rangeChunkSize)&&dt.rangeChunkSize>0?dt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let At=dt.worker instanceof PDFWorker?dt.worker:null;const Rt=dt.verbosity,Et=typeof dt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(dt.docBaseUrl)?dt.docBaseUrl:null,gt=typeof dt.cMapUrl=="string"?dt.cMapUrl:null,Mt=dt.cMapPacked!==!1,_t=dt.CMapReaderFactory||DefaultCMapReaderFactory,at=typeof dt.standardFontDataUrl=="string"?dt.standardFontDataUrl:null,yt=dt.StandardFontDataFactory||DefaultStandardFontDataFactory,kt=dt.stopAtErrors!==!0,Pt=Number.isInteger(dt.maxImageSize)&&dt.maxImageSize>-1?dt.maxImageSize:-1,jt=dt.isEvalSupported!==!1,Lt=typeof dt.isOffscreenCanvasSupported=="boolean"?dt.isOffscreenCanvasSupported:!_util.isNodeJS,Ut=Number.isInteger(dt.canvasMaxAreaInBytes)?dt.canvasMaxAreaInBytes:-1,Xt=typeof dt.disableFontFace=="boolean"?dt.disableFontFace:_util.isNodeJS,Qt=dt.fontExtraProperties===!0,rn=dt.enableXfa===!0,ln=dt.ownerDocument||globalThis.document,an=dt.disableRange===!0,qt=dt.disableStream===!0,Ft=dt.disableAutoFetch===!0,Vt=dt.pdfBug===!0,vt=Tt?Tt.length:dt.length??NaN,It=typeof dt.useSystemFonts=="boolean"?dt.useSystemFonts:!_util.isNodeJS&&!Xt,zt=typeof dt.useWorkerFetch=="boolean"?dt.useWorkerFetch:_t===_display_utils.DOMCMapReaderFactory&&yt===_display_utils.DOMStandardFontDataFactory&&gt&&at&&(0,_display_utils.isValidFetchUrl)(gt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(at,document.baseURI),Wt=dt.canvasFactory||new DefaultCanvasFactory({ownerDocument:ln}),sn=dt.filterFactory||new DefaultFilterFactory({docId:mt,ownerDocument:ln}),dn=null;(0,_util.setVerbosityLevel)(Rt);const pn={canvasFactory:Wt,filterFactory:sn};if(zt||(pn.cMapReaderFactory=new _t({baseUrl:gt,isCompressed:Mt}),pn.standardFontDataFactory=new yt({baseUrl:at})),!At){const $t={verbosity:Rt,port:_worker_options.GlobalWorkerOptions.workerPort};At=$t.port?PDFWorker.fromPort($t):new PDFWorker($t),ht._worker=At}const Kt={docId:mt,apiVersion:"3.11.174",data:ft,password:Ct,disableAutoFetch:Ft,rangeChunkSize:St,length:vt,docBaseUrl:Et,enableXfa:rn,evaluatorOptions:{maxImageSize:Pt,disableFontFace:Xt,ignoreErrors:kt,isEvalSupported:jt,isOffscreenCanvasSupported:Lt,canvasMaxAreaInBytes:Ut,fontExtraProperties:Qt,useSystemFonts:It,cMapUrl:zt?gt:null,standardFontDataUrl:zt?at:null}},Dt={ignoreErrors:kt,isEvalSupported:jt,disableFontFace:Xt,fontExtraProperties:Qt,enableXfa:rn,ownerDocument:ln,disableAutoFetch:Ft,pdfBug:Vt,styleElement:dn};return At.promise.then(function(){if(ht.destroyed)throw new Error("Loading aborted");const $t=_fetchDocument(At,Kt),hn=new Promise(function(gn){let vn;Tt?vn=new _transport_stream.PDFDataTransportStream({length:vt,initialData:Tt.initialData,progressiveDone:Tt.progressiveDone,contentDispositionFilename:Tt.contentDispositionFilename,disableRange:an,disableStream:qt},Tt):ft||(vn=(wn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(wn):(0,_display_utils.isValidFetchUrl)(wn.url)?new _displayFetch_stream.PDFFetchStream(wn):new _displayNetwork.PDFNetworkStream(wn))({url:xt,length:vt,httpHeaders:bt,withCredentials:wt,rangeChunkSize:St,disableRange:an,disableStream:qt})),gn(vn)});return Promise.all([$t,hn]).then(function([gn,vn]){if(ht.destroyed)throw new Error("Loading aborted");const yn=new _message_handler.MessageHandler(mt,gn,At.port),wn=new WorkerTransport(yn,ht,vn,Dt,pn);ht._transport=wn,yn.send("Ready",null)})}).catch(ht._capability.reject),ht}async function _fetchDocument(dt,ht){if(dt.destroyed)throw new Error("Worker was destroyed");const mt=await dt.messageHandler.sendWithPromise("GetDocRequest",ht,ht.data?[ht.data.buffer]:null);if(dt.destroyed)throw new Error("Worker was destroyed");return mt}function getUrlProp(dt){if(dt instanceof URL)return dt.href;try{return new URL(dt,window.location).href}catch{if(_util.isNodeJS&&typeof dt=="string")return dt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(dt){if(_util.isNodeJS&&typeof Buffer<"u"&&dt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(dt instanceof Uint8Array&&dt.byteLength===dt.buffer.byteLength)return dt;if(typeof dt=="string")return(0,_util.stringToBytes)(dt);if(typeof dt=="object"&&!isNaN(dt==null?void 0:dt.length)||(0,_util.isArrayBuffer)(dt))return new Uint8Array(dt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${er(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ht,mt,xt;this.destroyed=!0;try{(ht=this._worker)!=null&&ht.port&&(this._worker._pendingDestroy=!0),await((mt=this._transport)==null?void 0:mt.destroy())}catch(ft){throw(xt=this._worker)!=null&&xt.port&&delete this._worker._pendingDestroy,ft}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Jt(i,e,0);let PDFDocumentLoadingTask=i;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ht,mt,xt=!1,ft=null){this.length=ht,this.initialData=mt,this.progressiveDone=xt,this.contentDispositionFilename=ft,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ht){this._rangeListeners.push(ht)}addProgressListener(ht){this._progressListeners.push(ht)}addProgressiveReadListener(ht){this._progressiveReadListeners.push(ht)}addProgressiveDoneListener(ht){this._progressiveDoneListeners.push(ht)}onDataRange(ht,mt){for(const xt of this._rangeListeners)xt(ht,mt)}onDataProgress(ht,mt){this._readyCapability.promise.then(()=>{for(const xt of this._progressListeners)xt(ht,mt)})}onDataProgressiveRead(ht){this._readyCapability.promise.then(()=>{for(const mt of this._progressiveReadListeners)mt(ht)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveDoneListeners)ht()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ht,mt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ht,mt){this._pdfInfo=ht,this._transport=mt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(xt=>{if(!xt)return xt;const ft=[];for(const bt in xt)ft.push(...xt[bt]);return ft}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ht){return this._transport.getPage(ht)}getPageIndex(ht){return this._transport.getPageIndex(ht)}getDestinations(){return this._transport.getDestinations()}getDestination(ht){return this._transport.getDestination(ht)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ht=!1){return this._transport.startCleanup(ht||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ht,mt,xt,ft=!1){Jt(this,a);Jt(this,s,null);Jt(this,o,!1);this._pageIndex=ht,this._pageInfo=mt,this._transport=xt,this._stats=ft?new _display_utils.StatTimer:null,this._pdfBug=ft,this.commonObjs=xt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ht,rotation:mt=this.rotate,offsetX:xt=0,offsetY:ft=0,dontFlip:bt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ht,rotation:mt,offsetX:xt,offsetY:ft,dontFlip:bt})}getAnnotations({intent:ht="display"}={}){const mt=this._transport.getRenderingIntent(ht);return this._transport.getAnnotations(this._pageIndex,mt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ht;return((ht=this._transport._htmlForXfa)==null?void 0:ht.children[this._pageIndex])||null}render({canvasContext:ht,viewport:mt,intent:xt="display",annotationMode:ft=_util.AnnotationMode.ENABLE,transform:bt=null,background:wt=null,optionalContentConfigPromise:Ct=null,annotationCanvasMap:Tt=null,pageColors:St=null,printAnnotationStorage:At=null}){var yt,kt;(yt=this._stats)==null||yt.time("Overall");const Rt=this._transport.getRenderingIntent(xt,ft,At);tn(this,o,!1),Gt(this,a,lr).call(this),Ct||(Ct=this._transport.getOptionalContentConfig());let Et=this._intentStates.get(Rt.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(Rt.cacheKey,Et)),Et.streamReaderCancelTimeout&&(clearTimeout(Et.streamReaderCancelTimeout),Et.streamReaderCancelTimeout=null);const gt=!!(Rt.renderingIntent&_util.RenderingIntentFlag.PRINT);Et.displayReadyCapability||(Et.displayReadyCapability=new _util.PromiseCapability,Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(kt=this._stats)==null||kt.time("Page Request"),this._pumpOperatorList(Rt));const Mt=Pt=>{var jt,Lt;Et.renderTasks.delete(_t),(this._maybeCleanupAfterRender||gt)&&tn(this,o,!0),Gt(this,a,Xn).call(this,!gt),Pt?(_t.capability.reject(Pt),this._abortOperatorList({intentState:Et,reason:Pt instanceof Error?Pt:new Error(Pt)})):_t.capability.resolve(),(jt=this._stats)==null||jt.timeEnd("Rendering"),(Lt=this._stats)==null||Lt.timeEnd("Overall")},_t=new InternalRenderTask({callback:Mt,params:{canvasContext:ht,viewport:mt,transform:bt,background:wt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Tt,operatorList:Et.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!gt,pdfBug:this._pdfBug,pageColors:St});(Et.renderTasks||(Et.renderTasks=new Set)).add(_t);const at=_t.task;return Promise.all([Et.displayReadyCapability.promise,Ct]).then(([Pt,jt])=>{var Lt;if(this.destroyed){Mt();return}(Lt=this._stats)==null||Lt.time("Rendering"),_t.initializeGraphics({transparency:Pt,optionalContentConfig:jt}),_t.operatorListChanged()}).catch(Mt),at}getOperatorList({intent:ht="display",annotationMode:mt=_util.AnnotationMode.ENABLE,printAnnotationStorage:xt=null}={}){var Tt;function ft(){wt.operatorList.lastChunk&&(wt.opListReadCapability.resolve(wt.operatorList),wt.renderTasks.delete(Ct))}const bt=this._transport.getRenderingIntent(ht,mt,xt,!0);let wt=this._intentStates.get(bt.cacheKey);wt||(wt=Object.create(null),this._intentStates.set(bt.cacheKey,wt));let Ct;return wt.opListReadCapability||(Ct=Object.create(null),Ct.operatorListChanged=ft,wt.opListReadCapability=new _util.PromiseCapability,(wt.renderTasks||(wt.renderTasks=new Set)).add(Ct),wt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Tt=this._stats)==null||Tt.time("Page Request"),this._pumpOperatorList(bt)),wt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ht=!1,disableNormalization:mt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ht===!0,disableNormalization:mt===!0},{highWaterMark:100,size(ft){return ft.items.length}})}getTextContent(ht={}){if(this._transport._htmlForXfa)return this.getXfa().then(xt=>_xfa_text.XfaText.textContent(xt));const mt=this.streamTextContent(ht);return new Promise(function(xt,ft){function bt(){wt.read().then(function({value:Tt,done:St}){if(St){xt(Ct);return}Object.assign(Ct.styles,Tt.styles),Ct.items.push(...Tt.items),bt()},ft)}const wt=mt.getReader(),Ct={items:[],styles:Object.create(null)};bt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ht=[];for(const mt of this._intentStates.values())if(this._abortOperatorList({intentState:mt,reason:new Error("Page was destroyed."),force:!0}),!mt.opListReadCapability)for(const xt of mt.renderTasks)ht.push(xt.completed),xt.cancel();return this.objs.clear(),tn(this,o,!1),Gt(this,a,lr).call(this),Promise.all(ht)}cleanup(ht=!1){tn(this,o,!0);const mt=Gt(this,a,Xn).call(this,!1);return ht&&mt&&this._stats&&(this._stats=new _display_utils.StatTimer),mt}_startRenderPage(ht,mt){var ft,bt;const xt=this._intentStates.get(mt);xt&&((ft=this._stats)==null||ft.timeEnd("Page Request"),(bt=xt.displayReadyCapability)==null||bt.resolve(ht))}_renderPageChunk(ht,mt){for(let xt=0,ft=ht.length;xt<ft;xt++)mt.operatorList.fnArray.push(ht.fnArray[xt]),mt.operatorList.argsArray.push(ht.argsArray[xt]);mt.operatorList.lastChunk=ht.lastChunk,mt.operatorList.separateAnnots=ht.separateAnnots;for(const xt of mt.renderTasks)xt.operatorListChanged();ht.lastChunk&&Gt(this,a,Xn).call(this,!0)}_pumpOperatorList({renderingIntent:ht,cacheKey:mt,annotationStorageSerializable:xt}){const{map:ft,transfers:bt}=xt,Ct=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ht,cacheKey:mt,annotationStorage:ft},bt).getReader(),Tt=this._intentStates.get(mt);Tt.streamReader=Ct;const St=()=>{Ct.read().then(({value:At,done:Rt})=>{if(Rt){Tt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(At,Tt),St())},At=>{if(Tt.streamReader=null,!this._transport.destroyed){if(Tt.operatorList){Tt.operatorList.lastChunk=!0;for(const Rt of Tt.renderTasks)Rt.operatorListChanged();Gt(this,a,Xn).call(this,!0)}if(Tt.displayReadyCapability)Tt.displayReadyCapability.reject(At);else if(Tt.opListReadCapability)Tt.opListReadCapability.reject(At);else throw At}})};St()}_abortOperatorList({intentState:ht,reason:mt,force:xt=!1}){if(ht.streamReader){if(ht.streamReaderCancelTimeout&&(clearTimeout(ht.streamReaderCancelTimeout),ht.streamReaderCancelTimeout=null),!xt){if(ht.renderTasks.size>0)return;if(mt instanceof _display_utils.RenderingCancelledException){let ft=RENDERING_CANCELLED_TIMEOUT;mt.extraDelay>0&&mt.extraDelay<1e3&&(ft+=mt.extraDelay),ht.streamReaderCancelTimeout=setTimeout(()=>{ht.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ht,reason:mt,force:!0})},ft);return}}if(ht.streamReader.cancel(new _util.AbortException(mt.message)).catch(()=>{}),ht.streamReader=null,!this._transport.destroyed){for(const[ft,bt]of this._intentStates)if(bt===ht){this._intentStates.delete(ft);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,a=new WeakSet,Xn=function(ht=!1){if(Gt(this,a,lr).call(this),!pt(this,o)||this.destroyed)return!1;if(ht)return tn(this,s,setTimeout(()=>{tn(this,s,null),Gt(this,a,Xn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:mt,operatorList:xt}of this._intentStates.values())if(mt.size>0||!xt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),tn(this,o,!1),!0},lr=function(){pt(this,s)&&(clearTimeout(pt(this,s)),tn(this,s,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Jt(this,g,new Set);Jt(this,b,Promise.resolve())}postMessage(ht,mt){const xt={data:structuredClone(ht,mt?{transfer:mt}:null)};pt(this,b).then(()=>{for(const ft of pt(this,g))ft.call(this,xt)})}addEventListener(ht,mt){pt(this,g).add(mt)}removeEventListener(ht,mt){pt(this,g).delete(mt)}terminate(){pt(this,g).clear()}}g=new WeakMap,b=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const dt=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;dt&&(PDFWorkerUtil.fallbackWorkerSrc=dt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(dt,ht){let mt;try{if(mt=new URL(dt),!mt.origin||mt.origin==="null")return!1}catch{return!1}const xt=new URL(ht,mt);return mt.origin===xt.origin},PDFWorkerUtil.createCDNWrapper=function(dt){const ht=`importScripts("${dt}");`;return URL.createObjectURL(new Blob([ht]))}}const _PDFWorker=class _PDFWorker{constructor({name:dt=null,port:ht=null,verbosity:mt=(0,_util.getVerbosityLevel)()}={}){var xt;if(this.name=dt,this.destroyed=!1,this.verbosity=mt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((xt=pt(_PDFWorker,j))!=null&&xt.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(pt(_PDFWorker,j)||tn(_PDFWorker,j,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(dt){this._port=dt,this._messageHandler=new _message_handler.MessageHandler("main","worker",dt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:dt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,dt)||(dt=PDFWorkerUtil.createCDNWrapper(new URL(dt,window.location).href));const ht=new Worker(dt),mt=new _message_handler.MessageHandler("main","worker",ht),xt=()=>{ht.removeEventListener("error",ft),mt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ft=()=>{this._webWorker||xt()};ht.addEventListener("error",ft),mt.on("test",wt=>{if(ht.removeEventListener("error",ft),this.destroyed){xt();return}wt?(this._messageHandler=mt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),mt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),mt.destroy(),ht.terminate())}),mt.on("ready",wt=>{if(ht.removeEventListener("error",ft),this.destroyed){xt();return}try{bt()}catch{this._setupFakeWorker()}});const bt=()=>{const wt=new Uint8Array;mt.send("test",wt,[wt.buffer])};bt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(dt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const mt=`fake${PDFWorkerUtil.fakeWorkerId++}`,xt=new _message_handler.MessageHandler(mt+"_worker",mt,ht);dt.setup(xt,ht);const ft=new _message_handler.MessageHandler(mt,mt+"_worker",ht);this._messageHandler=ft,this._readyCapability.resolve(),ft.send("configure",{verbosity:this.verbosity})}).catch(dt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${dt.message}".`))})}destroy(){var dt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(dt=pt(_PDFWorker,j))==null||dt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(dt){var mt;if(!(dt!=null&&dt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(mt=pt(this,j))==null?void 0:mt.get(dt.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new _PDFWorker(dt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var dt;try{return((dt=globalThis.pdfjsWorker)==null?void 0:dt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};j=new WeakMap,Jt(_PDFWorker,j);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(ht,mt,xt,ft,bt){Jt(this,it);Jt(this,$,new Map);Jt(this,_e,new Map);Jt(this,et,new Map);Jt(this,nt,null);this.messageHandler=ht,this.loadingTask=mt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ft.ownerDocument,styleElement:ft.styleElement}),this._params=ft,this.canvasFactory=bt.canvasFactory,this.filterFactory=bt.filterFactory,this.cMapReaderFactory=bt.cMapReaderFactory,this.standardFontDataFactory=bt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=xt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ht,mt=_util.AnnotationMode.ENABLE,xt=null,ft=!1){let bt=_util.RenderingIntentFlag.DISPLAY,wt=_annotation_storage.SerializableEmpty;switch(ht){case"any":bt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":bt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ht}`)}switch(mt){case _util.AnnotationMode.DISABLE:bt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:bt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:bt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,wt=(bt&_util.RenderingIntentFlag.PRINT&&xt instanceof _annotation_storage.PrintAnnotationStorage?xt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${mt}`)}return ft&&(bt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:bt,cacheKey:`${bt}_${wt.hash}`,annotationStorageSerializable:wt}}destroy(){var xt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(xt=pt(this,nt))==null||xt.reject(new Error("Worker was destroyed during onPassword callback"));const ht=[];for(const ft of pt(this,_e).values())ht.push(ft._destroy());pt(this,_e).clear(),pt(this,et).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const mt=this.messageHandler.sendWithPromise("Terminate",null);return ht.push(mt),Promise.all(ht).then(()=>{var ft;this.commonObjs.clear(),this.fontLoader.clear(),pt(this,$).clear(),this.filterFactory.destroy(),(ft=this._networkStream)==null||ft.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ht,loadingTask:mt}=this;ht.on("GetReader",(xt,ft)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=bt=>{this._lastProgress={loaded:bt.loaded,total:bt.total}},ft.onPull=()=>{this._fullReader.read().then(function({value:bt,done:wt}){if(wt){ft.close();return}(0,_util.assert)(bt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ft.enqueue(new Uint8Array(bt),1,[bt])}).catch(bt=>{ft.error(bt)})},ft.onCancel=bt=>{this._fullReader.cancel(bt),ft.ready.catch(wt=>{if(!this.destroyed)throw wt})}}),ht.on("ReaderHeadersReady",xt=>{const ft=new _util.PromiseCapability,bt=this._fullReader;return bt.headersReady.then(()=>{var wt;(!bt.isStreamingSupported||!bt.isRangeSupported)&&(this._lastProgress&&((wt=mt.onProgress)==null||wt.call(mt,this._lastProgress)),bt.onProgress=Ct=>{var Tt;(Tt=mt.onProgress)==null||Tt.call(mt,{loaded:Ct.loaded,total:Ct.total})}),ft.resolve({isStreamingSupported:bt.isStreamingSupported,isRangeSupported:bt.isRangeSupported,contentLength:bt.contentLength})},ft.reject),ft.promise}),ht.on("GetRangeReader",(xt,ft)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const bt=this._networkStream.getRangeReader(xt.begin,xt.end);if(!bt){ft.close();return}ft.onPull=()=>{bt.read().then(function({value:wt,done:Ct}){if(Ct){ft.close();return}(0,_util.assert)(wt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ft.enqueue(new Uint8Array(wt),1,[wt])}).catch(wt=>{ft.error(wt)})},ft.onCancel=wt=>{bt.cancel(wt),ft.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),ht.on("GetDoc",({pdfInfo:xt})=>{this._numPages=xt.numPages,this._htmlForXfa=xt.htmlForXfa,delete xt.htmlForXfa,mt._capability.resolve(new PDFDocumentProxy(xt,this))}),ht.on("DocException",function(xt){let ft;switch(xt.name){case"PasswordException":ft=new _util.PasswordException(xt.message,xt.code);break;case"InvalidPDFException":ft=new _util.InvalidPDFException(xt.message);break;case"MissingPDFException":ft=new _util.MissingPDFException(xt.message);break;case"UnexpectedResponseException":ft=new _util.UnexpectedResponseException(xt.message,xt.status);break;case"UnknownErrorException":ft=new _util.UnknownErrorException(xt.message,xt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}mt._capability.reject(ft)}),ht.on("PasswordRequest",xt=>{if(tn(this,nt,new _util.PromiseCapability),mt.onPassword){const ft=bt=>{bt instanceof Error?pt(this,nt).reject(bt):pt(this,nt).resolve({password:bt})};try{mt.onPassword(ft,xt.code)}catch(bt){pt(this,nt).reject(bt)}}else pt(this,nt).reject(new _util.PasswordException(xt.message,xt.code));return pt(this,nt).promise}),ht.on("DataLoaded",xt=>{var ft;(ft=mt.onProgress)==null||ft.call(mt,{loaded:xt.length,total:xt.length}),this.downloadInfoCapability.resolve(xt)}),ht.on("StartRenderPage",xt=>{if(this.destroyed)return;pt(this,_e).get(xt.pageIndex)._startRenderPage(xt.transparency,xt.cacheKey)}),ht.on("commonobj",([xt,ft,bt])=>{var wt;if(!this.destroyed&&!this.commonObjs.has(xt))switch(ft){case"Font":const Ct=this._params;if("error"in bt){const At=bt.error;(0,_util.warn)(`Error during font loading: ${At}`),this.commonObjs.resolve(xt,At);break}const Tt=Ct.pdfBug&&((wt=globalThis.FontInspector)!=null&&wt.enabled)?(At,Rt)=>globalThis.FontInspector.fontAdded(At,Rt):null,St=new _font_loader.FontFaceObject(bt,{isEvalSupported:Ct.isEvalSupported,disableFontFace:Ct.disableFontFace,ignoreErrors:Ct.ignoreErrors,inspectFont:Tt});this.fontLoader.bind(St).catch(At=>ht.sendWithPromise("FontFallback",{id:xt})).finally(()=>{!Ct.fontExtraProperties&&St.data&&(St.data=null),this.commonObjs.resolve(xt,St)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(xt,bt);break;default:throw new Error(`Got unknown common object type ${ft}`)}}),ht.on("obj",([xt,ft,bt,wt])=>{var Tt;if(this.destroyed)return;const Ct=pt(this,_e).get(ft);if(!Ct.objs.has(xt))switch(bt){case"Image":if(Ct.objs.resolve(xt,wt),wt){let St;if(wt.bitmap){const{width:At,height:Rt}=wt;St=At*Rt*4}else St=((Tt=wt.data)==null?void 0:Tt.length)||0;St>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ct._maybeCleanupAfterRender=!0)}break;case"Pattern":Ct.objs.resolve(xt,wt);break;default:throw new Error(`Got unknown object type ${bt}`)}}),ht.on("DocProgress",xt=>{var ft;this.destroyed||(ft=mt.onProgress)==null||ft.call(mt,{loaded:xt.loaded,total:xt.total})}),ht.on("FetchBuiltInCMap",xt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(xt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ht.on("FetchStandardFontData",xt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(xt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var xt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ht,transfers:mt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ht,filename:((xt=this._fullReader)==null?void 0:xt.filename)??null},mt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ht){if(!Number.isInteger(ht)||ht<=0||ht>this._numPages)return Promise.reject(new Error("Invalid page request."));const mt=ht-1,xt=pt(this,et).get(mt);if(xt)return xt;const ft=this.messageHandler.sendWithPromise("GetPage",{pageIndex:mt}).then(bt=>{if(this.destroyed)throw new Error("Transport destroyed");const wt=new PDFPageProxy(mt,bt,this,this._params.pdfBug);return pt(this,_e).set(mt,wt),wt});return pt(this,et).set(mt,ft),ft}getPageIndex(ht){return typeof ht!="object"||ht===null||!Number.isInteger(ht.num)||ht.num<0||!Number.isInteger(ht.gen)||ht.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ht.num,gen:ht.gen})}getAnnotations(ht,mt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ht,intent:mt})}getFieldObjects(){return Gt(this,it,cr).call(this,"GetFieldObjects")}hasJSActions(){return Gt(this,it,cr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ht){return typeof ht!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ht})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Gt(this,it,cr).call(this,"GetDocJSActions")}getPageJSActions(ht){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ht})}getStructTree(ht){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ht})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ht=>new _optional_content_config.OptionalContentConfig(ht))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ht="GetMetadata",mt=pt(this,$).get(ht);if(mt)return mt;const xt=this.messageHandler.sendWithPromise(ht,null).then(ft=>{var bt,wt;return{info:ft[0],metadata:ft[1]?new _metadata.Metadata(ft[1]):null,contentDispositionFilename:((bt=this._fullReader)==null?void 0:bt.filename)??null,contentLength:((wt=this._fullReader)==null?void 0:wt.contentLength)??null}});return pt(this,$).set(ht,xt),xt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ht=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const mt of pt(this,_e).values())if(!mt.cleanup())throw new Error(`startCleanup: Page ${mt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ht||this.fontLoader.clear(),pt(this,$).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ht,enableXfa:mt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ht,enableXfa:mt})}}$=new WeakMap,_e=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakSet,cr=function(ht,mt=null){const xt=pt(this,$).get(ht);if(xt)return xt;const ft=this.messageHandler.sendWithPromise(ht,mt);return pt(this,$).set(ht,ft),ft};class PDFObjects{constructor(){Jt(this,rt);Jt(this,tt,Object.create(null))}get(ht,mt=null){if(mt){const ft=Gt(this,rt,_r).call(this,ht);return ft.capability.promise.then(()=>mt(ft.data)),null}const xt=pt(this,tt)[ht];if(!(xt!=null&&xt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ht}.`);return xt.data}has(ht){const mt=pt(this,tt)[ht];return(mt==null?void 0:mt.capability.settled)||!1}resolve(ht,mt=null){const xt=Gt(this,rt,_r).call(this,ht);xt.data=mt,xt.capability.resolve()}clear(){var ht;for(const mt in pt(this,tt)){const{data:xt}=pt(this,tt)[mt];(ht=xt==null?void 0:xt.bitmap)==null||ht.close()}tn(this,tt,Object.create(null))}}tt=new WeakMap,rt=new WeakSet,_r=function(ht){var mt;return(mt=pt(this,tt))[ht]||(mt[ht]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ht){Jt(this,ut,null);tn(this,ut,ht),this.onContinue=null}get promise(){return pt(this,ut).capability.promise}cancel(ht=0){pt(this,ut).cancel(null,ht)}get separateAnnots(){const{separateAnnots:ht}=pt(this,ut).operatorList;if(!ht)return!1;const{annotationCanvasMap:mt}=pt(this,ut);return ht.form||ht.canvas&&(mt==null?void 0:mt.size)>0}}ut=new WeakMap,exports$1.RenderTask=RenderTask;const ct=class ct{constructor({callback:ht,params:mt,objs:xt,commonObjs:ft,annotationCanvasMap:bt,operatorList:wt,pageIndex:Ct,canvasFactory:Tt,filterFactory:St,useRequestAnimationFrame:At=!1,pdfBug:Rt=!1,pageColors:Et=null}){this.callback=ht,this.params=mt,this.objs=xt,this.commonObjs=ft,this.annotationCanvasMap=bt,this.operatorListIdx=null,this.operatorList=wt,this._pageIndex=Ct,this.canvasFactory=Tt,this.filterFactory=St,this._pdfBug=Rt,this.pageColors=Et,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=At===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=mt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ht=!1,optionalContentConfig:mt}){var Ct,Tt;if(this.cancelled)return;if(this._canvas){if(pt(ct,lt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pt(ct,lt).add(this._canvas)}this._pdfBug&&((Ct=globalThis.StepperManager)!=null&&Ct.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:xt,viewport:ft,transform:bt,background:wt}=this.params;this.gfx=new _canvas.CanvasGraphics(xt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:mt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:bt,viewport:ft,transparency:ht,background:wt}),this.operatorListIdx=0,this.graphicsReady=!0,(Tt=this.graphicsReadyCallback)==null||Tt.call(this)}cancel(ht=null,mt=0){var xt;this.running=!1,this.cancelled=!0,(xt=this.gfx)==null||xt.endDrawing(),pt(ct,lt).delete(this._canvas),this.callback(ht||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,mt))}operatorListChanged(){var ht;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ht=this.stepper)==null||ht.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),pt(ct,lt).delete(this._canvas),this.callback())))}};lt=new WeakMap,Jt(ct,lt,new WeakSet);let InternalRenderTask=ct;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},(e,i,s)=>{var _,j,$,os,et;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),a=s(4),d=s(8);const h=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=h;class g{constructor(){Jt(this,$);Jt(this,_,!1);Jt(this,j,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(it,st){const tt=pt(this,j).get(it);return tt===void 0?st:Object.assign(st,tt)}getRawValue(it){return pt(this,j).get(it)}remove(it){if(pt(this,j).delete(it),pt(this,j).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of pt(this,j).values())if(st instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(it,st){const tt=pt(this,j).get(it);let rt=!1;if(tt!==void 0)for(const[ot,ut]of Object.entries(st))tt[ot]!==ut&&(rt=!0,tt[ot]=ut);else rt=!0,pt(this,j).set(it,st);rt&&Gt(this,$,os).call(this),st instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(it){return pt(this,j).has(it)}getAll(){return pt(this,j).size>0?(0,o.objectFromMap)(pt(this,j)):null}setAll(it){for(const[st,tt]of Object.entries(it))this.setValue(st,tt)}get size(){return pt(this,j).size}resetModified(){pt(this,_)&&(tn(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(pt(this,j).size===0)return h;const it=new Map,st=new d.MurmurHash3_64,tt=[],rt=Object.create(null);let ot=!1;for(const[ut,lt]of pt(this,j)){const ct=lt instanceof a.AnnotationEditor?lt.serialize(!1,rt):lt;ct&&(it.set(ut,ct),st.update(`${ut}:${JSON.stringify(ct)}`),ot||(ot=!!ct.bitmap))}if(ot)for(const ut of it.values())ut.bitmap&&tt.push(ut.bitmap);return it.size>0?{map:it,hash:st.hexdigest(),transfers:tt}:h}}_=new WeakMap,j=new WeakMap,$=new WeakSet,os=function(){pt(this,_)||(tn(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=g;class b extends g{constructor(st){super();Jt(this,et);const{map:tt,hash:rt,transfers:ot}=st.serializable,ut=structuredClone(tt,ot?{transfer:ot}:null);tn(this,et,{map:ut,hash:rt,transfers:ot})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return pt(this,et)}}et=new WeakMap,i.PrintAnnotationStorage=b},(e,i,s)=>{var b,_,j,$,_e,et,nt,it,st,tt,rt,ot,ut,lt,ct,kr,Ar,mt,Rr,Tr,as,ls,cs,Cr,us;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(5),a=s(1),d=s(6);const At=class At{constructor(Et){Jt(this,ct);Jt(this,b,"");Jt(this,_,!1);Jt(this,j,null);Jt(this,$,null);Jt(this,_e,null);Jt(this,et,!1);Jt(this,nt,null);Jt(this,it,this.focusin.bind(this));Jt(this,st,this.focusout.bind(this));Jt(this,tt,!1);Jt(this,rt,!1);Jt(this,ot,!1);$n(this,"_initialOptions",Object.create(null));$n(this,"_uiManager",null);$n(this,"_focusEventsAllowed",!0);$n(this,"_l10nPromise",null);Jt(this,ut,!1);Jt(this,lt,At._zIndex++);this.constructor===At&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Et.parent,this.id=Et.id,this.width=this.height=null,this.pageIndex=Et.parent.pageIndex,this.name=Et.name,this.div=null,this._uiManager=Et.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Et.isCentered,this._structTreeParentId=null;const{rotation:gt,rawDims:{pageWidth:Mt,pageHeight:_t,pageX:at,pageY:yt}}=this.parent.viewport;this.rotation=gt,this.pageRotation=(360+gt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Mt,_t],this.pageTranslation=[at,yt];const[kt,Pt]=this.parentDimensions;this.x=Et.x/kt,this.y=Et.y/Pt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Et){const gt=new g({id:Et.parent.getNextId(),parent:Et.parent,uiManager:Et._uiManager});gt.annotationElementId=Et.annotationElementId,gt.deleted=!0,gt._uiManager.addToAnnotationStorage(gt)}static initialize(Et,gt=null){if(At._l10nPromise||(At._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(_t=>[_t,Et.get(_t)]))),gt!=null&&gt.strings)for(const _t of gt.strings)At._l10nPromise.set(_t,Et.get(_t));if(At._borderLineWidth!==-1)return;const Mt=getComputedStyle(document.documentElement);At._borderLineWidth=parseFloat(Mt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Et,gt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Et){return!1}static paste(Et,gt){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return pt(this,ut)}set _isDraggable(Et){var gt;tn(this,ut,Et),(gt=this.div)==null||gt.classList.toggle("draggable",Et)}center(){const[Et,gt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gt/(Et*2),this.y+=this.width*Et/(gt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gt/(Et*2),this.y-=this.width*Et/(gt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Et){this._uiManager.addCommands(Et)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=pt(this,lt)}setParent(Et){Et!==null&&(this.pageIndex=Et.pageIndex,this.pageDimensions=Et.pageDimensions),this.parent=Et}focusin(Et){this._focusEventsAllowed&&(pt(this,tt)?tn(this,tt,!1):this.parent.setSelected(this))}focusout(Et){var Mt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gt=Et.relatedTarget;gt!=null&&gt.closest(`#${this.id}`)||(Et.preventDefault(),(Mt=this.parent)!=null&&Mt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Et,gt,Mt,_t){const[at,yt]=this.parentDimensions;[Mt,_t]=this.screenToPageTranslation(Mt,_t),this.x=(Et+Mt)/at,this.y=(gt+_t)/yt,this.fixAndSetPosition()}translate(Et,gt){Gt(this,ct,kr).call(this,this.parentDimensions,Et,gt)}translateInPage(Et,gt){Gt(this,ct,kr).call(this,this.pageDimensions,Et,gt),this.div.scrollIntoView({block:"nearest"})}drag(Et,gt){const[Mt,_t]=this.parentDimensions;if(this.x+=Et/Mt,this.y+=gt/_t,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:jt,y:Lt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,jt,Lt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:at,y:yt}=this;const[kt,Pt]=Gt(this,ct,Ar).call(this);at+=kt,yt+=Pt,this.div.style.left=`${(100*at).toFixed(2)}%`,this.div.style.top=`${(100*yt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Et,gt]=this.pageDimensions;let{x:Mt,y:_t,width:at,height:yt}=this;switch(at*=Et,yt*=gt,Mt*=Et,_t*=gt,this.rotation){case 0:Mt=Math.max(0,Math.min(Et-at,Mt)),_t=Math.max(0,Math.min(gt-yt,_t));break;case 90:Mt=Math.max(0,Math.min(Et-yt,Mt)),_t=Math.min(gt,Math.max(at,_t));break;case 180:Mt=Math.min(Et,Math.max(at,Mt)),_t=Math.min(gt,Math.max(yt,_t));break;case 270:Mt=Math.min(Et,Math.max(yt,Mt)),_t=Math.max(0,Math.min(gt-at,_t));break}this.x=Mt/=Et,this.y=_t/=gt;const[kt,Pt]=Gt(this,ct,Ar).call(this);Mt+=kt,_t+=Pt;const{style:jt}=this.div;jt.left=`${(100*Mt).toFixed(2)}%`,jt.top=`${(100*_t).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Et,gt){var Mt;return Gt(Mt=At,mt,Rr).call(Mt,Et,gt,this.parentRotation)}pageTranslationToScreen(Et,gt){var Mt;return Gt(Mt=At,mt,Rr).call(Mt,Et,gt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Et,pageDimensions:[gt,Mt]}=this,_t=gt*Et,at=Mt*Et;return a.FeatureTest.isCSSRoundSupported?[Math.round(_t),Math.round(at)]:[_t,at]}setDims(Et,gt){var at;const[Mt,_t]=this.parentDimensions;this.div.style.width=`${(100*Et/Mt).toFixed(2)}%`,pt(this,et)||(this.div.style.height=`${(100*gt/_t).toFixed(2)}%`),(at=pt(this,j))==null||at.classList.toggle("small",Et<At.SMALL_EDITOR_SIZE||gt<At.SMALL_EDITOR_SIZE)}fixDims(){const{style:Et}=this.div,{height:gt,width:Mt}=Et,_t=Mt.endsWith("%"),at=!pt(this,et)&&gt.endsWith("%");if(_t&&at)return;const[yt,kt]=this.parentDimensions;_t||(Et.width=`${(100*parseFloat(Mt)/yt).toFixed(2)}%`),!pt(this,et)&&!at&&(Et.height=`${(100*parseFloat(gt)/kt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(pt(this,j))return;const Et=tn(this,j,document.createElement("button"));Et.className="altText";const gt=await At._l10nPromise.get("editor_alt_text_button_label");Et.textContent=gt,Et.setAttribute("aria-label",gt),Et.tabIndex="0",Et.addEventListener("contextmenu",d.noContextMenu),Et.addEventListener("pointerdown",Mt=>Mt.stopPropagation()),Et.addEventListener("click",Mt=>{Mt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Et.addEventListener("keydown",Mt=>{Mt.target===Et&&Mt.key==="Enter"&&(Mt.preventDefault(),this._uiManager.editAltText(this))}),Gt(this,ct,Cr).call(this),this.div.append(Et),At.SMALL_EDITOR_SIZE||(At.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Et.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:pt(this,b),decorative:pt(this,_)}}set altTextData({altText:Et,decorative:gt}){pt(this,b)===Et&&pt(this,_)===gt||(tn(this,b,Et),tn(this,_,gt),Gt(this,ct,Cr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",pt(this,it)),this.div.addEventListener("focusout",pt(this,st));const[Et,gt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gt/Et).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Et/gt).toFixed(2)}%`);const[Mt,_t]=this.getInitialTranslation();return this.translate(Mt,_t),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Et){const{isMac:gt}=a.FeatureTest.platform;if(Et.button!==0||Et.ctrlKey&&gt){Et.preventDefault();return}tn(this,tt,!0),Gt(this,ct,us).call(this,Et)}moveInDOM(){var Et;(Et=this.parent)==null||Et.moveEditorInDOM(this)}_setParentAndPosition(Et,gt,Mt){Et.changeParent(this),this.x=gt,this.y=Mt,this.fixAndSetPosition()}getRect(Et,gt){const Mt=this.parentScale,[_t,at]=this.pageDimensions,[yt,kt]=this.pageTranslation,Pt=Et/Mt,jt=gt/Mt,Lt=this.x*_t,Ut=this.y*at,Xt=this.width*_t,Qt=this.height*at;switch(this.rotation){case 0:return[Lt+Pt+yt,at-Ut-jt-Qt+kt,Lt+Pt+Xt+yt,at-Ut-jt+kt];case 90:return[Lt+jt+yt,at-Ut+Pt+kt,Lt+jt+Qt+yt,at-Ut+Pt+Xt+kt];case 180:return[Lt-Pt-Xt+yt,at-Ut+jt+kt,Lt-Pt+yt,at-Ut+jt+Qt+kt];case 270:return[Lt-jt-Qt+yt,at-Ut-Pt-Xt+kt,Lt-jt+yt,at-Ut-Pt+kt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Et,gt){const[Mt,_t,at,yt]=Et,kt=at-Mt,Pt=yt-_t;switch(this.rotation){case 0:return[Mt,gt-yt,kt,Pt];case 90:return[Mt,gt-_t,Pt,kt];case 180:return[at,gt-_t,kt,Pt];case 270:return[at,gt-yt,Pt,kt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){tn(this,ot,!0)}disableEditMode(){tn(this,ot,!1)}isInEditMode(){return pt(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Et,gt;(Et=this.div)==null||Et.addEventListener("focusin",pt(this,it)),(gt=this.div)==null||gt.addEventListener("focusout",pt(this,st))}serialize(Et=!1,gt=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(Et,gt,Mt){const _t=new this.prototype.constructor({parent:gt,id:gt.getNextId(),uiManager:Mt});_t.rotation=Et.rotation;const[at,yt]=_t.pageDimensions,[kt,Pt,jt,Lt]=_t.getRectInCurrentCoords(Et.rect,yt);return _t.x=kt/at,_t.y=Pt/yt,_t.width=jt/at,_t.height=Lt/yt,_t}remove(){var Et;this.div.removeEventListener("focusin",pt(this,it)),this.div.removeEventListener("focusout",pt(this,st)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Et=pt(this,j))==null||Et.remove(),tn(this,j,null),tn(this,$,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Gt(this,ct,as).call(this),pt(this,nt).classList.remove("hidden"))}select(){var Et;this.makeResizable(),(Et=this.div)==null||Et.classList.add("selectedEditor")}unselect(){var Et,gt,Mt;(Et=pt(this,nt))==null||Et.classList.add("hidden"),(gt=this.div)==null||gt.classList.remove("selectedEditor"),(Mt=this.div)!=null&&Mt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Et,gt){}disableEditing(){pt(this,j)&&(pt(this,j).hidden=!0)}enableEditing(){pt(this,j)&&(pt(this,j).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return pt(this,rt)}set isEditing(Et){tn(this,rt,Et),this.parent&&(Et?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Et,gt){tn(this,et,!0);const Mt=Et/gt,{style:_t}=this.div;_t.aspectRatio=Mt,_t.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,tt=new WeakMap,rt=new WeakMap,ot=new WeakMap,ut=new WeakMap,lt=new WeakMap,ct=new WeakSet,kr=function([Et,gt],Mt,_t){[Mt,_t]=this.screenToPageTranslation(Mt,_t),this.x+=Mt/Et,this.y+=_t/gt,this.fixAndSetPosition()},Ar=function(){const[Et,gt]=this.parentDimensions,{_borderLineWidth:Mt}=At,_t=Mt/Et,at=Mt/gt;switch(this.rotation){case 90:return[-_t,at];case 180:return[_t,at];case 270:return[_t,-at];default:return[-_t,-at]}},mt=new WeakSet,Rr=function(Et,gt,Mt){switch(Mt){case 90:return[gt,-Et];case 180:return[-Et,-gt];case 270:return[-gt,Et];default:return[Et,gt]}},Tr=function(Et){switch(Et){case 90:{const[gt,Mt]=this.pageDimensions;return[0,-gt/Mt,Mt/gt,0]}case 180:return[-1,0,0,-1];case 270:{const[gt,Mt]=this.pageDimensions;return[0,gt/Mt,-Mt/gt,0]}default:return[1,0,0,1]}},as=function(){if(pt(this,nt))return;tn(this,nt,document.createElement("div")),pt(this,nt).classList.add("resizers");const Et=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Et.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gt of Et){const Mt=document.createElement("div");pt(this,nt).append(Mt),Mt.classList.add("resizer",gt),Mt.addEventListener("pointerdown",Gt(this,ct,ls).bind(this,gt)),Mt.addEventListener("contextmenu",d.noContextMenu)}this.div.prepend(pt(this,nt))},ls=function(Et,gt){gt.preventDefault();const{isMac:Mt}=a.FeatureTest.platform;if(gt.button!==0||gt.ctrlKey&&Mt)return;const _t=Gt(this,ct,cs).bind(this,Et),at=this._isDraggable;this._isDraggable=!1;const yt={passive:!0,capture:!0};window.addEventListener("pointermove",_t,yt);const kt=this.x,Pt=this.y,jt=this.width,Lt=this.height,Ut=this.parent.div.style.cursor,Xt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gt.target).cursor;const Qt=()=>{this._isDraggable=at,window.removeEventListener("pointerup",Qt),window.removeEventListener("blur",Qt),window.removeEventListener("pointermove",_t,yt),this.parent.div.style.cursor=Ut,this.div.style.cursor=Xt;const rn=this.x,ln=this.y,an=this.width,qt=this.height;rn===kt&&ln===Pt&&an===jt&&qt===Lt||this.addCommands({cmd:()=>{this.width=an,this.height=qt,this.x=rn,this.y=ln;const[Ft,Vt]=this.parentDimensions;this.setDims(Ft*an,Vt*qt),this.fixAndSetPosition()},undo:()=>{this.width=jt,this.height=Lt,this.x=kt,this.y=Pt;const[Ft,Vt]=this.parentDimensions;this.setDims(Ft*jt,Vt*Lt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Qt),window.addEventListener("blur",Qt)},cs=function(Et,gt){const[Mt,_t]=this.parentDimensions,at=this.x,yt=this.y,kt=this.width,Pt=this.height,jt=At.MIN_SIZE/Mt,Lt=At.MIN_SIZE/_t,Ut=yn=>Math.round(yn*1e4)/1e4,Xt=Gt(this,ct,Tr).call(this,this.rotation),Qt=(yn,wn)=>[Xt[0]*yn+Xt[2]*wn,Xt[1]*yn+Xt[3]*wn],rn=Gt(this,ct,Tr).call(this,360-this.rotation),ln=(yn,wn)=>[rn[0]*yn+rn[2]*wn,rn[1]*yn+rn[3]*wn];let an,qt,Ft=!1,Vt=!1;switch(Et){case"topLeft":Ft=!0,an=(yn,wn)=>[0,0],qt=(yn,wn)=>[yn,wn];break;case"topMiddle":an=(yn,wn)=>[yn/2,0],qt=(yn,wn)=>[yn/2,wn];break;case"topRight":Ft=!0,an=(yn,wn)=>[yn,0],qt=(yn,wn)=>[0,wn];break;case"middleRight":Vt=!0,an=(yn,wn)=>[yn,wn/2],qt=(yn,wn)=>[0,wn/2];break;case"bottomRight":Ft=!0,an=(yn,wn)=>[yn,wn],qt=(yn,wn)=>[0,0];break;case"bottomMiddle":an=(yn,wn)=>[yn/2,wn],qt=(yn,wn)=>[yn/2,0];break;case"bottomLeft":Ft=!0,an=(yn,wn)=>[0,wn],qt=(yn,wn)=>[yn,0];break;case"middleLeft":Vt=!0,an=(yn,wn)=>[0,wn/2],qt=(yn,wn)=>[yn,wn/2];break}const vt=an(kt,Pt),It=qt(kt,Pt);let zt=Qt(...It);const Wt=Ut(at+zt[0]),sn=Ut(yt+zt[1]);let dn=1,pn=1,[Kt,Dt]=this.screenToPageTranslation(gt.movementX,gt.movementY);if([Kt,Dt]=ln(Kt/Mt,Dt/_t),Ft){const yn=Math.hypot(kt,Pt);dn=pn=Math.max(Math.min(Math.hypot(It[0]-vt[0]-Kt,It[1]-vt[1]-Dt)/yn,1/kt,1/Pt),jt/kt,Lt/Pt)}else Vt?dn=Math.max(jt,Math.min(1,Math.abs(It[0]-vt[0]-Kt)))/kt:pn=Math.max(Lt,Math.min(1,Math.abs(It[1]-vt[1]-Dt)))/Pt;const $t=Ut(kt*dn),hn=Ut(Pt*pn);zt=Qt(...qt($t,hn));const gn=Wt-zt[0],vn=sn-zt[1];this.width=$t,this.height=hn,this.x=gn,this.y=vn,this.setDims(Mt*$t,_t*hn),this.fixAndSetPosition()},Cr=async function(){var Mt;const Et=pt(this,j);if(!Et)return;if(!pt(this,b)&&!pt(this,_)){Et.classList.remove("done"),(Mt=pt(this,$))==null||Mt.remove();return}At._l10nPromise.get("editor_alt_text_edit_button_label").then(_t=>{Et.setAttribute("aria-label",_t)});let gt=pt(this,$);if(!gt){tn(this,$,gt=document.createElement("span")),gt.className="tooltip",gt.setAttribute("role","tooltip");const _t=gt.id=`alt-text-tooltip-${this.id}`;Et.setAttribute("aria-describedby",_t);const at=100;Et.addEventListener("mouseenter",()=>{tn(this,_e,setTimeout(()=>{tn(this,_e,null),pt(this,$).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},at))}),Et.addEventListener("mouseleave",()=>{var yt;clearTimeout(pt(this,_e)),tn(this,_e,null),(yt=pt(this,$))==null||yt.classList.remove("show")})}Et.classList.add("done"),gt.innerText=pt(this,_)?await At._l10nPromise.get("editor_alt_text_decorative_tooltip"):pt(this,b),gt.parentNode||Et.append(gt)},us=function(Et){if(!this._isDraggable)return;const gt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Mt,_t;gt&&(Mt={passive:!0,capture:!0},_t=yt=>{const[kt,Pt]=this.screenToPageTranslation(yt.movementX,yt.movementY);this._uiManager.dragSelectedEditors(kt,Pt)},window.addEventListener("pointermove",_t,Mt));const at=()=>{if(window.removeEventListener("pointerup",at),window.removeEventListener("blur",at),gt&&window.removeEventListener("pointermove",_t,Mt),tn(this,tt,!1),!this._uiManager.endDragSession()){const{isMac:yt}=a.FeatureTest.platform;Et.ctrlKey&&!yt||Et.shiftKey||Et.metaKey&&yt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",at),window.addEventListener("blur",at)},Jt(At,mt),$n(At,"_borderLineWidth",-1),$n(At,"_colorManager",new o.ColorManager),$n(At,"_zIndex",1),$n(At,"SMALL_EDITOR_SIZE",0);let h=At;i.AnnotationEditor=h;class g extends h{constructor(Et){super(Et),this.annotationElementId=Et.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,s)=>{var et,nt,it,st,tt,Pr,ut,lt,ct,dt,ht,ds,ft,bt,wt,Ct,Tt,St,At,Rt,Et,gt,Mt,_t,at,yt,kt,Pt,jt,Lt,Ut,Xt,Qt,rn,ln,an,qt,Ft,Vt,vt,It,zt,Wt,sn,dn,pn,Kt,hs,Nr,jr,ur,Lr,Ir,Vn,tr,ps,fs,Mr,nr,Dr;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=d,i.opacityToHex=h;var o=s(1),a=s(6);function d(Dn,Bt,un){for(const bn of un)Bt.addEventListener(bn,Dn[bn].bind(Dn))}function h(Dn){return Math.round(Math.min(255,Math.max(1,255*Dn))).toString(16).padStart(2,"0")}class g{constructor(){Jt(this,et,0)}getId(){return`${o.AnnotationEditorPrefix}${er(this,et)._++}`}}et=new WeakMap;const ot=class ot{constructor(){Jt(this,tt);Jt(this,nt,(0,o.getUuid)());Jt(this,it,0);Jt(this,st,null)}static get _isSVGFittingCanvas(){const Bt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',bn=new OffscreenCanvas(1,3).getContext("2d"),Rn=new Image;Rn.src=Bt;const Pn=Rn.decode().then(()=>(bn.drawImage(Rn,0,0,1,1,0,0,1,3),new Uint32Array(bn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Pn)}async getFromFile(Bt){const{lastModified:un,name:bn,size:Rn,type:Pn}=Bt;return Gt(this,tt,Pr).call(this,`${un}_${bn}_${Rn}_${Pn}`,Bt)}async getFromUrl(Bt){return Gt(this,tt,Pr).call(this,Bt,Bt)}async getFromId(Bt){pt(this,st)||tn(this,st,new Map);const un=pt(this,st).get(Bt);return un?un.bitmap?(un.refCounter+=1,un):un.file?this.getFromFile(un.file):this.getFromUrl(un.url):null}getSvgUrl(Bt){const un=pt(this,st).get(Bt);return un!=null&&un.isSvg?un.svgUrl:null}deleteId(Bt){pt(this,st)||tn(this,st,new Map);const un=pt(this,st).get(Bt);un&&(un.refCounter-=1,un.refCounter===0&&(un.bitmap=null))}isValidId(Bt){return Bt.startsWith(`image_${pt(this,nt)}_`)}};nt=new WeakMap,it=new WeakMap,st=new WeakMap,tt=new WeakSet,Pr=async function(Bt,un){pt(this,st)||tn(this,st,new Map);let bn=pt(this,st).get(Bt);if(bn===null)return null;if(bn!=null&&bn.bitmap)return bn.refCounter+=1,bn;try{bn||(bn={bitmap:null,id:`image_${pt(this,nt)}_${er(this,it)._++}`,refCounter:0,isSvg:!1});let Rn;if(typeof un=="string"){bn.url=un;const Pn=await fetch(un);if(!Pn.ok)throw new Error(Pn.statusText);Rn=await Pn.blob()}else Rn=bn.file=un;if(Rn.type==="image/svg+xml"){const Pn=ot._isSVGFittingCanvas,_n=new FileReader,Ot=new Image,Nt=new Promise((Ht,nn)=>{Ot.onload=()=>{bn.bitmap=Ot,bn.isSvg=!0,Ht()},_n.onload=async()=>{const on=bn.svgUrl=_n.result;Ot.src=await Pn?`${on}#svgView(preserveAspectRatio(none))`:on},Ot.onerror=_n.onerror=nn});_n.readAsDataURL(Rn),await Nt}else bn.bitmap=await createImageBitmap(Rn);bn.refCounter=1}catch(Rn){console.error(Rn),bn=null}return pt(this,st).set(Bt,bn),bn&&pt(this,st).set(bn.id,bn),bn};let b=ot;class _{constructor(Bt=128){Jt(this,ut,[]);Jt(this,lt,!1);Jt(this,ct);Jt(this,dt,-1);tn(this,ct,Bt)}add({cmd:Bt,undo:un,mustExec:bn,type:Rn=NaN,overwriteIfSameType:Pn=!1,keepUndo:_n=!1}){if(bn&&Bt(),pt(this,lt))return;const Ot={cmd:Bt,undo:un,type:Rn};if(pt(this,dt)===-1){pt(this,ut).length>0&&(pt(this,ut).length=0),tn(this,dt,0),pt(this,ut).push(Ot);return}if(Pn&&pt(this,ut)[pt(this,dt)].type===Rn){_n&&(Ot.undo=pt(this,ut)[pt(this,dt)].undo),pt(this,ut)[pt(this,dt)]=Ot;return}const Nt=pt(this,dt)+1;Nt===pt(this,ct)?pt(this,ut).splice(0,1):(tn(this,dt,Nt),Nt<pt(this,ut).length&&pt(this,ut).splice(Nt)),pt(this,ut).push(Ot)}undo(){pt(this,dt)!==-1&&(tn(this,lt,!0),pt(this,ut)[pt(this,dt)].undo(),tn(this,lt,!1),tn(this,dt,pt(this,dt)-1))}redo(){pt(this,dt)<pt(this,ut).length-1&&(tn(this,dt,pt(this,dt)+1),tn(this,lt,!0),pt(this,ut)[pt(this,dt)].cmd(),tn(this,lt,!1))}hasSomethingToUndo(){return pt(this,dt)!==-1}hasSomethingToRedo(){return pt(this,dt)<pt(this,ut).length-1}destroy(){tn(this,ut,null)}}ut=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,i.CommandManager=_;class j{constructor(Bt){Jt(this,ht);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:un}=o.FeatureTest.platform;for(const[bn,Rn,Pn={}]of Bt)for(const _n of bn){const Ot=_n.startsWith("mac+");un&&Ot?(this.callbacks.set(_n.slice(4),{callback:Rn,options:Pn}),this.allKeys.add(_n.split("+").at(-1))):!un&&!Ot&&(this.callbacks.set(_n,{callback:Rn,options:Pn}),this.allKeys.add(_n.split("+").at(-1)))}}exec(Bt,un){if(!this.allKeys.has(un.key))return;const bn=this.callbacks.get(Gt(this,ht,ds).call(this,un));if(!bn)return;const{callback:Rn,options:{bubbles:Pn=!1,args:_n=[],checker:Ot=null}}=bn;Ot&&!Ot(Bt,un)||(Rn.bind(Bt,..._n)(),Pn||(un.stopPropagation(),un.preventDefault()))}}ht=new WeakSet,ds=function(Bt){Bt.altKey&&this.buffer.push("alt"),Bt.ctrlKey&&this.buffer.push("ctrl"),Bt.metaKey&&this.buffer.push("meta"),Bt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bt.key);const un=this.buffer.join("+");return this.buffer.length=0,un},i.KeyboardManager=j;const xt=class xt{get _colors(){const Bt=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Bt),(0,o.shadow)(this,"_colors",Bt)}convert(Bt){const un=(0,a.getRGB)(Bt);if(!window.matchMedia("(forced-colors: active)").matches)return un;for(const[bn,Rn]of this._colors)if(Rn.every((Pn,_n)=>Pn===un[_n]))return xt._colorsMapping.get(bn);return un}getHexCode(Bt){const un=this._colors.get(Bt);return un?o.Util.makeHexColor(...un):Bt}};$n(xt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $=xt;i.ColorManager=$;const On=class On{constructor(Bt,un,bn,Rn,Pn,_n){Jt(this,Kt);Jt(this,ft,null);Jt(this,bt,new Map);Jt(this,wt,new Map);Jt(this,Ct,null);Jt(this,Tt,null);Jt(this,St,new _);Jt(this,At,0);Jt(this,Rt,new Set);Jt(this,Et,null);Jt(this,gt,null);Jt(this,Mt,new Set);Jt(this,_t,null);Jt(this,at,new g);Jt(this,yt,!1);Jt(this,kt,!1);Jt(this,Pt,null);Jt(this,jt,o.AnnotationEditorType.NONE);Jt(this,Lt,new Set);Jt(this,Ut,null);Jt(this,Xt,this.blur.bind(this));Jt(this,Qt,this.focus.bind(this));Jt(this,rn,this.copy.bind(this));Jt(this,ln,this.cut.bind(this));Jt(this,an,this.paste.bind(this));Jt(this,qt,this.keydown.bind(this));Jt(this,Ft,this.onEditingAction.bind(this));Jt(this,Vt,this.onPageChanging.bind(this));Jt(this,vt,this.onScaleChanging.bind(this));Jt(this,It,this.onRotationChanging.bind(this));Jt(this,zt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Jt(this,Wt,[0,0]);Jt(this,sn,null);Jt(this,dn,null);Jt(this,pn,null);tn(this,dn,Bt),tn(this,pn,un),tn(this,Ct,bn),this._eventBus=Rn,this._eventBus._on("editingaction",pt(this,Ft)),this._eventBus._on("pagechanging",pt(this,Vt)),this._eventBus._on("scalechanging",pt(this,vt)),this._eventBus._on("rotationchanging",pt(this,It)),tn(this,Tt,Pn.annotationStorage),tn(this,_t,Pn.filterFactory),tn(this,Ut,_n),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bt=On.prototype,un=Pn=>{const{activeElement:_n}=document;return _n&&pt(Pn,dn).contains(_n)&&Pn.hasSomethingToControl()},bn=this.TRANSLATE_SMALL,Rn=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new j([[["ctrl+a","mac+meta+a"],Bt.selectAll],[["ctrl+z","mac+meta+z"],Bt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bt.delete],[["Escape","mac+Escape"],Bt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bt.translateSelectedEditors,{args:[-bn,0],checker:un}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bt.translateSelectedEditors,{args:[-Rn,0],checker:un}],[["ArrowRight","mac+ArrowRight"],Bt.translateSelectedEditors,{args:[bn,0],checker:un}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bt.translateSelectedEditors,{args:[Rn,0],checker:un}],[["ArrowUp","mac+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-bn],checker:un}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-Rn],checker:un}],[["ArrowDown","mac+ArrowDown"],Bt.translateSelectedEditors,{args:[0,bn],checker:un}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bt.translateSelectedEditors,{args:[0,Rn],checker:un}]]))}destroy(){Gt(this,Kt,ur).call(this),Gt(this,Kt,Nr).call(this),this._eventBus._off("editingaction",pt(this,Ft)),this._eventBus._off("pagechanging",pt(this,Vt)),this._eventBus._off("scalechanging",pt(this,vt)),this._eventBus._off("rotationchanging",pt(this,It));for(const Bt of pt(this,wt).values())Bt.destroy();pt(this,wt).clear(),pt(this,bt).clear(),pt(this,Mt).clear(),tn(this,ft,null),pt(this,Lt).clear(),pt(this,St).destroy(),pt(this,Ct).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",pt(this,Ut)?pt(this,_t).addHCMFilter(pt(this,Ut).foreground,pt(this,Ut).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(pt(this,dn)).direction)}editAltText(Bt){var un;(un=pt(this,Ct))==null||un.editAltText(this,Bt)}onPageChanging({pageNumber:Bt}){tn(this,At,Bt-1)}focusMainContainer(){pt(this,dn).focus()}findParent(Bt,un){for(const bn of pt(this,wt).values()){const{x:Rn,y:Pn,width:_n,height:Ot}=bn.div.getBoundingClientRect();if(Bt>=Rn&&Bt<=Rn+_n&&un>=Pn&&un<=Pn+Ot)return bn}return null}disableUserSelect(Bt=!1){pt(this,pn).classList.toggle("noUserSelect",Bt)}addShouldRescale(Bt){pt(this,Mt).add(Bt)}removeShouldRescale(Bt){pt(this,Mt).delete(Bt)}onScaleChanging({scale:Bt}){this.commitOrRemove(),this.viewParameters.realScale=Bt*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const un of pt(this,Mt))un.onScaleChanging()}onRotationChanging({pagesRotation:Bt}){this.commitOrRemove(),this.viewParameters.rotation=Bt}addToAnnotationStorage(Bt){!Bt.isEmpty()&&pt(this,Tt)&&!pt(this,Tt).has(Bt.id)&&pt(this,Tt).setValue(Bt.id,Bt)}blur(){if(!this.hasSelection)return;const{activeElement:Bt}=document;for(const un of pt(this,Lt))if(un.div.contains(Bt)){tn(this,Pt,[un,Bt]),un._focusEventsAllowed=!1;break}}focus(){if(!pt(this,Pt))return;const[Bt,un]=pt(this,Pt);tn(this,Pt,null),un.addEventListener("focusin",()=>{Bt._focusEventsAllowed=!0},{once:!0}),un.focus()}addEditListeners(){Gt(this,Kt,jr).call(this),Gt(this,Kt,Lr).call(this)}removeEditListeners(){Gt(this,Kt,ur).call(this),Gt(this,Kt,Ir).call(this)}copy(Bt){var bn;if(Bt.preventDefault(),(bn=pt(this,ft))==null||bn.commitOrRemove(),!this.hasSelection)return;const un=[];for(const Rn of pt(this,Lt)){const Pn=Rn.serialize(!0);Pn&&un.push(Pn)}un.length!==0&&Bt.clipboardData.setData("application/pdfjs",JSON.stringify(un))}cut(Bt){this.copy(Bt),this.delete()}paste(Bt){Bt.preventDefault();const{clipboardData:un}=Bt;for(const Pn of un.items)for(const _n of pt(this,gt))if(_n.isHandlingMimeForPasting(Pn.type)){_n.paste(Pn,this.currentLayer);return}let bn=un.getData("application/pdfjs");if(!bn)return;try{bn=JSON.parse(bn)}catch(Pn){(0,o.warn)(`paste: "${Pn.message}".`);return}if(!Array.isArray(bn))return;this.unselectAll();const Rn=this.currentLayer;try{const Pn=[];for(const Nt of bn){const Ht=Rn.deserialize(Nt);if(!Ht)return;Pn.push(Ht)}const _n=()=>{for(const Nt of Pn)Gt(this,Kt,Mr).call(this,Nt);Gt(this,Kt,Dr).call(this,Pn)},Ot=()=>{for(const Nt of Pn)Nt.remove()};this.addCommands({cmd:_n,undo:Ot,mustExec:!0})}catch(Pn){(0,o.warn)(`paste: "${Pn.message}".`)}}keydown(Bt){var un;(un=this.getActive())!=null&&un.shouldGetKeyboardEvents()||On._keyboardManager.exec(this,Bt)}onEditingAction(Bt){["undo","redo","delete","selectAll"].includes(Bt.name)&&this[Bt.name]()}setEditingState(Bt){Bt?(Gt(this,Kt,hs).call(this),Gt(this,Kt,jr).call(this),Gt(this,Kt,Lr).call(this),Gt(this,Kt,Vn).call(this,{isEditing:pt(this,jt)!==o.AnnotationEditorType.NONE,isEmpty:Gt(this,Kt,nr).call(this),hasSomethingToUndo:pt(this,St).hasSomethingToUndo(),hasSomethingToRedo:pt(this,St).hasSomethingToRedo(),hasSelectedEditor:!1})):(Gt(this,Kt,Nr).call(this),Gt(this,Kt,ur).call(this),Gt(this,Kt,Ir).call(this),Gt(this,Kt,Vn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bt){if(!pt(this,gt)){tn(this,gt,Bt);for(const un of pt(this,gt))Gt(this,Kt,tr).call(this,un.defaultPropertiesToUpdate)}}getId(){return pt(this,at).getId()}get currentLayer(){return pt(this,wt).get(pt(this,At))}getLayer(Bt){return pt(this,wt).get(Bt)}get currentPageIndex(){return pt(this,At)}addLayer(Bt){pt(this,wt).set(Bt.pageIndex,Bt),pt(this,yt)?Bt.enable():Bt.disable()}removeLayer(Bt){pt(this,wt).delete(Bt.pageIndex)}updateMode(Bt,un=null){if(pt(this,jt)!==Bt){if(tn(this,jt,Bt),Bt===o.AnnotationEditorType.NONE){this.setEditingState(!1),Gt(this,Kt,fs).call(this);return}this.setEditingState(!0),Gt(this,Kt,ps).call(this),this.unselectAll();for(const bn of pt(this,wt).values())bn.updateMode(Bt);if(un){for(const bn of pt(this,bt).values())if(bn.annotationElementId===un){this.setSelected(bn),bn.enterInEditMode();break}}}}updateToolbar(Bt){Bt!==pt(this,jt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bt})}updateParams(Bt,un){if(pt(this,gt)){if(Bt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bt);return}for(const bn of pt(this,Lt))bn.updateParams(Bt,un);for(const bn of pt(this,gt))bn.updateDefaultParams(Bt,un)}}enableWaiting(Bt=!1){if(pt(this,kt)!==Bt){tn(this,kt,Bt);for(const un of pt(this,wt).values())Bt?un.disableClick():un.enableClick(),un.div.classList.toggle("waiting",Bt)}}getEditors(Bt){const un=[];for(const bn of pt(this,bt).values())bn.pageIndex===Bt&&un.push(bn);return un}getEditor(Bt){return pt(this,bt).get(Bt)}addEditor(Bt){pt(this,bt).set(Bt.id,Bt)}removeEditor(Bt){var un;pt(this,bt).delete(Bt.id),this.unselect(Bt),(!Bt.annotationElementId||!pt(this,Rt).has(Bt.annotationElementId))&&((un=pt(this,Tt))==null||un.remove(Bt.id))}addDeletedAnnotationElement(Bt){pt(this,Rt).add(Bt.annotationElementId),Bt.deleted=!0}isDeletedAnnotationElement(Bt){return pt(this,Rt).has(Bt)}removeDeletedAnnotationElement(Bt){pt(this,Rt).delete(Bt.annotationElementId),Bt.deleted=!1}setActiveEditor(Bt){pt(this,ft)!==Bt&&(tn(this,ft,Bt),Bt&&Gt(this,Kt,tr).call(this,Bt.propertiesToUpdate))}toggleSelected(Bt){if(pt(this,Lt).has(Bt)){pt(this,Lt).delete(Bt),Bt.unselect(),Gt(this,Kt,Vn).call(this,{hasSelectedEditor:this.hasSelection});return}pt(this,Lt).add(Bt),Bt.select(),Gt(this,Kt,tr).call(this,Bt.propertiesToUpdate),Gt(this,Kt,Vn).call(this,{hasSelectedEditor:!0})}setSelected(Bt){for(const un of pt(this,Lt))un!==Bt&&un.unselect();pt(this,Lt).clear(),pt(this,Lt).add(Bt),Bt.select(),Gt(this,Kt,tr).call(this,Bt.propertiesToUpdate),Gt(this,Kt,Vn).call(this,{hasSelectedEditor:!0})}isSelected(Bt){return pt(this,Lt).has(Bt)}unselect(Bt){Bt.unselect(),pt(this,Lt).delete(Bt),Gt(this,Kt,Vn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return pt(this,Lt).size!==0}undo(){pt(this,St).undo(),Gt(this,Kt,Vn).call(this,{hasSomethingToUndo:pt(this,St).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Gt(this,Kt,nr).call(this)})}redo(){pt(this,St).redo(),Gt(this,Kt,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:pt(this,St).hasSomethingToRedo(),isEmpty:Gt(this,Kt,nr).call(this)})}addCommands(Bt){pt(this,St).add(Bt),Gt(this,Kt,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Gt(this,Kt,nr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bt=[...pt(this,Lt)],un=()=>{for(const Rn of Bt)Rn.remove()},bn=()=>{for(const Rn of Bt)Gt(this,Kt,Mr).call(this,Rn)};this.addCommands({cmd:un,undo:bn,mustExec:!0})}commitOrRemove(){var Bt;(Bt=pt(this,ft))==null||Bt.commitOrRemove()}hasSomethingToControl(){return pt(this,ft)||this.hasSelection}selectAll(){for(const Bt of pt(this,Lt))Bt.commit();Gt(this,Kt,Dr).call(this,pt(this,bt).values())}unselectAll(){if(pt(this,ft)){pt(this,ft).commitOrRemove();return}if(this.hasSelection){for(const Bt of pt(this,Lt))Bt.unselect();pt(this,Lt).clear(),Gt(this,Kt,Vn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bt,un,bn=!1){if(bn||this.commitOrRemove(),!this.hasSelection)return;pt(this,Wt)[0]+=Bt,pt(this,Wt)[1]+=un;const[Rn,Pn]=pt(this,Wt),_n=[...pt(this,Lt)],Ot=1e3;pt(this,sn)&&clearTimeout(pt(this,sn)),tn(this,sn,setTimeout(()=>{tn(this,sn,null),pt(this,Wt)[0]=pt(this,Wt)[1]=0,this.addCommands({cmd:()=>{for(const Nt of _n)pt(this,bt).has(Nt.id)&&Nt.translateInPage(Rn,Pn)},undo:()=>{for(const Nt of _n)pt(this,bt).has(Nt.id)&&Nt.translateInPage(-Rn,-Pn)},mustExec:!1})},Ot));for(const Nt of _n)Nt.translateInPage(Bt,un)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),tn(this,Et,new Map);for(const Bt of pt(this,Lt))pt(this,Et).set(Bt,{savedX:Bt.x,savedY:Bt.y,savedPageIndex:Bt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!pt(this,Et))return!1;this.disableUserSelect(!1);const Bt=pt(this,Et);tn(this,Et,null);let un=!1;for(const[{x:Rn,y:Pn,pageIndex:_n},Ot]of Bt)Ot.newX=Rn,Ot.newY=Pn,Ot.newPageIndex=_n,un||(un=Rn!==Ot.savedX||Pn!==Ot.savedY||_n!==Ot.savedPageIndex);if(!un)return!1;const bn=(Rn,Pn,_n,Ot)=>{if(pt(this,bt).has(Rn.id)){const Nt=pt(this,wt).get(Ot);Nt?Rn._setParentAndPosition(Nt,Pn,_n):(Rn.pageIndex=Ot,Rn.x=Pn,Rn.y=_n)}};return this.addCommands({cmd:()=>{for(const[Rn,{newX:Pn,newY:_n,newPageIndex:Ot}]of Bt)bn(Rn,Pn,_n,Ot)},undo:()=>{for(const[Rn,{savedX:Pn,savedY:_n,savedPageIndex:Ot}]of Bt)bn(Rn,Pn,_n,Ot)},mustExec:!0}),!0}dragSelectedEditors(Bt,un){if(pt(this,Et))for(const bn of pt(this,Et).keys())bn.drag(Bt,un)}rebuild(Bt){if(Bt.parent===null){const un=this.getLayer(Bt.pageIndex);un?(un.changeParent(Bt),un.addOrRebuild(Bt)):(this.addEditor(Bt),this.addToAnnotationStorage(Bt),Bt.rebuild())}else Bt.parent.addOrRebuild(Bt)}isActive(Bt){return pt(this,ft)===Bt}getActive(){return pt(this,ft)}getMode(){return pt(this,jt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new b)}};ft=new WeakMap,bt=new WeakMap,wt=new WeakMap,Ct=new WeakMap,Tt=new WeakMap,St=new WeakMap,At=new WeakMap,Rt=new WeakMap,Et=new WeakMap,gt=new WeakMap,Mt=new WeakMap,_t=new WeakMap,at=new WeakMap,yt=new WeakMap,kt=new WeakMap,Pt=new WeakMap,jt=new WeakMap,Lt=new WeakMap,Ut=new WeakMap,Xt=new WeakMap,Qt=new WeakMap,rn=new WeakMap,ln=new WeakMap,an=new WeakMap,qt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,vt=new WeakMap,It=new WeakMap,zt=new WeakMap,Wt=new WeakMap,sn=new WeakMap,dn=new WeakMap,pn=new WeakMap,Kt=new WeakSet,hs=function(){window.addEventListener("focus",pt(this,Qt)),window.addEventListener("blur",pt(this,Xt))},Nr=function(){window.removeEventListener("focus",pt(this,Qt)),window.removeEventListener("blur",pt(this,Xt))},jr=function(){window.addEventListener("keydown",pt(this,qt),{capture:!0})},ur=function(){window.removeEventListener("keydown",pt(this,qt),{capture:!0})},Lr=function(){document.addEventListener("copy",pt(this,rn)),document.addEventListener("cut",pt(this,ln)),document.addEventListener("paste",pt(this,an))},Ir=function(){document.removeEventListener("copy",pt(this,rn)),document.removeEventListener("cut",pt(this,ln)),document.removeEventListener("paste",pt(this,an))},Vn=function(Bt){Object.entries(Bt).some(([bn,Rn])=>pt(this,zt)[bn]!==Rn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(pt(this,zt),Bt)})},tr=function(Bt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bt})},ps=function(){if(!pt(this,yt)){tn(this,yt,!0);for(const Bt of pt(this,wt).values())Bt.enable()}},fs=function(){if(this.unselectAll(),pt(this,yt)){tn(this,yt,!1);for(const Bt of pt(this,wt).values())Bt.disable()}},Mr=function(Bt){const un=pt(this,wt).get(Bt.pageIndex);un?un.addOrRebuild(Bt):this.addEditor(Bt)},nr=function(){if(pt(this,bt).size===0)return!0;if(pt(this,bt).size===1)for(const Bt of pt(this,bt).values())return Bt.isEmpty();return!1},Dr=function(Bt){pt(this,Lt).clear();for(const un of Bt)un.isEmpty()||(pt(this,Lt).add(un),un.select());Gt(this,Kt,Vn).call(this,{hasSelectedEditor:!0})},$n(On,"TRANSLATE_SMALL",1),$n(On,"TRANSLATE_BIG",10);let _e=On;i.AnnotationEditorUIManager=_e},(e,i,s)=>{var At,Rt,Et,gt,Mt,_t,at,yt,kt,Pt,jt,Lt,Yn,Qn,Or,dr,hr,rr,ir;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=dt,i.getColorValues=bt,i.getCurrentTransform=wt,i.getCurrentTransformInverse=Ct,i.getFilenameFromUrl=tt,i.getPdfFilenameFromUrl=rt,i.getRGB=ft,i.getXfaPageViewport=xt,i.isDataScheme=it,i.isPdfFile=st,i.isValidFetchUrl=ut,i.loadScript=ct,i.noContextMenu=lt,i.setLayerDimensions=Tt;var o=s(7),a=s(1);const d="http://www.w3.org/2000/svg",St=class St{};$n(St,"CSS",96),$n(St,"PDF",72),$n(St,"PDF_TO_CSS_UNITS",St.CSS/St.PDF);let h=St;i.PixelsPerInch=h;class g extends o.BaseFilterFactory{constructor({docId:vt,ownerDocument:It=globalThis.document}={}){super();Jt(this,Lt);Jt(this,At);Jt(this,Rt);Jt(this,Et);Jt(this,gt);Jt(this,Mt);Jt(this,_t);Jt(this,at);Jt(this,yt);Jt(this,kt);Jt(this,Pt);Jt(this,jt,0);tn(this,Et,vt),tn(this,gt,It)}addFilter(vt){if(!vt)return"none";let It=pt(this,Lt,Yn).get(vt);if(It)return It;let zt,Wt,sn,dn;if(vt.length===1){const $t=vt[0],hn=new Array(256);for(let gn=0;gn<256;gn++)hn[gn]=$t[gn]/255;dn=zt=Wt=sn=hn.join(",")}else{const[$t,hn,gn]=vt,vn=new Array(256),yn=new Array(256),wn=new Array(256);for(let Nn=0;Nn<256;Nn++)vn[Nn]=$t[Nn]/255,yn[Nn]=hn[Nn]/255,wn[Nn]=gn[Nn]/255;zt=vn.join(","),Wt=yn.join(","),sn=wn.join(","),dn=`${zt}${Wt}${sn}`}if(It=pt(this,Lt,Yn).get(dn),It)return pt(this,Lt,Yn).set(vt,It),It;const pn=`g_${pt(this,Et)}_transfer_map_${er(this,jt)._++}`,Kt=`url(#${pn})`;pt(this,Lt,Yn).set(vt,Kt),pt(this,Lt,Yn).set(dn,Kt);const Dt=Gt(this,Lt,dr).call(this,pn);return Gt(this,Lt,rr).call(this,zt,Wt,sn,Dt),Kt}addHCMFilter(vt,It){var hn;const zt=`${vt}-${It}`;if(pt(this,_t)===zt)return pt(this,at);if(tn(this,_t,zt),tn(this,at,"none"),(hn=pt(this,Mt))==null||hn.remove(),!vt||!It)return pt(this,at);const Wt=Gt(this,Lt,ir).call(this,vt);vt=a.Util.makeHexColor(...Wt);const sn=Gt(this,Lt,ir).call(this,It);if(It=a.Util.makeHexColor(...sn),pt(this,Lt,Qn).style.color="",vt==="#000000"&&It==="#ffffff"||vt===It)return pt(this,at);const dn=new Array(256);for(let gn=0;gn<=255;gn++){const vn=gn/255;dn[gn]=vn<=.03928?vn/12.92:((vn+.055)/1.055)**2.4}const pn=dn.join(","),Kt=`g_${pt(this,Et)}_hcm_filter`,Dt=tn(this,yt,Gt(this,Lt,dr).call(this,Kt));Gt(this,Lt,rr).call(this,pn,pn,pn,Dt),Gt(this,Lt,Or).call(this,Dt);const $t=(gn,vn)=>{const yn=Wt[gn]/255,wn=sn[gn]/255,Nn=new Array(vn+1);for(let In=0;In<=vn;In++)Nn[In]=yn+In/vn*(wn-yn);return Nn.join(",")};return Gt(this,Lt,rr).call(this,$t(0,5),$t(1,5),$t(2,5),Dt),tn(this,at,`url(#${Kt})`),pt(this,at)}addHighlightHCMFilter(vt,It,zt,Wt){var wn;const sn=`${vt}-${It}-${zt}-${Wt}`;if(pt(this,kt)===sn)return pt(this,Pt);if(tn(this,kt,sn),tn(this,Pt,"none"),(wn=pt(this,yt))==null||wn.remove(),!vt||!It)return pt(this,Pt);const[dn,pn]=[vt,It].map(Gt(this,Lt,ir).bind(this));let Kt=Math.round(.2126*dn[0]+.7152*dn[1]+.0722*dn[2]),Dt=Math.round(.2126*pn[0]+.7152*pn[1]+.0722*pn[2]),[$t,hn]=[zt,Wt].map(Gt(this,Lt,ir).bind(this));Dt<Kt&&([Kt,Dt,$t,hn]=[Dt,Kt,hn,$t]),pt(this,Lt,Qn).style.color="";const gn=(Nn,In,fn)=>{const Yt=new Array(256),Zt=(Dt-Kt)/fn,Sn=Nn/255,On=(In-Nn)/(255*fn);let Dn=0;for(let Bt=0;Bt<=fn;Bt++){const un=Math.round(Kt+Bt*Zt),bn=Sn+Bt*On;for(let Rn=Dn;Rn<=un;Rn++)Yt[Rn]=bn;Dn=un+1}for(let Bt=Dn;Bt<256;Bt++)Yt[Bt]=Yt[Dn-1];return Yt.join(",")},vn=`g_${pt(this,Et)}_hcm_highlight_filter`,yn=tn(this,yt,Gt(this,Lt,dr).call(this,vn));return Gt(this,Lt,Or).call(this,yn),Gt(this,Lt,rr).call(this,gn($t[0],hn[0],5),gn($t[1],hn[1],5),gn($t[2],hn[2],5),yn),tn(this,Pt,`url(#${vn})`),pt(this,Pt)}destroy(vt=!1){vt&&(pt(this,at)||pt(this,Pt))||(pt(this,Rt)&&(pt(this,Rt).parentNode.parentNode.remove(),tn(this,Rt,null)),pt(this,At)&&(pt(this,At).clear(),tn(this,At,null)),tn(this,jt,0))}}At=new WeakMap,Rt=new WeakMap,Et=new WeakMap,gt=new WeakMap,Mt=new WeakMap,_t=new WeakMap,at=new WeakMap,yt=new WeakMap,kt=new WeakMap,Pt=new WeakMap,jt=new WeakMap,Lt=new WeakSet,Yn=function(){return pt(this,At)||tn(this,At,new Map)},Qn=function(){if(!pt(this,Rt)){const vt=pt(this,gt).createElement("div"),{style:It}=vt;It.visibility="hidden",It.contain="strict",It.width=It.height=0,It.position="absolute",It.top=It.left=0,It.zIndex=-1;const zt=pt(this,gt).createElementNS(d,"svg");zt.setAttribute("width",0),zt.setAttribute("height",0),tn(this,Rt,pt(this,gt).createElementNS(d,"defs")),vt.append(zt),zt.append(pt(this,Rt)),pt(this,gt).body.append(vt)}return pt(this,Rt)},Or=function(vt){const It=pt(this,gt).createElementNS(d,"feColorMatrix");It.setAttribute("type","matrix"),It.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),vt.append(It)},dr=function(vt){const It=pt(this,gt).createElementNS(d,"filter");return It.setAttribute("color-interpolation-filters","sRGB"),It.setAttribute("id",vt),pt(this,Lt,Qn).append(It),It},hr=function(vt,It,zt){const Wt=pt(this,gt).createElementNS(d,It);Wt.setAttribute("type","discrete"),Wt.setAttribute("tableValues",zt),vt.append(Wt)},rr=function(vt,It,zt,Wt){const sn=pt(this,gt).createElementNS(d,"feComponentTransfer");Wt.append(sn),Gt(this,Lt,hr).call(this,sn,"feFuncR",vt),Gt(this,Lt,hr).call(this,sn,"feFuncG",It),Gt(this,Lt,hr).call(this,sn,"feFuncB",zt)},ir=function(vt){return pt(this,Lt,Qn).style.color=vt,ft(getComputedStyle(pt(this,Lt,Qn)).getPropertyValue("color"))},i.DOMFilterFactory=g;class b extends o.BaseCanvasFactory{constructor({ownerDocument:Vt=globalThis.document}={}){super(),this._document=Vt}_createCanvas(Vt,vt){const It=this._document.createElement("canvas");return It.width=Vt,It.height=vt,It}}i.DOMCanvasFactory=b;async function _(Ft,Vt=!1){if(ut(Ft,document.baseURI)){const vt=await fetch(Ft);if(!vt.ok)throw new Error(vt.statusText);return Vt?new Uint8Array(await vt.arrayBuffer()):(0,a.stringToBytes)(await vt.text())}return new Promise((vt,It)=>{const zt=new XMLHttpRequest;zt.open("GET",Ft,!0),Vt&&(zt.responseType="arraybuffer"),zt.onreadystatechange=()=>{if(zt.readyState===XMLHttpRequest.DONE){if(zt.status===200||zt.status===0){let Wt;if(Vt&&zt.response?Wt=new Uint8Array(zt.response):!Vt&&zt.responseText&&(Wt=(0,a.stringToBytes)(zt.responseText)),Wt){vt(Wt);return}}It(new Error(zt.statusText))}},zt.send(null)})}class j extends o.BaseCMapReaderFactory{_fetchData(Vt,vt){return _(Vt,this.isCompressed).then(It=>({cMapData:It,compressionType:vt}))}}i.DOMCMapReaderFactory=j;class $ extends o.BaseStandardFontDataFactory{_fetchData(Vt){return _(Vt,!0)}}i.DOMStandardFontDataFactory=$;class _e extends o.BaseSVGFactory{_createSVG(Vt){return document.createElementNS(d,Vt)}}i.DOMSVGFactory=_e;class et{constructor({viewBox:Vt,scale:vt,rotation:It,offsetX:zt=0,offsetY:Wt=0,dontFlip:sn=!1}){this.viewBox=Vt,this.scale=vt,this.rotation=It,this.offsetX=zt,this.offsetY=Wt;const dn=(Vt[2]+Vt[0])/2,pn=(Vt[3]+Vt[1])/2;let Kt,Dt,$t,hn;switch(It%=360,It<0&&(It+=360),It){case 180:Kt=-1,Dt=0,$t=0,hn=1;break;case 90:Kt=0,Dt=1,$t=1,hn=0;break;case 270:Kt=0,Dt=-1,$t=-1,hn=0;break;case 0:Kt=1,Dt=0,$t=0,hn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}sn&&($t=-$t,hn=-hn);let gn,vn,yn,wn;Kt===0?(gn=Math.abs(pn-Vt[1])*vt+zt,vn=Math.abs(dn-Vt[0])*vt+Wt,yn=(Vt[3]-Vt[1])*vt,wn=(Vt[2]-Vt[0])*vt):(gn=Math.abs(dn-Vt[0])*vt+zt,vn=Math.abs(pn-Vt[1])*vt+Wt,yn=(Vt[2]-Vt[0])*vt,wn=(Vt[3]-Vt[1])*vt),this.transform=[Kt*vt,Dt*vt,$t*vt,hn*vt,gn-Kt*vt*dn-$t*vt*pn,vn-Dt*vt*dn-hn*vt*pn],this.width=yn,this.height=wn}get rawDims(){const{viewBox:Vt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:Vt[2]-Vt[0],pageHeight:Vt[3]-Vt[1],pageX:Vt[0],pageY:Vt[1]})}clone({scale:Vt=this.scale,rotation:vt=this.rotation,offsetX:It=this.offsetX,offsetY:zt=this.offsetY,dontFlip:Wt=!1}={}){return new et({viewBox:this.viewBox.slice(),scale:Vt,rotation:vt,offsetX:It,offsetY:zt,dontFlip:Wt})}convertToViewportPoint(Vt,vt){return a.Util.applyTransform([Vt,vt],this.transform)}convertToViewportRectangle(Vt){const vt=a.Util.applyTransform([Vt[0],Vt[1]],this.transform),It=a.Util.applyTransform([Vt[2],Vt[3]],this.transform);return[vt[0],vt[1],It[0],It[1]]}convertToPdfPoint(Vt,vt){return a.Util.applyInverseTransform([Vt,vt],this.transform)}}i.PageViewport=et;class nt extends a.BaseException{constructor(Vt,vt=0){super(Vt,"RenderingCancelledException"),this.extraDelay=vt}}i.RenderingCancelledException=nt;function it(Ft){const Vt=Ft.length;let vt=0;for(;vt<Vt&&Ft[vt].trim()==="";)vt++;return Ft.substring(vt,vt+5).toLowerCase()==="data:"}function st(Ft){return typeof Ft=="string"&&/\.pdf$/i.test(Ft)}function tt(Ft,Vt=!1){return Vt||([Ft]=Ft.split(/[#?]/,1)),Ft.substring(Ft.lastIndexOf("/")+1)}function rt(Ft,Vt="document.pdf"){if(typeof Ft!="string")return Vt;if(it(Ft))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Vt;const vt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,It=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,zt=vt.exec(Ft);let Wt=It.exec(zt[1])||It.exec(zt[2])||It.exec(zt[3]);if(Wt&&(Wt=Wt[0],Wt.includes("%")))try{Wt=It.exec(decodeURIComponent(Wt))[0]}catch{}return Wt||Vt}class ot{constructor(){$n(this,"started",Object.create(null));$n(this,"times",[])}time(Vt){Vt in this.started&&(0,a.warn)(`Timer is already running for ${Vt}`),this.started[Vt]=Date.now()}timeEnd(Vt){Vt in this.started||(0,a.warn)(`Timer has not been started for ${Vt}`),this.times.push({name:Vt,start:this.started[Vt],end:Date.now()}),delete this.started[Vt]}toString(){const Vt=[];let vt=0;for(const{name:It}of this.times)vt=Math.max(It.length,vt);for(const{name:It,start:zt,end:Wt}of this.times)Vt.push(`${It.padEnd(vt)} ${Wt-zt}ms
`);return Vt.join("")}}i.StatTimer=ot;function ut(Ft,Vt){try{const{protocol:vt}=Vt?new URL(Ft,Vt):new URL(Ft);return vt==="http:"||vt==="https:"}catch{return!1}}function lt(Ft){Ft.preventDefault()}function ct(Ft,Vt=!1){return new Promise((vt,It)=>{const zt=document.createElement("script");zt.src=Ft,zt.onload=function(Wt){Vt&&zt.remove(),vt(Wt)},zt.onerror=function(){It(new Error(`Cannot load script at: ${zt.src}`))},(document.head||document.documentElement).append(zt)})}function dt(Ft){console.log("Deprecated API usage: "+Ft)}let ht;class mt{static toDateObject(Vt){if(!Vt||typeof Vt!="string")return null;ht||(ht=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const vt=ht.exec(Vt);if(!vt)return null;const It=parseInt(vt[1],10);let zt=parseInt(vt[2],10);zt=zt>=1&&zt<=12?zt-1:0;let Wt=parseInt(vt[3],10);Wt=Wt>=1&&Wt<=31?Wt:1;let sn=parseInt(vt[4],10);sn=sn>=0&&sn<=23?sn:0;let dn=parseInt(vt[5],10);dn=dn>=0&&dn<=59?dn:0;let pn=parseInt(vt[6],10);pn=pn>=0&&pn<=59?pn:0;const Kt=vt[7]||"Z";let Dt=parseInt(vt[8],10);Dt=Dt>=0&&Dt<=23?Dt:0;let $t=parseInt(vt[9],10)||0;return $t=$t>=0&&$t<=59?$t:0,Kt==="-"?(sn+=Dt,dn+=$t):Kt==="+"&&(sn-=Dt,dn-=$t),new Date(Date.UTC(It,zt,Wt,sn,dn,pn))}}i.PDFDateString=mt;function xt(Ft,{scale:Vt=1,rotation:vt=0}){const{width:It,height:zt}=Ft.attributes.style,Wt=[0,0,parseInt(It),parseInt(zt)];return new et({viewBox:Wt,scale:Vt,rotation:vt})}function ft(Ft){if(Ft.startsWith("#")){const Vt=parseInt(Ft.slice(1),16);return[(Vt&16711680)>>16,(Vt&65280)>>8,Vt&255]}return Ft.startsWith("rgb(")?Ft.slice(4,-1).split(",").map(Vt=>parseInt(Vt)):Ft.startsWith("rgba(")?Ft.slice(5,-1).split(",").map(Vt=>parseInt(Vt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${Ft}"`),[0,0,0])}function bt(Ft){const Vt=document.createElement("span");Vt.style.visibility="hidden",document.body.append(Vt);for(const vt of Ft.keys()){Vt.style.color=vt;const It=window.getComputedStyle(Vt).color;Ft.set(vt,ft(It))}Vt.remove()}function wt(Ft){const{a:Vt,b:vt,c:It,d:zt,e:Wt,f:sn}=Ft.getTransform();return[Vt,vt,It,zt,Wt,sn]}function Ct(Ft){const{a:Vt,b:vt,c:It,d:zt,e:Wt,f:sn}=Ft.getTransform().invertSelf();return[Vt,vt,It,zt,Wt,sn]}function Tt(Ft,Vt,vt=!1,It=!0){if(Vt instanceof et){const{pageWidth:zt,pageHeight:Wt}=Vt.rawDims,{style:sn}=Ft,dn=a.FeatureTest.isCSSRoundSupported,pn=`var(--scale-factor) * ${zt}px`,Kt=`var(--scale-factor) * ${Wt}px`,Dt=dn?`round(${pn}, 1px)`:`calc(${pn})`,$t=dn?`round(${Kt}, 1px)`:`calc(${Kt})`;!vt||Vt.rotation%180===0?(sn.width=Dt,sn.height=$t):(sn.width=$t,sn.height=Dt)}It&&Ft.setAttribute("data-main-rotation",Vt.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(j){return"none"}addHCMFilter(j,$){return"none"}addHighlightHCMFilter(j,$,_e,et){return"none"}destroy(j=!1){}}i.BaseFilterFactory=a;class d{constructor(){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(j,$){if(j<=0||$<=0)throw new Error("Invalid canvas size");const _e=this._createCanvas(j,$);return{canvas:_e,context:_e.getContext("2d")}}reset(j,$,_e){if(!j.canvas)throw new Error("Canvas is not specified");if($<=0||_e<=0)throw new Error("Invalid canvas size");j.canvas.width=$,j.canvas.height=_e}destroy(j){if(!j.canvas)throw new Error("Canvas is not specified");j.canvas.width=0,j.canvas.height=0,j.canvas=null,j.context=null}_createCanvas(j,$){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=d;class h{constructor({baseUrl:j=null,isCompressed:$=!0}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=j,this.isCompressed=$}async fetch({name:j}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!j)throw new Error("CMap name must be specified.");const $=this.baseUrl+j+(this.isCompressed?".bcmap":""),_e=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData($,_e).catch(et=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${$}`)})}_fetchData(j,$){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=h;class g{constructor({baseUrl:j=null}){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=j}async fetch({filename:j}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!j)throw new Error("Font filename must be specified.");const $=`${this.baseUrl}${j}`;return this._fetchData($).catch(_e=>{throw new Error(`Unable to load font data at: ${$}`)})}_fetchData(j){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=g;class b{constructor(){this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(j,$,_e=!1){if(j<=0||$<=0)throw new Error("Invalid SVG dimensions");const et=this._createSVG("svg:svg");return et.setAttribute("version","1.1"),_e||(et.setAttribute("width",`${j}px`),et.setAttribute("height",`${$}px`)),et.setAttribute("preserveAspectRatio","none"),et.setAttribute("viewBox",`0 0 ${j} ${$}`),et}createElement(j){if(typeof j!="string")throw new Error("Invalid SVG element type");return this._createSVG(j)}_createSVG(j){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=b},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,d=4294901760,h=65535;class g{constructor(_){this.h1=_?_&4294967295:a,this.h2=_?_&4294967295:a}update(_){let j,$;if(typeof _=="string"){j=new Uint8Array(_.length*2),$=0;for(let dt=0,ht=_.length;dt<ht;dt++){const mt=_.charCodeAt(dt);mt<=255?j[$++]=mt:(j[$++]=mt>>>8,j[$++]=mt&255)}}else if((0,o.isArrayBuffer)(_))j=_.slice(),$=j.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _e=$>>2,et=$-_e*4,nt=new Uint32Array(j.buffer,0,_e);let it=0,st=0,tt=this.h1,rt=this.h2;const ot=3432918353,ut=461845907,lt=ot&h,ct=ut&h;for(let dt=0;dt<_e;dt++)dt&1?(it=nt[dt],it=it*ot&d|it*lt&h,it=it<<15|it>>>17,it=it*ut&d|it*ct&h,tt^=it,tt=tt<<13|tt>>>19,tt=tt*5+3864292196):(st=nt[dt],st=st*ot&d|st*lt&h,st=st<<15|st>>>17,st=st*ut&d|st*ct&h,rt^=st,rt=rt<<13|rt>>>19,rt=rt*5+3864292196);switch(it=0,et){case 3:it^=j[_e*4+2]<<16;case 2:it^=j[_e*4+1]<<8;case 1:it^=j[_e*4],it=it*ot&d|it*lt&h,it=it<<15|it>>>17,it=it*ut&d|it*ct&h,_e&1?tt^=it:rt^=it}this.h1=tt,this.h2=rt}hexdigest(){let _=this.h1,j=this.h2;return _^=j>>>1,_=_*3981806797&d|_*36045&h,j=j*4283543511&d|((j<<16|_>>>16)*2950163797&d)>>>16,_^=j>>>1,_=_*444984403&d|_*60499&h,j=j*3301882366&d|((j<<16|_>>>16)*3120437893&d)>>>16,_^=j>>>1,(_>>>0).toString(16).padStart(8,"0")+(j>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=g},(e,i,s)=>{var h;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1);class a{constructor({ownerDocument:b=globalThis.document,styleElement:_=null}){Jt(this,h,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(b,_.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),pt(this,h).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||pt(this,h).has(b.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:j,style:$}=b,_e=new FontFace(_,j,$);this.addNativeFontFace(_e);try{await _e.load(),pt(this,h).add(_)}catch{(0,o.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(_e)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const j=b.createNativeFontFace();if(j){this.addNativeFontFace(j);try{await j.loaded}catch($){throw(0,o.warn)(`Failed to load font '${j.family}': '${$}'.`),b.disableFontFace=!0,$}}return}const _=b.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(j=>{const $=this._queueLoadingCallback(j);this._prepareFontLoadEvent(b,$)})}}get isFontLoadingAPISupported(){var _;const b=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function _(){for((0,o.assert)(!$.done,"completeRequest() cannot be called twice."),$.done=!0;j.length>0&&j[0].done;){const _e=j.shift();setTimeout(_e.callback,0)}}const{loadingRequests:j}=this,$={done:!1,complete:_,callback:b};return j.push($),$}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,_){function j(ft,bt){return ft.charCodeAt(bt)<<24|ft.charCodeAt(bt+1)<<16|ft.charCodeAt(bt+2)<<8|ft.charCodeAt(bt+3)&255}function $(ft,bt,wt,Ct){const Tt=ft.substring(0,bt),St=ft.substring(bt+wt);return Tt+Ct+St}let _e,et;const nt=this._document.createElement("canvas");nt.width=1,nt.height=1;const it=nt.getContext("2d");let st=0;function tt(ft,bt){if(++st>30){(0,o.warn)("Load test font never loaded."),bt();return}if(it.font="30px "+ft,it.fillText(".",0,20),it.getImageData(0,0,1,1).data[3]>0){bt();return}setTimeout(tt.bind(null,ft,bt))}const rt=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=$(ot,976,rt.length,rt);const lt=16,ct=1482184792;let dt=j(ot,lt);for(_e=0,et=rt.length-3;_e<et;_e+=4)dt=dt-ct+j(rt,_e)|0;_e<rt.length&&(dt=dt-ct+j(rt+"XXX",_e)|0),ot=$(ot,lt,4,(0,o.string32)(dt));const ht=`url(data:font/opentype;base64,${btoa(ot)});`,mt=`@font-face {font-family:"${rt}";src:${ht}}`;this.insertRule(mt);const xt=this._document.createElement("div");xt.style.visibility="hidden",xt.style.width=xt.style.height="10px",xt.style.position="absolute",xt.style.top=xt.style.left="0px";for(const ft of[b.loadedName,rt]){const bt=this._document.createElement("span");bt.textContent="Hi",bt.style.fontFamily=ft,xt.append(bt)}this._document.body.append(xt),tt(rt,()=>{xt.remove(),_.complete()})}}h=new WeakMap,i.FontLoader=a;class d{constructor(b,{isEvalSupported:_=!0,disableFontFace:j=!1,ignoreErrors:$=!1,inspectFont:_e=null}){this.compiledGlyphs=Object.create(null);for(const et in b)this[et]=b[et];this.isEvalSupported=_!==!1,this.disableFontFace=j===!0,this.ignoreErrors=$===!0,this._inspectFont=_e}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}return(_=this._inspectFont)==null||_.call(this,this),b}createFontFaceRule(){var $;if(!this.data||this.disableFontFace)return null;const b=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(b)});`;let j;if(!this.cssFontInfo)j=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),j=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${_}}`}return($=this._inspectFont)==null||$.call(this,this,_),j}getPathGenerator(b,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let j;try{j=b.get(this.loadedName+"_path_"+_)}catch($){if(!this.ignoreErrors)throw $;return(0,o.warn)(`getPathGenerator - ignoring character: "${$}".`),this.compiledGlyphs[_]=function(_e,et){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const $=[];for(const _e of j){const et=_e.args!==void 0?_e.args.join(","):"";$.push("c.",_e.cmd,"(",et,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",$.join(""))}return this.compiledGlyphs[_]=function($,_e){for(const et of j)et.cmd==="scale"&&(et.args=[_e,-_e]),$[et.cmd].apply($,et.args)}}}i.FontFaceObject=d},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const a=function(_){return new Promise((j,$)=>{require$$5.readFile(_,(et,nt)=>{if(et||!nt){$(new Error(et));return}j(new Uint8Array(nt))})})};class d extends o.BaseFilterFactory{}i.NodeFilterFactory=d;class h extends o.BaseCanvasFactory{_createCanvas(j,$){return require$$5.createCanvas(j,$)}}i.NodeCanvasFactory=h;class g extends o.BaseCMapReaderFactory{_fetchData(j,$){return a(j).then(_e=>({cMapData:_e,compressionType:$}))}}i.NodeCMapReaderFactory=g;class b extends o.BaseStandardFontDataFactory{_fetchData(j){return a(j)}}i.NodeStandardFontDataFactory=b},(e,i,s)=>{var Rt,Fr,Br;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(1),a=s(6),d=s(12),h=s(13);const g=16,b=100,_=4096,j=15,$=10,_e=1e3,et=16;function nt(_t,at){if(_t._removeMirroring)throw new Error("Context is already forwarding operations.");_t.__originalSave=_t.save,_t.__originalRestore=_t.restore,_t.__originalRotate=_t.rotate,_t.__originalScale=_t.scale,_t.__originalTranslate=_t.translate,_t.__originalTransform=_t.transform,_t.__originalSetTransform=_t.setTransform,_t.__originalResetTransform=_t.resetTransform,_t.__originalClip=_t.clip,_t.__originalMoveTo=_t.moveTo,_t.__originalLineTo=_t.lineTo,_t.__originalBezierCurveTo=_t.bezierCurveTo,_t.__originalRect=_t.rect,_t.__originalClosePath=_t.closePath,_t.__originalBeginPath=_t.beginPath,_t._removeMirroring=()=>{_t.save=_t.__originalSave,_t.restore=_t.__originalRestore,_t.rotate=_t.__originalRotate,_t.scale=_t.__originalScale,_t.translate=_t.__originalTranslate,_t.transform=_t.__originalTransform,_t.setTransform=_t.__originalSetTransform,_t.resetTransform=_t.__originalResetTransform,_t.clip=_t.__originalClip,_t.moveTo=_t.__originalMoveTo,_t.lineTo=_t.__originalLineTo,_t.bezierCurveTo=_t.__originalBezierCurveTo,_t.rect=_t.__originalRect,_t.closePath=_t.__originalClosePath,_t.beginPath=_t.__originalBeginPath,delete _t._removeMirroring},_t.save=function(){at.save(),this.__originalSave()},_t.restore=function(){at.restore(),this.__originalRestore()},_t.translate=function(kt,Pt){at.translate(kt,Pt),this.__originalTranslate(kt,Pt)},_t.scale=function(kt,Pt){at.scale(kt,Pt),this.__originalScale(kt,Pt)},_t.transform=function(kt,Pt,jt,Lt,Ut,Xt){at.transform(kt,Pt,jt,Lt,Ut,Xt),this.__originalTransform(kt,Pt,jt,Lt,Ut,Xt)},_t.setTransform=function(kt,Pt,jt,Lt,Ut,Xt){at.setTransform(kt,Pt,jt,Lt,Ut,Xt),this.__originalSetTransform(kt,Pt,jt,Lt,Ut,Xt)},_t.resetTransform=function(){at.resetTransform(),this.__originalResetTransform()},_t.rotate=function(kt){at.rotate(kt),this.__originalRotate(kt)},_t.clip=function(kt){at.clip(kt),this.__originalClip(kt)},_t.moveTo=function(yt,kt){at.moveTo(yt,kt),this.__originalMoveTo(yt,kt)},_t.lineTo=function(yt,kt){at.lineTo(yt,kt),this.__originalLineTo(yt,kt)},_t.bezierCurveTo=function(yt,kt,Pt,jt,Lt,Ut){at.bezierCurveTo(yt,kt,Pt,jt,Lt,Ut),this.__originalBezierCurveTo(yt,kt,Pt,jt,Lt,Ut)},_t.rect=function(yt,kt,Pt,jt){at.rect(yt,kt,Pt,jt),this.__originalRect(yt,kt,Pt,jt)},_t.closePath=function(){at.closePath(),this.__originalClosePath()},_t.beginPath=function(){at.beginPath(),this.__originalBeginPath()}}class it{constructor(at){this.canvasFactory=at,this.cache=Object.create(null)}getCanvas(at,yt,kt){let Pt;return this.cache[at]!==void 0?(Pt=this.cache[at],this.canvasFactory.reset(Pt,yt,kt)):(Pt=this.canvasFactory.create(yt,kt),this.cache[at]=Pt),Pt}delete(at){delete this.cache[at]}clear(){for(const at in this.cache){const yt=this.cache[at];this.canvasFactory.destroy(yt),delete this.cache[at]}}}function st(_t,at,yt,kt,Pt,jt,Lt,Ut,Xt,Qt){const[rn,ln,an,qt,Ft,Vt]=(0,a.getCurrentTransform)(_t);if(ln===0&&an===0){const zt=Lt*rn+Ft,Wt=Math.round(zt),sn=Ut*qt+Vt,dn=Math.round(sn),pn=(Lt+Xt)*rn+Ft,Kt=Math.abs(Math.round(pn)-Wt)||1,Dt=(Ut+Qt)*qt+Vt,$t=Math.abs(Math.round(Dt)-dn)||1;return _t.setTransform(Math.sign(rn),0,0,Math.sign(qt),Wt,dn),_t.drawImage(at,yt,kt,Pt,jt,0,0,Kt,$t),_t.setTransform(rn,ln,an,qt,Ft,Vt),[Kt,$t]}if(rn===0&&qt===0){const zt=Ut*an+Ft,Wt=Math.round(zt),sn=Lt*ln+Vt,dn=Math.round(sn),pn=(Ut+Qt)*an+Ft,Kt=Math.abs(Math.round(pn)-Wt)||1,Dt=(Lt+Xt)*ln+Vt,$t=Math.abs(Math.round(Dt)-dn)||1;return _t.setTransform(0,Math.sign(ln),Math.sign(an),0,Wt,dn),_t.drawImage(at,yt,kt,Pt,jt,0,0,$t,Kt),_t.setTransform(rn,ln,an,qt,Ft,Vt),[$t,Kt]}_t.drawImage(at,yt,kt,Pt,jt,Lt,Ut,Xt,Qt);const vt=Math.hypot(rn,ln),It=Math.hypot(an,qt);return[vt*Xt,It*Qt]}function tt(_t){const{width:at,height:yt}=_t;if(at>_e||yt>_e)return null;const kt=1e3,Pt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),jt=at+1;let Lt=new Uint8Array(jt*(yt+1)),Ut,Xt,Qt;const rn=at+7&-8;let ln=new Uint8Array(rn*yt),an=0;for(const It of _t.data){let zt=128;for(;zt>0;)ln[an++]=It&zt?0:255,zt>>=1}let qt=0;for(an=0,ln[an]!==0&&(Lt[0]=1,++qt),Xt=1;Xt<at;Xt++)ln[an]!==ln[an+1]&&(Lt[Xt]=ln[an]?2:1,++qt),an++;for(ln[an]!==0&&(Lt[Xt]=2,++qt),Ut=1;Ut<yt;Ut++){an=Ut*rn,Qt=Ut*jt,ln[an-rn]!==ln[an]&&(Lt[Qt]=ln[an]?1:8,++qt);let It=(ln[an]?4:0)+(ln[an-rn]?8:0);for(Xt=1;Xt<at;Xt++)It=(It>>2)+(ln[an+1]?4:0)+(ln[an-rn+1]?8:0),Pt[It]&&(Lt[Qt+Xt]=Pt[It],++qt),an++;if(ln[an-rn]!==ln[an]&&(Lt[Qt+Xt]=ln[an]?2:4,++qt),qt>kt)return null}for(an=rn*(yt-1),Qt=Ut*jt,ln[an]!==0&&(Lt[Qt]=8,++qt),Xt=1;Xt<at;Xt++)ln[an]!==ln[an+1]&&(Lt[Qt+Xt]=ln[an]?4:8,++qt),an++;if(ln[an]!==0&&(Lt[Qt+Xt]=4,++qt),qt>kt)return null;const Ft=new Int32Array([0,jt,-1,0,-jt,0,0,0,1]),Vt=new Path2D;for(Ut=0;qt&&Ut<=yt;Ut++){let It=Ut*jt;const zt=It+at;for(;It<zt&&!Lt[It];)It++;if(It===zt)continue;Vt.moveTo(It%jt,Ut);const Wt=It;let sn=Lt[It];do{const dn=Ft[sn];do It+=dn;while(!Lt[It]);const pn=Lt[It];pn!==5&&pn!==10?(sn=pn,Lt[It]=0):(sn=pn&51*sn>>4,Lt[It]&=sn>>2|sn<<2),Vt.lineTo(It%jt,It/jt|0),Lt[It]||--qt}while(Wt!==It);--Ut}return ln=null,Lt=null,function(It){It.save(),It.scale(1/at,-1/yt),It.translate(0,-yt),It.fill(Vt),It.beginPath(),It.restore()}}class rt{constructor(at,yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,at,yt])}clone(){const at=Object.create(this);return at.clipBox=this.clipBox.slice(),at}setCurrentPoint(at,yt){this.x=at,this.y=yt}updatePathMinMax(at,yt,kt){[yt,kt]=o.Util.applyTransform([yt,kt],at),this.minX=Math.min(this.minX,yt),this.minY=Math.min(this.minY,kt),this.maxX=Math.max(this.maxX,yt),this.maxY=Math.max(this.maxY,kt)}updateRectMinMax(at,yt){const kt=o.Util.applyTransform(yt,at),Pt=o.Util.applyTransform(yt.slice(2),at);this.minX=Math.min(this.minX,kt[0],Pt[0]),this.minY=Math.min(this.minY,kt[1],Pt[1]),this.maxX=Math.max(this.maxX,kt[0],Pt[0]),this.maxY=Math.max(this.maxY,kt[1],Pt[1])}updateScalingPathMinMax(at,yt){o.Util.scaleMinMax(at,yt),this.minX=Math.min(this.minX,yt[0]),this.maxX=Math.max(this.maxX,yt[1]),this.minY=Math.min(this.minY,yt[2]),this.maxY=Math.max(this.maxY,yt[3])}updateCurvePathMinMax(at,yt,kt,Pt,jt,Lt,Ut,Xt,Qt,rn){const ln=o.Util.bezierBoundingBox(yt,kt,Pt,jt,Lt,Ut,Xt,Qt);if(rn){rn[0]=Math.min(rn[0],ln[0],ln[2]),rn[1]=Math.max(rn[1],ln[0],ln[2]),rn[2]=Math.min(rn[2],ln[1],ln[3]),rn[3]=Math.max(rn[3],ln[1],ln[3]);return}this.updateRectMinMax(at,ln)}getPathBoundingBox(at=d.PathType.FILL,yt=null){const kt=[this.minX,this.minY,this.maxX,this.maxY];if(at===d.PathType.STROKE){yt||(0,o.unreachable)("Stroke bounding box must include transform.");const Pt=o.Util.singularValueDecompose2dScale(yt),jt=Pt[0]*this.lineWidth/2,Lt=Pt[1]*this.lineWidth/2;kt[0]-=jt,kt[1]-=Lt,kt[2]+=jt,kt[3]+=Lt}return kt}updateClipFromPath(){const at=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(at||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(at){this.clipBox=at,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(at=d.PathType.FILL,yt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(at,yt))}}function ot(_t,at){if(typeof ImageData<"u"&&at instanceof ImageData){_t.putImageData(at,0,0);return}const yt=at.height,kt=at.width,Pt=yt%et,jt=(yt-Pt)/et,Lt=Pt===0?jt:jt+1,Ut=_t.createImageData(kt,et);let Xt=0,Qt;const rn=at.data,ln=Ut.data;let an,qt,Ft,Vt;if(at.kind===o.ImageKind.GRAYSCALE_1BPP){const vt=rn.byteLength,It=new Uint32Array(ln.buffer,0,ln.byteLength>>2),zt=It.length,Wt=kt+7>>3,sn=4294967295,dn=o.FeatureTest.isLittleEndian?4278190080:255;for(an=0;an<Lt;an++){for(Ft=an<jt?et:Pt,Qt=0,qt=0;qt<Ft;qt++){const pn=vt-Xt;let Kt=0;const Dt=pn>Wt?kt:pn*8-7,$t=Dt&-8;let hn=0,gn=0;for(;Kt<$t;Kt+=8)gn=rn[Xt++],It[Qt++]=gn&128?sn:dn,It[Qt++]=gn&64?sn:dn,It[Qt++]=gn&32?sn:dn,It[Qt++]=gn&16?sn:dn,It[Qt++]=gn&8?sn:dn,It[Qt++]=gn&4?sn:dn,It[Qt++]=gn&2?sn:dn,It[Qt++]=gn&1?sn:dn;for(;Kt<Dt;Kt++)hn===0&&(gn=rn[Xt++],hn=128),It[Qt++]=gn&hn?sn:dn,hn>>=1}for(;Qt<zt;)It[Qt++]=0;_t.putImageData(Ut,0,an*et)}}else if(at.kind===o.ImageKind.RGBA_32BPP){for(qt=0,Vt=kt*et*4,an=0;an<jt;an++)ln.set(rn.subarray(Xt,Xt+Vt)),Xt+=Vt,_t.putImageData(Ut,0,qt),qt+=et;an<Lt&&(Vt=kt*Pt*4,ln.set(rn.subarray(Xt,Xt+Vt)),_t.putImageData(Ut,0,qt))}else if(at.kind===o.ImageKind.RGB_24BPP)for(Ft=et,Vt=kt*Ft,an=0;an<Lt;an++){for(an>=jt&&(Ft=Pt,Vt=kt*Ft),Qt=0,qt=Vt;qt--;)ln[Qt++]=rn[Xt++],ln[Qt++]=rn[Xt++],ln[Qt++]=rn[Xt++],ln[Qt++]=255;_t.putImageData(Ut,0,an*et)}else throw new Error(`bad image kind: ${at.kind}`)}function ut(_t,at){if(at.bitmap){_t.drawImage(at.bitmap,0,0);return}const yt=at.height,kt=at.width,Pt=yt%et,jt=(yt-Pt)/et,Lt=Pt===0?jt:jt+1,Ut=_t.createImageData(kt,et);let Xt=0;const Qt=at.data,rn=Ut.data;for(let ln=0;ln<Lt;ln++){const an=ln<jt?et:Pt;({srcPos:Xt}=(0,h.convertBlackAndWhiteToRGBA)({src:Qt,srcPos:Xt,dest:rn,width:kt,height:an,nonBlackColor:0})),_t.putImageData(Ut,0,ln*et)}}function lt(_t,at){const yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const kt of yt)_t[kt]!==void 0&&(at[kt]=_t[kt]);_t.setLineDash!==void 0&&(at.setLineDash(_t.getLineDash()),at.lineDashOffset=_t.lineDashOffset)}function ct(_t){if(_t.strokeStyle=_t.fillStyle="#000000",_t.fillRule="nonzero",_t.globalAlpha=1,_t.lineWidth=1,_t.lineCap="butt",_t.lineJoin="miter",_t.miterLimit=10,_t.globalCompositeOperation="source-over",_t.font="10px sans-serif",_t.setLineDash!==void 0&&(_t.setLineDash([]),_t.lineDashOffset=0),!o.isNodeJS){const{filter:at}=_t;at!=="none"&&at!==""&&(_t.filter="none")}}function dt(_t,at,yt,kt){const Pt=_t.length;for(let jt=3;jt<Pt;jt+=4){const Lt=_t[jt];if(Lt===0)_t[jt-3]=at,_t[jt-2]=yt,_t[jt-1]=kt;else if(Lt<255){const Ut=255-Lt;_t[jt-3]=_t[jt-3]*Lt+at*Ut>>8,_t[jt-2]=_t[jt-2]*Lt+yt*Ut>>8,_t[jt-1]=_t[jt-1]*Lt+kt*Ut>>8}}}function ht(_t,at,yt){const kt=_t.length,Pt=1/255;for(let jt=3;jt<kt;jt+=4){const Lt=yt?yt[_t[jt]]:_t[jt];at[jt]=at[jt]*Lt*Pt|0}}function mt(_t,at,yt){const kt=_t.length;for(let Pt=3;Pt<kt;Pt+=4){const jt=_t[Pt-3]*77+_t[Pt-2]*152+_t[Pt-1]*28;at[Pt]=yt?at[Pt]*yt[jt>>8]>>8:at[Pt]*jt>>16}}function xt(_t,at,yt,kt,Pt,jt,Lt,Ut,Xt,Qt,rn){const ln=!!jt,an=ln?jt[0]:0,qt=ln?jt[1]:0,Ft=ln?jt[2]:0,Vt=Pt==="Luminosity"?mt:ht,It=Math.min(kt,Math.ceil(1048576/yt));for(let zt=0;zt<kt;zt+=It){const Wt=Math.min(It,kt-zt),sn=_t.getImageData(Ut-Qt,zt+(Xt-rn),yt,Wt),dn=at.getImageData(Ut,zt+Xt,yt,Wt);ln&&dt(sn.data,an,qt,Ft),Vt(sn.data,dn.data,Lt),at.putImageData(dn,Ut,zt+Xt)}}function ft(_t,at,yt,kt){const Pt=kt[0],jt=kt[1],Lt=kt[2]-Pt,Ut=kt[3]-jt;Lt===0||Ut===0||(xt(at.context,yt,Lt,Ut,at.subtype,at.backdrop,at.transferMap,Pt,jt,at.offsetX,at.offsetY),_t.save(),_t.globalAlpha=1,_t.globalCompositeOperation="source-over",_t.setTransform(1,0,0,1,0,0),_t.drawImage(yt.canvas,0,0),_t.restore())}function bt(_t,at){const yt=o.Util.singularValueDecompose2dScale(_t);yt[0]=Math.fround(yt[0]),yt[1]=Math.fround(yt[1]);const kt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return at!==void 0?at:yt[0]<=kt||yt[1]<=kt}const wt=["butt","round","square"],Ct=["miter","round","bevel"],Tt={},St={},Mt=class Mt{constructor(at,yt,kt,Pt,jt,{optionalContentConfig:Lt,markedContentStack:Ut=null},Xt,Qt){Jt(this,Rt);this.ctx=at,this.current=new rt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=yt,this.objs=kt,this.canvasFactory=Pt,this.filterFactory=jt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ut||[],this.optionalContentConfig=Lt,this.cachedCanvases=new it(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Xt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Qt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(at,yt=null){return typeof at=="string"?at.startsWith("g_")?this.commonObjs.get(at):this.objs.get(at):yt}beginDrawing({transform:at,viewport:yt,transparency:kt=!1,background:Pt=null}){const jt=this.ctx.canvas.width,Lt=this.ctx.canvas.height,Ut=this.ctx.fillStyle;if(this.ctx.fillStyle=Pt||"#ffffff",this.ctx.fillRect(0,0,jt,Lt),this.ctx.fillStyle=Ut,kt){const Xt=this.cachedCanvases.getCanvas("transparent",jt,Lt);this.compositeCtx=this.ctx,this.transparentCanvas=Xt.canvas,this.ctx=Xt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ct(this.ctx),at&&(this.ctx.transform(...at),this.outputScaleX=at[0],this.outputScaleY=at[0]),this.ctx.transform(...yt.transform),this.viewportScale=yt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(at,yt,kt,Pt){const jt=at.argsArray,Lt=at.fnArray;let Ut=yt||0;const Xt=jt.length;if(Xt===Ut)return Ut;const Qt=Xt-Ut>$&&typeof kt=="function",rn=Qt?Date.now()+j:0;let ln=0;const an=this.commonObjs,qt=this.objs;let Ft;for(;;){if(Pt!==void 0&&Ut===Pt.nextBreakPoint)return Pt.breakIt(Ut,kt),Ut;if(Ft=Lt[Ut],Ft!==o.OPS.dependency)this[Ft].apply(this,jt[Ut]);else for(const Vt of jt[Ut]){const vt=Vt.startsWith("g_")?an:qt;if(!vt.has(Vt))return vt.get(Vt,kt),Ut}if(Ut++,Ut===Xt)return Ut;if(Qt&&++ln>$){if(Date.now()>rn)return kt(),Ut;ln=0}}}endDrawing(){Gt(this,Rt,Fr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const at of this._cachedBitmapsMap.values()){for(const yt of at.values())typeof HTMLCanvasElement<"u"&&yt instanceof HTMLCanvasElement&&(yt.width=yt.height=0);at.clear()}this._cachedBitmapsMap.clear(),Gt(this,Rt,Br).call(this)}_scaleImage(at,yt){const kt=at.width,Pt=at.height;let jt=Math.max(Math.hypot(yt[0],yt[1]),1),Lt=Math.max(Math.hypot(yt[2],yt[3]),1),Ut=kt,Xt=Pt,Qt="prescale1",rn,ln;for(;jt>2&&Ut>1||Lt>2&&Xt>1;){let an=Ut,qt=Xt;jt>2&&Ut>1&&(an=Ut>=16384?Math.floor(Ut/2)-1||1:Math.ceil(Ut/2),jt/=Ut/an),Lt>2&&Xt>1&&(qt=Xt>=16384?Math.floor(Xt/2)-1||1:Math.ceil(Xt)/2,Lt/=Xt/qt),rn=this.cachedCanvases.getCanvas(Qt,an,qt),ln=rn.context,ln.clearRect(0,0,an,qt),ln.drawImage(at,0,0,Ut,Xt,0,0,an,qt),at=rn.canvas,Ut=an,Xt=qt,Qt=Qt==="prescale1"?"prescale2":"prescale1"}return{img:at,paintWidth:Ut,paintHeight:Xt}}_createMaskCanvas(at){const yt=this.ctx,{width:kt,height:Pt}=at,jt=this.current.fillColor,Lt=this.current.patternFill,Ut=(0,a.getCurrentTransform)(yt);let Xt,Qt,rn,ln;if((at.bitmap||at.data)&&at.count>1){const Kt=at.bitmap||at.data.buffer;Qt=JSON.stringify(Lt?Ut:[Ut.slice(0,4),jt]),Xt=this._cachedBitmapsMap.get(Kt),Xt||(Xt=new Map,this._cachedBitmapsMap.set(Kt,Xt));const Dt=Xt.get(Qt);if(Dt&&!Lt){const $t=Math.round(Math.min(Ut[0],Ut[2])+Ut[4]),hn=Math.round(Math.min(Ut[1],Ut[3])+Ut[5]);return{canvas:Dt,offsetX:$t,offsetY:hn}}rn=Dt}rn||(ln=this.cachedCanvases.getCanvas("maskCanvas",kt,Pt),ut(ln.context,at));let an=o.Util.transform(Ut,[1/kt,0,0,-1/Pt,0,0]);an=o.Util.transform(an,[1,0,0,1,0,-Pt]);const qt=o.Util.applyTransform([0,0],an),Ft=o.Util.applyTransform([kt,Pt],an),Vt=o.Util.normalizeRect([qt[0],qt[1],Ft[0],Ft[1]]),vt=Math.round(Vt[2]-Vt[0])||1,It=Math.round(Vt[3]-Vt[1])||1,zt=this.cachedCanvases.getCanvas("fillCanvas",vt,It),Wt=zt.context,sn=Math.min(qt[0],Ft[0]),dn=Math.min(qt[1],Ft[1]);Wt.translate(-sn,-dn),Wt.transform(...an),rn||(rn=this._scaleImage(ln.canvas,(0,a.getCurrentTransformInverse)(Wt)),rn=rn.img,Xt&&Lt&&Xt.set(Qt,rn)),Wt.imageSmoothingEnabled=bt((0,a.getCurrentTransform)(Wt),at.interpolate),st(Wt,rn,0,0,rn.width,rn.height,0,0,kt,Pt),Wt.globalCompositeOperation="source-in";const pn=o.Util.transform((0,a.getCurrentTransformInverse)(Wt),[1,0,0,1,-sn,-dn]);return Wt.fillStyle=Lt?jt.getPattern(yt,this,pn,d.PathType.FILL):jt,Wt.fillRect(0,0,kt,Pt),Xt&&!Lt&&(this.cachedCanvases.delete("fillCanvas"),Xt.set(Qt,zt.canvas)),{canvas:zt.canvas,offsetX:Math.round(sn),offsetY:Math.round(dn)}}setLineWidth(at){at!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=at,this.ctx.lineWidth=at}setLineCap(at){this.ctx.lineCap=wt[at]}setLineJoin(at){this.ctx.lineJoin=Ct[at]}setMiterLimit(at){this.ctx.miterLimit=at}setDash(at,yt){const kt=this.ctx;kt.setLineDash!==void 0&&(kt.setLineDash(at),kt.lineDashOffset=yt)}setRenderingIntent(at){}setFlatness(at){}setGState(at){for(const[yt,kt]of at)switch(yt){case"LW":this.setLineWidth(kt);break;case"LC":this.setLineCap(kt);break;case"LJ":this.setLineJoin(kt);break;case"ML":this.setMiterLimit(kt);break;case"D":this.setDash(kt[0],kt[1]);break;case"RI":this.setRenderingIntent(kt);break;case"FL":this.setFlatness(kt);break;case"Font":this.setFont(kt[0],kt[1]);break;case"CA":this.current.strokeAlpha=kt;break;case"ca":this.current.fillAlpha=kt,this.ctx.globalAlpha=kt;break;case"BM":this.ctx.globalCompositeOperation=kt;break;case"SMask":this.current.activeSMask=kt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(kt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const at=this.inSMaskMode;this.current.activeSMask&&!at?this.beginSMaskMode():!this.current.activeSMask&&at&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const at=this.ctx.canvas.width,yt=this.ctx.canvas.height,kt="smaskGroupAt"+this.groupLevel,Pt=this.cachedCanvases.getCanvas(kt,at,yt);this.suspendedCtx=this.ctx,this.ctx=Pt.context;const jt=this.ctx;jt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),lt(this.suspendedCtx,jt),nt(jt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),lt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(at){if(!this.current.activeSMask)return;at?(at[0]=Math.floor(at[0]),at[1]=Math.floor(at[1]),at[2]=Math.ceil(at[2]),at[3]=Math.ceil(at[3])):at=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const yt=this.current.activeSMask,kt=this.suspendedCtx;ft(kt,yt,this.ctx,at),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(lt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const at=this.current;this.stateStack.push(at),this.current=at.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),lt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(at,yt,kt,Pt,jt,Lt){this.ctx.transform(at,yt,kt,Pt,jt,Lt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(at,yt,kt){const Pt=this.ctx,jt=this.current;let Lt=jt.x,Ut=jt.y,Xt,Qt;const rn=(0,a.getCurrentTransform)(Pt),ln=rn[0]===0&&rn[3]===0||rn[1]===0&&rn[2]===0,an=ln?kt.slice(0):null;for(let qt=0,Ft=0,Vt=at.length;qt<Vt;qt++)switch(at[qt]|0){case o.OPS.rectangle:Lt=yt[Ft++],Ut=yt[Ft++];const vt=yt[Ft++],It=yt[Ft++],zt=Lt+vt,Wt=Ut+It;Pt.moveTo(Lt,Ut),vt===0||It===0?Pt.lineTo(zt,Wt):(Pt.lineTo(zt,Ut),Pt.lineTo(zt,Wt),Pt.lineTo(Lt,Wt)),ln||jt.updateRectMinMax(rn,[Lt,Ut,zt,Wt]),Pt.closePath();break;case o.OPS.moveTo:Lt=yt[Ft++],Ut=yt[Ft++],Pt.moveTo(Lt,Ut),ln||jt.updatePathMinMax(rn,Lt,Ut);break;case o.OPS.lineTo:Lt=yt[Ft++],Ut=yt[Ft++],Pt.lineTo(Lt,Ut),ln||jt.updatePathMinMax(rn,Lt,Ut);break;case o.OPS.curveTo:Xt=Lt,Qt=Ut,Lt=yt[Ft+4],Ut=yt[Ft+5],Pt.bezierCurveTo(yt[Ft],yt[Ft+1],yt[Ft+2],yt[Ft+3],Lt,Ut),jt.updateCurvePathMinMax(rn,Xt,Qt,yt[Ft],yt[Ft+1],yt[Ft+2],yt[Ft+3],Lt,Ut,an),Ft+=6;break;case o.OPS.curveTo2:Xt=Lt,Qt=Ut,Pt.bezierCurveTo(Lt,Ut,yt[Ft],yt[Ft+1],yt[Ft+2],yt[Ft+3]),jt.updateCurvePathMinMax(rn,Xt,Qt,Lt,Ut,yt[Ft],yt[Ft+1],yt[Ft+2],yt[Ft+3],an),Lt=yt[Ft+2],Ut=yt[Ft+3],Ft+=4;break;case o.OPS.curveTo3:Xt=Lt,Qt=Ut,Lt=yt[Ft+2],Ut=yt[Ft+3],Pt.bezierCurveTo(yt[Ft],yt[Ft+1],Lt,Ut,Lt,Ut),jt.updateCurvePathMinMax(rn,Xt,Qt,yt[Ft],yt[Ft+1],Lt,Ut,Lt,Ut,an),Ft+=4;break;case o.OPS.closePath:Pt.closePath();break}ln&&jt.updateScalingPathMinMax(rn,an),jt.setCurrentPoint(Lt,Ut)}closePath(){this.ctx.closePath()}stroke(at=!0){const yt=this.ctx,kt=this.current.strokeColor;yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof kt=="object"&&(kt!=null&&kt.getPattern)?(yt.save(),yt.strokeStyle=kt.getPattern(yt,this,(0,a.getCurrentTransformInverse)(yt),d.PathType.STROKE),this.rescaleAndStroke(!1),yt.restore()):this.rescaleAndStroke(!0)),at&&this.consumePath(this.current.getClippedPathBoundingBox()),yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(at=!0){const yt=this.ctx,kt=this.current.fillColor,Pt=this.current.patternFill;let jt=!1;Pt&&(yt.save(),yt.fillStyle=kt.getPattern(yt,this,(0,a.getCurrentTransformInverse)(yt),d.PathType.FILL),jt=!0);const Lt=this.current.getClippedPathBoundingBox();this.contentVisible&&Lt!==null&&(this.pendingEOFill?(yt.fill("evenodd"),this.pendingEOFill=!1):yt.fill()),jt&&yt.restore(),at&&this.consumePath(Lt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Tt}eoClip(){this.pendingClip=St}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const at=this.pendingTextPaths,yt=this.ctx;if(at===void 0){yt.beginPath();return}yt.save(),yt.beginPath();for(const kt of at)yt.setTransform(...kt.transform),yt.translate(kt.x,kt.y),kt.addToPath(yt,kt.fontSize);yt.restore(),yt.clip(),yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(at){this.current.charSpacing=at}setWordSpacing(at){this.current.wordSpacing=at}setHScale(at){this.current.textHScale=at/100}setLeading(at){this.current.leading=-at}setFont(at,yt){var rn;const kt=this.commonObjs.get(at),Pt=this.current;if(!kt)throw new Error(`Can't find font for ${at}`);if(Pt.fontMatrix=kt.fontMatrix||o.FONT_IDENTITY_MATRIX,(Pt.fontMatrix[0]===0||Pt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+at),yt<0?(yt=-yt,Pt.fontDirection=-1):Pt.fontDirection=1,this.current.font=kt,this.current.fontSize=yt,kt.isType3Font)return;const jt=kt.loadedName||"sans-serif",Lt=((rn=kt.systemFontInfo)==null?void 0:rn.css)||`"${jt}", ${kt.fallbackName}`;let Ut="normal";kt.black?Ut="900":kt.bold&&(Ut="bold");const Xt=kt.italic?"italic":"normal";let Qt=yt;yt<g?Qt=g:yt>b&&(Qt=b),this.current.fontSizeScale=yt/Qt,this.ctx.font=`${Xt} ${Ut} ${Qt}px ${Lt}`}setTextRenderingMode(at){this.current.textRenderingMode=at}setTextRise(at){this.current.textRise=at}moveText(at,yt){this.current.x=this.current.lineX+=at,this.current.y=this.current.lineY+=yt}setLeadingMoveText(at,yt){this.setLeading(-yt),this.moveText(at,yt)}setTextMatrix(at,yt,kt,Pt,jt,Lt){this.current.textMatrix=[at,yt,kt,Pt,jt,Lt],this.current.textMatrixScale=Math.hypot(at,yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(at,yt,kt,Pt){const jt=this.ctx,Lt=this.current,Ut=Lt.font,Xt=Lt.textRenderingMode,Qt=Lt.fontSize/Lt.fontSizeScale,rn=Xt&o.TextRenderingMode.FILL_STROKE_MASK,ln=!!(Xt&o.TextRenderingMode.ADD_TO_PATH_FLAG),an=Lt.patternFill&&!Ut.missingFile;let qt;(Ut.disableFontFace||ln||an)&&(qt=Ut.getPathGenerator(this.commonObjs,at)),Ut.disableFontFace||an?(jt.save(),jt.translate(yt,kt),jt.beginPath(),qt(jt,Qt),Pt&&jt.setTransform(...Pt),(rn===o.TextRenderingMode.FILL||rn===o.TextRenderingMode.FILL_STROKE)&&jt.fill(),(rn===o.TextRenderingMode.STROKE||rn===o.TextRenderingMode.FILL_STROKE)&&jt.stroke(),jt.restore()):((rn===o.TextRenderingMode.FILL||rn===o.TextRenderingMode.FILL_STROKE)&&jt.fillText(at,yt,kt),(rn===o.TextRenderingMode.STROKE||rn===o.TextRenderingMode.FILL_STROKE)&&jt.strokeText(at,yt,kt)),ln&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(jt),x:yt,y:kt,fontSize:Qt,addToPath:qt})}get isFontSubpixelAAEnabled(){const{context:at}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);at.scale(1.5,1),at.fillText("I",0,10);const yt=at.getImageData(0,0,10,10).data;let kt=!1;for(let Pt=3;Pt<yt.length;Pt+=4)if(yt[Pt]>0&&yt[Pt]<255){kt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",kt)}showText(at){const yt=this.current,kt=yt.font;if(kt.isType3Font)return this.showType3Text(at);const Pt=yt.fontSize;if(Pt===0)return;const jt=this.ctx,Lt=yt.fontSizeScale,Ut=yt.charSpacing,Xt=yt.wordSpacing,Qt=yt.fontDirection,rn=yt.textHScale*Qt,ln=at.length,an=kt.vertical,qt=an?1:-1,Ft=kt.defaultVMetrics,Vt=Pt*yt.fontMatrix[0],vt=yt.textRenderingMode===o.TextRenderingMode.FILL&&!kt.disableFontFace&&!yt.patternFill;jt.save(),jt.transform(...yt.textMatrix),jt.translate(yt.x,yt.y+yt.textRise),Qt>0?jt.scale(rn,-1):jt.scale(rn,1);let It;if(yt.patternFill){jt.save();const pn=yt.fillColor.getPattern(jt,this,(0,a.getCurrentTransformInverse)(jt),d.PathType.FILL);It=(0,a.getCurrentTransform)(jt),jt.restore(),jt.fillStyle=pn}let zt=yt.lineWidth;const Wt=yt.textMatrixScale;if(Wt===0||zt===0){const pn=yt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(pn===o.TextRenderingMode.STROKE||pn===o.TextRenderingMode.FILL_STROKE)&&(zt=this.getSinglePixelWidth())}else zt/=Wt;if(Lt!==1&&(jt.scale(Lt,Lt),zt/=Lt),jt.lineWidth=zt,kt.isInvalidPDFjsFont){const pn=[];let Kt=0;for(const Dt of at)pn.push(Dt.unicode),Kt+=Dt.width;jt.fillText(pn.join(""),0,0),yt.x+=Kt*Vt*rn,jt.restore(),this.compose();return}let sn=0,dn;for(dn=0;dn<ln;++dn){const pn=at[dn];if(typeof pn=="number"){sn+=qt*pn*Pt/1e3;continue}let Kt=!1;const Dt=(pn.isSpace?Xt:0)+Ut,$t=pn.fontChar,hn=pn.accent;let gn,vn,yn=pn.width;if(an){const Nn=pn.vmetric||Ft,In=-(pn.vmetric?Nn[1]:yn*.5)*Vt,fn=Nn[2]*Vt;yn=Nn?-Nn[0]:yn,gn=In/Lt,vn=(sn+fn)/Lt}else gn=sn/Lt,vn=0;if(kt.remeasure&&yn>0){const Nn=jt.measureText($t).width*1e3/Pt*Lt;if(yn<Nn&&this.isFontSubpixelAAEnabled){const In=yn/Nn;Kt=!0,jt.save(),jt.scale(In,1),gn/=In}else yn!==Nn&&(gn+=(yn-Nn)/2e3*Pt/Lt)}if(this.contentVisible&&(pn.isInFont||kt.missingFile)){if(vt&&!hn)jt.fillText($t,gn,vn);else if(this.paintChar($t,gn,vn,It),hn){const Nn=gn+Pt*hn.offset.x/Lt,In=vn-Pt*hn.offset.y/Lt;this.paintChar(hn.fontChar,Nn,In,It)}}const wn=an?yn*Vt-Dt*Qt:yn*Vt+Dt*Qt;sn+=wn,Kt&&jt.restore()}an?yt.y-=sn:yt.x+=sn*rn,jt.restore(),this.compose()}showType3Text(at){const yt=this.ctx,kt=this.current,Pt=kt.font,jt=kt.fontSize,Lt=kt.fontDirection,Ut=Pt.vertical?1:-1,Xt=kt.charSpacing,Qt=kt.wordSpacing,rn=kt.textHScale*Lt,ln=kt.fontMatrix||o.FONT_IDENTITY_MATRIX,an=at.length,qt=kt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Ft,Vt,vt,It;if(!(qt||jt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,yt.save(),yt.transform(...kt.textMatrix),yt.translate(kt.x,kt.y),yt.scale(rn,Lt),Ft=0;Ft<an;++Ft){if(Vt=at[Ft],typeof Vt=="number"){It=Ut*Vt*jt/1e3,this.ctx.translate(It,0),kt.x+=It*rn;continue}const zt=(Vt.isSpace?Qt:0)+Xt,Wt=Pt.charProcOperatorList[Vt.operatorListId];if(!Wt){(0,o.warn)(`Type3 character "${Vt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Vt,this.save(),yt.scale(jt,jt),yt.transform(...ln),this.executeOperatorList(Wt),this.restore()),vt=o.Util.applyTransform([Vt.width,0],ln)[0]*jt+zt,yt.translate(vt,0),kt.x+=vt*rn}yt.restore(),this.processingType3=null}}setCharWidth(at,yt){}setCharWidthAndBounds(at,yt,kt,Pt,jt,Lt){this.ctx.rect(kt,Pt,jt-kt,Lt-Pt),this.ctx.clip(),this.endPath()}getColorN_Pattern(at){let yt;if(at[0]==="TilingPattern"){const kt=at[1],Pt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),jt={createCanvasGraphics:Lt=>new Mt(Lt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};yt=new d.TilingPattern(at,kt,this.ctx,jt,Pt)}else yt=this._getPattern(at[1],at[2]);return yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(at,yt,kt){const Pt=o.Util.makeHexColor(at,yt,kt);this.ctx.strokeStyle=Pt,this.current.strokeColor=Pt}setFillRGBColor(at,yt,kt){const Pt=o.Util.makeHexColor(at,yt,kt);this.ctx.fillStyle=Pt,this.current.fillColor=Pt,this.current.patternFill=!1}_getPattern(at,yt=null){let kt;return this.cachedPatterns.has(at)?kt=this.cachedPatterns.get(at):(kt=(0,d.getShadingPattern)(this.getObject(at)),this.cachedPatterns.set(at,kt)),yt&&(kt.matrix=yt),kt}shadingFill(at){if(!this.contentVisible)return;const yt=this.ctx;this.save();const kt=this._getPattern(at);yt.fillStyle=kt.getPattern(yt,this,(0,a.getCurrentTransformInverse)(yt),d.PathType.SHADING);const Pt=(0,a.getCurrentTransformInverse)(yt);if(Pt){const{width:jt,height:Lt}=yt.canvas,[Ut,Xt,Qt,rn]=o.Util.getAxialAlignedBoundingBox([0,0,jt,Lt],Pt);this.ctx.fillRect(Ut,Xt,Qt-Ut,rn-Xt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(at,yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(at)&&at.length===6&&this.transform(...at),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),yt)){const kt=yt[2]-yt[0],Pt=yt[3]-yt[1];this.ctx.rect(yt[0],yt[1],kt,Pt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(at){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const yt=this.ctx;at.isolated||(0,o.info)("TODO: Support non-isolated groups."),at.knockout&&(0,o.warn)("Knockout groups not supported.");const kt=(0,a.getCurrentTransform)(yt);if(at.matrix&&yt.transform(...at.matrix),!at.bbox)throw new Error("Bounding box is required.");let Pt=o.Util.getAxialAlignedBoundingBox(at.bbox,(0,a.getCurrentTransform)(yt));const jt=[0,0,yt.canvas.width,yt.canvas.height];Pt=o.Util.intersect(Pt,jt)||[0,0,0,0];const Lt=Math.floor(Pt[0]),Ut=Math.floor(Pt[1]);let Xt=Math.max(Math.ceil(Pt[2])-Lt,1),Qt=Math.max(Math.ceil(Pt[3])-Ut,1),rn=1,ln=1;Xt>_&&(rn=Xt/_,Xt=_),Qt>_&&(ln=Qt/_,Qt=_),this.current.startNewPathAndClipBox([0,0,Xt,Qt]);let an="groupAt"+this.groupLevel;at.smask&&(an+="_smask_"+this.smaskCounter++%2);const qt=this.cachedCanvases.getCanvas(an,Xt,Qt),Ft=qt.context;Ft.scale(1/rn,1/ln),Ft.translate(-Lt,-Ut),Ft.transform(...kt),at.smask?this.smaskStack.push({canvas:qt.canvas,context:Ft,offsetX:Lt,offsetY:Ut,scaleX:rn,scaleY:ln,subtype:at.smask.subtype,backdrop:at.smask.backdrop,transferMap:at.smask.transferMap||null,startTransformInverse:null}):(yt.setTransform(1,0,0,1,0,0),yt.translate(Lt,Ut),yt.scale(rn,ln),yt.save()),lt(yt,Ft),this.ctx=Ft,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(yt),this.groupLevel++}endGroup(at){if(!this.contentVisible)return;this.groupLevel--;const yt=this.ctx,kt=this.groupStack.pop();if(this.ctx=kt,this.ctx.imageSmoothingEnabled=!1,at.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pt);const jt=o.Util.getAxialAlignedBoundingBox([0,0,yt.canvas.width,yt.canvas.height],Pt);this.ctx.drawImage(yt.canvas,0,0),this.ctx.restore(),this.compose(jt)}}beginAnnotation(at,yt,kt,Pt,jt){if(Gt(this,Rt,Fr).call(this),ct(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(yt)&&yt.length===4){const Lt=yt[2]-yt[0],Ut=yt[3]-yt[1];if(jt&&this.annotationCanvasMap){kt=kt.slice(),kt[4]-=yt[0],kt[5]-=yt[1],yt=yt.slice(),yt[0]=yt[1]=0,yt[2]=Lt,yt[3]=Ut;const[Xt,Qt]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:rn}=this,ln=Math.ceil(Lt*this.outputScaleX*rn),an=Math.ceil(Ut*this.outputScaleY*rn);this.annotationCanvas=this.canvasFactory.create(ln,an);const{canvas:qt,context:Ft}=this.annotationCanvas;this.annotationCanvasMap.set(at,qt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ft,this.ctx.save(),this.ctx.setTransform(Xt,0,0,-Qt,0,Ut*Qt),ct(this.ctx)}else ct(this.ctx),this.ctx.rect(yt[0],yt[1],Lt,Ut),this.ctx.clip(),this.endPath()}this.current=new rt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...kt),this.transform(...Pt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Gt(this,Rt,Br).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(at){if(!this.contentVisible)return;const yt=at.count;at=this.getObject(at.data,at),at.count=yt;const kt=this.ctx,Pt=this.processingType3;if(Pt&&(Pt.compiled===void 0&&(Pt.compiled=tt(at)),Pt.compiled)){Pt.compiled(kt);return}const jt=this._createMaskCanvas(at),Lt=jt.canvas;kt.save(),kt.setTransform(1,0,0,1,0,0),kt.drawImage(Lt,jt.offsetX,jt.offsetY),kt.restore(),this.compose()}paintImageMaskXObjectRepeat(at,yt,kt=0,Pt=0,jt,Lt){if(!this.contentVisible)return;at=this.getObject(at.data,at);const Ut=this.ctx;Ut.save();const Xt=(0,a.getCurrentTransform)(Ut);Ut.transform(yt,kt,Pt,jt,0,0);const Qt=this._createMaskCanvas(at);Ut.setTransform(1,0,0,1,Qt.offsetX-Xt[4],Qt.offsetY-Xt[5]);for(let rn=0,ln=Lt.length;rn<ln;rn+=2){const an=o.Util.transform(Xt,[yt,kt,Pt,jt,Lt[rn],Lt[rn+1]]),[qt,Ft]=o.Util.applyTransform([0,0],an);Ut.drawImage(Qt.canvas,qt,Ft)}Ut.restore(),this.compose()}paintImageMaskXObjectGroup(at){if(!this.contentVisible)return;const yt=this.ctx,kt=this.current.fillColor,Pt=this.current.patternFill;for(const jt of at){const{data:Lt,width:Ut,height:Xt,transform:Qt}=jt,rn=this.cachedCanvases.getCanvas("maskCanvas",Ut,Xt),ln=rn.context;ln.save();const an=this.getObject(Lt,jt);ut(ln,an),ln.globalCompositeOperation="source-in",ln.fillStyle=Pt?kt.getPattern(ln,this,(0,a.getCurrentTransformInverse)(yt),d.PathType.FILL):kt,ln.fillRect(0,0,Ut,Xt),ln.restore(),yt.save(),yt.transform(...Qt),yt.scale(1,-1),st(yt,rn.canvas,0,0,Ut,Xt,0,-1,1,1),yt.restore()}this.compose()}paintImageXObject(at){if(!this.contentVisible)return;const yt=this.getObject(at);if(!yt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(yt)}paintImageXObjectRepeat(at,yt,kt,Pt){if(!this.contentVisible)return;const jt=this.getObject(at);if(!jt){(0,o.warn)("Dependent image isn't ready yet");return}const Lt=jt.width,Ut=jt.height,Xt=[];for(let Qt=0,rn=Pt.length;Qt<rn;Qt+=2)Xt.push({transform:[yt,0,0,kt,Pt[Qt],Pt[Qt+1]],x:0,y:0,w:Lt,h:Ut});this.paintInlineImageXObjectGroup(jt,Xt)}applyTransferMapsToCanvas(at){return this.current.transferMaps!=="none"&&(at.filter=this.current.transferMaps,at.drawImage(at.canvas,0,0),at.filter="none"),at.canvas}applyTransferMapsToBitmap(at){if(this.current.transferMaps==="none")return at.bitmap;const{bitmap:yt,width:kt,height:Pt}=at,jt=this.cachedCanvases.getCanvas("inlineImage",kt,Pt),Lt=jt.context;return Lt.filter=this.current.transferMaps,Lt.drawImage(yt,0,0),Lt.filter="none",jt.canvas}paintInlineImageXObject(at){if(!this.contentVisible)return;const yt=at.width,kt=at.height,Pt=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Ut}=Pt;Ut!=="none"&&Ut!==""&&(Pt.filter="none")}Pt.scale(1/yt,-1/kt);let jt;if(at.bitmap)jt=this.applyTransferMapsToBitmap(at);else if(typeof HTMLElement=="function"&&at instanceof HTMLElement||!at.data)jt=at;else{const Xt=this.cachedCanvases.getCanvas("inlineImage",yt,kt).context;ot(Xt,at),jt=this.applyTransferMapsToCanvas(Xt)}const Lt=this._scaleImage(jt,(0,a.getCurrentTransformInverse)(Pt));Pt.imageSmoothingEnabled=bt((0,a.getCurrentTransform)(Pt),at.interpolate),st(Pt,Lt.img,0,0,Lt.paintWidth,Lt.paintHeight,0,-kt,yt,kt),this.compose(),this.restore()}paintInlineImageXObjectGroup(at,yt){if(!this.contentVisible)return;const kt=this.ctx;let Pt;if(at.bitmap)Pt=at.bitmap;else{const jt=at.width,Lt=at.height,Xt=this.cachedCanvases.getCanvas("inlineImage",jt,Lt).context;ot(Xt,at),Pt=this.applyTransferMapsToCanvas(Xt)}for(const jt of yt)kt.save(),kt.transform(...jt.transform),kt.scale(1,-1),st(kt,Pt,jt.x,jt.y,jt.w,jt.h,0,-1,1,1),kt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(at){}markPointProps(at,yt){}beginMarkedContent(at){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(at,yt){at==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(at){const yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(at);const kt=this.ctx;this.pendingClip&&(yt||(this.pendingClip===St?kt.clip("evenodd"):kt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),kt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const at=(0,a.getCurrentTransform)(this.ctx);if(at[1]===0&&at[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(at[0]),Math.abs(at[3]));else{const yt=Math.abs(at[0]*at[3]-at[2]*at[1]),kt=Math.hypot(at[0],at[2]),Pt=Math.hypot(at[1],at[3]);this._cachedGetSinglePixelWidth=Math.max(kt,Pt)/yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:at}=this.current,{a:yt,b:kt,c:Pt,d:jt}=this.ctx.getTransform();let Lt,Ut;if(kt===0&&Pt===0){const Xt=Math.abs(yt),Qt=Math.abs(jt);if(Xt===Qt)if(at===0)Lt=Ut=1/Xt;else{const rn=Xt*at;Lt=Ut=rn<1?1/rn:1}else if(at===0)Lt=1/Xt,Ut=1/Qt;else{const rn=Xt*at,ln=Qt*at;Lt=rn<1?1/rn:1,Ut=ln<1?1/ln:1}}else{const Xt=Math.abs(yt*jt-kt*Pt),Qt=Math.hypot(yt,kt),rn=Math.hypot(Pt,jt);if(at===0)Lt=rn/Xt,Ut=Qt/Xt;else{const ln=at*Xt;Lt=rn>ln?rn/ln:1,Ut=Qt>ln?Qt/ln:1}}this._cachedScaleForStroking[0]=Lt,this._cachedScaleForStroking[1]=Ut}return this._cachedScaleForStroking}rescaleAndStroke(at){const{ctx:yt}=this,{lineWidth:kt}=this.current,[Pt,jt]=this.getScaleForStroking();if(yt.lineWidth=kt||1,Pt===1&&jt===1){yt.stroke();return}const Lt=yt.getLineDash();if(at&&yt.save(),yt.scale(Pt,jt),Lt.length>0){const Ut=Math.max(Pt,jt);yt.setLineDash(Lt.map(Xt=>Xt/Ut)),yt.lineDashOffset/=Ut}yt.stroke(),at&&yt.restore()}isContentVisible(){for(let at=this.markedContentStack.length-1;at>=0;at--)if(!this.markedContentStack[at].visible)return!1;return!0}};Rt=new WeakSet,Fr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Br=function(){if(this.pageColors){const at=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(at!=="none"){const yt=this.ctx.filter;this.ctx.filter=at,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=yt}}};let At=Mt;i.CanvasGraphics=At;for(const _t in o.OPS)At.prototype[_t]!==void 0&&(At.prototype[o.OPS[_t]]=At.prototype[_t])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=et;var o=s(1),a=s(6);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=d;function h(tt,rt){if(!rt)return;const ot=rt[2]-rt[0],ut=rt[3]-rt[1],lt=new Path2D;lt.rect(rt[0],rt[1],ot,ut),tt.clip(lt)}class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class b extends g{constructor(rt){super(),this._type=rt[1],this._bbox=rt[2],this._colorStops=rt[3],this._p0=rt[4],this._p1=rt[5],this._r0=rt[6],this._r1=rt[7],this.matrix=null}_createGradient(rt){let ot;this._type==="axial"?ot=rt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=rt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ut of this._colorStops)ot.addColorStop(ut[0],ut[1]);return ot}getPattern(rt,ot,ut,lt){let ct;if(lt===d.STROKE||lt===d.FILL){const dt=ot.current.getClippedPathBoundingBox(lt,(0,a.getCurrentTransform)(rt))||[0,0,0,0],ht=Math.ceil(dt[2]-dt[0])||1,mt=Math.ceil(dt[3]-dt[1])||1,xt=ot.cachedCanvases.getCanvas("pattern",ht,mt,!0),ft=xt.context;ft.clearRect(0,0,ft.canvas.width,ft.canvas.height),ft.beginPath(),ft.rect(0,0,ft.canvas.width,ft.canvas.height),ft.translate(-dt[0],-dt[1]),ut=o.Util.transform(ut,[1,0,0,1,dt[0],dt[1]]),ft.transform(...ot.baseTransform),this.matrix&&ft.transform(...this.matrix),h(ft,this._bbox),ft.fillStyle=this._createGradient(ft),ft.fill(),ct=rt.createPattern(xt.canvas,"no-repeat");const bt=new DOMMatrix(ut);ct.setTransform(bt)}else h(rt,this._bbox),ct=this._createGradient(rt);return ct}}function _(tt,rt,ot,ut,lt,ct,dt,ht){const mt=rt.coords,xt=rt.colors,ft=tt.data,bt=tt.width*4;let wt;mt[ot+1]>mt[ut+1]&&(wt=ot,ot=ut,ut=wt,wt=ct,ct=dt,dt=wt),mt[ut+1]>mt[lt+1]&&(wt=ut,ut=lt,lt=wt,wt=dt,dt=ht,ht=wt),mt[ot+1]>mt[ut+1]&&(wt=ot,ot=ut,ut=wt,wt=ct,ct=dt,dt=wt);const Ct=(mt[ot]+rt.offsetX)*rt.scaleX,Tt=(mt[ot+1]+rt.offsetY)*rt.scaleY,St=(mt[ut]+rt.offsetX)*rt.scaleX,At=(mt[ut+1]+rt.offsetY)*rt.scaleY,Rt=(mt[lt]+rt.offsetX)*rt.scaleX,Et=(mt[lt+1]+rt.offsetY)*rt.scaleY;if(Tt>=Et)return;const gt=xt[ct],Mt=xt[ct+1],_t=xt[ct+2],at=xt[dt],yt=xt[dt+1],kt=xt[dt+2],Pt=xt[ht],jt=xt[ht+1],Lt=xt[ht+2],Ut=Math.round(Tt),Xt=Math.round(Et);let Qt,rn,ln,an,qt,Ft,Vt,vt;for(let It=Ut;It<=Xt;It++){if(It<At){const pn=It<Tt?0:(Tt-It)/(Tt-At);Qt=Ct-(Ct-St)*pn,rn=gt-(gt-at)*pn,ln=Mt-(Mt-yt)*pn,an=_t-(_t-kt)*pn}else{let pn;It>Et?pn=1:At===Et?pn=0:pn=(At-It)/(At-Et),Qt=St-(St-Rt)*pn,rn=at-(at-Pt)*pn,ln=yt-(yt-jt)*pn,an=kt-(kt-Lt)*pn}let zt;It<Tt?zt=0:It>Et?zt=1:zt=(Tt-It)/(Tt-Et),qt=Ct-(Ct-Rt)*zt,Ft=gt-(gt-Pt)*zt,Vt=Mt-(Mt-jt)*zt,vt=_t-(_t-Lt)*zt;const Wt=Math.round(Math.min(Qt,qt)),sn=Math.round(Math.max(Qt,qt));let dn=bt*It+Wt*4;for(let pn=Wt;pn<=sn;pn++)zt=(Qt-pn)/(Qt-qt),zt<0?zt=0:zt>1&&(zt=1),ft[dn++]=rn-(rn-Ft)*zt|0,ft[dn++]=ln-(ln-Vt)*zt|0,ft[dn++]=an-(an-vt)*zt|0,ft[dn++]=255}}function j(tt,rt,ot){const ut=rt.coords,lt=rt.colors;let ct,dt;switch(rt.type){case"lattice":const ht=rt.verticesPerRow,mt=Math.floor(ut.length/ht)-1,xt=ht-1;for(ct=0;ct<mt;ct++){let ft=ct*ht;for(let bt=0;bt<xt;bt++,ft++)_(tt,ot,ut[ft],ut[ft+1],ut[ft+ht],lt[ft],lt[ft+1],lt[ft+ht]),_(tt,ot,ut[ft+ht+1],ut[ft+1],ut[ft+ht],lt[ft+ht+1],lt[ft+1],lt[ft+ht])}break;case"triangles":for(ct=0,dt=ut.length;ct<dt;ct+=3)_(tt,ot,ut[ct],ut[ct+1],ut[ct+2],lt[ct],lt[ct+1],lt[ct+2]);break;default:throw new Error("illegal figure")}}class $ extends g{constructor(rt){super(),this._coords=rt[2],this._colors=rt[3],this._figures=rt[4],this._bounds=rt[5],this._bbox=rt[7],this._background=rt[8],this.matrix=null}_createMeshCanvas(rt,ot,ut){const ht=Math.floor(this._bounds[0]),mt=Math.floor(this._bounds[1]),xt=Math.ceil(this._bounds[2])-ht,ft=Math.ceil(this._bounds[3])-mt,bt=Math.min(Math.ceil(Math.abs(xt*rt[0]*1.1)),3e3),wt=Math.min(Math.ceil(Math.abs(ft*rt[1]*1.1)),3e3),Ct=xt/bt,Tt=ft/wt,St={coords:this._coords,colors:this._colors,offsetX:-ht,offsetY:-mt,scaleX:1/Ct,scaleY:1/Tt},At=bt+2*2,Rt=wt+2*2,Et=ut.getCanvas("mesh",At,Rt,!1),gt=Et.context,Mt=gt.createImageData(bt,wt);if(ot){const at=Mt.data;for(let yt=0,kt=at.length;yt<kt;yt+=4)at[yt]=ot[0],at[yt+1]=ot[1],at[yt+2]=ot[2],at[yt+3]=255}for(const at of this._figures)j(Mt,at,St);return gt.putImageData(Mt,2,2),{canvas:Et.canvas,offsetX:ht-2*Ct,offsetY:mt-2*Tt,scaleX:Ct,scaleY:Tt}}getPattern(rt,ot,ut,lt){h(rt,this._bbox);let ct;if(lt===d.SHADING)ct=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(rt));else if(ct=o.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const ht=o.Util.singularValueDecompose2dScale(this.matrix);ct=[ct[0]*ht[0],ct[1]*ht[1]]}const dt=this._createMeshCanvas(ct,lt===d.SHADING?null:this._background,ot.cachedCanvases);return lt!==d.SHADING&&(rt.setTransform(...ot.baseTransform),this.matrix&&rt.transform(...this.matrix)),rt.translate(dt.offsetX,dt.offsetY),rt.scale(dt.scaleX,dt.scaleY),rt.createPattern(dt.canvas,"no-repeat")}}class _e extends g{getPattern(){return"hotpink"}}function et(tt){switch(tt[0]){case"RadialAxial":return new b(tt);case"Mesh":return new $(tt);case"Dummy":return new _e}throw new Error(`Unknown IR type: ${tt[0]}`)}const nt={COLORED:1,UNCOLORED:2},st=class st{constructor(rt,ot,ut,lt,ct){this.operatorList=rt[2],this.matrix=rt[3]||[1,0,0,1,0,0],this.bbox=rt[4],this.xstep=rt[5],this.ystep=rt[6],this.paintType=rt[7],this.tilingType=rt[8],this.color=ot,this.ctx=ut,this.canvasGraphicsFactory=lt,this.baseTransform=ct}createPatternCanvas(rt){const ot=this.operatorList,ut=this.bbox,lt=this.xstep,ct=this.ystep,dt=this.paintType,ht=this.tilingType,mt=this.color,xt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+ht);const ft=ut[0],bt=ut[1],wt=ut[2],Ct=ut[3],Tt=o.Util.singularValueDecompose2dScale(this.matrix),St=o.Util.singularValueDecompose2dScale(this.baseTransform),At=[Tt[0]*St[0],Tt[1]*St[1]],Rt=this.getSizeAndScale(lt,this.ctx.canvas.width,At[0]),Et=this.getSizeAndScale(ct,this.ctx.canvas.height,At[1]),gt=rt.cachedCanvases.getCanvas("pattern",Rt.size,Et.size,!0),Mt=gt.context,_t=xt.createCanvasGraphics(Mt);_t.groupLevel=rt.groupLevel,this.setFillAndStrokeStyleToContext(_t,dt,mt);let at=ft,yt=bt,kt=wt,Pt=Ct;return ft<0&&(at=0,kt+=Math.abs(ft)),bt<0&&(yt=0,Pt+=Math.abs(bt)),Mt.translate(-(Rt.scale*at),-(Et.scale*yt)),_t.transform(Rt.scale,0,0,Et.scale,0,0),Mt.save(),this.clipBbox(_t,at,yt,kt,Pt),_t.baseTransform=(0,a.getCurrentTransform)(_t.ctx),_t.executeOperatorList(ot),_t.endDrawing(),{canvas:gt.canvas,scaleX:Rt.scale,scaleY:Et.scale,offsetX:at,offsetY:yt}}getSizeAndScale(rt,ot,ut){rt=Math.abs(rt);const lt=Math.max(st.MAX_PATTERN_SIZE,ot);let ct=Math.ceil(rt*ut);return ct>=lt?ct=lt:ut=ct/rt,{scale:ut,size:ct}}clipBbox(rt,ot,ut,lt,ct){const dt=lt-ot,ht=ct-ut;rt.ctx.rect(ot,ut,dt,ht),rt.current.updateRectMinMax((0,a.getCurrentTransform)(rt.ctx),[ot,ut,lt,ct]),rt.clip(),rt.endPath()}setFillAndStrokeStyleToContext(rt,ot,ut){const lt=rt.ctx,ct=rt.current;switch(ot){case nt.COLORED:const dt=this.ctx;lt.fillStyle=dt.fillStyle,lt.strokeStyle=dt.strokeStyle,ct.fillColor=dt.fillStyle,ct.strokeColor=dt.strokeStyle;break;case nt.UNCOLORED:const ht=o.Util.makeHexColor(ut[0],ut[1],ut[2]);lt.fillStyle=ht,lt.strokeStyle=ht,ct.fillColor=ht,ct.strokeColor=ht;break;default:throw new o.FormatError(`Unsupported paint type: ${ot}`)}}getPattern(rt,ot,ut,lt){let ct=ut;lt!==d.SHADING&&(ct=o.Util.transform(ct,ot.baseTransform),this.matrix&&(ct=o.Util.transform(ct,this.matrix)));const dt=this.createPatternCanvas(ot);let ht=new DOMMatrix(ct);ht=ht.translate(dt.offsetX,dt.offsetY),ht=ht.scale(1/dt.scaleX,1/dt.scaleY);const mt=rt.createPattern(dt.canvas,"repeat");return mt.setTransform(ht),mt}};$n(st,"MAX_PATTERN_SIZE",3e3);let it=st;i.TilingPattern=it},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=d,i.convertToRGBA=a,i.grayToRGBA=g;var o=s(1);function a(b){switch(b.kind){case o.ImageKind.GRAYSCALE_1BPP:return d(b);case o.ImageKind.RGB_24BPP:return h(b)}return null}function d({src:b,srcPos:_=0,dest:j,width:$,height:_e,nonBlackColor:et=4294967295,inverseDecode:nt=!1}){const it=o.FeatureTest.isLittleEndian?4278190080:255,[st,tt]=nt?[et,it]:[it,et],rt=$>>3,ot=$&7,ut=b.length;j=new Uint32Array(j.buffer);let lt=0;for(let ct=0;ct<_e;ct++){for(const ht=_+rt;_<ht;_++){const mt=_<ut?b[_]:255;j[lt++]=mt&128?tt:st,j[lt++]=mt&64?tt:st,j[lt++]=mt&32?tt:st,j[lt++]=mt&16?tt:st,j[lt++]=mt&8?tt:st,j[lt++]=mt&4?tt:st,j[lt++]=mt&2?tt:st,j[lt++]=mt&1?tt:st}if(ot===0)continue;const dt=_<ut?b[_++]:255;for(let ht=0;ht<ot;ht++)j[lt++]=dt&1<<7-ht?tt:st}return{srcPos:_,destPos:lt}}function h({src:b,srcPos:_=0,dest:j,destPos:$=0,width:_e,height:et}){let nt=0;const it=b.length>>2,st=new Uint32Array(b.buffer,_,it);if(o.FeatureTest.isLittleEndian){for(;nt<it-2;nt+=3,$+=4){const tt=st[nt],rt=st[nt+1],ot=st[nt+2];j[$]=tt|4278190080,j[$+1]=tt>>>24|rt<<8|4278190080,j[$+2]=rt>>>16|ot<<16|4278190080,j[$+3]=ot>>>8|4278190080}for(let tt=nt*4,rt=b.length;tt<rt;tt+=3)j[$++]=b[tt]|b[tt+1]<<8|b[tt+2]<<16|4278190080}else{for(;nt<it-2;nt+=3,$+=4){const tt=st[nt],rt=st[nt+1],ot=st[nt+2];j[$]=tt|255,j[$+1]=tt<<24|rt>>>8|255,j[$+2]=rt<<16|ot>>>16|255,j[$+3]=ot<<8|255}for(let tt=nt*4,rt=b.length;tt<rt;tt+=3)j[$++]=b[tt]<<24|b[tt+1]<<16|b[tt+2]<<8|255}return{srcPos:_,destPos:$}}function g(b,_){if(o.FeatureTest.isLittleEndian)for(let j=0,$=b.length;j<$;j++)_[j]=b[j]*65793|4278190080;else for(let j=0,$=b.length;j<$;j++)_[j]=b[j]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var b,ms,gs,pr;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const a={DATA:1,ERROR:2},d={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function h(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new o.AbortException(_e.message);case"MissingPDFException":return new o.MissingPDFException(_e.message);case"PasswordException":return new o.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new o.UnknownErrorException(_e.message,_e.details);default:return new o.UnknownErrorException(_e.message,_e.toString())}}class g{constructor(et,nt,it){Jt(this,b);this.sourceName=et,this.targetName=nt,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=st=>{const tt=st.data;if(tt.targetName!==this.sourceName)return;if(tt.stream){Gt(this,b,gs).call(this,tt);return}if(tt.callback){const ot=tt.callbackId,ut=this.callbackCapabilities[ot];if(!ut)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],tt.callback===a.DATA)ut.resolve(tt.data);else if(tt.callback===a.ERROR)ut.reject(h(tt.reason));else throw new Error("Unexpected callback case");return}const rt=this.actionHandler[tt.action];if(!rt)throw new Error(`Unknown action from worker: ${tt.action}`);if(tt.callbackId){const ot=this.sourceName,ut=tt.sourceName;new Promise(function(lt){lt(rt(tt.data))}).then(function(lt){it.postMessage({sourceName:ot,targetName:ut,callback:a.DATA,callbackId:tt.callbackId,data:lt})},function(lt){it.postMessage({sourceName:ot,targetName:ut,callback:a.ERROR,callbackId:tt.callbackId,reason:h(lt)})});return}if(tt.streamId){Gt(this,b,ms).call(this,tt);return}rt(tt.data)},it.addEventListener("message",this._onComObjOnMessage)}on(et,nt){const it=this.actionHandler;if(it[et])throw new Error(`There is already an actionName called "${et}"`);it[et]=nt}send(et,nt,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:et,data:nt},it)}sendWithPromise(et,nt,it){const st=this.callbackId++,tt=new o.PromiseCapability;this.callbackCapabilities[st]=tt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:et,callbackId:st,data:nt},it)}catch(rt){tt.reject(rt)}return tt.promise}sendWithStream(et,nt,it,st){const tt=this.streamId++,rt=this.sourceName,ot=this.targetName,ut=this.comObj;return new ReadableStream({start:lt=>{const ct=new o.PromiseCapability;return this.streamControllers[tt]={controller:lt,startCall:ct,pullCall:null,cancelCall:null,isClosed:!1},ut.postMessage({sourceName:rt,targetName:ot,action:et,streamId:tt,data:nt,desiredSize:lt.desiredSize},st),ct.promise},pull:lt=>{const ct=new o.PromiseCapability;return this.streamControllers[tt].pullCall=ct,ut.postMessage({sourceName:rt,targetName:ot,stream:d.PULL,streamId:tt,desiredSize:lt.desiredSize}),ct.promise},cancel:lt=>{(0,o.assert)(lt instanceof Error,"cancel must have a valid reason");const ct=new o.PromiseCapability;return this.streamControllers[tt].cancelCall=ct,this.streamControllers[tt].isClosed=!0,ut.postMessage({sourceName:rt,targetName:ot,stream:d.CANCEL,streamId:tt,reason:h(lt)}),ct.promise}},it)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b=new WeakSet,ms=function(et){const nt=et.streamId,it=this.sourceName,st=et.sourceName,tt=this.comObj,rt=this,ot=this.actionHandler[et.action],ut={enqueue(lt,ct=1,dt){if(this.isCancelled)return;const ht=this.desiredSize;this.desiredSize-=ct,ht>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),tt.postMessage({sourceName:it,targetName:st,stream:d.ENQUEUE,streamId:nt,chunk:lt},dt)},close(){this.isCancelled||(this.isCancelled=!0,tt.postMessage({sourceName:it,targetName:st,stream:d.CLOSE,streamId:nt}),delete rt.streamSinks[nt])},error(lt){(0,o.assert)(lt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,tt.postMessage({sourceName:it,targetName:st,stream:d.ERROR,streamId:nt,reason:h(lt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:et.desiredSize,ready:null};ut.sinkCapability.resolve(),ut.ready=ut.sinkCapability.promise,this.streamSinks[nt]=ut,new Promise(function(lt){lt(ot(et.data,ut))}).then(function(){tt.postMessage({sourceName:it,targetName:st,stream:d.START_COMPLETE,streamId:nt,success:!0})},function(lt){tt.postMessage({sourceName:it,targetName:st,stream:d.START_COMPLETE,streamId:nt,reason:h(lt)})})},gs=function(et){const nt=et.streamId,it=this.sourceName,st=et.sourceName,tt=this.comObj,rt=this.streamControllers[nt],ot=this.streamSinks[nt];switch(et.stream){case d.START_COMPLETE:et.success?rt.startCall.resolve():rt.startCall.reject(h(et.reason));break;case d.PULL_COMPLETE:et.success?rt.pullCall.resolve():rt.pullCall.reject(h(et.reason));break;case d.PULL:if(!ot){tt.postMessage({sourceName:it,targetName:st,stream:d.PULL_COMPLETE,streamId:nt,success:!0});break}ot.desiredSize<=0&&et.desiredSize>0&&ot.sinkCapability.resolve(),ot.desiredSize=et.desiredSize,new Promise(function(ut){var lt;ut((lt=ot.onPull)==null?void 0:lt.call(ot))}).then(function(){tt.postMessage({sourceName:it,targetName:st,stream:d.PULL_COMPLETE,streamId:nt,success:!0})},function(ut){tt.postMessage({sourceName:it,targetName:st,stream:d.PULL_COMPLETE,streamId:nt,reason:h(ut)})});break;case d.ENQUEUE:if((0,o.assert)(rt,"enqueue should have stream controller"),rt.isClosed)break;rt.controller.enqueue(et.chunk);break;case d.CLOSE:if((0,o.assert)(rt,"close should have stream controller"),rt.isClosed)break;rt.isClosed=!0,rt.controller.close(),Gt(this,b,pr).call(this,rt,nt);break;case d.ERROR:(0,o.assert)(rt,"error should have stream controller"),rt.controller.error(h(et.reason)),Gt(this,b,pr).call(this,rt,nt);break;case d.CANCEL_COMPLETE:et.success?rt.cancelCall.resolve():rt.cancelCall.reject(h(et.reason)),Gt(this,b,pr).call(this,rt,nt);break;case d.CANCEL:if(!ot)break;new Promise(function(ut){var lt;ut((lt=ot.onCancel)==null?void 0:lt.call(ot,h(et.reason)))}).then(function(){tt.postMessage({sourceName:it,targetName:st,stream:d.CANCEL_COMPLETE,streamId:nt,success:!0})},function(ut){tt.postMessage({sourceName:it,targetName:st,stream:d.CANCEL_COMPLETE,streamId:nt,reason:h(ut)})}),ot.sinkCapability.reject(h(et.reason)),ot.isCancelled=!0,delete this.streamSinks[nt];break;default:throw new Error("Unexpected stream case")}},pr=async function(et,nt){var it,st,tt;await Promise.allSettled([(it=et.startCall)==null?void 0:it.promise,(st=et.pullCall)==null?void 0:st.promise,(tt=et.cancelCall)==null?void 0:tt.promise]),delete this.streamControllers[nt]},i.MessageHandler=g},(e,i,s)=>{var d,h;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class a{constructor({parsedData:b,rawData:_}){Jt(this,d);Jt(this,h);tn(this,d,b),tn(this,h,_)}getRaw(){return pt(this,h)}get(b){return pt(this,d).get(b)??null}getAll(){return(0,o.objectFromMap)(pt(this,d))}has(b){return pt(this,d).has(b)}}d=new WeakMap,h=new WeakMap,i.Metadata=a},(e,i,s)=>{var b,_,j,$,_e,et,$r;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1),a=s(8);const d=Symbol("INTERNAL");class h{constructor(st,tt){Jt(this,b,!0);this.name=st,this.intent=tt}get visible(){return pt(this,b)}_setVisible(st,tt){st!==d&&(0,o.unreachable)("Internal method `_setVisible` called."),tn(this,b,tt)}}b=new WeakMap;class g{constructor(st){Jt(this,et);Jt(this,_,null);Jt(this,j,new Map);Jt(this,$,null);Jt(this,_e,null);if(this.name=null,this.creator=null,st!==null){this.name=st.name,this.creator=st.creator,tn(this,_e,st.order);for(const tt of st.groups)pt(this,j).set(tt.id,new h(tt.name,tt.intent));if(st.baseState==="OFF")for(const tt of pt(this,j).values())tt._setVisible(d,!1);for(const tt of st.on)pt(this,j).get(tt)._setVisible(d,!0);for(const tt of st.off)pt(this,j).get(tt)._setVisible(d,!1);tn(this,$,this.getHash())}}isVisible(st){if(pt(this,j).size===0)return!0;if(!st)return(0,o.warn)("Optional content group not defined."),!0;if(st.type==="OCG")return pt(this,j).has(st.id)?pt(this,j).get(st.id).visible:((0,o.warn)(`Optional content group not found: ${st.id}`),!0);if(st.type==="OCMD"){if(st.expression)return Gt(this,et,$r).call(this,st.expression);if(!st.policy||st.policy==="AnyOn"){for(const tt of st.ids){if(!pt(this,j).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(pt(this,j).get(tt).visible)return!0}return!1}else if(st.policy==="AllOn"){for(const tt of st.ids){if(!pt(this,j).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(!pt(this,j).get(tt).visible)return!1}return!0}else if(st.policy==="AnyOff"){for(const tt of st.ids){if(!pt(this,j).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(!pt(this,j).get(tt).visible)return!0}return!1}else if(st.policy==="AllOff"){for(const tt of st.ids){if(!pt(this,j).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(pt(this,j).get(tt).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${st.policy}.`),!0}return(0,o.warn)(`Unknown group type ${st.type}.`),!0}setVisibility(st,tt=!0){if(!pt(this,j).has(st)){(0,o.warn)(`Optional content group not found: ${st}`);return}pt(this,j).get(st)._setVisible(d,!!tt),tn(this,_,null)}get hasInitialVisibility(){return pt(this,$)===null||this.getHash()===pt(this,$)}getOrder(){return pt(this,j).size?pt(this,_e)?pt(this,_e).slice():[...pt(this,j).keys()]:null}getGroups(){return pt(this,j).size>0?(0,o.objectFromMap)(pt(this,j)):null}getGroup(st){return pt(this,j).get(st)||null}getHash(){if(pt(this,_)!==null)return pt(this,_);const st=new a.MurmurHash3_64;for(const[tt,rt]of pt(this,j))st.update(`${tt}:${rt.visible}`);return tn(this,_,st.hexdigest())}}_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakSet,$r=function(st){const tt=st.length;if(tt<2)return!0;const rt=st[0];for(let ot=1;ot<tt;ot++){const ut=st[ot];let lt;if(Array.isArray(ut))lt=Gt(this,et,$r).call(this,ut);else if(pt(this,j).has(ut))lt=pt(this,j).get(ut).visible;else return(0,o.warn)(`Optional content group not found: ${ut}`),!0;switch(rt){case"And":if(!lt)return!1;break;case"Or":if(lt)return!0;break;case"Not":return!lt;default:return!0}}return rt==="And"},i.OptionalContentConfig=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),a=s(6);class d{constructor({length:_,initialData:j,progressiveDone:$=!1,contentDispositionFilename:_e=null,disableRange:et=!1,disableStream:nt=!1},it){if((0,o.assert)(it,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=$,this._contentDispositionFilename=_e,(j==null?void 0:j.length)>0){const st=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;this._queuedChunks.push(st)}this._pdfDataRangeTransport=it,this._isStreamingSupported=!nt,this._isRangeSupported=!et,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((st,tt)=>{this._onReceiveData({begin:st,chunk:tt})}),this._pdfDataRangeTransport.addProgressListener((st,tt)=>{this._onProgress({loaded:st,total:tt})}),this._pdfDataRangeTransport.addProgressiveReadListener(st=>{this._onReceiveData({chunk:st})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:j}){const $=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue($):this._queuedChunks.push($);else{const _e=this._rangeReaders.some(function(et){return et._begin!==_?!1:(et._enqueue($),!0)});(0,o.assert)(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var j,$,_e,et;_.total===void 0?($=(j=this._rangeReaders[0])==null?void 0:j.onProgress)==null||$.call(j,{loaded:_.loaded}):(et=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||et.call(_e,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const j=this._rangeReaders.indexOf(_);j>=0&&this._rangeReaders.splice(j,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new h(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,j){if(j<=this._progressiveDataLength)return null;const $=new g(this,_,j);return this._pdfDataRangeTransport.requestDataRange(_,j),this._rangeReaders.push($),$}cancelAllRequests(_){var j;(j=this._fullRequestReader)==null||j.cancel(_);for(const $ of this._rangeReaders.slice(0))$.cancel(_);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=d;class h{constructor(_,j,$=!1,_e=null){this._stream=_,this._done=$||!1,this._filename=(0,a.isPdfFile)(_e)?_e:null,this._queuedChunks=j||[],this._loaded=0;for(const et of this._queuedChunks)this._loaded+=et.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(_,j,$){this._stream=_,this._begin=j,this._end=$,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const j=this._queuedChunk;return this._queuedChunk=null,{value:j,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),a=s(20);function d($,_e,et){return{method:"GET",headers:$,signal:et.signal,mode:"cors",credentials:_e?"include":"same-origin",redirect:"follow"}}function h($){const _e=new Headers;for(const et in $){const nt=$[et];nt!==void 0&&_e.append(et,nt)}return _e}function g($){return $ instanceof Uint8Array?$.buffer:$ instanceof ArrayBuffer?$:((0,o.warn)(`getArrayBuffer - unexpected data format: ${$}`),new Uint8Array($).buffer)}class b{constructor(_e){this.source=_e,this.isHttp=/^https?:/i.test(_e.url),this.httpHeaders=this.isHttp&&_e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(_e,et){if(et<=this._progressiveDataLength)return null;const nt=new j(this,_e,et);return this._rangeRequestReaders.push(nt),nt}cancelAllRequests(_e){var et;(et=this._fullRequestReader)==null||et.cancel(_e);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(_e)}}i.PDFFetchStream=b;class _{constructor(_e){this._stream=_e,this._reader=null,this._loaded=0,this._filename=null;const et=_e.source;this._withCredentials=et.withCredentials||!1,this._contentLength=et.length,this._headersCapability=new o.PromiseCapability,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._headers=h(this._stream.httpHeaders);const nt=et.url;fetch(nt,d(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,a.validateResponseStatus)(it.status))throw(0,a.createResponseStatusError)(it.status,nt);this._reader=it.body.getReader(),this._headersCapability.resolve();const st=ot=>it.headers.get(ot),{allowRangeRequests:tt,suggestedLength:rt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=tt,this._contentLength=rt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(st),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._headersCapability.promise;const{value:_e,done:et}=await this._reader.read();return et?{value:_e,done:et}:(this._loaded+=_e.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(_e),done:!1})}cancel(_e){var et;(et=this._reader)==null||et.cancel(_e),this._abortController.abort()}}class j{constructor(_e,et,nt){this._stream=_e,this._reader=null,this._loaded=0;const it=_e.source;this._withCredentials=it.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!it.disableStream,this._abortController=new AbortController,this._headers=h(this._stream.httpHeaders),this._headers.append("Range",`bytes=${et}-${nt-1}`);const st=it.url;fetch(st,d(this._headers,this._withCredentials,this._abortController)).then(tt=>{if(!(0,a.validateResponseStatus)(tt.status))throw(0,a.createResponseStatusError)(tt.status,st);this._readCapability.resolve(),this._reader=tt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._readCapability.promise;const{value:_e,done:et}=await this._reader.read();return et?{value:_e,done:et}:(this._loaded+=_e.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded}),{value:g(_e),done:!1})}cancel(_e){var et;(et=this._reader)==null||et.cancel(_e),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=b,i.extractFilenameFromHeader=g,i.validateRangeRequestCapabilities=h,i.validateResponseStatus=_;var o=s(1),a=s(21),d=s(6);function h({getResponseHeader:j,isHttp:$,rangeChunkSize:_e,disableRange:et}){const nt={allowRangeRequests:!1,suggestedLength:void 0},it=parseInt(j("Content-Length"),10);return!Number.isInteger(it)||(nt.suggestedLength=it,it<=2*_e)||et||!$||j("Accept-Ranges")!=="bytes"||(j("Content-Encoding")||"identity")!=="identity"||(nt.allowRangeRequests=!0),nt}function g(j){const $=j("Content-Disposition");if($){let _e=(0,a.getFilenameFromContentDispositionHeader)($);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if((0,d.isPdfFile)(_e))return _e}return null}function b(j,$){return j===404||j===0&&$.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+$+'".'):new o.UnexpectedResponseException(`Unexpected server response (${j}) while retrieving PDF "${$}".`,j)}function _(j){return j===200||j===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(d){let h=!0,g=b("filename\\*","i").exec(d);if(g){g=g[1];let it=_e(g);return it=unescape(it),it=et(it),it=nt(it),j(it)}if(g=$(d),g){const it=nt(g);return j(it)}if(g=b("filename","i").exec(d),g){g=g[1];let it=_e(g);return it=nt(it),j(it)}function b(it,st){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',st)}function _(it,st){if(it){if(!/^[\x00-\xFF]+$/.test(st))return st;try{const tt=new TextDecoder(it,{fatal:!0}),rt=(0,o.stringToBytes)(st);st=tt.decode(rt),h=!1}catch{}}return st}function j(it){return h&&/[\x80-\xff]/.test(it)&&(it=_("utf-8",it),h&&(it=_("iso-8859-1",it))),it}function $(it){const st=[];let tt;const rt=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(tt=rt.exec(it))!==null;){let[,ut,lt,ct]=tt;if(ut=parseInt(ut,10),ut in st){if(ut===0)break;continue}st[ut]=[lt,ct]}const ot=[];for(let ut=0;ut<st.length&&ut in st;++ut){let[lt,ct]=st[ut];ct=_e(ct),lt&&(ct=unescape(ct),ut===0&&(ct=et(ct))),ot.push(ct)}return ot.join("")}function _e(it){if(it.startsWith('"')){const st=it.slice(1).split('\\"');for(let tt=0;tt<st.length;++tt){const rt=st[tt].indexOf('"');rt!==-1&&(st[tt]=st[tt].slice(0,rt),st.length=tt+1),st[tt]=st[tt].replaceAll(/\\(.)/g,"$1")}it=st.join('"')}return it}function et(it){const st=it.indexOf("'");if(st===-1)return it;const tt=it.slice(0,st),ot=it.slice(st+1).replace(/^[^']*'/,"");return _(tt,ot)}function nt(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(st,tt,rt,ot){if(rt==="q"||rt==="Q")return ot=ot.replaceAll("_"," "),ot=ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(ut,lt){return String.fromCharCode(parseInt(lt,16))}),_(tt,ot);try{ot=atob(ot)}catch{}return _(tt,ot)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),a=s(20);const d=200,h=206;function g(_e){const et=_e.response;return typeof et!="string"?et:(0,o.stringToBytes)(et).buffer}class b{constructor(et,nt={}){this.url=et,this.isHttp=/^https?:/i.test(et),this.httpHeaders=this.isHttp&&nt.httpHeaders||Object.create(null),this.withCredentials=nt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(et,nt,it){const st={begin:et,end:nt};for(const tt in it)st[tt]=it[tt];return this.request(st)}requestFull(et){return this.request(et)}request(et){const nt=new XMLHttpRequest,it=this.currXhrId++,st=this.pendingRequests[it]={xhr:nt};nt.open("GET",this.url),nt.withCredentials=this.withCredentials;for(const tt in this.httpHeaders){const rt=this.httpHeaders[tt];rt!==void 0&&nt.setRequestHeader(tt,rt)}return this.isHttp&&"begin"in et&&"end"in et?(nt.setRequestHeader("Range",`bytes=${et.begin}-${et.end-1}`),st.expectedStatus=h):st.expectedStatus=d,nt.responseType="arraybuffer",et.onError&&(nt.onerror=function(tt){et.onError(nt.status)}),nt.onreadystatechange=this.onStateChange.bind(this,it),nt.onprogress=this.onProgress.bind(this,it),st.onHeadersReceived=et.onHeadersReceived,st.onDone=et.onDone,st.onError=et.onError,st.onProgress=et.onProgress,nt.send(null),it}onProgress(et,nt){var st;const it=this.pendingRequests[et];it&&((st=it.onProgress)==null||st.call(it,nt))}onStateChange(et,nt){var ut,lt,ct;const it=this.pendingRequests[et];if(!it)return;const st=it.xhr;if(st.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),st.readyState!==4||!(et in this.pendingRequests))return;if(delete this.pendingRequests[et],st.status===0&&this.isHttp){(ut=it.onError)==null||ut.call(it,st.status);return}const tt=st.status||d;if(!(tt===d&&it.expectedStatus===h)&&tt!==it.expectedStatus){(lt=it.onError)==null||lt.call(it,st.status);return}const ot=g(st);if(tt===h){const dt=st.getResponseHeader("Content-Range"),ht=/bytes (\d+)-(\d+)\/(\d+)/.exec(dt);it.onDone({begin:parseInt(ht[1],10),chunk:ot})}else ot?it.onDone({begin:0,chunk:ot}):(ct=it.onError)==null||ct.call(it,st.status)}getRequestXhr(et){return this.pendingRequests[et].xhr}isPendingRequest(et){return et in this.pendingRequests}abortRequest(et){const nt=this.pendingRequests[et].xhr;delete this.pendingRequests[et],nt.abort()}}class _{constructor(et){this._source=et,this._manager=new b(et.url,{httpHeaders:et.httpHeaders,withCredentials:et.withCredentials}),this._rangeChunkSize=et.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(et){const nt=this._rangeRequestReaders.indexOf(et);nt>=0&&this._rangeRequestReaders.splice(nt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new j(this._manager,this._source),this._fullRequestReader}getRangeReader(et,nt){const it=new $(this._manager,et,nt);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(et){var nt;(nt=this._fullRequestReader)==null||nt.cancel(et);for(const it of this._rangeRequestReaders.slice(0))it.cancel(et)}}i.PDFNetworkStream=_;class j{constructor(et,nt){this._manager=et;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=nt.url,this._fullRequestId=et.requestFull(it),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=nt.disableRange||!1,this._contentLength=nt.length,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const et=this._fullRequestId,nt=this._manager.getRequestXhr(et),it=rt=>nt.getResponseHeader(rt),{allowRangeRequests:st,suggestedLength:tt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});st&&(this._isRangeSupported=!0),this._contentLength=tt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(et),this._headersReceivedCapability.resolve()}_onDone(et){if(et&&(this._requests.length>0?this._requests.shift().resolve({value:et.chunk,done:!1}):this._cachedChunks.push(et.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(et){this._storedError=(0,a.createResponseStatusError)(et,this._url),this._headersReceivedCapability.reject(this._storedError);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(et){var nt;(nt=this.onProgress)==null||nt.call(this,{loaded:et.loaded,total:et.lengthComputable?et.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const et=new o.PromiseCapability;return this._requests.push(et),et.promise}cancel(et){this._done=!0,this._headersReceivedCapability.reject(et);for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ${constructor(et,nt,it){this._manager=et;const st={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=et.url,this._requestId=et.requestRange(nt,it,st),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var et;(et=this.onClosed)==null||et.call(this,this)}_onDone(et){const nt=et.chunk;this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunk=nt,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(et){this._storedError=(0,a.createResponseStatusError)(et,this._url);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(et){var nt;this.isStreamingSupported||(nt=this.onProgress)==null||nt.call(this,{loaded:et.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const et=new o.PromiseCapability;return this._requests.push(et),et.promise}cancel(et){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),a=s(20);const d=/^file:\/\/\/[a-zA-Z]:\//;function h(it){const st=require$$5,tt=st.parse(it);return tt.protocol==="file:"||tt.host?tt:/^[a-z]:[/\\]/i.test(it)?st.parse(`file:///${it}`):(tt.host||(tt.protocol="file:"),tt)}class g{constructor(st){this.source=st,this.url=h(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new et(this):new $(this),this._fullRequestReader}getRangeReader(st,tt){if(tt<=this._progressiveDataLength)return null;const rt=this.isFsUrl?new nt(this,st,tt):new _e(this,st,tt);return this._rangeRequestReaders.push(rt),rt}cancelAllRequests(st){var tt;(tt=this._fullRequestReader)==null||tt.cancel(st);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(st)}}i.PDFNodeStream=g;class b{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const tt=st.source;this._contentLength=tt.length,this._loaded=0,this._filename=null,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",tt=>{this._error(tt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const tt=st.source;this._isStreamingSupported=!tt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",tt=>{this._error(tt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function j(it,st){return{protocol:it.protocol,auth:it.auth,host:it.hostname,port:it.port,path:it.path,method:"GET",headers:st}}class $ extends b{constructor(st){super(st);const tt=rt=>{if(rt.statusCode===404){const ct=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ct,this._headersCapability.reject(ct);return}this._headersCapability.resolve(),this._setReadableStream(rt);const ot=ct=>this._readableStream.headers[ct.toLowerCase()],{allowRangeRequests:ut,suggestedLength:lt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ut,this._contentLength=lt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ot)};if(this._request=null,this._url.protocol==="http:"){const rt=require$$5;this._request=rt.request(j(this._url,st.httpHeaders),tt)}else{const rt=require$$5;this._request=rt.request(j(this._url,st.httpHeaders),tt)}this._request.on("error",rt=>{this._storedError=rt,this._headersCapability.reject(rt)}),this._request.end()}}class _e extends _{constructor(st,tt,rt){super(st),this._httpHeaders={};for(const ut in st.httpHeaders){const lt=st.httpHeaders[ut];lt!==void 0&&(this._httpHeaders[ut]=lt)}this._httpHeaders.Range=`bytes=${tt}-${rt-1}`;const ot=ut=>{if(ut.statusCode===404){const lt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=lt;return}this._setReadableStream(ut)};if(this._request=null,this._url.protocol==="http:"){const ut=require$$5;this._request=ut.request(j(this._url,this._httpHeaders),ot)}else{const ut=require$$5;this._request=ut.request(j(this._url,this._httpHeaders),ot)}this._request.on("error",ut=>{this._storedError=ut}),this._request.end()}}class et extends b{constructor(st){super(st);let tt=decodeURIComponent(this._url.path);d.test(this._url.href)&&(tt=tt.replace(/^\//,""));const rt=require$$5;rt.lstat(tt,(ot,ut)=>{if(ot){ot.code==="ENOENT"&&(ot=new o.MissingPDFException(`Missing PDF "${tt}".`)),this._storedError=ot,this._headersCapability.reject(ot);return}this._contentLength=ut.size,this._setReadableStream(rt.createReadStream(tt)),this._headersCapability.resolve()})}}class nt extends _{constructor(st,tt,rt){super(st);let ot=decodeURIComponent(this._url.path);d.test(this._url.href)&&(ot=ot.replace(/^\//,""));const ut=require$$5;this._setReadableStream(ut.createReadStream(ot,{start:tt,end:rt-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(6),a=s(1);const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",b=["butt","round","square"],_=["miter","round","bevel"],j=function(ut,lt="",ct=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ct)return URL.createObjectURL(new Blob([ut],{type:lt}));const dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ht=`data:${lt};base64,`;for(let mt=0,xt=ut.length;mt<xt;mt+=3){const ft=ut[mt]&255,bt=ut[mt+1]&255,wt=ut[mt+2]&255,Ct=ft>>2,Tt=(ft&3)<<4|bt>>4,St=mt+1<xt?(bt&15)<<2|wt>>6:64,At=mt+2<xt?wt&63:64;ht+=dt[Ct]+dt[Tt]+dt[St]+dt[At]}return ht},$=function(){const ut=new Uint8Array([137,80,78,71,13,10,26,10]),lt=12,ct=new Int32Array(256);for(let wt=0;wt<256;wt++){let Ct=wt;for(let Tt=0;Tt<8;Tt++)Ct=Ct&1?3988292384^Ct>>1&2147483647:Ct>>1&2147483647;ct[wt]=Ct}function dt(wt,Ct,Tt){let St=-1;for(let At=Ct;At<Tt;At++){const Rt=(St^wt[At])&255,Et=ct[Rt];St=St>>>8^Et}return St^-1}function ht(wt,Ct,Tt,St){let At=St;const Rt=Ct.length;Tt[At]=Rt>>24&255,Tt[At+1]=Rt>>16&255,Tt[At+2]=Rt>>8&255,Tt[At+3]=Rt&255,At+=4,Tt[At]=wt.charCodeAt(0)&255,Tt[At+1]=wt.charCodeAt(1)&255,Tt[At+2]=wt.charCodeAt(2)&255,Tt[At+3]=wt.charCodeAt(3)&255,At+=4,Tt.set(Ct,At),At+=Ct.length;const Et=dt(Tt,St+4,At);Tt[At]=Et>>24&255,Tt[At+1]=Et>>16&255,Tt[At+2]=Et>>8&255,Tt[At+3]=Et&255}function mt(wt,Ct,Tt){let St=1,At=0;for(let Rt=Ct;Rt<Tt;++Rt)St=(St+(wt[Rt]&255))%65521,At=(At+St)%65521;return At<<16|St}function xt(wt){if(!a.isNodeJS)return ft(wt);try{const Ct=parseInt(process.versions.node)>=8?wt:Buffer.from(wt),Tt=require$$5.deflateSync(Ct,{level:9});return Tt instanceof Uint8Array?Tt:new Uint8Array(Tt)}catch(Ct){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ct)}return ft(wt)}function ft(wt){let Ct=wt.length;const Tt=65535,St=Math.ceil(Ct/Tt),At=new Uint8Array(2+Ct+St*5+4);let Rt=0;At[Rt++]=120,At[Rt++]=156;let Et=0;for(;Ct>Tt;)At[Rt++]=0,At[Rt++]=255,At[Rt++]=255,At[Rt++]=0,At[Rt++]=0,At.set(wt.subarray(Et,Et+Tt),Rt),Rt+=Tt,Et+=Tt,Ct-=Tt;At[Rt++]=1,At[Rt++]=Ct&255,At[Rt++]=Ct>>8&255,At[Rt++]=~Ct&65535&255,At[Rt++]=(~Ct&65535)>>8&255,At.set(wt.subarray(Et),Rt),Rt+=wt.length-Et;const gt=mt(wt,0,wt.length);return At[Rt++]=gt>>24&255,At[Rt++]=gt>>16&255,At[Rt++]=gt>>8&255,At[Rt++]=gt&255,At}function bt(wt,Ct,Tt,St){const At=wt.width,Rt=wt.height;let Et,gt,Mt;const _t=wt.data;switch(Ct){case a.ImageKind.GRAYSCALE_1BPP:gt=0,Et=1,Mt=At+7>>3;break;case a.ImageKind.RGB_24BPP:gt=2,Et=8,Mt=At*3;break;case a.ImageKind.RGBA_32BPP:gt=6,Et=8,Mt=At*4;break;default:throw new Error("invalid format")}const at=new Uint8Array((1+Mt)*Rt);let yt=0,kt=0;for(let Qt=0;Qt<Rt;++Qt)at[yt++]=0,at.set(_t.subarray(kt,kt+Mt),yt),kt+=Mt,yt+=Mt;if(Ct===a.ImageKind.GRAYSCALE_1BPP&&St){yt=0;for(let Qt=0;Qt<Rt;Qt++){yt++;for(let rn=0;rn<Mt;rn++)at[yt++]^=255}}const Pt=new Uint8Array([At>>24&255,At>>16&255,At>>8&255,At&255,Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255,Et,gt,0,0,0]),jt=xt(at),Lt=ut.length+lt*3+Pt.length+jt.length,Ut=new Uint8Array(Lt);let Xt=0;return Ut.set(ut,Xt),Xt+=ut.length,ht("IHDR",Pt,Ut,Xt),Xt+=lt+Pt.length,ht("IDATA",jt,Ut,Xt),Xt+=lt+jt.length,ht("IEND",new Uint8Array(0),Ut,Xt),j(Ut,"image/png",Tt)}return function(Ct,Tt,St){const At=Ct.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:Ct.kind;return bt(Ct,At,Tt,St)}}();class _e{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(lt,ct){this.x=lt,this.y=ct}}function et(ut){let lt=[];const ct=[];for(const dt of ut){if(dt.fn==="save"){lt.push({fnId:92,fn:"group",items:[]}),ct.push(lt),lt=lt.at(-1).items;continue}dt.fn==="restore"?lt=ct.pop():lt.push(dt)}return lt}function nt(ut){if(Number.isInteger(ut))return ut.toString();const lt=ut.toFixed(10);let ct=lt.length-1;if(lt[ct]!=="0")return lt;do ct--;while(lt[ct]==="0");return lt.substring(0,lt[ct]==="."?ct:ct+1)}function it(ut){if(ut[4]===0&&ut[5]===0){if(ut[1]===0&&ut[2]===0)return ut[0]===1&&ut[3]===1?"":`scale(${nt(ut[0])} ${nt(ut[3])})`;if(ut[0]===ut[3]&&ut[1]===-ut[2]){const lt=Math.acos(ut[0])*180/Math.PI;return`rotate(${nt(lt)})`}}else if(ut[0]===1&&ut[1]===0&&ut[2]===0&&ut[3]===1)return`translate(${nt(ut[4])} ${nt(ut[5])})`;return`matrix(${nt(ut[0])} ${nt(ut[1])} ${nt(ut[2])} ${nt(ut[3])} ${nt(ut[4])} ${nt(ut[5])})`}let st=0,tt=0,rt=0;class ot{constructor(lt,ct,dt=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new _e,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=lt,this.objs=ct,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!dt,this._operatorIdMapping=[];for(const ht in a.OPS)this._operatorIdMapping[a.OPS[ht]]=ht}getObject(lt,ct=null){return typeof lt=="string"?lt.startsWith("g_")?this.commonObjs.get(lt):this.objs.get(lt):ct}save(){this.transformStack.push(this.transformMatrix);const lt=this.current;this.extraStack.push(lt),this.current=lt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(lt){this.save(),this.executeOpTree(lt),this.restore()}loadDependencies(lt){const ct=lt.fnArray,dt=lt.argsArray;for(let ht=0,mt=ct.length;ht<mt;ht++)if(ct[ht]===a.OPS.dependency)for(const xt of dt[ht]){const ft=xt.startsWith("g_")?this.commonObjs:this.objs,bt=new Promise(wt=>{ft.get(xt,wt)});this.current.dependencies.push(bt)}return Promise.all(this.current.dependencies)}transform(lt,ct,dt,ht,mt,xt){const ft=[lt,ct,dt,ht,mt,xt];this.transformMatrix=a.Util.transform(this.transformMatrix,ft),this.tgrp=null}getSVG(lt,ct){this.viewport=ct;const dt=this._initialize(ct);return this.loadDependencies(lt).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(lt)),dt))}convertOpList(lt){const ct=this._operatorIdMapping,dt=lt.argsArray,ht=lt.fnArray,mt=[];for(let xt=0,ft=ht.length;xt<ft;xt++){const bt=ht[xt];mt.push({fnId:bt,fn:ct[bt],args:dt[xt]})}return et(mt)}executeOpTree(lt){for(const ct of lt){const dt=ct.fn,ht=ct.fnId,mt=ct.args;switch(ht|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(mt);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(mt[0],mt[1]);break;case a.OPS.setFont:this.setFont(mt);break;case a.OPS.showText:this.showText(mt[0]);break;case a.OPS.showSpacedText:this.showText(mt[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(mt[0],mt[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(mt[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(mt[0]);break;case a.OPS.setHScale:this.setHScale(mt[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]);break;case a.OPS.setTextRise:this.setTextRise(mt[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(mt[0]);break;case a.OPS.setLineWidth:this.setLineWidth(mt[0]);break;case a.OPS.setLineJoin:this.setLineJoin(mt[0]);break;case a.OPS.setLineCap:this.setLineCap(mt[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(mt[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(mt[0],mt[1],mt[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(mt[0],mt[1],mt[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(mt);break;case a.OPS.setFillColorN:this.setFillColorN(mt);break;case a.OPS.shadingFill:this.shadingFill(mt[0]);break;case a.OPS.setDash:this.setDash(mt[0],mt[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(mt[0]);break;case a.OPS.setFlatness:this.setFlatness(mt[0]);break;case a.OPS.setGState:this.setGState(mt[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(mt[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(mt[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(mt[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(mt[0],mt[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]);break;case a.OPS.constructPath:this.constructPath(mt[0],mt[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(ct.items);break;default:(0,a.warn)(`Unimplemented operator ${dt}`);break}}}setWordSpacing(lt){this.current.wordSpacing=lt}setCharSpacing(lt){this.current.charSpacing=lt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(lt,ct,dt,ht,mt,xt){const ft=this.current;ft.textMatrix=ft.lineMatrix=[lt,ct,dt,ht,mt,xt],ft.textMatrixScale=Math.hypot(lt,ct),ft.x=ft.lineX=0,ft.y=ft.lineY=0,ft.xcoords=[],ft.ycoords=[],ft.tspan=this.svgFactory.createElement("svg:tspan"),ft.tspan.setAttributeNS(null,"font-family",ft.fontFamily),ft.tspan.setAttributeNS(null,"font-size",`${nt(ft.fontSize)}px`),ft.tspan.setAttributeNS(null,"y",nt(-ft.y)),ft.txtElement=this.svgFactory.createElement("svg:text"),ft.txtElement.append(ft.tspan)}beginText(){const lt=this.current;lt.x=lt.lineX=0,lt.y=lt.lineY=0,lt.textMatrix=a.IDENTITY_MATRIX,lt.lineMatrix=a.IDENTITY_MATRIX,lt.textMatrixScale=1,lt.tspan=this.svgFactory.createElement("svg:tspan"),lt.txtElement=this.svgFactory.createElement("svg:text"),lt.txtgrp=this.svgFactory.createElement("svg:g"),lt.xcoords=[],lt.ycoords=[]}moveText(lt,ct){const dt=this.current;dt.x=dt.lineX+=lt,dt.y=dt.lineY+=ct,dt.xcoords=[],dt.ycoords=[],dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${nt(dt.fontSize)}px`),dt.tspan.setAttributeNS(null,"y",nt(-dt.y))}showText(lt){const ct=this.current,dt=ct.font,ht=ct.fontSize;if(ht===0)return;const mt=ct.fontSizeScale,xt=ct.charSpacing,ft=ct.wordSpacing,bt=ct.fontDirection,wt=ct.textHScale*bt,Ct=dt.vertical,Tt=Ct?1:-1,St=dt.defaultVMetrics,At=ht*ct.fontMatrix[0];let Rt=0;for(const Mt of lt){if(Mt===null){Rt+=bt*ft;continue}else if(typeof Mt=="number"){Rt+=Tt*Mt*ht/1e3;continue}const _t=(Mt.isSpace?ft:0)+xt,at=Mt.fontChar;let yt,kt,Pt=Mt.width;if(Ct){let Lt;const Ut=Mt.vmetric||St;Lt=Mt.vmetric?Ut[1]:Pt*.5,Lt=-Lt*At;const Xt=Ut[2]*At;Pt=Ut?-Ut[0]:Pt,yt=Lt/mt,kt=(Rt+Xt)/mt}else yt=Rt/mt,kt=0;(Mt.isInFont||dt.missingFile)&&(ct.xcoords.push(ct.x+yt),Ct&&ct.ycoords.push(-ct.y+kt),ct.tspan.textContent+=at);const jt=Ct?Pt*At-_t*bt:Pt*At+_t*bt;Rt+=jt}ct.tspan.setAttributeNS(null,"x",ct.xcoords.map(nt).join(" ")),Ct?ct.tspan.setAttributeNS(null,"y",ct.ycoords.map(nt).join(" ")):ct.tspan.setAttributeNS(null,"y",nt(-ct.y)),Ct?ct.y-=Rt:ct.x+=Rt*wt,ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${nt(ct.fontSize)}px`),ct.fontStyle!==d.fontStyle&&ct.tspan.setAttributeNS(null,"font-style",ct.fontStyle),ct.fontWeight!==d.fontWeight&&ct.tspan.setAttributeNS(null,"font-weight",ct.fontWeight);const Et=ct.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(Et===a.TextRenderingMode.FILL||Et===a.TextRenderingMode.FILL_STROKE?(ct.fillColor!==d.fillColor&&ct.tspan.setAttributeNS(null,"fill",ct.fillColor),ct.fillAlpha<1&&ct.tspan.setAttributeNS(null,"fill-opacity",ct.fillAlpha)):ct.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?ct.tspan.setAttributeNS(null,"fill","transparent"):ct.tspan.setAttributeNS(null,"fill","none"),Et===a.TextRenderingMode.STROKE||Et===a.TextRenderingMode.FILL_STROKE){const Mt=1/(ct.textMatrixScale||1);this._setStrokeAttributes(ct.tspan,Mt)}let gt=ct.textMatrix;ct.textRise!==0&&(gt=gt.slice(),gt[5]+=ct.textRise),ct.txtElement.setAttributeNS(null,"transform",`${it(gt)} scale(${nt(wt)}, -1)`),ct.txtElement.setAttributeNS(h,"xml:space","preserve"),ct.txtElement.append(ct.tspan),ct.txtgrp.append(ct.txtElement),this._ensureTransformGroup().append(ct.txtElement)}setLeadingMoveText(lt,ct){this.setLeading(-ct),this.moveText(lt,ct)}addFontStyle(lt){if(!lt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ct=j(lt.data,lt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${lt.loadedName}"; src: url(${ct}); }
`}setFont(lt){const ct=this.current,dt=this.commonObjs.get(lt[0]);let ht=lt[1];ct.font=dt,this.embedFonts&&!dt.missingFile&&!this.embeddedFonts[dt.loadedName]&&(this.addFontStyle(dt),this.embeddedFonts[dt.loadedName]=dt),ct.fontMatrix=dt.fontMatrix||a.FONT_IDENTITY_MATRIX;let mt="normal";dt.black?mt="900":dt.bold&&(mt="bold");const xt=dt.italic?"italic":"normal";ht<0?(ht=-ht,ct.fontDirection=-1):ct.fontDirection=1,ct.fontSize=ht,ct.fontFamily=dt.loadedName,ct.fontWeight=mt,ct.fontStyle=xt,ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"y",nt(-ct.y)),ct.xcoords=[],ct.ycoords=[]}endText(){var ct;const lt=this.current;lt.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((ct=lt.txtElement)!=null&&ct.hasChildNodes())&&(lt.element=lt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(lt){lt>0&&(this.current.lineWidth=lt)}setLineCap(lt){this.current.lineCap=b[lt]}setLineJoin(lt){this.current.lineJoin=_[lt]}setMiterLimit(lt){this.current.miterLimit=lt}setStrokeAlpha(lt){this.current.strokeAlpha=lt}setStrokeRGBColor(lt,ct,dt){this.current.strokeColor=a.Util.makeHexColor(lt,ct,dt)}setFillAlpha(lt){this.current.fillAlpha=lt}setFillRGBColor(lt,ct,dt){this.current.fillColor=a.Util.makeHexColor(lt,ct,dt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(lt){this.current.strokeColor=this._makeColorN_Pattern(lt)}setFillColorN(lt){this.current.fillColor=this._makeColorN_Pattern(lt)}shadingFill(lt){const{width:ct,height:dt}=this.viewport,ht=a.Util.inverseTransform(this.transformMatrix),[mt,xt,ft,bt]=a.Util.getAxialAlignedBoundingBox([0,0,ct,dt],ht),wt=this.svgFactory.createElement("svg:rect");wt.setAttributeNS(null,"x",mt),wt.setAttributeNS(null,"y",xt),wt.setAttributeNS(null,"width",ft-mt),wt.setAttributeNS(null,"height",bt-xt),wt.setAttributeNS(null,"fill",this._makeShadingPattern(lt)),this.current.fillAlpha<1&&wt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(wt)}_makeColorN_Pattern(lt){return lt[0]==="TilingPattern"?this._makeTilingPattern(lt):this._makeShadingPattern(lt)}_makeTilingPattern(lt){const ct=lt[1],dt=lt[2],ht=lt[3]||a.IDENTITY_MATRIX,[mt,xt,ft,bt]=lt[4],wt=lt[5],Ct=lt[6],Tt=lt[7],St=`shading${rt++}`,[At,Rt,Et,gt]=a.Util.normalizeRect([...a.Util.applyTransform([mt,xt],ht),...a.Util.applyTransform([ft,bt],ht)]),[Mt,_t]=a.Util.singularValueDecompose2dScale(ht),at=wt*Mt,yt=Ct*_t,kt=this.svgFactory.createElement("svg:pattern");kt.setAttributeNS(null,"id",St),kt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),kt.setAttributeNS(null,"width",at),kt.setAttributeNS(null,"height",yt),kt.setAttributeNS(null,"x",`${At}`),kt.setAttributeNS(null,"y",`${Rt}`);const Pt=this.svg,jt=this.transformMatrix,Lt=this.current.fillColor,Ut=this.current.strokeColor,Xt=this.svgFactory.create(Et-At,gt-Rt);if(this.svg=Xt,this.transformMatrix=ht,Tt===2){const Qt=a.Util.makeHexColor(...ct);this.current.fillColor=Qt,this.current.strokeColor=Qt}return this.executeOpTree(this.convertOpList(dt)),this.svg=Pt,this.transformMatrix=jt,this.current.fillColor=Lt,this.current.strokeColor=Ut,kt.append(Xt.childNodes[0]),this.defs.append(kt),`url(#${St})`}_makeShadingPattern(lt){switch(typeof lt=="string"&&(lt=this.objs.get(lt)),lt[0]){case"RadialAxial":const ct=`shading${rt++}`,dt=lt[3];let ht;switch(lt[1]){case"axial":const mt=lt[4],xt=lt[5];ht=this.svgFactory.createElement("svg:linearGradient"),ht.setAttributeNS(null,"id",ct),ht.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ht.setAttributeNS(null,"x1",mt[0]),ht.setAttributeNS(null,"y1",mt[1]),ht.setAttributeNS(null,"x2",xt[0]),ht.setAttributeNS(null,"y2",xt[1]);break;case"radial":const ft=lt[4],bt=lt[5],wt=lt[6],Ct=lt[7];ht=this.svgFactory.createElement("svg:radialGradient"),ht.setAttributeNS(null,"id",ct),ht.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ht.setAttributeNS(null,"cx",bt[0]),ht.setAttributeNS(null,"cy",bt[1]),ht.setAttributeNS(null,"r",Ct),ht.setAttributeNS(null,"fx",ft[0]),ht.setAttributeNS(null,"fy",ft[1]),ht.setAttributeNS(null,"fr",wt);break;default:throw new Error(`Unknown RadialAxial type: ${lt[1]}`)}for(const mt of dt){const xt=this.svgFactory.createElement("svg:stop");xt.setAttributeNS(null,"offset",mt[0]),xt.setAttributeNS(null,"stop-color",mt[1]),ht.append(xt)}return this.defs.append(ht),`url(#${ct})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${lt[0]}`)}}setDash(lt,ct){this.current.dashArray=lt,this.current.dashPhase=ct}constructPath(lt,ct){const dt=this.current;let ht=dt.x,mt=dt.y,xt=[],ft=0;for(const bt of lt)switch(bt|0){case a.OPS.rectangle:ht=ct[ft++],mt=ct[ft++];const wt=ct[ft++],Ct=ct[ft++],Tt=ht+wt,St=mt+Ct;xt.push("M",nt(ht),nt(mt),"L",nt(Tt),nt(mt),"L",nt(Tt),nt(St),"L",nt(ht),nt(St),"Z");break;case a.OPS.moveTo:ht=ct[ft++],mt=ct[ft++],xt.push("M",nt(ht),nt(mt));break;case a.OPS.lineTo:ht=ct[ft++],mt=ct[ft++],xt.push("L",nt(ht),nt(mt));break;case a.OPS.curveTo:ht=ct[ft+4],mt=ct[ft+5],xt.push("C",nt(ct[ft]),nt(ct[ft+1]),nt(ct[ft+2]),nt(ct[ft+3]),nt(ht),nt(mt)),ft+=6;break;case a.OPS.curveTo2:xt.push("C",nt(ht),nt(mt),nt(ct[ft]),nt(ct[ft+1]),nt(ct[ft+2]),nt(ct[ft+3])),ht=ct[ft+2],mt=ct[ft+3],ft+=4;break;case a.OPS.curveTo3:ht=ct[ft+2],mt=ct[ft+3],xt.push("C",nt(ct[ft]),nt(ct[ft+1]),nt(ht),nt(mt),nt(ht),nt(mt)),ft+=4;break;case a.OPS.closePath:xt.push("Z");break}xt=xt.join(" "),dt.path&&lt.length>0&&lt[0]!==a.OPS.rectangle&&lt[0]!==a.OPS.moveTo?xt=dt.path.getAttributeNS(null,"d")+xt:(dt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(dt.path)),dt.path.setAttributeNS(null,"d",xt),dt.path.setAttributeNS(null,"fill","none"),dt.element=dt.path,dt.setCurrentPoint(ht,mt)}endPath(){const lt=this.current;if(lt.path=null,!this.pendingClip)return;if(!lt.element){this.pendingClip=null;return}const ct=`clippath${st++}`,dt=this.svgFactory.createElement("svg:clipPath");dt.setAttributeNS(null,"id",ct),dt.setAttributeNS(null,"transform",it(this.transformMatrix));const ht=lt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ht.setAttributeNS(null,"clip-rule","evenodd"):ht.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,dt.append(ht),this.defs.append(dt),lt.activeClipUrl){lt.clipGroup=null;for(const mt of this.extraStack)mt.clipGroup=null;dt.setAttributeNS(null,"clip-path",lt.activeClipUrl)}lt.activeClipUrl=`url(#${ct})`,this.tgrp=null}clip(lt){this.pendingClip=lt}closePath(){const lt=this.current;if(lt.path){const ct=`${lt.path.getAttributeNS(null,"d")}Z`;lt.path.setAttributeNS(null,"d",ct)}}setLeading(lt){this.current.leading=-lt}setTextRise(lt){this.current.textRise=lt}setTextRenderingMode(lt){this.current.textRenderingMode=lt}setHScale(lt){this.current.textHScale=lt/100}setRenderingIntent(lt){}setFlatness(lt){}setGState(lt){for(const[ct,dt]of lt)switch(ct){case"LW":this.setLineWidth(dt);break;case"LC":this.setLineCap(dt);break;case"LJ":this.setLineJoin(dt);break;case"ML":this.setMiterLimit(dt);break;case"D":this.setDash(dt[0],dt[1]);break;case"RI":this.setRenderingIntent(dt);break;case"FL":this.setFlatness(dt);break;case"Font":this.setFont(dt);break;case"CA":this.setStrokeAlpha(dt);break;case"ca":this.setFillAlpha(dt);break;default:(0,a.warn)(`Unimplemented graphic state operator ${ct}`);break}}fill(){const lt=this.current;lt.element&&(lt.element.setAttributeNS(null,"fill",lt.fillColor),lt.element.setAttributeNS(null,"fill-opacity",lt.fillAlpha),this.endPath())}stroke(){const lt=this.current;lt.element&&(this._setStrokeAttributes(lt.element),lt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(lt,ct=1){const dt=this.current;let ht=dt.dashArray;ct!==1&&ht.length>0&&(ht=ht.map(function(mt){return ct*mt})),lt.setAttributeNS(null,"stroke",dt.strokeColor),lt.setAttributeNS(null,"stroke-opacity",dt.strokeAlpha),lt.setAttributeNS(null,"stroke-miterlimit",nt(dt.miterLimit)),lt.setAttributeNS(null,"stroke-linecap",dt.lineCap),lt.setAttributeNS(null,"stroke-linejoin",dt.lineJoin),lt.setAttributeNS(null,"stroke-width",nt(ct*dt.lineWidth)+"px"),lt.setAttributeNS(null,"stroke-dasharray",ht.map(nt).join(" ")),lt.setAttributeNS(null,"stroke-dashoffset",nt(ct*dt.dashPhase)+"px")}eoFill(){var lt;(lt=this.current.element)==null||lt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var lt;(lt=this.current.element)==null||lt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const lt=this.svgFactory.createElement("svg:rect");lt.setAttributeNS(null,"x","0"),lt.setAttributeNS(null,"y","0"),lt.setAttributeNS(null,"width","1px"),lt.setAttributeNS(null,"height","1px"),lt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(lt)}paintImageXObject(lt){const ct=this.getObject(lt);if(!ct){(0,a.warn)(`Dependent image with object ID ${lt} is not ready yet`);return}this.paintInlineImageXObject(ct)}paintInlineImageXObject(lt,ct){const dt=lt.width,ht=lt.height,mt=$(lt,this.forceDataSchema,!!ct),xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y","0"),xt.setAttributeNS(null,"width",nt(dt)),xt.setAttributeNS(null,"height",nt(ht)),this.current.element=xt,this.clip("nonzero");const ft=this.svgFactory.createElement("svg:image");ft.setAttributeNS(g,"xlink:href",mt),ft.setAttributeNS(null,"x","0"),ft.setAttributeNS(null,"y",nt(-ht)),ft.setAttributeNS(null,"width",nt(dt)+"px"),ft.setAttributeNS(null,"height",nt(ht)+"px"),ft.setAttributeNS(null,"transform",`scale(${nt(1/dt)} ${nt(-1/ht)})`),ct?ct.append(ft):this._ensureTransformGroup().append(ft)}paintImageMaskXObject(lt){const ct=this.getObject(lt.data,lt);if(ct.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const dt=this.current,ht=ct.width,mt=ct.height,xt=dt.fillColor;dt.maskId=`mask${tt++}`;const ft=this.svgFactory.createElement("svg:mask");ft.setAttributeNS(null,"id",dt.maskId);const bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width",nt(ht)),bt.setAttributeNS(null,"height",nt(mt)),bt.setAttributeNS(null,"fill",xt),bt.setAttributeNS(null,"mask",`url(#${dt.maskId})`),this.defs.append(ft),this._ensureTransformGroup().append(bt),this.paintInlineImageXObject(ct,ft)}paintFormXObjectBegin(lt,ct){if(Array.isArray(lt)&&lt.length===6&&this.transform(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]),ct){const dt=ct[2]-ct[0],ht=ct[3]-ct[1],mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x",ct[0]),mt.setAttributeNS(null,"y",ct[1]),mt.setAttributeNS(null,"width",nt(dt)),mt.setAttributeNS(null,"height",nt(ht)),this.current.element=mt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(lt){const ct=this.svgFactory.create(lt.width,lt.height),dt=this.svgFactory.createElement("svg:defs");ct.append(dt),this.defs=dt;const ht=this.svgFactory.createElement("svg:g");return ht.setAttributeNS(null,"transform",it(lt.transform)),ct.append(ht),this.svg=ht,ct}_ensureClipGroup(){if(!this.current.clipGroup){const lt=this.svgFactory.createElement("svg:g");lt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(lt),this.current.clipGroup=lt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",it(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=ot},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(a){const d=[],h={items:d,styles:Object.create(null)};function g(b){var $;if(!b)return;let _=null;const j=b.name;if(j==="#text")_=b.value;else if(s.shouldBuildText(j))($=b==null?void 0:b.attributes)!=null&&$.textContent?_=b.attributes.textContent:b.value&&(_=b.value);else return;if(_!==null&&d.push({str:_}),!!b.children)for(const _e of b.children)g(_e)}return g(a),h}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=it,i.updateTextLayer=st;var o=s(1),a=s(6);const d=1e5,h=30,g=.8,b=new Map;function _(tt,rt){let ot;if(rt&&o.FeatureTest.isOffscreenCanvasSupported)ot=new OffscreenCanvas(tt,tt).getContext("2d",{alpha:!1});else{const ut=document.createElement("canvas");ut.width=ut.height=tt,ot=ut.getContext("2d",{alpha:!1})}return ot}function j(tt,rt){const ot=b.get(tt);if(ot)return ot;const ut=_(h,rt);ut.font=`${h}px ${tt}`;const lt=ut.measureText("");let ct=lt.fontBoundingBoxAscent,dt=Math.abs(lt.fontBoundingBoxDescent);if(ct){const mt=ct/(ct+dt);return b.set(tt,mt),ut.canvas.width=ut.canvas.height=0,mt}ut.strokeStyle="red",ut.clearRect(0,0,h,h),ut.strokeText("g",0,0);let ht=ut.getImageData(0,0,h,h).data;dt=0;for(let mt=ht.length-1-3;mt>=0;mt-=4)if(ht[mt]>0){dt=Math.ceil(mt/4/h);break}ut.clearRect(0,0,h,h),ut.strokeText("A",0,h),ht=ut.getImageData(0,0,h,h).data,ct=0;for(let mt=0,xt=ht.length;mt<xt;mt+=4)if(ht[mt]>0){ct=h-Math.floor(mt/4/h);break}if(ut.canvas.width=ut.canvas.height=0,ct){const mt=ct/(ct+dt);return b.set(tt,mt),mt}return b.set(tt,g),g}function $(tt,rt,ot){const ut=document.createElement("span"),lt={angle:0,canvasWidth:0,hasText:rt.str!=="",hasEOL:rt.hasEOL,fontSize:0};tt._textDivs.push(ut);const ct=o.Util.transform(tt._transform,rt.transform);let dt=Math.atan2(ct[1],ct[0]);const ht=ot[rt.fontName];ht.vertical&&(dt+=Math.PI/2);const mt=Math.hypot(ct[2],ct[3]),xt=mt*j(ht.fontFamily,tt._isOffscreenCanvasSupported);let ft,bt;dt===0?(ft=ct[4],bt=ct[5]-xt):(ft=ct[4]+xt*Math.sin(dt),bt=ct[5]-xt*Math.cos(dt));const wt="calc(var(--scale-factor)*",Ct=ut.style;tt._container===tt._rootContainer?(Ct.left=`${(100*ft/tt._pageWidth).toFixed(2)}%`,Ct.top=`${(100*bt/tt._pageHeight).toFixed(2)}%`):(Ct.left=`${wt}${ft.toFixed(2)}px)`,Ct.top=`${wt}${bt.toFixed(2)}px)`),Ct.fontSize=`${wt}${mt.toFixed(2)}px)`,Ct.fontFamily=ht.fontFamily,lt.fontSize=mt,ut.setAttribute("role","presentation"),ut.textContent=rt.str,ut.dir=rt.dir,tt._fontInspectorEnabled&&(ut.dataset.fontName=rt.fontName),dt!==0&&(lt.angle=dt*(180/Math.PI));let Tt=!1;if(rt.str.length>1)Tt=!0;else if(rt.str!==" "&&rt.transform[0]!==rt.transform[3]){const St=Math.abs(rt.transform[0]),At=Math.abs(rt.transform[3]);St!==At&&Math.max(St,At)/Math.min(St,At)>1.5&&(Tt=!0)}Tt&&(lt.canvasWidth=ht.vertical?rt.height:rt.width),tt._textDivProperties.set(ut,lt),tt._isReadableStream&&tt._layoutText(ut)}function _e(tt){const{div:rt,scale:ot,properties:ut,ctx:lt,prevFontSize:ct,prevFontFamily:dt}=tt,{style:ht}=rt;let mt="";if(ut.canvasWidth!==0&&ut.hasText){const{fontFamily:xt}=ht,{canvasWidth:ft,fontSize:bt}=ut;(ct!==bt||dt!==xt)&&(lt.font=`${bt*ot}px ${xt}`,tt.prevFontSize=bt,tt.prevFontFamily=xt);const{width:wt}=lt.measureText(rt.textContent);wt>0&&(mt=`scaleX(${ft*ot/wt})`)}ut.angle!==0&&(mt=`rotate(${ut.angle}deg) ${mt}`),mt.length>0&&(ht.transform=mt)}function et(tt){if(tt._canceled)return;const rt=tt._textDivs,ot=tt._capability;if(rt.length>d){ot.resolve();return}if(!tt._isReadableStream)for(const lt of rt)tt._layoutText(lt);ot.resolve()}class nt{constructor({textContentSource:rt,container:ot,viewport:ut,textDivs:lt,textDivProperties:ct,textContentItemsStr:dt,isOffscreenCanvasSupported:ht}){var wt;this._textContentSource=rt,this._isReadableStream=rt instanceof ReadableStream,this._container=this._rootContainer=ot,this._textDivs=lt||[],this._textContentItemsStr=dt||[],this._isOffscreenCanvasSupported=ht,this._fontInspectorEnabled=!!((wt=globalThis.FontInspector)!=null&&wt.enabled),this._reader=null,this._textDivProperties=ct||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ut.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,ht)};const{pageWidth:mt,pageHeight:xt,pageX:ft,pageY:bt}=ut.rawDims;this._transform=[1,0,0,-1,-ft,bt+xt],this._pageWidth=mt,this._pageHeight=xt,(0,a.setLayerDimensions)(ot,ut),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(rt,ot){for(const ut of rt){if(ut.str===void 0){if(ut.type==="beginMarkedContentProps"||ut.type==="beginMarkedContent"){const lt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ut.id!==null&&this._container.setAttribute("id",`${ut.id}`),lt.append(this._container)}else ut.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ut.str),$(this,ut,ot)}}_layoutText(rt){const ot=this._layoutTextParams.properties=this._textDivProperties.get(rt);if(this._layoutTextParams.div=rt,_e(this._layoutTextParams),ot.hasText&&this._container.append(rt),ot.hasEOL){const ut=document.createElement("br");ut.setAttribute("role","presentation"),this._container.append(ut)}}_render(){const rt=new o.PromiseCapability;let ot=Object.create(null);if(this._isReadableStream){const ut=()=>{this._reader.read().then(({value:lt,done:ct})=>{if(ct){rt.resolve();return}Object.assign(ot,lt.styles),this._processItems(lt.items,ot),ut()},rt.reject)};this._reader=this._textContentSource.getReader(),ut()}else if(this._textContentSource){const{items:ut,styles:lt}=this._textContentSource;this._processItems(ut,lt),rt.resolve()}else throw new Error('No "textContentSource" parameter specified.');rt.promise.then(()=>{ot=null,et(this)},this._capability.reject)}}i.TextLayerRenderTask=nt;function it(tt){!tt.textContentSource&&(tt.textContent||tt.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),tt.textContentSource=tt.textContent||tt.textContentStream);const{container:rt,viewport:ot}=tt,ut=getComputedStyle(rt),lt=ut.getPropertyValue("visibility"),ct=parseFloat(ut.getPropertyValue("--scale-factor"));lt==="visible"&&(!ct||Math.abs(ct-ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const dt=new nt(tt);return dt._render(),dt}function st({container:tt,viewport:rt,textDivs:ot,textDivProperties:ut,isOffscreenCanvasSupported:lt,mustRotate:ct=!0,mustRescale:dt=!0}){if(ct&&(0,a.setLayerDimensions)(tt,{rotation:rt.rotation}),dt){const ht=_(0,lt),xt={prevFontSize:null,prevFontFamily:null,div:null,scale:rt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ht};for(const ft of ot)xt.properties=ut.get(ft),xt.div=ft,_e(xt)}}},(e,i,s)=>{var j,$,_e,et,nt,it,st,tt,rt,ot,ut,zr,fr,Ur,Vr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(1),a=s(4),d=s(28),h=s(33),g=s(6),b=s(34);const mt=class mt{constructor({uiManager:ft,pageIndex:bt,div:wt,accessibilityManager:Ct,annotationLayer:Tt,viewport:St,l10n:At}){Jt(this,ut);Jt(this,j);Jt(this,$,!1);Jt(this,_e,null);Jt(this,et,this.pointerup.bind(this));Jt(this,nt,this.pointerdown.bind(this));Jt(this,it,new Map);Jt(this,st,!1);Jt(this,tt,!1);Jt(this,rt,!1);Jt(this,ot);const Rt=[d.FreeTextEditor,h.InkEditor,b.StampEditor];if(!mt._initialized){mt._initialized=!0;for(const Et of Rt)Et.initialize(At)}ft.registerEditorTypes(Rt),tn(this,ot,ft),this.pageIndex=bt,this.div=wt,tn(this,j,Ct),tn(this,_e,Tt),this.viewport=St,pt(this,ot).addLayer(this)}get isEmpty(){return pt(this,it).size===0}updateToolbar(ft){pt(this,ot).updateToolbar(ft)}updateMode(ft=pt(this,ot).getMode()){Gt(this,ut,Vr).call(this),ft===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ft!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ft===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ft===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ft===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ft){if(!ft&&pt(this,ot).getMode()!==o.AnnotationEditorType.INK)return;if(!ft){for(const wt of pt(this,it).values())if(wt.isEmpty()){wt.setInBackground();return}}Gt(this,ut,fr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ft){pt(this,ot).setEditingState(ft)}addCommands(ft){pt(this,ot).addCommands(ft)}enable(){this.div.style.pointerEvents="auto";const ft=new Set;for(const wt of pt(this,it).values())wt.enableEditing(),wt.annotationElementId&&ft.add(wt.annotationElementId);if(!pt(this,_e))return;const bt=pt(this,_e).getEditableAnnotations();for(const wt of bt){if(wt.hide(),pt(this,ot).isDeletedAnnotationElement(wt.data.id)||ft.has(wt.data.id))continue;const Ct=this.deserialize(wt);Ct&&(this.addOrRebuild(Ct),Ct.enableEditing())}}disable(){var bt;tn(this,rt,!0),this.div.style.pointerEvents="none";const ft=new Set;for(const wt of pt(this,it).values()){if(wt.disableEditing(),!wt.annotationElementId||wt.serialize()!==null){ft.add(wt.annotationElementId);continue}(bt=this.getEditableAnnotation(wt.annotationElementId))==null||bt.show(),wt.remove()}if(pt(this,_e)){const wt=pt(this,_e).getEditableAnnotations();for(const Ct of wt){const{id:Tt}=Ct.data;ft.has(Tt)||pt(this,ot).isDeletedAnnotationElement(Tt)||Ct.show()}}Gt(this,ut,Vr).call(this),this.isEmpty&&(this.div.hidden=!0),tn(this,rt,!1)}getEditableAnnotation(ft){var bt;return((bt=pt(this,_e))==null?void 0:bt.getEditableAnnotation(ft))||null}setActiveEditor(ft){pt(this,ot).getActive()!==ft&&pt(this,ot).setActiveEditor(ft)}enableClick(){this.div.addEventListener("pointerdown",pt(this,nt)),this.div.addEventListener("pointerup",pt(this,et))}disableClick(){this.div.removeEventListener("pointerdown",pt(this,nt)),this.div.removeEventListener("pointerup",pt(this,et))}attach(ft){pt(this,it).set(ft.id,ft);const{annotationElementId:bt}=ft;bt&&pt(this,ot).isDeletedAnnotationElement(bt)&&pt(this,ot).removeDeletedAnnotationElement(ft)}detach(ft){var bt;pt(this,it).delete(ft.id),(bt=pt(this,j))==null||bt.removePointerInTextLayer(ft.contentDiv),!pt(this,rt)&&ft.annotationElementId&&pt(this,ot).addDeletedAnnotationElement(ft)}remove(ft){this.detach(ft),pt(this,ot).removeEditor(ft),ft.div.contains(document.activeElement)&&setTimeout(()=>{pt(this,ot).focusMainContainer()},0),ft.div.remove(),ft.isAttachedToDOM=!1,pt(this,tt)||this.addInkEditorIfNeeded(!1)}changeParent(ft){var bt;ft.parent!==this&&(ft.annotationElementId&&(pt(this,ot).addDeletedAnnotationElement(ft.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(ft),ft.annotationElementId=null),this.attach(ft),(bt=ft.parent)==null||bt.detach(ft),ft.setParent(this),ft.div&&ft.isAttachedToDOM&&(ft.div.remove(),this.div.append(ft.div)))}add(ft){if(this.changeParent(ft),pt(this,ot).addEditor(ft),this.attach(ft),!ft.isAttachedToDOM){const bt=ft.render();this.div.append(bt),ft.isAttachedToDOM=!0}ft.fixAndSetPosition(),ft.onceAdded(),pt(this,ot).addToAnnotationStorage(ft)}moveEditorInDOM(ft){var wt;if(!ft.isAttachedToDOM)return;const{activeElement:bt}=document;ft.div.contains(bt)&&(ft._focusEventsAllowed=!1,setTimeout(()=>{ft.div.contains(document.activeElement)?ft._focusEventsAllowed=!0:(ft.div.addEventListener("focusin",()=>{ft._focusEventsAllowed=!0},{once:!0}),bt.focus())},0)),ft._structTreeParentId=(wt=pt(this,j))==null?void 0:wt.moveElementInDOM(this.div,ft.div,ft.contentDiv,!0)}addOrRebuild(ft){ft.needsToBeRebuilt()?ft.rebuild():this.add(ft)}addUndoableEditor(ft){const bt=()=>ft._uiManager.rebuild(ft),wt=()=>{ft.remove()};this.addCommands({cmd:bt,undo:wt,mustExec:!1})}getNextId(){return pt(this,ot).getId()}pasteEditor(ft,bt){pt(this,ot).updateToolbar(ft),pt(this,ot).updateMode(ft);const{offsetX:wt,offsetY:Ct}=Gt(this,ut,Ur).call(this),Tt=this.getNextId(),St=Gt(this,ut,zr).call(this,{parent:this,id:Tt,x:wt,y:Ct,uiManager:pt(this,ot),isCentered:!0,...bt});St&&this.add(St)}deserialize(ft){switch(ft.annotationType??ft.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(ft,this,pt(this,ot));case o.AnnotationEditorType.INK:return h.InkEditor.deserialize(ft,this,pt(this,ot));case o.AnnotationEditorType.STAMP:return b.StampEditor.deserialize(ft,this,pt(this,ot))}return null}addNewEditor(){Gt(this,ut,fr).call(this,Gt(this,ut,Ur).call(this),!0)}setSelected(ft){pt(this,ot).setSelected(ft)}toggleSelected(ft){pt(this,ot).toggleSelected(ft)}isSelected(ft){return pt(this,ot).isSelected(ft)}unselect(ft){pt(this,ot).unselect(ft)}pointerup(ft){const{isMac:bt}=o.FeatureTest.platform;if(!(ft.button!==0||ft.ctrlKey&&bt)&&ft.target===this.div&&pt(this,st)){if(tn(this,st,!1),!pt(this,$)){tn(this,$,!0);return}if(pt(this,ot).getMode()===o.AnnotationEditorType.STAMP){pt(this,ot).unselectAll();return}Gt(this,ut,fr).call(this,ft,!1)}}pointerdown(ft){if(pt(this,st)){tn(this,st,!1);return}const{isMac:bt}=o.FeatureTest.platform;if(ft.button!==0||ft.ctrlKey&&bt||ft.target!==this.div)return;tn(this,st,!0);const wt=pt(this,ot).getActive();tn(this,$,!wt||wt.isEmpty())}findNewParent(ft,bt,wt){const Ct=pt(this,ot).findParent(bt,wt);return Ct===null||Ct===this?!1:(Ct.changeParent(ft),!0)}destroy(){var ft,bt;((ft=pt(this,ot).getActive())==null?void 0:ft.parent)===this&&(pt(this,ot).commitOrRemove(),pt(this,ot).setActiveEditor(null));for(const wt of pt(this,it).values())(bt=pt(this,j))==null||bt.removePointerInTextLayer(wt.contentDiv),wt.setParent(null),wt.isAttachedToDOM=!1,wt.div.remove();this.div=null,pt(this,it).clear(),pt(this,ot).removeLayer(this)}render({viewport:ft}){this.viewport=ft,(0,g.setLayerDimensions)(this.div,ft);for(const bt of pt(this,ot).getEditors(this.pageIndex))this.add(bt);this.updateMode()}update({viewport:ft}){pt(this,ot).commitOrRemove(),this.viewport=ft,(0,g.setLayerDimensions)(this.div,{rotation:ft.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ft,pageHeight:bt}=this.viewport.rawDims;return[ft,bt]}};j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,tt=new WeakMap,rt=new WeakMap,ot=new WeakMap,ut=new WeakSet,zr=function(ft){switch(pt(this,ot).getMode()){case o.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(ft);case o.AnnotationEditorType.INK:return new h.InkEditor(ft);case o.AnnotationEditorType.STAMP:return new b.StampEditor(ft)}return null},fr=function(ft,bt){const wt=this.getNextId(),Ct=Gt(this,ut,zr).call(this,{parent:this,id:wt,x:ft.offsetX,y:ft.offsetY,uiManager:pt(this,ot),isCentered:bt});return Ct&&this.add(Ct),Ct},Ur=function(){const{x:ft,y:bt,width:wt,height:Ct}=this.div.getBoundingClientRect(),Tt=Math.max(0,ft),St=Math.max(0,bt),At=Math.min(window.innerWidth,ft+wt),Rt=Math.min(window.innerHeight,bt+Ct),Et=(Tt+At)/2-ft,gt=(St+Rt)/2-bt,[Mt,_t]=this.viewport.rotation%180===0?[Et,gt]:[gt,Et];return{offsetX:Mt,offsetY:_t}},Vr=function(){tn(this,tt,!0);for(const ft of pt(this,it).values())ft.isEmpty()&&ft.remove();tn(this,tt,!1)},$n(mt,"_initialized",!1);let _=mt;i.AnnotationEditorLayer=_},(e,i,s)=>{var b,_,j,$,_e,et,nt,it,st,tt,xs,ys,bs,sr,Hr,Es,Wr;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),a=s(5),d=s(4),h=s(29);const mt=class mt extends d.AnnotationEditor{constructor(bt){super({...bt,name:"freeTextEditor"});Jt(this,tt);Jt(this,b,this.editorDivBlur.bind(this));Jt(this,_,this.editorDivFocus.bind(this));Jt(this,j,this.editorDivInput.bind(this));Jt(this,$,this.editorDivKeydown.bind(this));Jt(this,_e);Jt(this,et,"");Jt(this,nt,`${this.id}-editor`);Jt(this,it);Jt(this,st,null);tn(this,_e,bt.color||mt._defaultColor||d.AnnotationEditor._defaultLineColor),tn(this,it,bt.fontSize||mt._defaultFontSize)}static get _keyboardManager(){const bt=mt.prototype,wt=St=>St.isEmpty(),Ct=a.AnnotationEditorUIManager.TRANSLATE_SMALL,Tt=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],bt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],bt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],bt._translateEmpty,{args:[-Ct,0],checker:wt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],bt._translateEmpty,{args:[-Tt,0],checker:wt}],[["ArrowRight","mac+ArrowRight"],bt._translateEmpty,{args:[Ct,0],checker:wt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],bt._translateEmpty,{args:[Tt,0],checker:wt}],[["ArrowUp","mac+ArrowUp"],bt._translateEmpty,{args:[0,-Ct],checker:wt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],bt._translateEmpty,{args:[0,-Tt],checker:wt}],[["ArrowDown","mac+ArrowDown"],bt._translateEmpty,{args:[0,Ct],checker:wt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],bt._translateEmpty,{args:[0,Tt],checker:wt}]]))}static initialize(bt){d.AnnotationEditor.initialize(bt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const wt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(wt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(bt,wt){switch(bt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:mt._defaultFontSize=wt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:mt._defaultColor=wt;break}}updateParams(bt,wt){switch(bt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Gt(this,tt,xs).call(this,wt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Gt(this,tt,ys).call(this,wt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,mt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,mt._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,pt(this,it)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,pt(this,_e)]]}_translateEmpty(bt,wt){this._uiManager.translateSelectedEditors(bt,wt,!0)}getInitialTranslation(){const bt=this.parentScale;return[-mt._internalPadding*bt,-(mt._internalPadding+pt(this,it))*bt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",pt(this,$)),this.editorDiv.addEventListener("focus",pt(this,_)),this.editorDiv.addEventListener("blur",pt(this,b)),this.editorDiv.addEventListener("input",pt(this,j)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",pt(this,nt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",pt(this,$)),this.editorDiv.removeEventListener("focus",pt(this,_)),this.editorDiv.removeEventListener("blur",pt(this,b)),this.editorDiv.removeEventListener("input",pt(this,j)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(bt){this._focusEventsAllowed&&(super.focusin(bt),bt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var bt;if(this.width){Gt(this,tt,Wr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(bt=this._initialOptions)!=null&&bt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const bt=pt(this,et),wt=tn(this,et,Gt(this,tt,bs).call(this).trimEnd());if(bt===wt)return;const Ct=Tt=>{if(tn(this,et,Tt),!Tt){this.remove();return}Gt(this,tt,Hr).call(this),this._uiManager.rebuild(this),Gt(this,tt,sr).call(this)};this.addCommands({cmd:()=>{Ct(wt)},undo:()=>{Ct(bt)},mustExec:!1}),Gt(this,tt,sr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(bt){this.enterInEditMode()}keydown(bt){bt.target===this.div&&bt.key==="Enter"&&(this.enterInEditMode(),bt.preventDefault())}editorDivKeydown(bt){mt._keyboardManager.exec(this,bt)}editorDivFocus(bt){this.isEditing=!0}editorDivBlur(bt){this.isEditing=!1}editorDivInput(bt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let bt,wt;this.width&&(bt=this.x,wt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",pt(this,nt)),this.enableEditing(),d.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Tt=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("aria-label",Tt)}),d.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Tt=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("default-content",Tt)}),this.editorDiv.contentEditable=!0;const{style:Ct}=this.editorDiv;if(Ct.fontSize=`calc(${pt(this,it)}px * var(--scale-factor))`,Ct.color=pt(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Tt,St]=this.parentDimensions;if(this.annotationElementId){const{position:At}=pt(this,st);let[Rt,Et]=this.getInitialTranslation();[Rt,Et]=this.pageTranslationToScreen(Rt,Et);const[gt,Mt]=this.pageDimensions,[_t,at]=this.pageTranslation;let yt,kt;switch(this.rotation){case 0:yt=bt+(At[0]-_t)/gt,kt=wt+this.height-(At[1]-at)/Mt;break;case 90:yt=bt+(At[0]-_t)/gt,kt=wt-(At[1]-at)/Mt,[Rt,Et]=[Et,-Rt];break;case 180:yt=bt-this.width+(At[0]-_t)/gt,kt=wt-(At[1]-at)/Mt,[Rt,Et]=[-Rt,-Et];break;case 270:yt=bt+(At[0]-_t-this.height*Mt)/gt,kt=wt+(At[1]-at-this.width*gt)/Mt,[Rt,Et]=[-Et,Rt];break}this.setAt(yt*Tt,kt*St,Rt,Et)}else this.setAt(bt*Tt,wt*St,this.width*Tt,this.height*St);Gt(this,tt,Hr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(bt,wt,Ct){let Tt=null;if(bt instanceof h.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:At,fontColor:Rt},rect:Et,rotation:gt,id:Mt},textContent:_t,textPosition:at,parent:{page:{pageNumber:yt}}}=bt;if(!_t||_t.length===0)return null;Tt=bt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Rt),fontSize:At,value:_t.join(`
`),position:at,pageIndex:yt-1,rect:Et,rotation:gt,id:Mt,deleted:!1}}const St=super.deserialize(bt,wt,Ct);return tn(St,it,bt.fontSize),tn(St,_e,o.Util.makeHexColor(...bt.color)),tn(St,et,bt.value),St.annotationElementId=bt.id||null,tn(St,st,Tt),St}serialize(bt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const wt=mt._internalPadding*this.parentScale,Ct=this.getRect(wt,wt),Tt=d.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:pt(this,_e)),St={annotationType:o.AnnotationEditorType.FREETEXT,color:Tt,fontSize:pt(this,it),value:pt(this,et),pageIndex:this.pageIndex,rect:Ct,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return bt?St:this.annotationElementId&&!Gt(this,tt,Es).call(this,St)?null:(St.id=this.annotationElementId,St)}};b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,tt=new WeakSet,xs=function(bt){const wt=Tt=>{this.editorDiv.style.fontSize=`calc(${Tt}px * var(--scale-factor))`,this.translate(0,-(Tt-pt(this,it))*this.parentScale),tn(this,it,Tt),Gt(this,tt,sr).call(this)},Ct=pt(this,it);this.addCommands({cmd:()=>{wt(bt)},undo:()=>{wt(Ct)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ys=function(bt){const wt=pt(this,_e);this.addCommands({cmd:()=>{tn(this,_e,this.editorDiv.style.color=bt)},undo:()=>{tn(this,_e,this.editorDiv.style.color=wt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},bs=function(){const bt=this.editorDiv.getElementsByTagName("div");if(bt.length===0)return this.editorDiv.innerText;const wt=[];for(const Ct of bt)wt.push(Ct.innerText.replace(/\r\n?|\n/,""));return wt.join(`
`)},sr=function(){const[bt,wt]=this.parentDimensions;let Ct;if(this.isAttachedToDOM)Ct=this.div.getBoundingClientRect();else{const{currentLayer:Tt,div:St}=this,At=St.style.display;St.style.display="hidden",Tt.div.append(this.div),Ct=St.getBoundingClientRect(),St.remove(),St.style.display=At}this.rotation%180===this.parentRotation%180?(this.width=Ct.width/bt,this.height=Ct.height/wt):(this.width=Ct.height/bt,this.height=Ct.width/wt),this.fixAndSetPosition()},Hr=function(){if(this.editorDiv.replaceChildren(),!!pt(this,et))for(const bt of pt(this,et).split(`
`)){const wt=document.createElement("div");wt.append(bt?document.createTextNode(bt):document.createElement("br")),this.editorDiv.append(wt)}},Es=function(bt){const{value:wt,fontSize:Ct,color:Tt,rect:St,pageIndex:At}=pt(this,st);return bt.value!==wt||bt.fontSize!==Ct||bt.rect.some((Rt,Et)=>Math.abs(Rt-St[Et])>=1)||bt.color.some((Rt,Et)=>Rt!==Tt[Et])||bt.pageIndex!==At},Wr=function(bt=!1){if(!this.annotationElementId)return;if(Gt(this,tt,sr).call(this),!bt&&(this.width===0||this.height===0)){setTimeout(()=>Gt(this,tt,Wr).call(this,!0),0);return}const wt=mt._internalPadding*this.parentScale;pt(this,st).rect=this.getRect(wt,wt)},$n(mt,"_freeTextDefaultContent",""),$n(mt,"_internalPadding",0),$n(mt,"_defaultColor",null),$n(mt,"_defaultFontSize",10),$n(mt,"_type","freetext");let g=mt;i.FreeTextEditor=g},(e,i,s)=>{var kt,jt,qn,vs,Xt,Qt,rn,ln,an,qt,Ft,Vt,vt,It,zt,Wt,sn,dn,pn,Kt,Dt,$t,Ss,mr,Gr,Kr,wn,Nn,In,fn,Yt,Zt,Sn,qr,Dn,Bt,un,bn,ws,Xr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=s(1),a=s(6),d=s(3),h=s(30),g=s(31),b=s(32);const _=1e3,j=9,$=new WeakSet;function _e(_n){return{width:_n[2]-_n[0],height:_n[3]-_n[1]}}class et{static create(Ot){switch(Ot.data.annotationType){case o.AnnotationType.LINK:return new it(Ot);case o.AnnotationType.TEXT:return new st(Ot);case o.AnnotationType.WIDGET:switch(Ot.data.fieldType){case"Tx":return new rt(Ot);case"Btn":return Ot.data.radioButton?new lt(Ot):Ot.data.checkBox?new ut(Ot):new ct(Ot);case"Ch":return new dt(Ot);case"Sig":return new ot(Ot)}return new tt(Ot);case o.AnnotationType.POPUP:return new ht(Ot);case o.AnnotationType.FREETEXT:return new xt(Ot);case o.AnnotationType.LINE:return new ft(Ot);case o.AnnotationType.SQUARE:return new bt(Ot);case o.AnnotationType.CIRCLE:return new wt(Ot);case o.AnnotationType.POLYLINE:return new Ct(Ot);case o.AnnotationType.CARET:return new St(Ot);case o.AnnotationType.INK:return new At(Ot);case o.AnnotationType.POLYGON:return new Tt(Ot);case o.AnnotationType.HIGHLIGHT:return new Rt(Ot);case o.AnnotationType.UNDERLINE:return new Et(Ot);case o.AnnotationType.SQUIGGLY:return new gt(Ot);case o.AnnotationType.STRIKEOUT:return new Mt(Ot);case o.AnnotationType.STAMP:return new _t(Ot);case o.AnnotationType.FILEATTACHMENT:return new at(Ot);default:return new nt(Ot)}}}const Pt=class Pt{constructor(Ot,{isRenderable:Nt=!1,ignoreBorder:Ht=!1,createQuadrilaterals:nn=!1}={}){Jt(this,kt,!1);this.isRenderable=Nt,this.data=Ot.data,this.layer=Ot.layer,this.linkService=Ot.linkService,this.downloadManager=Ot.downloadManager,this.imageResourcesPath=Ot.imageResourcesPath,this.renderForms=Ot.renderForms,this.svgFactory=Ot.svgFactory,this.annotationStorage=Ot.annotationStorage,this.enableScripting=Ot.enableScripting,this.hasJSActions=Ot.hasJSActions,this._fieldObjects=Ot.fieldObjects,this.parent=Ot.parent,Nt&&(this.container=this._createContainer(Ht)),nn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ot,contentsObj:Nt,richText:Ht}){return!!(Ot!=null&&Ot.str||Nt!=null&&Nt.str||Ht!=null&&Ht.str)}get hasPopupData(){return Pt._hasPopupData(this.data)}_createContainer(Ot){const{data:Nt,parent:{page:Ht,viewport:nn}}=this,on=document.createElement("section");on.setAttribute("data-annotation-id",Nt.id),this instanceof tt||(on.tabIndex=_),on.style.zIndex=this.parent.zIndex++,this.data.popupRef&&on.setAttribute("aria-haspopup","dialog"),Nt.noRotate&&on.classList.add("norotate");const{pageWidth:mn,pageHeight:xn,pageX:Tn,pageY:kn}=nn.rawDims;if(!Nt.rect||this instanceof ht){const{rotation:jn}=Nt;return!Nt.hasOwnCanvas&&jn!==0&&this.setRotation(jn,on),on}const{width:En,height:Ln}=_e(Nt.rect),An=o.Util.normalizeRect([Nt.rect[0],Ht.view[3]-Nt.rect[1]+Ht.view[1],Nt.rect[2],Ht.view[3]-Nt.rect[3]+Ht.view[1]]);if(!Ot&&Nt.borderStyle.width>0){on.style.borderWidth=`${Nt.borderStyle.width}px`;const jn=Nt.borderStyle.horizontalCornerRadius,Mn=Nt.borderStyle.verticalCornerRadius;if(jn>0||Mn>0){const Bn=`calc(${jn}px * var(--scale-factor)) / calc(${Mn}px * var(--scale-factor))`;on.style.borderRadius=Bn}else if(this instanceof lt){const Bn=`calc(${En}px * var(--scale-factor)) / calc(${Ln}px * var(--scale-factor))`;on.style.borderRadius=Bn}switch(Nt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:on.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:on.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:on.style.borderBottomStyle="solid";break}const Fn=Nt.borderColor||null;Fn?(tn(this,kt,!0),on.style.borderColor=o.Util.makeHexColor(Fn[0]|0,Fn[1]|0,Fn[2]|0)):on.style.borderWidth=0}on.style.left=`${100*(An[0]-Tn)/mn}%`,on.style.top=`${100*(An[1]-kn)/xn}%`;const{rotation:Cn}=Nt;return Nt.hasOwnCanvas||Cn===0?(on.style.width=`${100*En/mn}%`,on.style.height=`${100*Ln/xn}%`):this.setRotation(Cn,on),on}setRotation(Ot,Nt=this.container){if(!this.data.rect)return;const{pageWidth:Ht,pageHeight:nn}=this.parent.viewport.rawDims,{width:on,height:mn}=_e(this.data.rect);let xn,Tn;Ot%180===0?(xn=100*on/Ht,Tn=100*mn/nn):(xn=100*mn/Ht,Tn=100*on/nn),Nt.style.width=`${xn}%`,Nt.style.height=`${Tn}%`,Nt.setAttribute("data-main-rotation",(360-Ot)%360)}get _commonActions(){const Ot=(Nt,Ht,nn)=>{const on=nn.detail[Nt],mn=on[0],xn=on.slice(1);nn.target.style[Ht]=h.ColorConverters[`${mn}_HTML`](xn),this.annotationStorage.setValue(this.data.id,{[Ht]:h.ColorConverters[`${mn}_rgb`](xn)})};return(0,o.shadow)(this,"_commonActions",{display:Nt=>{const{display:Ht}=Nt.detail,nn=Ht%2===1;this.container.style.visibility=nn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:nn,noPrint:Ht===1||Ht===2})},print:Nt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Nt.detail.print})},hidden:Nt=>{const{hidden:Ht}=Nt.detail;this.container.style.visibility=Ht?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ht,noView:Ht})},focus:Nt=>{setTimeout(()=>Nt.target.focus({preventScroll:!1}),0)},userName:Nt=>{Nt.target.title=Nt.detail.userName},readonly:Nt=>{Nt.target.disabled=Nt.detail.readonly},required:Nt=>{this._setRequired(Nt.target,Nt.detail.required)},bgColor:Nt=>{Ot("bgColor","backgroundColor",Nt)},fillColor:Nt=>{Ot("fillColor","backgroundColor",Nt)},fgColor:Nt=>{Ot("fgColor","color",Nt)},textColor:Nt=>{Ot("textColor","color",Nt)},borderColor:Nt=>{Ot("borderColor","borderColor",Nt)},strokeColor:Nt=>{Ot("strokeColor","borderColor",Nt)},rotation:Nt=>{const Ht=Nt.detail.rotation;this.setRotation(Ht),this.annotationStorage.setValue(this.data.id,{rotation:Ht})}})}_dispatchEventFromSandbox(Ot,Nt){const Ht=this._commonActions;for(const nn of Object.keys(Nt.detail)){const on=Ot[nn]||Ht[nn];on==null||on(Nt)}}_setDefaultPropertiesFromJS(Ot){if(!this.enableScripting)return;const Nt=this.annotationStorage.getRawValue(this.data.id);if(!Nt)return;const Ht=this._commonActions;for(const[nn,on]of Object.entries(Nt)){const mn=Ht[nn];if(mn){const xn={detail:{[nn]:on},target:Ot};mn(xn),delete Nt[nn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ot}=this.data;if(!Ot)return;const[Nt,Ht,nn,on]=this.data.rect;if(Ot.length===1){const[,{x:Mn,y:Fn},{x:Bn,y:Un}]=Ot[0];if(nn===Mn&&on===Fn&&Nt===Bn&&Ht===Un)return}const{style:mn}=this.container;let xn;if(pt(this,kt)){const{borderColor:Mn,borderWidth:Fn}=mn;mn.borderWidth=0,xn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Mn}" stroke-width="${Fn}">`],this.container.classList.add("hasBorder")}const Tn=nn-Nt,kn=on-Ht,{svgFactory:En}=this,Ln=En.createElement("svg");Ln.classList.add("quadrilateralsContainer"),Ln.setAttribute("width",0),Ln.setAttribute("height",0);const An=En.createElement("defs");Ln.append(An);const Cn=En.createElement("clipPath"),jn=`clippath_${this.data.id}`;Cn.setAttribute("id",jn),Cn.setAttribute("clipPathUnits","objectBoundingBox"),An.append(Cn);for(const[,{x:Mn,y:Fn},{x:Bn,y:Un}]of Ot){const zn=En.createElement("rect"),Hn=(Bn-Nt)/Tn,Gn=(on-Fn)/kn,Kn=(Mn-Bn)/Tn,rs=(Fn-Un)/kn;zn.setAttribute("x",Hn),zn.setAttribute("y",Gn),zn.setAttribute("width",Kn),zn.setAttribute("height",rs),Cn.append(zn),xn==null||xn.push(`<rect vector-effect="non-scaling-stroke" x="${Hn}" y="${Gn}" width="${Kn}" height="${rs}"/>`)}pt(this,kt)&&(xn.push("</g></svg>')"),mn.backgroundImage=xn.join("")),this.container.append(Ln),this.container.style.clipPath=`url(#${jn})`}_createPopup(){const{container:Ot,data:Nt}=this;Ot.setAttribute("aria-haspopup","dialog");const Ht=new ht({data:{color:Nt.color,titleObj:Nt.titleObj,modificationDate:Nt.modificationDate,contentsObj:Nt.contentsObj,richText:Nt.richText,parentRect:Nt.rect,borderStyle:0,id:`popup_${Nt.id}`,rotation:Nt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ht.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ot,Nt=null){const Ht=[];if(this._fieldObjects){const nn=this._fieldObjects[Ot];if(nn)for(const{page:on,id:mn,exportValues:xn}of nn){if(on===-1||mn===Nt)continue;const Tn=typeof xn=="string"?xn:null,kn=document.querySelector(`[data-element-id="${mn}"]`);if(kn&&!$.has(kn)){(0,o.warn)(`_getElementsByName - element not allowed: ${mn}`);continue}Ht.push({id:mn,exportValue:Tn,domElement:kn})}return Ht}for(const nn of document.getElementsByName(Ot)){const{exportValue:on}=nn,mn=nn.getAttribute("data-element-id");mn!==Nt&&$.has(nn)&&Ht.push({id:mn,exportValue:on,domElement:nn})}return Ht}show(){var Ot;this.container&&(this.container.hidden=!1),(Ot=this.popup)==null||Ot.maybeShow()}hide(){var Ot;this.container&&(this.container.hidden=!0),(Ot=this.popup)==null||Ot.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ot=this.getElementsToTriggerPopup();if(Array.isArray(Ot))for(const Nt of Ot)Nt.classList.add("highlightArea");else Ot.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ot,data:{id:Nt}}=this;this.container.addEventListener("dblclick",()=>{var Ht;(Ht=this.linkService.eventBus)==null||Ht.dispatch("switchannotationeditormode",{source:this,mode:Ot,editId:Nt})})}};kt=new WeakMap;let nt=Pt;class it extends nt{constructor(Nt,Ht=null){super(Nt,{isRenderable:!0,ignoreBorder:!!(Ht!=null&&Ht.ignoreBorder),createQuadrilaterals:!0});Jt(this,jt);this.isTooltipOnly=Nt.data.isTooltipOnly}render(){const{data:Nt,linkService:Ht}=this,nn=document.createElement("a");nn.setAttribute("data-element-id",Nt.id);let on=!1;return Nt.url?(Ht.addLinkAttributes(nn,Nt.url,Nt.newWindow),on=!0):Nt.action?(this._bindNamedAction(nn,Nt.action),on=!0):Nt.attachment?(this._bindAttachment(nn,Nt.attachment),on=!0):Nt.setOCGState?(Gt(this,jt,vs).call(this,nn,Nt.setOCGState),on=!0):Nt.dest?(this._bindLink(nn,Nt.dest),on=!0):(Nt.actions&&(Nt.actions.Action||Nt.actions["Mouse Up"]||Nt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(nn,Nt),on=!0),Nt.resetForm?(this._bindResetFormAction(nn,Nt.resetForm),on=!0):this.isTooltipOnly&&!on&&(this._bindLink(nn,""),on=!0)),this.container.classList.add("linkAnnotation"),on&&this.container.append(nn),this.container}_bindLink(Nt,Ht){Nt.href=this.linkService.getDestinationHash(Ht),Nt.onclick=()=>(Ht&&this.linkService.goToDestination(Ht),!1),(Ht||Ht==="")&&Gt(this,jt,qn).call(this)}_bindNamedAction(Nt,Ht){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>(this.linkService.executeNamedAction(Ht),!1),Gt(this,jt,qn).call(this)}_bindAttachment(Nt,Ht){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>{var nn;return(nn=this.downloadManager)==null||nn.openOrDownloadData(this.container,Ht.content,Ht.filename),!1},Gt(this,jt,qn).call(this)}_bindJSAction(Nt,Ht){Nt.href=this.linkService.getAnchorUrl("");const nn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const on of Object.keys(Ht.actions)){const mn=nn.get(on);mn&&(Nt[mn]=()=>{var xn;return(xn=this.linkService.eventBus)==null||xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ht.id,name:on}}),!1})}Nt.onclick||(Nt.onclick=()=>!1),Gt(this,jt,qn).call(this)}_bindResetFormAction(Nt,Ht){const nn=Nt.onclick;if(nn||(Nt.href=this.linkService.getAnchorUrl("")),Gt(this,jt,qn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),nn||(Nt.onclick=()=>!1);return}Nt.onclick=()=>{var Ln;nn==null||nn();const{fields:on,refs:mn,include:xn}=Ht,Tn=[];if(on.length!==0||mn.length!==0){const An=new Set(mn);for(const Cn of on){const jn=this._fieldObjects[Cn]||[];for(const{id:Mn}of jn)An.add(Mn)}for(const Cn of Object.values(this._fieldObjects))for(const jn of Cn)An.has(jn.id)===xn&&Tn.push(jn)}else for(const An of Object.values(this._fieldObjects))Tn.push(...An);const kn=this.annotationStorage,En=[];for(const An of Tn){const{id:Cn}=An;switch(En.push(Cn),An.type){case"text":{const Mn=An.defaultValue||"";kn.setValue(Cn,{value:Mn});break}case"checkbox":case"radiobutton":{const Mn=An.defaultValue===An.exportValues;kn.setValue(Cn,{value:Mn});break}case"combobox":case"listbox":{const Mn=An.defaultValue||"";kn.setValue(Cn,{value:Mn});break}default:continue}const jn=document.querySelector(`[data-element-id="${Cn}"]`);if(jn){if(!$.has(jn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Cn}`);continue}}else continue;jn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ln=this.linkService.eventBus)==null||Ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:En,name:"ResetForm"}})),!1}}}jt=new WeakSet,qn=function(){this.container.setAttribute("data-internal-link","")},vs=function(Nt,Ht){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>(this.linkService.executeSetOCGState(Ht),!1),Gt(this,jt,qn).call(this)};class st extends nt{constructor(Ot){super(Ot,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ot=document.createElement("img");return Ot.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ot.alt="[{{type}} Annotation]",Ot.dataset.l10nId="text_annotation_type",Ot.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ot),this.container}}class tt extends nt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ot){var Nt;this.data.hasOwnCanvas&&(((Nt=Ot.previousSibling)==null?void 0:Nt.nodeName)==="CANVAS"&&(Ot.previousSibling.hidden=!0),Ot.hidden=!1)}_getKeyModifier(Ot){const{isWin:Nt,isMac:Ht}=o.FeatureTest.platform;return Nt&&Ot.ctrlKey||Ht&&Ot.metaKey}_setEventListener(Ot,Nt,Ht,nn,on){Ht.includes("mouse")?Ot.addEventListener(Ht,mn=>{var xn;(xn=this.linkService.eventBus)==null||xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:nn,value:on(mn),shift:mn.shiftKey,modifier:this._getKeyModifier(mn)}})}):Ot.addEventListener(Ht,mn=>{var xn;if(Ht==="blur"){if(!Nt.focused||!mn.relatedTarget)return;Nt.focused=!1}else if(Ht==="focus"){if(Nt.focused)return;Nt.focused=!0}on&&((xn=this.linkService.eventBus)==null||xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:nn,value:on(mn)}}))})}_setEventListeners(Ot,Nt,Ht,nn){var on,mn,xn;for(const[Tn,kn]of Ht)(kn==="Action"||(on=this.data.actions)!=null&&on[kn])&&((kn==="Focus"||kn==="Blur")&&(Nt||(Nt={focused:!1})),this._setEventListener(Ot,Nt,Tn,kn,nn),kn==="Focus"&&!((mn=this.data.actions)!=null&&mn.Blur)?this._setEventListener(Ot,Nt,"blur","Blur",null):kn==="Blur"&&!((xn=this.data.actions)!=null&&xn.Focus)&&this._setEventListener(Ot,Nt,"focus","Focus",null))}_setBackgroundColor(Ot){const Nt=this.data.backgroundColor||null;Ot.style.backgroundColor=Nt===null?"transparent":o.Util.makeHexColor(Nt[0],Nt[1],Nt[2])}_setTextStyle(Ot){const Nt=["left","center","right"],{fontColor:Ht}=this.data.defaultAppearanceData,nn=this.data.defaultAppearanceData.fontSize||j,on=Ot.style;let mn;const xn=2,Tn=kn=>Math.round(10*kn)/10;if(this.data.multiLine){const kn=Math.abs(this.data.rect[3]-this.data.rect[1]-xn),En=Math.round(kn/(o.LINE_FACTOR*nn))||1,Ln=kn/En;mn=Math.min(nn,Tn(Ln/o.LINE_FACTOR))}else{const kn=Math.abs(this.data.rect[3]-this.data.rect[1]-xn);mn=Math.min(nn,Tn(kn/o.LINE_FACTOR))}on.fontSize=`calc(${mn}px * var(--scale-factor))`,on.color=o.Util.makeHexColor(Ht[0],Ht[1],Ht[2]),this.data.textAlignment!==null&&(on.textAlign=Nt[this.data.textAlignment])}_setRequired(Ot,Nt){Nt?Ot.setAttribute("required",!0):Ot.removeAttribute("required"),Ot.setAttribute("aria-required",Nt)}}class rt extends tt{constructor(Ot){const Nt=Ot.renderForms||!Ot.data.hasAppearance&&!!Ot.data.fieldValue;super(Ot,{isRenderable:Nt})}setPropertyOnSiblings(Ot,Nt,Ht,nn){const on=this.annotationStorage;for(const mn of this._getElementsByName(Ot.name,Ot.id))mn.domElement&&(mn.domElement[Nt]=Ht),on.setValue(mn.id,{[nn]:Ht})}render(){var nn,on;const Ot=this.annotationStorage,Nt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ht=null;if(this.renderForms){const mn=Ot.getValue(Nt,{value:this.data.fieldValue});let xn=mn.value||"";const Tn=Ot.getValue(Nt,{charLimit:this.data.maxLen}).charLimit;Tn&&xn.length>Tn&&(xn=xn.slice(0,Tn));let kn=mn.formattedValue||((nn=this.data.textContent)==null?void 0:nn.join(`
`))||null;kn&&this.data.comb&&(kn=kn.replaceAll(/\s+/g,""));const En={userValue:xn,formattedValue:kn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ht=document.createElement("textarea"),Ht.textContent=kn??xn,this.data.doNotScroll&&(Ht.style.overflowY="hidden")):(Ht=document.createElement("input"),Ht.type="text",Ht.setAttribute("value",kn??xn),this.data.doNotScroll&&(Ht.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ht.hidden=!0),$.add(Ht),Ht.setAttribute("data-element-id",Nt),Ht.disabled=this.data.readOnly,Ht.name=this.data.fieldName,Ht.tabIndex=_,this._setRequired(Ht,this.data.required),Tn&&(Ht.maxLength=Tn),Ht.addEventListener("input",An=>{Ot.setValue(Nt,{value:An.target.value}),this.setPropertyOnSiblings(Ht,"value",An.target.value,"value"),En.formattedValue=null}),Ht.addEventListener("resetform",An=>{const Cn=this.data.defaultFieldValue??"";Ht.value=En.userValue=Cn,En.formattedValue=null});let Ln=An=>{const{formattedValue:Cn}=En;Cn!=null&&(An.target.value=Cn),An.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ht.addEventListener("focus",Cn=>{if(En.focused)return;const{target:jn}=Cn;En.userValue&&(jn.value=En.userValue),En.lastCommittedValue=jn.value,En.commitKey=1,En.focused=!0}),Ht.addEventListener("updatefromsandbox",Cn=>{this.showElementAndHideCanvas(Cn.target);const jn={value(Mn){En.userValue=Mn.detail.value??"",Ot.setValue(Nt,{value:En.userValue.toString()}),Mn.target.value=En.userValue},formattedValue(Mn){const{formattedValue:Fn}=Mn.detail;En.formattedValue=Fn,Fn!=null&&Mn.target!==document.activeElement&&(Mn.target.value=Fn),Ot.setValue(Nt,{formattedValue:Fn})},selRange(Mn){Mn.target.setSelectionRange(...Mn.detail.selRange)},charLimit:Mn=>{var zn;const{charLimit:Fn}=Mn.detail,{target:Bn}=Mn;if(Fn===0){Bn.removeAttribute("maxLength");return}Bn.setAttribute("maxLength",Fn);let Un=En.userValue;!Un||Un.length<=Fn||(Un=Un.slice(0,Fn),Bn.value=En.userValue=Un,Ot.setValue(Nt,{value:Un}),(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:Un,willCommit:!0,commitKey:1,selStart:Bn.selectionStart,selEnd:Bn.selectionEnd}}))}};this._dispatchEventFromSandbox(jn,Cn)}),Ht.addEventListener("keydown",Cn=>{var Fn;En.commitKey=1;let jn=-1;if(Cn.key==="Escape"?jn=0:Cn.key==="Enter"&&!this.data.multiLine?jn=2:Cn.key==="Tab"&&(En.commitKey=3),jn===-1)return;const{value:Mn}=Cn.target;En.lastCommittedValue!==Mn&&(En.lastCommittedValue=Mn,En.userValue=Mn,(Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:Mn,willCommit:!0,commitKey:jn,selStart:Cn.target.selectionStart,selEnd:Cn.target.selectionEnd}}))});const An=Ln;Ln=null,Ht.addEventListener("blur",Cn=>{var Mn;if(!En.focused||!Cn.relatedTarget)return;En.focused=!1;const{value:jn}=Cn.target;En.userValue=jn,En.lastCommittedValue!==jn&&((Mn=this.linkService.eventBus)==null||Mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:jn,willCommit:!0,commitKey:En.commitKey,selStart:Cn.target.selectionStart,selEnd:Cn.target.selectionEnd}})),An(Cn)}),(on=this.data.actions)!=null&&on.Keystroke&&Ht.addEventListener("beforeinput",Cn=>{var Gn;En.lastCommittedValue=null;const{data:jn,target:Mn}=Cn,{value:Fn,selectionStart:Bn,selectionEnd:Un}=Mn;let zn=Bn,Hn=Un;switch(Cn.inputType){case"deleteWordBackward":{const Kn=Fn.substring(0,Bn).match(/\w*[^\w]*$/);Kn&&(zn-=Kn[0].length);break}case"deleteWordForward":{const Kn=Fn.substring(Bn).match(/^[^\w]*\w*/);Kn&&(Hn+=Kn[0].length);break}case"deleteContentBackward":Bn===Un&&(zn-=1);break;case"deleteContentForward":Bn===Un&&(Hn+=1);break}Cn.preventDefault(),(Gn=this.linkService.eventBus)==null||Gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:Fn,change:jn||"",willCommit:!1,selStart:zn,selEnd:Hn}})}),this._setEventListeners(Ht,En,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Cn=>Cn.target.value)}if(Ln&&Ht.addEventListener("blur",Ln),this.data.comb){const Cn=(this.data.rect[2]-this.data.rect[0])/Tn;Ht.classList.add("comb"),Ht.style.letterSpacing=`calc(${Cn}px * var(--scale-factor) - 1ch)`}}else Ht=document.createElement("div"),Ht.textContent=this.data.fieldValue,Ht.style.verticalAlign="middle",Ht.style.display="table-cell";return this._setTextStyle(Ht),this._setBackgroundColor(Ht),this._setDefaultPropertiesFromJS(Ht),this.container.append(Ht),this.container}}class ot extends tt{constructor(Ot){super(Ot,{isRenderable:!!Ot.data.hasOwnCanvas})}}class ut extends tt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){const Ot=this.annotationStorage,Nt=this.data,Ht=Nt.id;let nn=Ot.getValue(Ht,{value:Nt.exportValue===Nt.fieldValue}).value;typeof nn=="string"&&(nn=nn!=="Off",Ot.setValue(Ht,{value:nn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const on=document.createElement("input");return $.add(on),on.setAttribute("data-element-id",Ht),on.disabled=Nt.readOnly,this._setRequired(on,this.data.required),on.type="checkbox",on.name=Nt.fieldName,nn&&on.setAttribute("checked",!0),on.setAttribute("exportValue",Nt.exportValue),on.tabIndex=_,on.addEventListener("change",mn=>{const{name:xn,checked:Tn}=mn.target;for(const kn of this._getElementsByName(xn,Ht)){const En=Tn&&kn.exportValue===Nt.exportValue;kn.domElement&&(kn.domElement.checked=En),Ot.setValue(kn.id,{value:En})}Ot.setValue(Ht,{value:Tn})}),on.addEventListener("resetform",mn=>{const xn=Nt.defaultFieldValue||"Off";mn.target.checked=xn===Nt.exportValue}),this.enableScripting&&this.hasJSActions&&(on.addEventListener("updatefromsandbox",mn=>{const xn={value(Tn){Tn.target.checked=Tn.detail.value!=="Off",Ot.setValue(Ht,{value:Tn.target.checked})}};this._dispatchEventFromSandbox(xn,mn)}),this._setEventListeners(on,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],mn=>mn.target.checked)),this._setBackgroundColor(on),this._setDefaultPropertiesFromJS(on),this.container.append(on),this.container}}class lt extends tt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ot=this.annotationStorage,Nt=this.data,Ht=Nt.id;let nn=Ot.getValue(Ht,{value:Nt.fieldValue===Nt.buttonValue}).value;typeof nn=="string"&&(nn=nn!==Nt.buttonValue,Ot.setValue(Ht,{value:nn}));const on=document.createElement("input");if($.add(on),on.setAttribute("data-element-id",Ht),on.disabled=Nt.readOnly,this._setRequired(on,this.data.required),on.type="radio",on.name=Nt.fieldName,nn&&on.setAttribute("checked",!0),on.tabIndex=_,on.addEventListener("change",mn=>{const{name:xn,checked:Tn}=mn.target;for(const kn of this._getElementsByName(xn,Ht))Ot.setValue(kn.id,{value:!1});Ot.setValue(Ht,{value:Tn})}),on.addEventListener("resetform",mn=>{const xn=Nt.defaultFieldValue;mn.target.checked=xn!=null&&xn===Nt.buttonValue}),this.enableScripting&&this.hasJSActions){const mn=Nt.buttonValue;on.addEventListener("updatefromsandbox",xn=>{const Tn={value:kn=>{const En=mn===kn.detail.value;for(const Ln of this._getElementsByName(kn.target.name)){const An=En&&Ln.id===Ht;Ln.domElement&&(Ln.domElement.checked=An),Ot.setValue(Ln.id,{value:An})}}};this._dispatchEventFromSandbox(Tn,xn)}),this._setEventListeners(on,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xn=>xn.target.checked)}return this._setBackgroundColor(on),this._setDefaultPropertiesFromJS(on),this.container.append(on),this.container}}class ct extends it{constructor(Ot){super(Ot,{ignoreBorder:Ot.data.hasAppearance})}render(){const Ot=super.render();Ot.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ot.title=this.data.alternativeText);const Nt=Ot.lastChild;return this.enableScripting&&this.hasJSActions&&Nt&&(this._setDefaultPropertiesFromJS(Nt),Nt.addEventListener("updatefromsandbox",Ht=>{this._dispatchEventFromSandbox({},Ht)})),Ot}}class dt extends tt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ot=this.annotationStorage,Nt=this.data.id,Ht=Ot.getValue(Nt,{value:this.data.fieldValue}),nn=document.createElement("select");$.add(nn),nn.setAttribute("data-element-id",Nt),nn.disabled=this.data.readOnly,this._setRequired(nn,this.data.required),nn.name=this.data.fieldName,nn.tabIndex=_;let on=this.data.combo&&this.data.options.length>0;this.data.combo||(nn.size=this.data.options.length,this.data.multiSelect&&(nn.multiple=!0)),nn.addEventListener("resetform",En=>{const Ln=this.data.defaultFieldValue;for(const An of nn.options)An.selected=An.value===Ln});for(const En of this.data.options){const Ln=document.createElement("option");Ln.textContent=En.displayValue,Ln.value=En.exportValue,Ht.value.includes(En.exportValue)&&(Ln.setAttribute("selected",!0),on=!1),nn.append(Ln)}let mn=null;if(on){const En=document.createElement("option");En.value=" ",En.setAttribute("hidden",!0),En.setAttribute("selected",!0),nn.prepend(En),mn=()=>{En.remove(),nn.removeEventListener("input",mn),mn=null},nn.addEventListener("input",mn)}const xn=En=>{const Ln=En?"value":"textContent",{options:An,multiple:Cn}=nn;return Cn?Array.prototype.filter.call(An,jn=>jn.selected).map(jn=>jn[Ln]):An.selectedIndex===-1?null:An[An.selectedIndex][Ln]};let Tn=xn(!1);const kn=En=>{const Ln=En.target.options;return Array.prototype.map.call(Ln,An=>({displayValue:An.textContent,exportValue:An.value}))};return this.enableScripting&&this.hasJSActions?(nn.addEventListener("updatefromsandbox",En=>{const Ln={value(An){mn==null||mn();const Cn=An.detail.value,jn=new Set(Array.isArray(Cn)?Cn:[Cn]);for(const Mn of nn.options)Mn.selected=jn.has(Mn.value);Ot.setValue(Nt,{value:xn(!0)}),Tn=xn(!1)},multipleSelection(An){nn.multiple=!0},remove(An){const Cn=nn.options,jn=An.detail.remove;Cn[jn].selected=!1,nn.remove(jn),Cn.length>0&&Array.prototype.findIndex.call(Cn,Fn=>Fn.selected)===-1&&(Cn[0].selected=!0),Ot.setValue(Nt,{value:xn(!0),items:kn(An)}),Tn=xn(!1)},clear(An){for(;nn.length!==0;)nn.remove(0);Ot.setValue(Nt,{value:null,items:[]}),Tn=xn(!1)},insert(An){const{index:Cn,displayValue:jn,exportValue:Mn}=An.detail.insert,Fn=nn.children[Cn],Bn=document.createElement("option");Bn.textContent=jn,Bn.value=Mn,Fn?Fn.before(Bn):nn.append(Bn),Ot.setValue(Nt,{value:xn(!0),items:kn(An)}),Tn=xn(!1)},items(An){const{items:Cn}=An.detail;for(;nn.length!==0;)nn.remove(0);for(const jn of Cn){const{displayValue:Mn,exportValue:Fn}=jn,Bn=document.createElement("option");Bn.textContent=Mn,Bn.value=Fn,nn.append(Bn)}nn.options.length>0&&(nn.options[0].selected=!0),Ot.setValue(Nt,{value:xn(!0),items:kn(An)}),Tn=xn(!1)},indices(An){const Cn=new Set(An.detail.indices);for(const jn of An.target.options)jn.selected=Cn.has(jn.index);Ot.setValue(Nt,{value:xn(!0)}),Tn=xn(!1)},editable(An){An.target.disabled=!An.detail.editable}};this._dispatchEventFromSandbox(Ln,En)}),nn.addEventListener("input",En=>{var An;const Ln=xn(!0);Ot.setValue(Nt,{value:Ln}),En.preventDefault(),(An=this.linkService.eventBus)==null||An.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:Tn,changeEx:Ln,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(nn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],En=>En.target.value)):nn.addEventListener("input",function(En){Ot.setValue(Nt,{value:xn(!0)})}),this.data.combo&&this._setTextStyle(nn),this._setBackgroundColor(nn),this._setDefaultPropertiesFromJS(nn),this.container.append(nn),this.container}}class ht extends nt{constructor(Ot){const{data:Nt,elements:Ht}=Ot;super(Ot,{isRenderable:nt._hasPopupData(Nt)}),this.elements=Ht}render(){this.container.classList.add("popupAnnotation");const Ot=new mt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Nt=[];for(const Ht of this.elements)Ht.popup=Ot,Nt.push(Ht.data.id),Ht.addHighlightArea();return this.container.setAttribute("aria-controls",Nt.map(Ht=>`${o.AnnotationPrefix}${Ht}`).join(",")),this.container}}class mt{constructor({container:Ot,color:Nt,elements:Ht,titleObj:nn,modificationDate:on,contentsObj:mn,richText:xn,parent:Tn,rect:kn,parentRect:En,open:Ln}){Jt(this,$t);Jt(this,Xt,null);Jt(this,Qt,Gt(this,$t,Ss).bind(this));Jt(this,rn,Gt(this,$t,Kr).bind(this));Jt(this,ln,Gt(this,$t,Gr).bind(this));Jt(this,an,Gt(this,$t,mr).bind(this));Jt(this,qt,null);Jt(this,Ft,null);Jt(this,Vt,null);Jt(this,vt,null);Jt(this,It,null);Jt(this,zt,null);Jt(this,Wt,!1);Jt(this,sn,null);Jt(this,dn,null);Jt(this,pn,null);Jt(this,Kt,null);Jt(this,Dt,!1);var Cn;tn(this,Ft,Ot),tn(this,Kt,nn),tn(this,Vt,mn),tn(this,pn,xn),tn(this,It,Tn),tn(this,qt,Nt),tn(this,dn,kn),tn(this,zt,En),tn(this,vt,Ht);const An=a.PDFDateString.toDateObject(on);An&&tn(this,Xt,Tn.l10n.get("annotation_date_string",{date:An.toLocaleDateString(),time:An.toLocaleTimeString()})),this.trigger=Ht.flatMap(jn=>jn.getElementsToTriggerPopup());for(const jn of this.trigger)jn.addEventListener("click",pt(this,an)),jn.addEventListener("mouseenter",pt(this,ln)),jn.addEventListener("mouseleave",pt(this,rn)),jn.classList.add("popupTriggerArea");for(const jn of Ht)(Cn=jn.container)==null||Cn.addEventListener("keydown",pt(this,Qt));pt(this,Ft).hidden=!0,Ln&&Gt(this,$t,mr).call(this)}render(){if(pt(this,sn))return;const{page:{view:Ot},viewport:{rawDims:{pageWidth:Nt,pageHeight:Ht,pageX:nn,pageY:on}}}=pt(this,It),mn=tn(this,sn,document.createElement("div"));if(mn.className="popup",pt(this,qt)){const zn=mn.style.outlineColor=o.Util.makeHexColor(...pt(this,qt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?mn.style.backgroundColor=`color-mix(in srgb, ${zn} 30%, white)`:mn.style.backgroundColor=o.Util.makeHexColor(...pt(this,qt).map(Gn=>Math.floor(.7*(255-Gn)+Gn)))}const xn=document.createElement("span");xn.className="header";const Tn=document.createElement("h1");if(xn.append(Tn),{dir:Tn.dir,str:Tn.textContent}=pt(this,Kt),mn.append(xn),pt(this,Xt)){const zn=document.createElement("span");zn.classList.add("popupDate"),pt(this,Xt).then(Hn=>{zn.textContent=Hn}),xn.append(zn)}const kn=pt(this,Vt),En=pt(this,pn);if(En!=null&&En.str&&(!(kn!=null&&kn.str)||kn.str===En.str))b.XfaLayer.render({xfaHtml:En.html,intent:"richText",div:mn}),mn.lastChild.classList.add("richText","popupContent");else{const zn=this._formatContents(kn);mn.append(zn)}let Ln=!!pt(this,zt),An=Ln?pt(this,zt):pt(this,dn);for(const zn of pt(this,vt))if(!An||o.Util.intersect(zn.data.rect,An)!==null){An=zn.data.rect,Ln=!0;break}const Cn=o.Util.normalizeRect([An[0],Ot[3]-An[1]+Ot[1],An[2],Ot[3]-An[3]+Ot[1]]),Mn=Ln?An[2]-An[0]+5:0,Fn=Cn[0]+Mn,Bn=Cn[1],{style:Un}=pt(this,Ft);Un.left=`${100*(Fn-nn)/Nt}%`,Un.top=`${100*(Bn-on)/Ht}%`,pt(this,Ft).append(mn)}_formatContents({str:Ot,dir:Nt}){const Ht=document.createElement("p");Ht.classList.add("popupContent"),Ht.dir=Nt;const nn=Ot.split(/(?:\r\n?|\n)/);for(let on=0,mn=nn.length;on<mn;++on){const xn=nn[on];Ht.append(document.createTextNode(xn)),on<mn-1&&Ht.append(document.createElement("br"))}return Ht}forceHide(){tn(this,Dt,this.isVisible),pt(this,Dt)&&(pt(this,Ft).hidden=!0)}maybeShow(){pt(this,Dt)&&(tn(this,Dt,!1),pt(this,Ft).hidden=!1)}get isVisible(){return pt(this,Ft).hidden===!1}}Xt=new WeakMap,Qt=new WeakMap,rn=new WeakMap,ln=new WeakMap,an=new WeakMap,qt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,vt=new WeakMap,It=new WeakMap,zt=new WeakMap,Wt=new WeakMap,sn=new WeakMap,dn=new WeakMap,pn=new WeakMap,Kt=new WeakMap,Dt=new WeakMap,$t=new WeakSet,Ss=function(Ot){Ot.altKey||Ot.shiftKey||Ot.ctrlKey||Ot.metaKey||(Ot.key==="Enter"||Ot.key==="Escape"&&pt(this,Wt))&&Gt(this,$t,mr).call(this)},mr=function(){tn(this,Wt,!pt(this,Wt)),pt(this,Wt)?(Gt(this,$t,Gr).call(this),pt(this,Ft).addEventListener("click",pt(this,an)),pt(this,Ft).addEventListener("keydown",pt(this,Qt))):(Gt(this,$t,Kr).call(this),pt(this,Ft).removeEventListener("click",pt(this,an)),pt(this,Ft).removeEventListener("keydown",pt(this,Qt)))},Gr=function(){pt(this,sn)||this.render(),this.isVisible?pt(this,Wt)&&pt(this,Ft).classList.add("focused"):(pt(this,Ft).hidden=!1,pt(this,Ft).style.zIndex=parseInt(pt(this,Ft).style.zIndex)+1e3)},Kr=function(){pt(this,Ft).classList.remove("focused"),!(pt(this,Wt)||!this.isVisible)&&(pt(this,Ft).hidden=!0,pt(this,Ft).style.zIndex=parseInt(pt(this,Ft).style.zIndex)-1e3)};class xt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ot.data.textContent,this.textPosition=Ot.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ot=document.createElement("div");Ot.classList.add("annotationTextContent"),Ot.setAttribute("role","comment");for(const Nt of this.textContent){const Ht=document.createElement("span");Ht.textContent=Nt,Ot.append(Ht)}this.container.append(Ot)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=xt;class ft extends nt{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});Jt(this,wn,null)}render(){this.container.classList.add("lineAnnotation");const Nt=this.data,{width:Ht,height:nn}=_e(Nt.rect),on=this.svgFactory.create(Ht,nn,!0),mn=tn(this,wn,this.svgFactory.createElement("svg:line"));return mn.setAttribute("x1",Nt.rect[2]-Nt.lineCoordinates[0]),mn.setAttribute("y1",Nt.rect[3]-Nt.lineCoordinates[1]),mn.setAttribute("x2",Nt.rect[2]-Nt.lineCoordinates[2]),mn.setAttribute("y2",Nt.rect[3]-Nt.lineCoordinates[3]),mn.setAttribute("stroke-width",Nt.borderStyle.width||1),mn.setAttribute("stroke","transparent"),mn.setAttribute("fill","transparent"),on.append(mn),this.container.append(on),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pt(this,wn)}addHighlightArea(){this.container.classList.add("highlightArea")}}wn=new WeakMap;class bt extends nt{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});Jt(this,Nn,null)}render(){this.container.classList.add("squareAnnotation");const Nt=this.data,{width:Ht,height:nn}=_e(Nt.rect),on=this.svgFactory.create(Ht,nn,!0),mn=Nt.borderStyle.width,xn=tn(this,Nn,this.svgFactory.createElement("svg:rect"));return xn.setAttribute("x",mn/2),xn.setAttribute("y",mn/2),xn.setAttribute("width",Ht-mn),xn.setAttribute("height",nn-mn),xn.setAttribute("stroke-width",mn||1),xn.setAttribute("stroke","transparent"),xn.setAttribute("fill","transparent"),on.append(xn),this.container.append(on),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pt(this,Nn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nn=new WeakMap;class wt extends nt{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});Jt(this,In,null)}render(){this.container.classList.add("circleAnnotation");const Nt=this.data,{width:Ht,height:nn}=_e(Nt.rect),on=this.svgFactory.create(Ht,nn,!0),mn=Nt.borderStyle.width,xn=tn(this,In,this.svgFactory.createElement("svg:ellipse"));return xn.setAttribute("cx",Ht/2),xn.setAttribute("cy",nn/2),xn.setAttribute("rx",Ht/2-mn/2),xn.setAttribute("ry",nn/2-mn/2),xn.setAttribute("stroke-width",mn||1),xn.setAttribute("stroke","transparent"),xn.setAttribute("fill","transparent"),on.append(xn),this.container.append(on),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pt(this,In)}addHighlightArea(){this.container.classList.add("highlightArea")}}In=new WeakMap;class Ct extends nt{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});Jt(this,fn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Nt=this.data,{width:Ht,height:nn}=_e(Nt.rect),on=this.svgFactory.create(Ht,nn,!0);let mn=[];for(const Tn of Nt.vertices){const kn=Tn.x-Nt.rect[0],En=Nt.rect[3]-Tn.y;mn.push(kn+","+En)}mn=mn.join(" ");const xn=tn(this,fn,this.svgFactory.createElement(this.svgElementName));return xn.setAttribute("points",mn),xn.setAttribute("stroke-width",Nt.borderStyle.width||1),xn.setAttribute("stroke","transparent"),xn.setAttribute("fill","transparent"),on.append(xn),this.container.append(on),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pt(this,fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}fn=new WeakMap;class Tt extends Ct{constructor(Ot){super(Ot),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class St extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class At extends nt{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});Jt(this,Yt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Nt=this.data,{width:Ht,height:nn}=_e(Nt.rect),on=this.svgFactory.create(Ht,nn,!0);for(const mn of Nt.inkLists){let xn=[];for(const kn of mn){const En=kn.x-Nt.rect[0],Ln=Nt.rect[3]-kn.y;xn.push(`${En},${Ln}`)}xn=xn.join(" ");const Tn=this.svgFactory.createElement(this.svgElementName);pt(this,Yt).push(Tn),Tn.setAttribute("points",xn),Tn.setAttribute("stroke-width",Nt.borderStyle.width||1),Tn.setAttribute("stroke","transparent"),Tn.setAttribute("fill","transparent"),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),on.append(Tn)}return this.container.append(on),this.container}getElementsToTriggerPopup(){return pt(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap,i.InkAnnotationElement=At;class Rt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Et extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Mt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _t extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=_t;class at extends nt{constructor(Nt){var on;super(Nt,{isRenderable:!0});Jt(this,Sn);Jt(this,Zt,null);const{filename:Ht,content:nn}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(Ht,!0),this.content=nn,(on=this.linkService.eventBus)==null||on.dispatch("fileattachmentannotation",{source:this,filename:Ht,content:nn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Nt,data:Ht}=this;let nn;Ht.hasAppearance||Ht.fillAlpha===0?nn=document.createElement("div"):(nn=document.createElement("img"),nn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ht.name)?"paperclip":"pushpin"}.svg`,Ht.fillAlpha&&Ht.fillAlpha<1&&(nn.style=`filter: opacity(${Math.round(Ht.fillAlpha*100)}%);`)),nn.addEventListener("dblclick",Gt(this,Sn,qr).bind(this)),tn(this,Zt,nn);const{isMac:on}=o.FeatureTest.platform;return Nt.addEventListener("keydown",mn=>{mn.key==="Enter"&&(on?mn.metaKey:mn.ctrlKey)&&Gt(this,Sn,qr).call(this)}),!Ht.popupRef&&this.hasPopupData?this._createPopup():nn.classList.add("popupTriggerArea"),Nt.append(nn),Nt}getElementsToTriggerPopup(){return pt(this,Zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zt=new WeakMap,Sn=new WeakSet,qr=function(){var Nt;(Nt=this.downloadManager)==null||Nt.openOrDownloadData(this.container,this.content,this.filename)};class yt{constructor({div:Ot,accessibilityManager:Nt,annotationCanvasMap:Ht,l10n:nn,page:on,viewport:mn}){Jt(this,bn);Jt(this,Dn,null);Jt(this,Bt,null);Jt(this,un,new Map);this.div=Ot,tn(this,Dn,Nt),tn(this,Bt,Ht),this.l10n=nn,this.page=on,this.viewport=mn,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(Ot){const{annotations:Nt}=Ot,Ht=this.div;(0,a.setLayerDimensions)(Ht,this.viewport);const nn=new Map,on={data:null,layer:Ht,linkService:Ot.linkService,downloadManager:Ot.downloadManager,imageResourcesPath:Ot.imageResourcesPath||"",renderForms:Ot.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:Ot.annotationStorage||new d.AnnotationStorage,enableScripting:Ot.enableScripting===!0,hasJSActions:Ot.hasJSActions,fieldObjects:Ot.fieldObjects,parent:this,elements:null};for(const mn of Nt){if(mn.noHTML)continue;const xn=mn.annotationType===o.AnnotationType.POPUP;if(xn){const En=nn.get(mn.id);if(!En)continue;on.elements=En}else{const{width:En,height:Ln}=_e(mn.rect);if(En<=0||Ln<=0)continue}on.data=mn;const Tn=et.create(on);if(!Tn.isRenderable)continue;if(!xn&&mn.popupRef){const En=nn.get(mn.popupRef);En?En.push(Tn):nn.set(mn.popupRef,[Tn])}Tn.annotationEditorType>0&&pt(this,un).set(Tn.data.id,Tn);const kn=Tn.render();mn.hidden&&(kn.style.visibility="hidden"),Gt(this,bn,ws).call(this,kn,mn.id)}Gt(this,bn,Xr).call(this),await this.l10n.translate(Ht)}update({viewport:Ot}){const Nt=this.div;this.viewport=Ot,(0,a.setLayerDimensions)(Nt,{rotation:Ot.rotation}),Gt(this,bn,Xr).call(this),Nt.hidden=!1}getEditableAnnotations(){return Array.from(pt(this,un).values())}getEditableAnnotation(Ot){return pt(this,un).get(Ot)}}Dn=new WeakMap,Bt=new WeakMap,un=new WeakMap,bn=new WeakSet,ws=function(Ot,Nt){var nn;const Ht=Ot.firstChild||Ot;Ht.id=`${o.AnnotationPrefix}${Nt}`,this.div.append(Ot),(nn=pt(this,Dn))==null||nn.moveElementInDOM(this.div,Ot,Ht,!1)},Xr=function(){if(!pt(this,Bt))return;const Ot=this.div;for(const[Nt,Ht]of pt(this,Bt)){const nn=Ot.querySelector(`[data-annotation-id="${Nt}"]`);if(!nn)continue;const{firstChild:on}=nn;on?on.nodeName==="CANVAS"?on.replaceWith(Ht):on.before(Ht):nn.append(Ht)}pt(this,Bt).clear()},i.AnnotationLayer=yt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(d){return Math.floor(Math.max(0,Math.min(1,d))*255).toString(16).padStart(2,"0")}function o(d){return Math.max(0,Math.min(255,255*d))}class a{static CMYK_G([h,g,b,_]){return["G",1-Math.min(1,.3*h+.59*b+.11*g+_)]}static G_CMYK([h]){return["CMYK",0,0,0,1-h]}static G_RGB([h]){return["RGB",h,h,h]}static G_rgb([h]){return h=o(h),[h,h,h]}static G_HTML([h]){const g=s(h);return`#${g}${g}${g}`}static RGB_G([h,g,b]){return["G",.3*h+.59*g+.11*b]}static RGB_rgb(h){return h.map(o)}static RGB_HTML(h){return`#${h.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([h,g,b,_]){return["RGB",1-Math.min(1,h+_),1-Math.min(1,b+_),1-Math.min(1,g+_)]}static CMYK_rgb([h,g,b,_]){return[o(1-Math.min(1,h+_)),o(1-Math.min(1,b+_)),o(1-Math.min(1,g+_))]}static CMYK_HTML(h){const g=this.CMYK_RGB(h).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([h,g,b]){const _=1-h,j=1-g,$=1-b,_e=Math.min(_,j,$);return["CMYK",_,j,$,_e]}}i.ColorConverters=a},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(h,g){switch(h){case"find_match_count":h=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":h=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return s[h]||""}function a(h,g){return g?h.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(b,_)=>_ in g?g[_]:"{{"+_+"}}"):h}const d={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(h,g=null,b=o(h,g)){return a(b,g)},async translate(h){}};i.NullL10n=d},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(25);class a{static setupStorage(h,g,b,_,j){const $=_.getValue(g,{value:null});switch(b.name){case"textarea":if($.value!==null&&(h.textContent=$.value),j==="print")break;h.addEventListener("input",_e=>{_.setValue(g,{value:_e.target.value})});break;case"input":if(b.attributes.type==="radio"||b.attributes.type==="checkbox"){if($.value===b.attributes.xfaOn?h.setAttribute("checked",!0):$.value===b.attributes.xfaOff&&h.removeAttribute("checked"),j==="print")break;h.addEventListener("change",_e=>{_.setValue(g,{value:_e.target.checked?_e.target.getAttribute("xfaOn"):_e.target.getAttribute("xfaOff")})})}else{if($.value!==null&&h.setAttribute("value",$.value),j==="print")break;h.addEventListener("input",_e=>{_.setValue(g,{value:_e.target.value})})}break;case"select":if($.value!==null){h.setAttribute("value",$.value);for(const _e of b.children)_e.attributes.value===$.value?_e.attributes.selected=!0:_e.attributes.hasOwnProperty("selected")&&delete _e.attributes.selected}h.addEventListener("input",_e=>{const et=_e.target.options,nt=et.selectedIndex===-1?"":et[et.selectedIndex].value;_.setValue(g,{value:nt})});break}}static setAttributes({html:h,element:g,storage:b=null,intent:_,linkService:j}){const{attributes:$}=g,_e=h instanceof HTMLAnchorElement;$.type==="radio"&&($.name=`${$.name}-${_}`);for(const[et,nt]of Object.entries($))if(nt!=null)switch(et){case"class":nt.length&&h.setAttribute(et,nt.join(" "));break;case"dataId":break;case"id":h.setAttribute("data-element-id",nt);break;case"style":Object.assign(h.style,nt);break;case"textContent":h.textContent=nt;break;default:(!_e||et!=="href"&&et!=="newWindow")&&h.setAttribute(et,nt)}_e&&j.addLinkAttributes(h,$.href,$.newWindow),b&&$.dataId&&this.setupStorage(h,$.dataId,g,b)}static render(h){var it;const g=h.annotationStorage,b=h.linkService,_=h.xfaHtml,j=h.intent||"display",$=document.createElement(_.name);_.attributes&&this.setAttributes({html:$,element:_,intent:j,linkService:b});const _e=[[_,-1,$]],et=h.div;if(et.append($),h.viewport){const st=`matrix(${h.viewport.transform.join(",")})`;et.style.transform=st}j!=="richText"&&et.setAttribute("class","xfaLayer xfaFont");const nt=[];for(;_e.length>0;){const[st,tt,rt]=_e.at(-1);if(tt+1===st.children.length){_e.pop();continue}const ot=st.children[++_e.at(-1)[1]];if(ot===null)continue;const{name:ut}=ot;if(ut==="#text"){const ct=document.createTextNode(ot.value);nt.push(ct),rt.append(ct);continue}const lt=(it=ot==null?void 0:ot.attributes)!=null&&it.xmlns?document.createElementNS(ot.attributes.xmlns,ut):document.createElement(ut);if(rt.append(lt),ot.attributes&&this.setAttributes({html:lt,element:ot,storage:g,intent:j,linkService:b}),ot.children&&ot.children.length>0)_e.push([ot,-1,lt]);else if(ot.value){const ct=document.createTextNode(ot.value);o.XfaText.shouldBuildText(ut)&&nt.push(ct),lt.append(ct)}}for(const st of et.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))st.setAttribute("readOnly",!0);return{textDivs:nt}}static update(h){const g=`matrix(${h.viewport.transform.join(",")})`;h.div.style.transform=g,h.div.hidden=!1}}i.XfaLayer=a},(e,i,s)=>{var _,j,$,_e,et,nt,it,st,tt,rt,ot,ut,lt,ct,dt,_s,ks,As,Rs,Yr,Ts,Qr,Cs,Ps,Ns,js,Ls,Wn,Zr,gr,xr,Zn,Jr,yr,jt,Is,_i,Ms,Ds,es,Er,Jn;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=s(1),a=s(4),d=s(29),h=s(6),g=s(5);const qt=class qt extends a.AnnotationEditor{constructor(vt){super({...vt,name:"inkEditor"});Jt(this,dt);Jt(this,_,0);Jt(this,j,0);Jt(this,$,this.canvasPointermove.bind(this));Jt(this,_e,this.canvasPointerleave.bind(this));Jt(this,et,this.canvasPointerup.bind(this));Jt(this,nt,this.canvasPointerdown.bind(this));Jt(this,it,new Path2D);Jt(this,st,!1);Jt(this,tt,!1);Jt(this,rt,!1);Jt(this,ot,null);Jt(this,ut,0);Jt(this,lt,0);Jt(this,ct,null);this.color=vt.color||null,this.thickness=vt.thickness||null,this.opacity=vt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(vt){a.AnnotationEditor.initialize(vt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(vt,It){switch(vt){case o.AnnotationEditorParamsType.INK_THICKNESS:qt._defaultThickness=It;break;case o.AnnotationEditorParamsType.INK_COLOR:qt._defaultColor=It;break;case o.AnnotationEditorParamsType.INK_OPACITY:qt._defaultOpacity=It/100;break}}updateParams(vt,It){switch(vt){case o.AnnotationEditorParamsType.INK_THICKNESS:Gt(this,dt,_s).call(this,It);break;case o.AnnotationEditorParamsType.INK_COLOR:Gt(this,dt,ks).call(this,It);break;case o.AnnotationEditorParamsType.INK_OPACITY:Gt(this,dt,As).call(this,It);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,qt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,qt._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(qt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||qt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||qt._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??qt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Gt(this,dt,gr).call(this),Gt(this,dt,xr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Gt(this,dt,Zn).call(this)),Gt(this,dt,Jn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,pt(this,ot).disconnect(),tn(this,ot,null),super.remove())}setParent(vt){!this.parent&&vt?this._uiManager.removeShouldRescale(this):this.parent&&vt===null&&this._uiManager.addShouldRescale(this),super.setParent(vt)}onScaleChanging(){const[vt,It]=this.parentDimensions,zt=this.width*vt,Wt=this.height*It;this.setDimensions(zt,Wt)}enableEditMode(){pt(this,st)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",pt(this,nt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",pt(this,nt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){pt(this,st)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),tn(this,st,!0),this.div.classList.add("disabled"),Gt(this,dt,Jn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(vt){this._focusEventsAllowed&&(super.focusin(vt),this.enableEditMode())}canvasPointerdown(vt){vt.button!==0||!this.isInEditMode()||pt(this,st)||(this.setInForeground(),vt.preventDefault(),vt.type!=="mouse"&&this.div.focus(),Gt(this,dt,Ts).call(this,vt.offsetX,vt.offsetY))}canvasPointermove(vt){vt.preventDefault(),Gt(this,dt,Qr).call(this,vt.offsetX,vt.offsetY)}canvasPointerup(vt){vt.preventDefault(),Gt(this,dt,Zr).call(this,vt)}canvasPointerleave(vt){Gt(this,dt,Zr).call(this,vt)}get isResizable(){return!this.isEmpty()&&pt(this,st)}render(){if(this.div)return this.div;let vt,It;this.width&&(vt=this.x,It=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(pn=>{var Kt;return(Kt=this.div)==null?void 0:Kt.setAttribute("aria-label",pn)});const[zt,Wt,sn,dn]=Gt(this,dt,Rs).call(this);if(this.setAt(zt,Wt,0,0),this.setDims(sn,dn),Gt(this,dt,gr).call(this),this.width){const[pn,Kt]=this.parentDimensions;this.setAspectRatio(this.width*pn,this.height*Kt),this.setAt(vt*pn,It*Kt,this.width*pn,this.height*Kt),tn(this,rt,!0),Gt(this,dt,Zn).call(this),this.setDims(this.width*pn,this.height*Kt),Gt(this,dt,Wn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Gt(this,dt,xr).call(this),this.div}setDimensions(vt,It){const zt=Math.round(vt),Wt=Math.round(It);if(pt(this,ut)===zt&&pt(this,lt)===Wt)return;tn(this,ut,zt),tn(this,lt,Wt),this.canvas.style.visibility="hidden";const[sn,dn]=this.parentDimensions;this.width=vt/sn,this.height=It/dn,this.fixAndSetPosition(),pt(this,st)&&Gt(this,dt,Jr).call(this,vt,It),Gt(this,dt,Zn).call(this),Gt(this,dt,Wn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(vt,It,zt){var wn,Nn,In;if(vt instanceof d.InkAnnotationElement)return null;const Wt=super.deserialize(vt,It,zt);Wt.thickness=vt.thickness,Wt.color=o.Util.makeHexColor(...vt.color),Wt.opacity=vt.opacity;const[sn,dn]=Wt.pageDimensions,pn=Wt.width*sn,Kt=Wt.height*dn,Dt=Wt.parentScale,$t=vt.thickness/2;tn(Wt,st,!0),tn(Wt,ut,Math.round(pn)),tn(Wt,lt,Math.round(Kt));const{paths:hn,rect:gn,rotation:vn}=vt;for(let{bezier:fn}of hn){fn=Gt(wn=qt,jt,Ms).call(wn,fn,gn,vn);const Yt=[];Wt.paths.push(Yt);let Zt=Dt*(fn[0]-$t),Sn=Dt*(fn[1]-$t);for(let Dn=2,Bt=fn.length;Dn<Bt;Dn+=6){const un=Dt*(fn[Dn]-$t),bn=Dt*(fn[Dn+1]-$t),Rn=Dt*(fn[Dn+2]-$t),Pn=Dt*(fn[Dn+3]-$t),_n=Dt*(fn[Dn+4]-$t),Ot=Dt*(fn[Dn+5]-$t);Yt.push([[Zt,Sn],[un,bn],[Rn,Pn],[_n,Ot]]),Zt=_n,Sn=Ot}const On=Gt(this,jt,Is).call(this,Yt);Wt.bezierPath2D.push(On)}const yn=Gt(Nn=Wt,dt,es).call(Nn);return tn(Wt,j,Math.max(a.AnnotationEditor.MIN_SIZE,yn[2]-yn[0])),tn(Wt,_,Math.max(a.AnnotationEditor.MIN_SIZE,yn[3]-yn[1])),Gt(In=Wt,dt,Jr).call(In,pn,Kt),Wt}serialize(){if(this.isEmpty())return null;const vt=this.getRect(0,0),It=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:It,thickness:this.thickness,opacity:this.opacity,paths:Gt(this,dt,Ds).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,vt),pageIndex:this.pageIndex,rect:vt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,tt=new WeakMap,rt=new WeakMap,ot=new WeakMap,ut=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakSet,_s=function(vt){const It=this.thickness;this.addCommands({cmd:()=>{this.thickness=vt,Gt(this,dt,Jn).call(this)},undo:()=>{this.thickness=It,Gt(this,dt,Jn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ks=function(vt){const It=this.color;this.addCommands({cmd:()=>{this.color=vt,Gt(this,dt,Wn).call(this)},undo:()=>{this.color=It,Gt(this,dt,Wn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},As=function(vt){vt/=100;const It=this.opacity;this.addCommands({cmd:()=>{this.opacity=vt,Gt(this,dt,Wn).call(this)},undo:()=>{this.opacity=It,Gt(this,dt,Wn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Rs=function(){const{parentRotation:vt,parentDimensions:[It,zt]}=this;switch(vt){case 90:return[0,zt,zt,It];case 180:return[It,zt,It,zt];case 270:return[It,0,zt,It];default:return[0,0,It,zt]}},Yr=function(){const{ctx:vt,color:It,opacity:zt,thickness:Wt,parentScale:sn,scaleFactor:dn}=this;vt.lineWidth=Wt*sn/dn,vt.lineCap="round",vt.lineJoin="round",vt.miterLimit=10,vt.strokeStyle=`${It}${(0,g.opacityToHex)(zt)}`},Ts=function(vt,It){this.canvas.addEventListener("contextmenu",h.noContextMenu),this.canvas.addEventListener("pointerleave",pt(this,_e)),this.canvas.addEventListener("pointermove",pt(this,$)),this.canvas.addEventListener("pointerup",pt(this,et)),this.canvas.removeEventListener("pointerdown",pt(this,nt)),this.isEditing=!0,pt(this,rt)||(tn(this,rt,!0),Gt(this,dt,Zn).call(this),this.thickness||(this.thickness=qt._defaultThickness),this.color||(this.color=qt._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=qt._defaultOpacity)),this.currentPath.push([vt,It]),tn(this,tt,!1),Gt(this,dt,Yr).call(this),tn(this,ct,()=>{Gt(this,dt,Ns).call(this),pt(this,ct)&&window.requestAnimationFrame(pt(this,ct))}),window.requestAnimationFrame(pt(this,ct))},Qr=function(vt,It){const[zt,Wt]=this.currentPath.at(-1);if(this.currentPath.length>1&&vt===zt&&It===Wt)return;const sn=this.currentPath;let dn=pt(this,it);if(sn.push([vt,It]),tn(this,tt,!0),sn.length<=2){dn.moveTo(...sn[0]),dn.lineTo(vt,It);return}sn.length===3&&(tn(this,it,dn=new Path2D),dn.moveTo(...sn[0])),Gt(this,dt,js).call(this,dn,...sn.at(-3),...sn.at(-2),vt,It)},Cs=function(){if(this.currentPath.length===0)return;const vt=this.currentPath.at(-1);pt(this,it).lineTo(...vt)},Ps=function(vt,It){tn(this,ct,null),vt=Math.min(Math.max(vt,0),this.canvas.width),It=Math.min(Math.max(It,0),this.canvas.height),Gt(this,dt,Qr).call(this,vt,It),Gt(this,dt,Cs).call(this);let zt;if(this.currentPath.length!==1)zt=Gt(this,dt,Ls).call(this);else{const Kt=[vt,It];zt=[[Kt,Kt.slice(),Kt.slice(),Kt]]}const Wt=pt(this,it),sn=this.currentPath;this.currentPath=[],tn(this,it,new Path2D);const dn=()=>{this.allRawPaths.push(sn),this.paths.push(zt),this.bezierPath2D.push(Wt),this.rebuild()},pn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Gt(this,dt,gr).call(this),Gt(this,dt,xr).call(this)),Gt(this,dt,Jn).call(this))};this.addCommands({cmd:dn,undo:pn,mustExec:!0})},Ns=function(){if(!pt(this,tt))return;tn(this,tt,!1);const vt=Math.ceil(this.thickness*this.parentScale),It=this.currentPath.slice(-3),zt=It.map(dn=>dn[0]),Wt=It.map(dn=>dn[1]);Math.min(...zt)-vt,Math.max(...zt)+vt,Math.min(...Wt)-vt,Math.max(...Wt)+vt;const{ctx:sn}=this;sn.save(),sn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const dn of this.bezierPath2D)sn.stroke(dn);sn.stroke(pt(this,it)),sn.restore()},js=function(vt,It,zt,Wt,sn,dn,pn){const Kt=(It+Wt)/2,Dt=(zt+sn)/2,$t=(Wt+dn)/2,hn=(sn+pn)/2;vt.bezierCurveTo(Kt+2*(Wt-Kt)/3,Dt+2*(sn-Dt)/3,$t+2*(Wt-$t)/3,hn+2*(sn-hn)/3,$t,hn)},Ls=function(){const vt=this.currentPath;if(vt.length<=2)return[[vt[0],vt[0],vt.at(-1),vt.at(-1)]];const It=[];let zt,[Wt,sn]=vt[0];for(zt=1;zt<vt.length-2;zt++){const[gn,vn]=vt[zt],[yn,wn]=vt[zt+1],Nn=(gn+yn)/2,In=(vn+wn)/2,fn=[Wt+2*(gn-Wt)/3,sn+2*(vn-sn)/3],Yt=[Nn+2*(gn-Nn)/3,In+2*(vn-In)/3];It.push([[Wt,sn],fn,Yt,[Nn,In]]),[Wt,sn]=[Nn,In]}const[dn,pn]=vt[zt],[Kt,Dt]=vt[zt+1],$t=[Wt+2*(dn-Wt)/3,sn+2*(pn-sn)/3],hn=[Kt+2*(dn-Kt)/3,Dt+2*(pn-Dt)/3];return It.push([[Wt,sn],$t,hn,[Kt,Dt]]),It},Wn=function(){if(this.isEmpty()){Gt(this,dt,yr).call(this);return}Gt(this,dt,Yr).call(this);const{canvas:vt,ctx:It}=this;It.setTransform(1,0,0,1,0,0),It.clearRect(0,0,vt.width,vt.height),Gt(this,dt,yr).call(this);for(const zt of this.bezierPath2D)It.stroke(zt)},Zr=function(vt){this.canvas.removeEventListener("pointerleave",pt(this,_e)),this.canvas.removeEventListener("pointermove",pt(this,$)),this.canvas.removeEventListener("pointerup",pt(this,et)),this.canvas.addEventListener("pointerdown",pt(this,nt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",h.noContextMenu)},10),Gt(this,dt,Ps).call(this,vt.offsetX,vt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},gr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(vt=>{var It;return(It=this.canvas)==null?void 0:It.setAttribute("aria-label",vt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},xr=function(){tn(this,ot,new ResizeObserver(vt=>{const It=vt[0].contentRect;It.width&&It.height&&this.setDimensions(It.width,It.height)})),pt(this,ot).observe(this.div)},Zn=function(){if(!pt(this,rt))return;const[vt,It]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*vt),this.canvas.height=Math.ceil(this.height*It),Gt(this,dt,yr).call(this)},Jr=function(vt,It){const zt=Gt(this,dt,Er).call(this),Wt=(vt-zt)/pt(this,j),sn=(It-zt)/pt(this,_);this.scaleFactor=Math.min(Wt,sn)},yr=function(){const vt=Gt(this,dt,Er).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+vt,this.translationY*this.scaleFactor+vt)},jt=new WeakSet,Is=function(vt){const It=new Path2D;for(let zt=0,Wt=vt.length;zt<Wt;zt++){const[sn,dn,pn,Kt]=vt[zt];zt===0&&It.moveTo(...sn),It.bezierCurveTo(dn[0],dn[1],pn[0],pn[1],Kt[0],Kt[1])}return It},_i=function(vt,It,zt){const[Wt,sn,dn,pn]=It;switch(zt){case 0:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2)vt[Kt]+=Wt,vt[Kt+1]=pn-vt[Kt+1];break;case 90:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2){const $t=vt[Kt];vt[Kt]=vt[Kt+1]+Wt,vt[Kt+1]=$t+sn}break;case 180:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2)vt[Kt]=dn-vt[Kt],vt[Kt+1]+=sn;break;case 270:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2){const $t=vt[Kt];vt[Kt]=dn-vt[Kt+1],vt[Kt+1]=pn-$t}break;default:throw new Error("Invalid rotation")}return vt},Ms=function(vt,It,zt){const[Wt,sn,dn,pn]=It;switch(zt){case 0:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2)vt[Kt]-=Wt,vt[Kt+1]=pn-vt[Kt+1];break;case 90:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2){const $t=vt[Kt];vt[Kt]=vt[Kt+1]-sn,vt[Kt+1]=$t-Wt}break;case 180:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2)vt[Kt]=dn-vt[Kt],vt[Kt+1]-=sn;break;case 270:for(let Kt=0,Dt=vt.length;Kt<Dt;Kt+=2){const $t=vt[Kt];vt[Kt]=pn-vt[Kt+1],vt[Kt+1]=dn-$t}break;default:throw new Error("Invalid rotation")}return vt},Ds=function(vt,It,zt,Wt){var Dt,$t;const sn=[],dn=this.thickness/2,pn=vt*It+dn,Kt=vt*zt+dn;for(const hn of this.paths){const gn=[],vn=[];for(let yn=0,wn=hn.length;yn<wn;yn++){const[Nn,In,fn,Yt]=hn[yn],Zt=vt*Nn[0]+pn,Sn=vt*Nn[1]+Kt,On=vt*In[0]+pn,Dn=vt*In[1]+Kt,Bt=vt*fn[0]+pn,un=vt*fn[1]+Kt,bn=vt*Yt[0]+pn,Rn=vt*Yt[1]+Kt;yn===0&&(gn.push(Zt,Sn),vn.push(Zt,Sn)),gn.push(On,Dn,Bt,un,bn,Rn),vn.push(On,Dn),yn===wn-1&&vn.push(bn,Rn)}sn.push({bezier:Gt(Dt=qt,jt,_i).call(Dt,gn,Wt,this.rotation),points:Gt($t=qt,jt,_i).call($t,vn,Wt,this.rotation)})}return sn},es=function(){let vt=1/0,It=-1/0,zt=1/0,Wt=-1/0;for(const sn of this.paths)for(const[dn,pn,Kt,Dt]of sn){const $t=o.Util.bezierBoundingBox(...dn,...pn,...Kt,...Dt);vt=Math.min(vt,$t[0]),zt=Math.min(zt,$t[1]),It=Math.max(It,$t[2]),Wt=Math.max(Wt,$t[3])}return[vt,zt,It,Wt]},Er=function(){return pt(this,st)?Math.ceil(this.thickness*this.parentScale):0},Jn=function(vt=!1){if(this.isEmpty())return;if(!pt(this,st)){Gt(this,dt,Wn).call(this);return}const It=Gt(this,dt,es).call(this),zt=Gt(this,dt,Er).call(this);tn(this,j,Math.max(a.AnnotationEditor.MIN_SIZE,It[2]-It[0])),tn(this,_,Math.max(a.AnnotationEditor.MIN_SIZE,It[3]-It[1]));const Wt=Math.ceil(zt+pt(this,j)*this.scaleFactor),sn=Math.ceil(zt+pt(this,_)*this.scaleFactor),[dn,pn]=this.parentDimensions;this.width=Wt/dn,this.height=sn/pn,this.setAspectRatio(Wt,sn);const Kt=this.translationX,Dt=this.translationY;this.translationX=-It[0],this.translationY=-It[1],Gt(this,dt,Zn).call(this),Gt(this,dt,Wn).call(this),tn(this,ut,Wt),tn(this,lt,sn),this.setDims(Wt,sn);const $t=vt?zt/this.scaleFactor/2:0;this.translate(Kt-this.translationX-$t,Dt-this.translationY-$t)},Jt(qt,jt),$n(qt,"_defaultColor",null),$n(qt,"_defaultOpacity",1),$n(qt,"_defaultThickness",1),$n(qt,"_type","ink");let b=qt;i.InkEditor=b},(e,i,s)=>{var b,_,j,$,_e,et,nt,it,st,tt,rt,or,ar,vr,ts,Os,Fs,ns,Sr,Bs;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=s(1),a=s(4),d=s(6),h=s(29);const bt=class bt extends a.AnnotationEditor{constructor(Tt){super({...Tt,name:"stampEditor"});Jt(this,rt);Jt(this,b,null);Jt(this,_,null);Jt(this,j,null);Jt(this,$,null);Jt(this,_e,null);Jt(this,et,null);Jt(this,nt,null);Jt(this,it,null);Jt(this,st,!1);Jt(this,tt,!1);tn(this,$,Tt.bitmapUrl),tn(this,_e,Tt.bitmapFile)}static initialize(Tt){a.AnnotationEditor.initialize(Tt)}static get supportedTypes(){const Tt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Tt.map(St=>`image/${St}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Tt){return this.supportedTypes.includes(Tt)}static paste(Tt,St){St.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Tt.getAsFile()})}remove(){var Tt,St;pt(this,_)&&(tn(this,b,null),this._uiManager.imageManager.deleteId(pt(this,_)),(Tt=pt(this,et))==null||Tt.remove(),tn(this,et,null),(St=pt(this,nt))==null||St.disconnect(),tn(this,nt,null)),super.remove()}rebuild(){if(!this.parent){pt(this,_)&&Gt(this,rt,vr).call(this);return}super.rebuild(),this.div!==null&&(pt(this,_)&&Gt(this,rt,vr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(pt(this,j)||pt(this,b)||pt(this,$)||pt(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let Tt,St;if(this.width&&(Tt=this.x,St=this.y),super.render(),this.div.hidden=!0,pt(this,b)?Gt(this,rt,ts).call(this):Gt(this,rt,vr).call(this),this.width){const[At,Rt]=this.parentDimensions;this.setAt(Tt*At,St*Rt,this.width*At,this.height*Rt)}return this.div}static deserialize(Tt,St,At){if(Tt instanceof h.StampAnnotationElement)return null;const Rt=super.deserialize(Tt,St,At),{rect:Et,bitmapUrl:gt,bitmapId:Mt,isSvg:_t,accessibilityData:at}=Tt;Mt&&At.imageManager.isValidId(Mt)?tn(Rt,_,Mt):tn(Rt,$,gt),tn(Rt,st,_t);const[yt,kt]=Rt.pageDimensions;return Rt.width=(Et[2]-Et[0])/yt,Rt.height=(Et[3]-Et[1])/kt,at&&(Rt.altTextData=at),Rt}serialize(Tt=!1,St=null){if(this.isEmpty())return null;const At={annotationType:o.AnnotationEditorType.STAMP,bitmapId:pt(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:pt(this,st),structTreeParentId:this._structTreeParentId};if(Tt)return At.bitmapUrl=Gt(this,rt,Sr).call(this,!0),At.accessibilityData=this.altTextData,At;const{decorative:Rt,altText:Et}=this.altTextData;if(!Rt&&Et&&(At.accessibilityData={type:"Figure",alt:Et}),St===null)return At;St.stamps||(St.stamps=new Map);const gt=pt(this,st)?(At.rect[2]-At.rect[0])*(At.rect[3]-At.rect[1]):null;if(!St.stamps.has(pt(this,_)))St.stamps.set(pt(this,_),{area:gt,serialized:At}),At.bitmap=Gt(this,rt,Sr).call(this,!1);else if(pt(this,st)){const Mt=St.stamps.get(pt(this,_));gt>Mt.area&&(Mt.area=gt,Mt.serialized.bitmap.close(),Mt.serialized.bitmap=Gt(this,rt,Sr).call(this,!1))}return At}};b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,tt=new WeakMap,rt=new WeakSet,or=function(Tt,St=!1){if(!Tt){this.remove();return}tn(this,b,Tt.bitmap),St||(tn(this,_,Tt.id),tn(this,st,Tt.isSvg)),Gt(this,rt,ts).call(this)},ar=function(){tn(this,j,null),this._uiManager.enableWaiting(!1),pt(this,et)&&this.div.focus()},vr=function(){if(pt(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(pt(this,_)).then(St=>Gt(this,rt,or).call(this,St,!0)).finally(()=>Gt(this,rt,ar).call(this));return}if(pt(this,$)){const St=pt(this,$);tn(this,$,null),this._uiManager.enableWaiting(!0),tn(this,j,this._uiManager.imageManager.getFromUrl(St).then(At=>Gt(this,rt,or).call(this,At)).finally(()=>Gt(this,rt,ar).call(this)));return}if(pt(this,_e)){const St=pt(this,_e);tn(this,_e,null),this._uiManager.enableWaiting(!0),tn(this,j,this._uiManager.imageManager.getFromFile(St).then(At=>Gt(this,rt,or).call(this,At)).finally(()=>Gt(this,rt,ar).call(this)));return}const Tt=document.createElement("input");Tt.type="file",Tt.accept=bt.supportedTypesStr,tn(this,j,new Promise(St=>{Tt.addEventListener("change",async()=>{if(!Tt.files||Tt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const At=await this._uiManager.imageManager.getFromFile(Tt.files[0]);Gt(this,rt,or).call(this,At)}St()}),Tt.addEventListener("cancel",()=>{this.remove(),St()})}).finally(()=>Gt(this,rt,ar).call(this))),Tt.click()},ts=function(){const{div:Tt}=this;let{width:St,height:At}=pt(this,b);const[Rt,Et]=this.pageDimensions,gt=.75;if(this.width)St=this.width*Rt,At=this.height*Et;else if(St>gt*Rt||At>gt*Et){const yt=Math.min(gt*Rt/St,gt*Et/At);St*=yt,At*=yt}const[Mt,_t]=this.parentDimensions;this.setDims(St*Mt/Rt,At*_t/Et),this._uiManager.enableWaiting(!1);const at=tn(this,et,document.createElement("canvas"));Tt.append(at),Tt.hidden=!1,Gt(this,rt,ns).call(this,St,At),Gt(this,rt,Bs).call(this),pt(this,tt)||(this.parent.addUndoableEditor(this),tn(this,tt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Os=function(Tt,St){var gt;const[At,Rt]=this.parentDimensions;this.width=Tt/At,this.height=St/Rt,this.setDims(Tt,St),(gt=this._initialOptions)!=null&&gt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,pt(this,it)!==null&&clearTimeout(pt(this,it)),tn(this,it,setTimeout(()=>{tn(this,it,null),Gt(this,rt,ns).call(this,Tt,St)},200))},Fs=function(Tt,St){const{width:At,height:Rt}=pt(this,b);let Et=At,gt=Rt,Mt=pt(this,b);for(;Et>2*Tt||gt>2*St;){const _t=Et,at=gt;Et>2*Tt&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2)),gt>2*St&&(gt=gt>=16384?Math.floor(gt/2)-1:Math.ceil(gt/2));const yt=new OffscreenCanvas(Et,gt);yt.getContext("2d").drawImage(Mt,0,0,_t,at,0,0,Et,gt),Mt=yt.transferToImageBitmap()}return Mt},ns=function(Tt,St){Tt=Math.ceil(Tt),St=Math.ceil(St);const At=pt(this,et);if(!At||At.width===Tt&&At.height===St)return;At.width=Tt,At.height=St;const Rt=pt(this,st)?pt(this,b):Gt(this,rt,Fs).call(this,Tt,St),Et=At.getContext("2d");Et.filter=this._uiManager.hcmFilter,Et.drawImage(Rt,0,0,Rt.width,Rt.height,0,0,Tt,St)},Sr=function(Tt){if(Tt){if(pt(this,st)){const Rt=this._uiManager.imageManager.getSvgUrl(pt(this,_));if(Rt)return Rt}const St=document.createElement("canvas");return{width:St.width,height:St.height}=pt(this,b),St.getContext("2d").drawImage(pt(this,b),0,0),St.toDataURL()}if(pt(this,st)){const[St,At]=this.pageDimensions,Rt=Math.round(this.width*St*d.PixelsPerInch.PDF_TO_CSS_UNITS),Et=Math.round(this.height*At*d.PixelsPerInch.PDF_TO_CSS_UNITS),gt=new OffscreenCanvas(Rt,Et);return gt.getContext("2d").drawImage(pt(this,b),0,0,pt(this,b).width,pt(this,b).height,0,0,Rt,Et),gt.transferToImageBitmap()}return structuredClone(pt(this,b))},Bs=function(){tn(this,nt,new ResizeObserver(Tt=>{const St=Tt[0].contentRect;St.width&&St.height&&Gt(this,rt,Os).call(this,St.width,St.height)})),pt(this,nt).observe(this.div)},$n(bt,"_type","stamp");let g=bt;i.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return h.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),d=__w_pdfjs_require__(27),h=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),b=__w_pdfjs_require__(14),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdf_default=getDefaultExportFromCjs(pdfExports),pdfjs=pdf_default;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(o,a,d,h,g,b){if(b!==ReactPropTypesSecret){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}e.isRequired=e;function i(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,d;o<a;o++)(d||!(o in i))&&(d||(d=Array.prototype.slice.call(i,0,o)),d[o]=i[o]);return e.concat(d||Array.prototype.slice.call(i))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,i){var s={};return allEvents.forEach(function(o){var a=e[o];a&&(i?s[o]=function(d){return a(d,i(o))}:s[o]=a)}),s}function makeCancellablePromise(e){var i=!1,s=new Promise(function(o,a){e.then(function(d){return!i&&o(d)}).catch(function(d){return!i&&a(d)})});return{promise:s,cancel:function(){i=!0}}}var prefix="Invariant failed";function invariant(e,i){if(!e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find$1(e,i,s){for(s of e.keys())if(dequal(s,i))return s}function dequal(e,i){var s,o,a;if(e===i)return!0;if(e&&i&&(s=e.constructor)===i.constructor){if(s===Date)return e.getTime()===i.getTime();if(s===RegExp)return e.toString()===i.toString();if(s===Array){if((o=e.length)===i.length)for(;o--&&dequal(e[o],i[o]););return o===-1}if(s===Set){if(e.size!==i.size)return!1;for(o of e)if(a=o,a&&typeof a=="object"&&(a=find$1(i,a),!a)||!i.has(a))return!1;return!0}if(s===Map){if(e.size!==i.size)return!1;for(o of e)if(a=o[0],a&&typeof a=="object"&&(a=find$1(i,a),!a)||!dequal(o[1],i.get(a)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),i=new Uint8Array(i);else if(s===DataView){if((o=e.byteLength)===i.byteLength)for(;o--&&e.getInt8(o)===i.getInt8(o););return o===-1}if(ArrayBuffer.isView(e)){if((o=e.byteLength)===i.byteLength)for(;o--&&e[o]===i[o];);return o===-1}if(!s||typeof e=="object"){o=0;for(s in e)if(has.call(e,s)&&++o&&!has.call(i,s)||!(s in i)||!dequal(e[s],i[s]))return!1;return Object.keys(i).length===o}}return e!==e&&i!==i}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:i}){return React$2.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(i){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(s=>{invariant(this.pdfDocument),invariant(i),typeof i=="string"?this.pdfDocument.getDestination(i).then(s):Array.isArray(i)?s(i):i.then(s)}).then(s=>{invariant(Array.isArray(s));const o=s[0];new Promise(a=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(d=>{a(d)}).catch(()=>{invariant(!1)}):typeof o=="number"?a(o):invariant(!1)}).then(a=>{const d=a+1;invariant(this.pdfViewer),invariant(d>=1&&d<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:a,pageNumber:d})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const s=i-1;invariant(this.pdfViewer),invariant(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:i})}addLinkAttributes(i,s,o){i.href=s,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e));const[i="",s=""]=e.split(",");return i.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,i){return Object.defineProperty(e,"width",{get(){return this.view[2]*i},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*i},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((i,s)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return s(new Error("Error while reading a file."));i(o.result)},o.onerror=a=>{if(!a.target)return s(new Error("Error while reading a file."));const{error:d}=a.target;if(!d)return s(new Error("Error while reading a file."));switch(d.code){case d.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case d.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case d.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(e)})}function reducer(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(i=>{e[i]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(i,s,o){const{[s]:a,pageNumber:d,pdf:h}=i;if(!isDefined(h))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:g}=h;if(a+1>g)return new Error(`Expected \`${s}\` to be less or equal to ${g-1}.`)}else if(!isDefined(d))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function e(i,s,o){const{[s]:a,pageIndex:d,pdf:h}=i;if(!isDefined(h))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:g}=h;if(a>g)return new Error(`Expected \`${s}\` to be less or equal to ${g}.`)}else if(!isDefined(d))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,i,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g(j){try{_(o.next(j))}catch($){h($)}}function b(j){try{_(o.throw(j))}catch($){h($)}}function _(j){j.done?d(j.value):a(j.value).then(g,b)}_((o=o.apply(e,i||[])).next())})},__rest$1=function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");e(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");e(s);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(i,s){var{children:o,className:a,error:d="Failed to load PDF file.",externalLinkRel:h,externalLinkTarget:g,file:b,inputRef:_,imageResourcesPath:j,loading:$="Loading PDF",noData:_e="No PDF file specified.",onItemClick:et,onLoadError:nt,onLoadProgress:it,onLoadSuccess:st,onPassword:tt=defaultOnPassword,onSourceError:rt,onSourceSuccess:ot,options:ut,renderMode:lt,rotate:ct}=i,dt=__rest$1(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[ht,mt]=useResolver(),{value:xt,error:ft}=ht,[bt,wt]=useResolver(),{value:Ct,error:Tt}=bt,St=reactExports.useRef(new LinkService),At=reactExports.useRef([]),Rt=reactExports.useRef(),Et=reactExports.useRef();reactExports.useEffect(()=>{b&&b!==Rt.current&&isParameterObject(b)&&(warning$1(!dequal(b,Rt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Rt.current=b)},[b]),reactExports.useEffect(()=>{ut&&ut!==Et.current&&(warning$1(!dequal(ut,Et.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Et.current=ut)},[ut]);const gt=reactExports.useRef({scrollPageIntoView:Ft=>{const{dest:Vt,pageNumber:vt,pageIndex:It=vt-1}=Ft;if(et){et({dest:Vt,pageIndex:It,pageNumber:vt});return}const zt=At.current[It];if(zt){zt.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${vt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:St,pages:At,viewer:gt}),[]);function Mt(){ot&&ot()}function _t(){ft&&(warning$1(!1,ft.toString()),rt&&rt(ft))}function at(){mt({type:"RESET"})}reactExports.useEffect(at,[b,mt]);const yt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!b)return null;if(typeof b=="string")return isDataURI(b)?{data:dataURItoByteString(b)}:(displayCORSWarning(),{url:b});if(b instanceof PDFDataRangeTransport)return{range:b};if(isArrayBuffer(b))return{data:b};if(isBrowser&&isBlob(b))return{data:yield loadFromFile(b)};if(invariant(typeof b=="object"),invariant(isParameterObject(b)),"url"in b&&typeof b.url=="string"){if(isDataURI(b.url)){const{url:Ft}=b,Vt=__rest$1(b,["url"]),vt=dataURItoByteString(Ft);return Object.assign({data:vt},Vt)}displayCORSWarning()}return b}),[b]);reactExports.useEffect(()=>{const Ft=makeCancellablePromise(yt());return Ft.promise.then(Vt=>{mt({type:"RESOLVE",value:Vt})}).catch(Vt=>{mt({type:"REJECT",error:Vt})}),()=>{cancelRunningTask(Ft)}},[yt,mt]),reactExports.useEffect(()=>{if(!(typeof xt>"u")){if(xt===!1){_t();return}Mt()}},[xt]);function kt(){Ct&&(st&&st(Ct),At.current=new Array(Ct.numPages),St.current.setDocument(Ct))}function Pt(){Tt&&(warning$1(!1,Tt.toString()),nt&&nt(Tt))}function jt(){wt({type:"RESET"})}reactExports.useEffect(jt,[wt,xt]);function Lt(){if(!xt)return;const Ft=Object.assign(Object.assign({},ut),{isEvalSupported:!1}),Vt=Object.assign(Object.assign({},xt),Ft),vt=pdfjs.getDocument(Vt);it&&(vt.onProgress=it),tt&&(vt.onPassword=tt);const It=vt;return It.promise.then(zt=>{wt({type:"RESOLVE",value:zt})}).catch(zt=>{It.destroyed||wt({type:"REJECT",error:zt})}),()=>{It.destroy()}}reactExports.useEffect(Lt,[ut,wt,xt]),reactExports.useEffect(()=>{if(!(typeof Ct>"u")){if(Ct===!1){Pt();return}kt()}},[Ct]);function Ut(){St.current.setViewer(gt.current),St.current.setExternalLinkRel(h),St.current.setExternalLinkTarget(g)}reactExports.useEffect(Ut,[h,g]);function Xt(Ft,Vt){At.current[Ft]=Vt}function Qt(Ft){delete At.current[Ft]}const rn=reactExports.useMemo(()=>({imageResourcesPath:j,linkService:St.current,onItemClick:et,pdf:Ct,registerPage:Xt,renderMode:lt,rotate:ct,unregisterPage:Qt}),[j,et,Ct,lt,ct]),ln=reactExports.useMemo(()=>makeEventProps(dt,()=>Ct),[dt,Ct]);function an(){return React$2.createElement(DocumentContext.Provider,{value:rn},o)}function qt(){return b?Ct==null?React$2.createElement(Message,{type:"loading"},typeof $=="function"?$():$):Ct===!1?React$2.createElement(Message,{type:"error"},typeof d=="function"?d():d):an():React$2.createElement(Message,{type:"no-data"},typeof _e=="function"?_e():_e)}return React$2.createElement("div",Object.assign({className:clsx("react-pdf__Document",a),ref:_,style:{"--scale-factor":"1"}},ln),qt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s=e.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(d){s.forEach(function(h){typeof h=="function"?h(d):h&&(h.current=d)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:s}=e,o=s.match(HEADING_PATTERN);if(o)i.role="heading",i["aria-level"]=Number(o[1]);else if(isPdfRole(s)){const a=PDF_ROLE_TO_HTML_ROLE[s];a&&(i.role=a)}}return i}function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[s]=e.children;if(s){const o=getBaseAttributes(s);return Object.assign(Object.assign({},i),o)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:i}){const s=reactExports.useMemo(()=>getAttributes(i),[i]),o=reactExports.useMemo(()=>!isStructTreeNode(i)||isStructTreeNodeWithOnlyContentChild(i)?null:i.children.map((a,d)=>React$2.createElement(StructTreeItem,{key:d,node:a})),[i]);return React$2.createElement("span",Object.assign({className:e},s),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e);const{onGetStructTreeError:i,onGetStructTreeSuccess:s}=e,[o,a]=useResolver(),{value:d,error:h}=o,{customTextRenderer:g,page:b}=e;function _(){d&&s&&s(d)}function j(){h&&(warning$1(!1,h.toString()),i&&i(h))}function $(){a({type:"RESET"})}reactExports.useEffect($,[a,b]);function _e(){if(g||!b)return;const et=makeCancellablePromise(b.getStructTree()),nt=et;return et.promise.then(it=>{a({type:"RESOLVE",value:it})}).catch(it=>{a({type:"REJECT",error:it})}),()=>cancelRunningTask(nt)}return reactExports.useEffect(_e,[g,b,a]),reactExports.useEffect(()=>{if(d!==void 0){if(d===!1){j();return}_()}},[d]),d?React$2.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:d}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const i=usePageContext();invariant(i);const s=Object.assign(Object.assign({},i),e),{_className:o,canvasBackground:a,devicePixelRatio:d=getDevicePixelRatio(),onRenderError:h,onRenderSuccess:g,page:b,renderForms:_,renderTextLayer:j,rotate:$,scale:_e}=s,{canvasRef:et}=e;invariant(b);const nt=reactExports.useRef(null);function it(){b&&g&&g(makePageCallback(b,_e))}function st(lt){isCancelException(lt)||(warning$1(!1,lt.toString()),h&&h(lt))}const tt=reactExports.useMemo(()=>b.getViewport({scale:_e*d,rotation:$}),[d,b,$,_e]),rt=reactExports.useMemo(()=>b.getViewport({scale:_e,rotation:$}),[b,$,_e]);function ot(){if(!b)return;b.cleanup();const{current:lt}=nt;if(!lt)return;lt.width=tt.width,lt.height=tt.height,lt.style.width=`${Math.floor(rt.width)}px`,lt.style.height=`${Math.floor(rt.height)}px`,lt.style.visibility="hidden";const ct={annotationMode:_?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:lt.getContext("2d",{alpha:!1}),viewport:tt};a&&(ct.background=a);const dt=b.render(ct),ht=dt;return dt.promise.then(()=>{lt.style.visibility="",it()}).catch(st),()=>cancelRunningTask(ht)}reactExports.useEffect(ot,[a,nt,d,b,_,tt,rt]);const ut=reactExports.useCallback(()=>{const{current:lt}=nt;lt&&(lt.width=0,lt.height=0)},[nt]);return reactExports.useEffect(()=>ut,[ut]),React$2.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(et,nt),style:{display:"block",userSelect:"none"}},j?React$2.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e);const{_className:i,onRenderSuccess:s,onRenderError:o,page:a,rotate:d,scale:h}=e;invariant(a);const[g,b]=useResolver(),{value:_,error:j}=g;function $(){a&&s&&s(makePageCallback(a,h))}function _e(){j&&(isCancelException(j)||(warning$1(!1,j.toString()),o&&o(j)))}const et=reactExports.useMemo(()=>a.getViewport({scale:h,rotation:d}),[a,d,h]);function nt(){b({type:"RESET"})}reactExports.useEffect(nt,[a,b,et]);function it(){if(!a)return;const ot=makeCancellablePromise(a.getOperatorList());return ot.promise.then(ut=>{new pdfjs.SVGGraphics(a.commonObjs,a.objs).getSVG(ut,et).then(ct=>{if(!(ct instanceof SVGElement))throw new Error("getSVG returned unexpected result.");b({type:"RESOLVE",value:ct})}).catch(ct=>{b({type:"REJECT",error:ct})})}).catch(ut=>{b({type:"REJECT",error:ut})}),()=>cancelRunningTask(ot)}reactExports.useEffect(it,[a,b,et]),reactExports.useEffect(()=>{if(_!==void 0){if(_===!1){_e();return}$()}},[_]);function st(ot){if(!ot||!_)return;ot.firstElementChild||ot.appendChild(_);const{width:ut,height:lt}=et;_.setAttribute("width",`${ut}`),_.setAttribute("height",`${lt}`)}const{width:tt,height:rt}=et;return React$2.createElement("div",{className:`${i}__svg`,ref:ot=>st(ot),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:tt,height:rt,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e);const{customTextRenderer:i,onGetTextError:s,onGetTextSuccess:o,onRenderTextLayerError:a,onRenderTextLayerSuccess:d,page:h,pageIndex:g,pageNumber:b,rotate:_,scale:j}=e;invariant(h);const[$,_e]=useResolver(),{value:et,error:nt}=$,it=reactExports.useRef(null),st=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function tt(){et&&o&&o(et)}function rt(){nt&&(warning$1(!1,nt.toString()),s&&s(nt))}function ot(){_e({type:"RESET"})}reactExports.useEffect(ot,[h,_e]);function ut(){if(!h)return;const ft=makeCancellablePromise(h.getTextContent()),bt=ft;return ft.promise.then(wt=>{_e({type:"RESOLVE",value:wt})}).catch(wt=>{_e({type:"REJECT",error:wt})}),()=>cancelRunningTask(bt)}reactExports.useEffect(ut,[h,_e]),reactExports.useEffect(()=>{if(et!==void 0){if(et===!1){rt();return}tt()}},[et]);const lt=reactExports.useCallback(()=>{d&&d()},[d]),ct=reactExports.useCallback(ft=>{warning$1(!1,ft.toString()),a&&a(ft)},[a]);function dt(){const ft=st.current;ft&&ft.classList.add("active")}function ht(){const ft=st.current;ft&&ft.classList.remove("active")}const mt=reactExports.useMemo(()=>h.getViewport({scale:j,rotation:_}),[h,_,j]);function xt(){if(!h||!et)return;const{current:ft}=it;if(!ft)return;ft.innerHTML="";const bt=h.streamTextContent({includeMarkedContent:!0}),wt={container:ft,textContentSource:bt,viewport:mt},Ct=pdfjs.renderTextLayer(wt),Tt=Ct;return Ct.promise.then(()=>{const St=document.createElement("div");St.className="endOfContent",ft.append(St),st.current=St;const At=ft.querySelectorAll('[role="presentation"]');if(i){let Rt=0;et.items.forEach((Et,gt)=>{if(!isTextItem(Et))return;const Mt=At[Rt];if(!Mt)return;const _t=i(Object.assign({pageIndex:g,pageNumber:b,itemIndex:gt},Et));Mt.innerHTML=_t,Rt+=Et.str&&Et.hasEOL?2:1})}lt()}).catch(ct),()=>cancelRunningTask(Tt)}return reactExports.useLayoutEffect(xt,[i,ct,lt,h,g,b,et,mt]),React$2.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:ht,onMouseDown:dt,ref:it})}function AnnotationLayer(){const e=useDocumentContext(),i=usePageContext();invariant(i);const s=Object.assign(Object.assign({},e),i),{imageResourcesPath:o,linkService:a,onGetAnnotationsError:d,onGetAnnotationsSuccess:h,onRenderAnnotationLayerError:g,onRenderAnnotationLayerSuccess:b,page:_,pdf:j,renderForms:$,rotate:_e,scale:et=1}=s;invariant(j),invariant(_),invariant(a);const[nt,it]=useResolver(),{value:st,error:tt}=nt,rt=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ot(){st&&h&&h(st)}function ut(){tt&&(warning$1(!1,tt.toString()),d&&d(tt))}function lt(){it({type:"RESET"})}reactExports.useEffect(lt,[it,_]);function ct(){if(!_)return;const ft=makeCancellablePromise(_.getAnnotations()),bt=ft;return ft.promise.then(wt=>{it({type:"RESOLVE",value:wt})}).catch(wt=>{it({type:"REJECT",error:wt})}),()=>{cancelRunningTask(bt)}}reactExports.useEffect(ct,[it,_,$]),reactExports.useEffect(()=>{if(st!==void 0){if(st===!1){ut();return}ot()}},[st]);function dt(){b&&b()}function ht(ft){warning$1(!1,`${ft}`),g&&g(ft)}const mt=reactExports.useMemo(()=>_.getViewport({scale:et,rotation:_e}),[_,_e,et]);function xt(){if(!j||!_||!a||!st)return;const{current:ft}=rt;if(!ft)return;const bt=mt.clone({dontFlip:!0}),wt={accessibilityManager:null,annotationCanvasMap:null,div:ft,l10n:null,page:_,viewport:bt},Ct={annotations:st,annotationStorage:j.annotationStorage,div:ft,downloadManager:null,imageResourcesPath:o,linkService:a,page:_,renderForms:$,viewport:bt};ft.innerHTML="";try{new pdfjs.AnnotationLayer(wt).render(Ct),dt()}catch(Tt){ht(Tt)}return()=>{}}return reactExports.useEffect(xt,[st,o,a,_,$,mt]),React$2.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:rt})}var __rest=function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};const defaultScale=1,Page=function e(i){const s=useDocumentContext(),o=Object.assign(Object.assign({},s),i),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:d=!0,canvasBackground:h,canvasRef:g,children:b,className:_,customRenderer:j,customTextRenderer:$,devicePixelRatio:_e,error:et="Failed to load the page.",height:nt,inputRef:it,loading:st="Loading page",noData:tt="No page specified.",onGetAnnotationsError:rt,onGetAnnotationsSuccess:ot,onGetStructTreeError:ut,onGetStructTreeSuccess:lt,onGetTextError:ct,onGetTextSuccess:dt,onLoadError:ht,onLoadSuccess:mt,onRenderAnnotationLayerError:xt,onRenderAnnotationLayerSuccess:ft,onRenderError:bt,onRenderSuccess:wt,onRenderTextLayerError:Ct,onRenderTextLayerSuccess:Tt,pageIndex:St,pageNumber:At,pdf:Rt,registerPage:Et,renderAnnotationLayer:gt=!0,renderForms:Mt=!1,renderMode:_t="canvas",renderTextLayer:at=!0,rotate:yt,scale:kt=defaultScale,unregisterPage:Pt,width:jt}=o,Lt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ut,Xt]=useResolver(),{value:Qt,error:rn}=Ut,ln=reactExports.useRef(null);invariant(Rt);const an=isProvided(At)?At-1:St??null,qt=At??(isProvided(St)?St+1:null),Ft=yt??(Qt?Qt.rotate:null),Vt=reactExports.useMemo(()=>{if(!Qt)return null;let wn=1;const Nn=kt??defaultScale;if(jt||nt){const In=Qt.getViewport({scale:1,rotation:Ft});jt?wn=jt/In.width:nt&&(wn=nt/In.height)}return Nn*wn},[nt,Qt,Ft,kt,jt]);function vt(){return()=>{isProvided(an)&&d&&Pt&&Pt(an)}}reactExports.useEffect(vt,[d,Rt,an,Pt]);function It(){if(mt){if(!Qt||!Vt)return;mt(makePageCallback(Qt,Vt))}if(d&&Et){if(!isProvided(an)||!ln.current)return;Et(an,ln.current)}}function zt(){rn&&(warning$1(!1,rn.toString()),ht&&ht(rn))}function Wt(){Xt({type:"RESET"})}reactExports.useEffect(Wt,[Xt,Rt,an]);function sn(){if(!Rt||!qt)return;const wn=makeCancellablePromise(Rt.getPage(qt)),Nn=wn;return wn.promise.then(In=>{Xt({type:"RESOLVE",value:In})}).catch(In=>{Xt({type:"REJECT",error:In})}),()=>cancelRunningTask(Nn)}reactExports.useEffect(sn,[Xt,Rt,an,qt,Et]),reactExports.useEffect(()=>{if(Qt!==void 0){if(Qt===!1){zt();return}It()}},[Qt,Vt]);const dn=reactExports.useMemo(()=>Qt&&isProvided(an)&&qt&&isProvided(Ft)&&isProvided(Vt)?{_className:a,canvasBackground:h,customTextRenderer:$,devicePixelRatio:_e,onGetAnnotationsError:rt,onGetAnnotationsSuccess:ot,onGetStructTreeError:ut,onGetStructTreeSuccess:lt,onGetTextError:ct,onGetTextSuccess:dt,onRenderAnnotationLayerError:xt,onRenderAnnotationLayerSuccess:ft,onRenderError:bt,onRenderSuccess:wt,onRenderTextLayerError:Ct,onRenderTextLayerSuccess:Tt,page:Qt,pageIndex:an,pageNumber:qt,renderForms:Mt,renderTextLayer:at,rotate:Ft,scale:Vt}:null,[a,h,$,_e,rt,ot,ut,lt,ct,dt,xt,ft,bt,wt,Ct,Tt,Qt,an,qt,Mt,at,Ft,Vt]),pn=reactExports.useMemo(()=>makeEventProps(Lt,()=>Qt&&(Vt?makePageCallback(Qt,Vt):void 0)),[Lt,Qt,Vt]),Kt=`${an}@${Vt}/${Ft}`,Dt=`${an}/${Ft}`;function $t(){switch(_t){case"custom":return invariant(j),React$2.createElement(j,{key:`${Kt}_custom`});case"none":return null;case"svg":return React$2.createElement(PageSVG,{key:`${Dt}_svg`});case"canvas":default:return React$2.createElement(PageCanvas,{key:`${Kt}_canvas`,canvasRef:g})}}function hn(){return at?React$2.createElement(TextLayer,{key:`${Kt}_text`}):null}function gn(){return gt?React$2.createElement(AnnotationLayer,{key:`${Kt}_annotations`}):null}function vn(){return React$2.createElement(PageContext.Provider,{value:dn},$t(),hn(),gn(),b)}function yn(){return qt?Rt===null||Qt===void 0||Qt===null?React$2.createElement(Message,{type:"loading"},typeof st=="function"?st():st):Rt===!1||Qt===!1?React$2.createElement(Message,{type:"error"},typeof et=="function"?et():et):vn():React$2.createElement(Message,{type:"no-data"},typeof tt=="function"?tt():tt)}return React$2.createElement("div",Object.assign({className:clsx(a,_),"data-page-number":qt,ref:mergeRefs(it,ln),style:{"--scale-factor":`${Vt}`,backgroundColor:h||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},pn),yn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";function PageJumpInput({currentPage:e,totalPages:i,onPageChange:s,className:o=""}){const[a,d]=reactExports.useState(e.toString()),[h,g]=reactExports.useState(!1);reactExports.useEffect(()=>{h||d(e.toString())},[e,h]);const b=reactExports.useCallback(_e=>{const et=_e.target.value;/^\d*$/.test(et)&&d(et)},[]),_=reactExports.useCallback(()=>{const _e=parseInt(a,10);!isNaN(_e)&&_e>=1&&_e<=i?s(_e):d(e.toString()),g(!1)},[a,i,s,e]),j=reactExports.useCallback(_e=>{_e.key==="Enter"?(_(),_e.target.blur()):_e.key==="Escape"&&(d(e.toString()),g(!1),_e.target.blur())},[_,e]),$=reactExports.useCallback(()=>{g(!0),setTimeout(()=>{const _e=document.activeElement;_e&&_e.select()},0)},[]);return jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 ${o}`,children:[jsxRuntimeExports.jsx("input",{type:"text",value:a,onChange:b,onBlur:_,onFocus:$,onKeyDown:j,className:`w-12 px-2 py-1 text-sm text-center bg-bg-tertiary border border-border rounded-md 
                   focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent
                   text-text-primary font-mono`,"aria-label":`Current page ${e} of ${i}`}),jsxRuntimeExports.jsx("span",{className:"text-sm text-text-muted",children:"/"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-text-secondary font-mono min-w-[24px]",children:i})]})}function PDFToolbar({currentPage:e,totalPages:i,scale:s,viewMode:o,onPageChange:a,onZoomIn:d,onZoomOut:h,onViewModeChange:g,onToggleFullscreen:b,className:_=""}){reactExports.useEffect(()=>{const nt=it=>{if(!(it.target instanceof HTMLInputElement||it.target instanceof HTMLTextAreaElement))switch(it.key){case"ArrowLeft":it.preventDefault(),e>1&&a(e-1);break;case"ArrowRight":it.preventDefault(),e<i&&a(e+1);break;case"Home":it.preventDefault(),a(1);break;case"End":it.preventDefault(),a(i);break;case"+":case"=":(it.ctrlKey||it.metaKey)&&(it.preventDefault(),d());break;case"-":(it.ctrlKey||it.metaKey)&&(it.preventDefault(),h());break;case"v":!it.ctrlKey&&!it.metaKey&&g(o==="single"?"continuous":"single");break}};return window.addEventListener("keydown",nt),()=>window.removeEventListener("keydown",nt)},[e,i,o,a,d,h,g]);const j=reactExports.useCallback(()=>a(1),[a]),$=reactExports.useCallback(()=>a(i),[a,i]),_e=reactExports.useCallback(()=>{const nt=o==="spread"?2:1;e>1&&a(Math.max(1,e-nt))},[e,a,o]),et=reactExports.useCallback(()=>{const nt=o==="spread"?2:1;e<i&&a(Math.min(i,e+nt))},[e,i,a,o]);return jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between px-4 py-2 bg-bg-secondary border-b border-border ${_}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:j,disabled:e<=1,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"First page (Home)",children:jsxRuntimeExports.jsx(ChevronsLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:_e,disabled:e<=1,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Previous page ()",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(PageJumpInput,{currentPage:e,totalPages:i,onPageChange:a,className:"mx-2"}),jsxRuntimeExports.jsx("button",{onClick:et,disabled:e>=i,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Next page ()",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:$,disabled:e>=i,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Last page (End)",children:jsxRuntimeExports.jsx(ChevronsRight,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-bg-tertiary rounded-lg p-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>g("single"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o==="single"?"bg-accent text-white":"text-text-secondary hover:text-text-primary"}`,title:"Single page view",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>g("spread"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o==="spread"?"bg-accent text-white":"text-text-secondary hover:text-text-primary"}`,title:"Two-page spread view",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>g("continuous"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o==="continuous"?"bg-accent text-white":"text-text-secondary hover:text-text-primary"}`,title:"Continuous scroll view (V)",children:jsxRuntimeExports.jsx(Columns2,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:h,disabled:s<=.5,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Zoom out (Ctrl+-)",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-secondary font-mono min-w-[50px] text-center",children:[Math.round(s*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:d,disabled:s>=3,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed 
                     flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Zoom in (Ctrl++)",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4"})}),b&&jsxRuntimeExports.jsx("button",{onClick:b,className:`w-8 h-8 rounded-lg hover:bg-bg-tertiary 
                       flex items-center justify-center text-text-secondary hover:text-text-primary transition-colors`,title:"Toggle fullscreen",children:jsxRuntimeExports.jsx(Maximize2,{className:"w-4 h-4"})})]})]})}pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFContinuousView({file:e,scale:i,onTextSelect:s,onPageChange:o,onPageContent:a,onLoadSuccess:d,onLoadError:h,className:g=""}){const[b,_]=reactExports.useState(0),[j,$]=reactExports.useState(!0),[_e,et]=reactExports.useState(null),[nt,it]=reactExports.useState(new Set([1])),st=reactExports.useRef(null),tt=reactExports.useRef(new Map),rt=reactExports.useRef(null),ot=reactExports.useCallback(ht=>{_(ht.numPages),$(!1),rt.current=ht,d==null||d(ht.numPages)},[d]),ut=reactExports.useCallback(ht=>{console.error("Error loading PDF:",ht),et("Failed to load PDF. Please try again."),$(!1),h==null||h(ht)},[h]),lt=reactExports.useCallback(async ht=>{if(!rt.current)return"";try{return(await(await rt.current.getPage(ht)).getTextContent()).items.map(bt=>bt.str).join(" ")}catch(mt){return console.error("Error extracting page text:",mt),""}},[]);reactExports.useEffect(()=>{if(!st.current||b===0)return;const ht=new IntersectionObserver(mt=>{const xt=new Set(nt);mt.forEach(bt=>{const wt=parseInt(bt.target.getAttribute("data-page")||"0",10);wt>0&&(bt.isIntersecting?xt.add(wt):bt.intersectionRatio<.1&&xt.delete(wt))}),it(xt);const ft=Array.from(xt).sort((bt,wt)=>bt-wt)[0];ft&&ft>0&&(o==null||o(ft,b),a&&lt(ft).then(bt=>{bt&&a(bt,ft)}))},{root:st.current,rootMargin:"100px",threshold:[0,.1,.5,1]});return tt.current.forEach(mt=>{ht.observe(mt)}),()=>ht.disconnect()},[b,nt,o,a,lt]);const ct=reactExports.useCallback(()=>{if(!s)return;const ht=window.getSelection(),mt=ht==null?void 0:ht.toString().trim();mt&&mt.length>0&&s(mt)},[s]),dt=reactExports.useCallback(ht=>mt=>{mt?tt.current.set(ht,mt):tt.current.delete(ht)},[]);return _e?jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${g}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-2",children:_e}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"The PDF might be corrupted or unavailable."})]}):jsxRuntimeExports.jsx("div",{ref:st,className:`overflow-auto bg-bg-tertiary ${g}`,onMouseUp:ct,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center py-4 gap-4 min-h-full",children:[j&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Loading PDF..."})]}),jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:ot,onLoadError:ut,loading:"",children:Array.from({length:b},(ht,mt)=>{const xt=mt+1,ft=nt.has(xt);return jsxRuntimeExports.jsxs(motion.div,{ref:dt(xt),"data-page":xt,initial:{opacity:0,y:20},animate:{opacity:ft||j?1:.3,y:0},transition:{duration:.3,delay:ft?0:.1},className:"bg-white shadow-lg",children:[jsxRuntimeExports.jsx(Page,{pageNumber:xt,scale:i,renderTextLayer:!0,renderAnnotationLayer:!0,loading:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-[600px] h-[800px] bg-bg-secondary",children:jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-accent"})})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-2 bg-bg-secondary text-text-muted text-sm border-t border-border",children:["Page ",xt," of ",b]})]},`page-${xt}`)})})]})})}pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFViewer({file:e,viewMode:i="single",onTextSelect:s,onPageChange:o,onPageContent:a,selectedPages:d,onSelectedPagesChange:h,className:g=""}){const[b,_]=reactExports.useState(0),[j,$]=reactExports.useState(1),[_e,et]=reactExports.useState(1),[nt,it]=reactExports.useState(!0),[st,tt]=reactExports.useState(null),[rt,ot]=reactExports.useState(i),ut=reactExports.useRef(null),lt=reactExports.useRef(null);reactExports.useEffect(()=>{const St=localStorage.getItem("pdf-view-mode");St&&["single","continuous","spread"].includes(St)&&ot(St)},[]);const ct=reactExports.useCallback(St=>{ot(St),localStorage.setItem("pdf-view-mode",St)},[]),dt=reactExports.useCallback(St=>{_(St.numPages),it(!1),o==null||o(1,St.numPages),ut.current=St},[o]),ht=reactExports.useCallback(St=>{console.error("Error loading PDF:",St),tt("Failed to load PDF. Please try again."),it(!1)},[]),mt=reactExports.useCallback(async St=>{if(!ut.current)return"";try{return(await(await ut.current.getPage(St)).getTextContent()).items.map(gt=>gt.str).join(" ")}catch(At){return console.error("Error extracting page text:",At),""}},[]),xt=reactExports.useCallback(St=>{let At=St;rt==="spread"&&St%2===0&&St>1&&(At=St-1),At>=1&&At<=b&&($(At),o==null||o(At,b),a&&ut.current&&mt(At).then(Rt=>{Rt&&a(Rt,At)}))},[b,o,a,mt,rt]),ft=reactExports.useCallback(()=>{et(St=>Math.min(St+.25,3))},[]),bt=reactExports.useCallback(()=>{et(St=>Math.max(St-.25,.5))},[]),wt=reactExports.useCallback(()=>{if(!s)return;const St=window.getSelection(),At=St==null?void 0:St.toString().trim();At&&At.length>0&&s(At)},[s]),Ct=reactExports.useCallback(St=>{if(rt==="continuous"){const At=document.querySelector(`[data-page="${St}"]`);At&&At.scrollIntoView({behavior:"smooth",block:"start"})}},[rt]),Tt=reactExports.useCallback(St=>{xt(St),rt==="continuous"&&Ct(St)},[xt,rt,Ct]);return st?jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${g}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary mb-2",children:st}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted",children:"The PDF might be corrupted or unavailable."})]}):jsxRuntimeExports.jsxs("div",{className:`flex flex-col h-full ${g}`,children:[jsxRuntimeExports.jsx(PDFToolbar,{currentPage:j,totalPages:b,scale:_e,viewMode:rt,onPageChange:Tt,onZoomIn:ft,onZoomOut:bt,onViewModeChange:ct}),rt==="continuous"?jsxRuntimeExports.jsx(PDFContinuousView,{file:e,scale:_e,onTextSelect:s,onPageChange:o,onPageContent:a,onLoadSuccess:St=>{_(St),it(!1)},onLoadError:ht,className:"flex-1"}):rt==="spread"?jsxRuntimeExports.jsx("div",{ref:lt,className:"flex-1 overflow-auto bg-bg-tertiary p-4 scrollbar-thin",onMouseUp:wt,children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center min-h-full gap-2",children:[nt&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Loading PDF..."})]}),jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:dt,onLoadError:ht,loading:"",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:nt?0:1},transition:{duration:.3},className:"flex items-center justify-center min-h-full gap-2",children:[jsxRuntimeExports.jsx(Page,{pageNumber:j,scale:_e,className:"shadow-lg",renderTextLayer:!0,renderAnnotationLayer:!0,loading:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-[600px] h-[800px] bg-bg-secondary rounded",children:jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-accent"})})}),j+1<=b&&jsxRuntimeExports.jsx(Page,{pageNumber:j+1,scale:_e,className:"shadow-lg",renderTextLayer:!0,renderAnnotationLayer:!0,loading:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-[600px] h-[800px] bg-bg-secondary rounded",children:jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-accent"})})})]})})]})}):jsxRuntimeExports.jsx("div",{ref:lt,className:"flex-1 overflow-auto bg-bg-tertiary p-4 scrollbar-thin",onMouseUp:wt,children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center min-h-full",children:[nt&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Loading PDF..."})]}),jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:dt,onLoadError:ht,loading:"",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:nt?0:1},transition:{duration:.3},className:"flex items-center justify-center min-h-full",children:jsxRuntimeExports.jsx(Page,{pageNumber:j,scale:_e,className:"shadow-lg",renderTextLayer:!0,renderAnnotationLayer:!0,loading:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-[600px] h-[800px] bg-bg-secondary",children:jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-accent"})})})})})]})})]})}pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function ChatPageSelector({totalPages:e,selectedPages:i,onSelectionChange:s,file:o,className:a=""}){const[d,h]=reactExports.useState(!1),[g,b]=reactExports.useState(new Set(i));reactExports.useEffect(()=>{b(new Set(i))},[i]);const _=reactExports.useCallback(nt=>{b(it=>{const st=new Set(it);return st.has(nt)?st.delete(nt):st.add(nt),st})},[]),j=reactExports.useCallback(()=>{b(new Set(Array.from({length:e},(nt,it)=>it+1)))},[e]),$=reactExports.useCallback(()=>{b(new Set)},[]),_e=reactExports.useCallback(()=>{s(Array.from(g).sort((nt,it)=>nt-it)),h(!1)},[g,s]),et=reactExports.useCallback(()=>{b(new Set(i)),h(!1)},[i]);return jsxRuntimeExports.jsxs("div",{className:a,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h(!d),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${i.length>0?"bg-accent/10 border-accent text-accent":"bg-bg-secondary border-border text-text-secondary hover:text-text-primary"}`,children:[jsxRuntimeExports.jsx(Layers,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:i.length>0?`${i.length} page${i.length>1?"s":""} selected`:"Select pages"})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:d&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute z-50 mt-2 w-80 bg-bg-secondary border border-border rounded-xl shadow-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-text-primary",children:"Select Pages for Context"}),jsxRuntimeExports.jsx("button",{onClick:et,className:"w-6 h-6 rounded-md hover:bg-bg-tertiary flex items-center justify-center text-text-muted hover:text-text-primary",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-border bg-bg-tertiary",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:j,className:"text-xs h-7",children:"Select All"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:$,className:"text-xs h-7",children:"Clear"}),jsxRuntimeExports.jsx("div",{className:"flex-1"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-text-muted",children:[g.size," selected"]})]}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-auto p-3",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:e},(nt,it)=>{const st=it+1,tt=g.has(st);return jsxRuntimeExports.jsxs("button",{onClick:()=>_(st),className:`relative aspect-[3/4] rounded-lg border-2 transition-all overflow-hidden ${tt?"border-accent bg-accent/10":"border-border hover:border-border-strong bg-bg-tertiary"}`,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Document,{file:o,loading:"",children:jsxRuntimeExports.jsx(Page,{pageNumber:st,scale:.1,renderTextLayer:!1,renderAnnotationLayer:!1,className:"opacity-50"})})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/60 to-transparent py-1",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-white font-medium",children:st})}),tt&&jsxRuntimeExports.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-accent rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"})})]},st)})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-3 border-t border-border bg-bg-tertiary",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:et,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:_e,className:"bg-accent hover:bg-accent-hover text-white",children:["Apply (",g.size,")"]})]})]})})]})}function ResizablePanel({defaultWidth:e,minWidth:i=300,maxWidth:s=600,children:o,side:a="right",onWidthChange:d,className:h}){const[g,b]=reactExports.useState(e),[_,j]=reactExports.useState(!1),$=reactExports.useRef(null),_e=reactExports.useCallback(et=>{et.preventDefault(),j(!0)},[]);return reactExports.useEffect(()=>{if(!_)return;const et=it=>{const st=a==="right"?window.innerWidth-it.clientX:it.clientX,tt=Math.min(s,Math.max(i,st));b(tt),d==null||d(tt)},nt=()=>{j(!1)};return document.addEventListener("mousemove",et),document.addEventListener("mouseup",nt),document.body.style.cursor=_?"col-resize":"",document.body.style.userSelect=_?"none":"",()=>{document.removeEventListener("mousemove",et),document.removeEventListener("mouseup",nt),document.body.style.cursor="",document.body.style.userSelect=""}},[_,i,s,a,d]),reactExports.useEffect(()=>{const et=localStorage.getItem("chat-panel-width");if(et){const nt=parseInt(et,10);!isNaN(nt)&&nt>=i&&nt<=s&&b(nt)}},[i,s]),reactExports.useEffect(()=>{localStorage.setItem("chat-panel-width",g.toString())},[g]),jsxRuntimeExports.jsxs("div",{ref:$,style:{width:g},className:cn("relative flex flex-col overflow-hidden",h),children:[jsxRuntimeExports.jsxs("div",{className:cn("absolute top-0 bottom-0 w-2 cursor-col-resize group z-10","flex items-center justify-center",a==="left"?"right-0":"left-0"),onMouseDown:_e,children:[jsxRuntimeExports.jsx("div",{className:cn("w-1 h-12 rounded-full transition-colors",_?"bg-accent":"bg-border group-hover:bg-accent/50")}),jsxRuntimeExports.jsx(GripVertical,{className:cn("absolute w-4 h-4 text-text-muted opacity-0 group-hover:opacity-100 transition-opacity",a==="left"?"right-0.5":"left-0.5")})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:o})]})}function ok$1(){}function unreachable(){}function stringify$1(e,i){const s={};return(e[e.length-1]===""?[...e,""]:e).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name(e,i){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$1(e.value):!1:empty$1(e)}function empty$1(e){return e.replace(re,"")===""}class Schema{constructor(i,s,o){this.normal=s,this.property=i,o&&(this.space=o)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(e,i){const s={},o={};for(const a of e)Object.assign(s,a.property),Object.assign(o,a.normal);return new Schema(s,o,i)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(i,s){this.attribute=s,this.property=i}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(i,s,o,a){let d=-1;if(super(i,s),mark(this,"space",a),typeof o=="number")for(;++d<checks.length;){const h=checks[d];mark(this,checks[d],(o&types[h])===types[h])}}}DefinedInfo.prototype.defined=!0;function mark(e,i,s){s&&(e[i]=s)}function create(e){const i={},s={};for(const[o,a]of Object.entries(e.properties)){const d=new DefinedInfo(o,e.transform(e.attributes||{},o),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(d.mustUseProperty=!0),i[o]=d,s[normalize$1(o)]=o,s[normalize$1(d.attribute)]=o}return new Schema(i,s,e.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(e,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()}});function caseSensitiveTransform(e,i){return i in e?e[i]:i}function caseInsensitiveTransform(e,i){return caseSensitiveTransform(e,i.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,i){return"xlink:"+i.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml$1=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,i){return"xml:"+i.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(e,i){const s=normalize$1(i);let o=i,a=Info;if(s in e.normal)return e.property[e.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&valid.test(i)){if(i.charAt(4)==="-"){const d=i.slice(5).replace(dash,camelcase);o="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=i.slice(4);if(!dash.test(d)){let h=d.replace(cap$1,kebab);h.charAt(0)!=="-"&&(h="-"+h),i="data"+h}}a=DefinedInfo}return new a(o,i)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml$1],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml$1],"svg");function stringify(e){return e.join(" ").trim()}var cjs$2={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration";function index$1(e,i){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];i=i||{};var s=1,o=1;function a(nt){var it=nt.match(NEWLINE_REGEX);it&&(s+=it.length);var st=nt.lastIndexOf(NEWLINE);o=~st?nt.length-st:o+nt.length}function d(){var nt={line:s,column:o};return function(it){return it.position=new h(nt),_(),it}}function h(nt){this.start=nt,this.end={line:s,column:o},this.source=i.source}h.prototype.content=e;function g(nt){var it=new Error(i.source+":"+s+":"+o+": "+nt);if(it.reason=nt,it.filename=i.source,it.line=s,it.column=o,it.source=e,!i.silent)throw it}function b(nt){var it=nt.exec(e);if(it){var st=it[0];return a(st),e=e.slice(st.length),it}}function _(){b(WHITESPACE_REGEX)}function j(nt){var it;for(nt=nt||[];it=$();)it!==!1&&nt.push(it);return nt}function $(){var nt=d();if(!(FORWARD_SLASH!=e.charAt(0)||ASTERISK!=e.charAt(1))){for(var it=2;EMPTY_STRING!=e.charAt(it)&&(ASTERISK!=e.charAt(it)||FORWARD_SLASH!=e.charAt(it+1));)++it;if(it+=2,EMPTY_STRING===e.charAt(it-1))return g("End of comment missing");var st=e.slice(2,it-2);return o+=2,a(st),e=e.slice(it),o+=2,nt({type:TYPE_COMMENT,comment:st})}}function _e(){var nt=d(),it=b(PROPERTY_REGEX);if(it){if($(),!b(COLON_REGEX))return g("property missing ':'");var st=b(VALUE_REGEX),tt=nt({type:TYPE_DECLARATION,property:trim(it[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:st?trim(st[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return b(SEMICOLON_REGEX),tt}}function et(){var nt=[];j(nt);for(var it;it=_e();)it!==!1&&(nt.push(it),j(nt));return nt}return _(),et()}function trim(e){return e?e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var cjs$1=index$1,__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.default=StyleToObject;const inline_style_parser_1=__importDefault$1(cjs$1);function StyleToObject(e,i){let s=null;if(!e||typeof e!="string")return s;const o=(0,inline_style_parser_1.default)(e),a=typeof i=="function";return o.forEach(d=>{if(d.type!=="declaration")return;const{property:h,value:g}=d;a?i(h,g,d):g&&(s=s||{},s[h]=g)}),s}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(e){return!e||NO_HYPHEN_REGEX.test(e)||CUSTOM_PROPERTY_REGEX.test(e)},capitalize=function(e,i){return i.toUpperCase()},trimHyphen=function(e,i){return"".concat(i,"-")},camelCase=function(e,i){return i===void 0&&(i={}),skipCamelCase(e)?e:(e=e.toLowerCase(),i.reactCompat?e=e.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):e=e.replace(VENDOR_PREFIX_REGEX,trimHyphen),e.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},style_to_object_1=__importDefault(cjs$2),utilities_1=utilities;function StyleToJS(e,i){var s={};return!e||typeof e!="string"||(0,style_to_object_1.default)(e,function(o,a){o&&a&&(s[(0,utilities_1.camelCase)(o,i)]=a)}),s}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(e){return i;function i(s){const o=s&&s.position&&s.position[e]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function position$1(e){const i=pointStart(e),s=pointEnd(e);if(i&&s)return{start:i,end:s}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point$1(e):""}function point$1(e){return index(e&&e.line)+":"+index(e&&e.column)}function position(e){return point$1(e&&e.start)+"-"+point$1(e&&e.end)}function index(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(i,s,o){super(),typeof s=="string"&&(o=s,s=void 0);let a="",d={},h=!1;if(s&&("line"in s&&"column"in s?d={place:s}:"start"in s&&"end"in s?d={place:s}:"type"in s?d={ancestors:[s],place:s.position}:d={...s}),typeof i=="string"?a=i:!d.cause&&i&&(h=!0,a=i.message,d.cause=i),!d.ruleId&&!d.source&&typeof o=="string"){const b=o.indexOf(":");b===-1?d.ruleId=o:(d.source=o.slice(0,b),d.ruleId=o.slice(b+1))}if(!d.place&&d.ancestors&&d.ancestors){const b=d.ancestors[d.ancestors.length-1];b&&(d.place=b.position)}const g=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=g?g.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=g?g.line:void 0,this.name=stringifyPosition(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=h&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,i){if(!i||i.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=i.filePath||void 0;let o;if(i.development){if(typeof i.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=developmentCreate(s,i.jsxDEV)}else{if(typeof i.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof i.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=productionCreate(s,i.jsx,i.jsxs)}const a={Fragment:i.Fragment,ancestors:[],components:i.components||{},create:o,elementAttributeNameCase:i.elementAttributeNameCase||"react",evaluater:i.createEvaluater?i.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:i.ignoreInvalidStyle||!1,passKeys:i.passKeys!==!1,passNode:i.passNode||!1,schema:i.space==="svg"?svg:html$2,stylePropertyNameCase:i.stylePropertyNameCase||"dom",tableCellAlignToStyle:i.tableCellAlignToStyle!==!1},d=one$1(a,e,void 0);return d&&typeof d!="string"?d:a.create(e,a.Fragment,{children:d||void 0},void 0)}function one$1(e,i,s){if(i.type==="element")return element$2(e,i,s);if(i.type==="mdxFlowExpression"||i.type==="mdxTextExpression")return mdxExpression(e,i);if(i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement")return mdxJsxElement(e,i,s);if(i.type==="mdxjsEsm")return mdxEsm(e,i);if(i.type==="root")return root$2(e,i,s);if(i.type==="text")return text$5(e,i)}function element$2(e,i,s){const o=e.schema;let a=o;i.tagName.toLowerCase()==="svg"&&o.space==="html"&&(a=svg,e.schema=a),e.ancestors.push(i);const d=findComponentFromName(e,i.tagName,!1),h=createElementProps(e,i);let g=createChildren(e,i);return tableElements.has(i.tagName)&&(g=g.filter(function(b){return typeof b=="string"?!whitespace(b):!0})),addNode(e,h,d,i),addChildren(h,g),e.ancestors.pop(),e.schema=o,e.create(i,d,h,s)}function mdxExpression(e,i){if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];return o.type,e.evaluater.evaluateExpression(o.expression)}crashEstree(e,i.position)}function mdxEsm(e,i){if(i.data&&i.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(i.data.estree);crashEstree(e,i.position)}function mdxJsxElement(e,i,s){const o=e.schema;let a=o;i.name==="svg"&&o.space==="html"&&(a=svg,e.schema=a),e.ancestors.push(i);const d=i.name===null?e.Fragment:findComponentFromName(e,i.name,!0),h=createJsxElementProps(e,i),g=createChildren(e,i);return addNode(e,h,d,i),addChildren(h,g),e.ancestors.pop(),e.schema=o,e.create(i,d,h,s)}function root$2(e,i,s){const o={};return addChildren(o,createChildren(e,i)),e.create(i,e.Fragment,o,s)}function text$5(e,i){return i.value}function addNode(e,i,s,o){typeof s!="string"&&s!==e.Fragment&&e.passNode&&(i.node=o)}function addChildren(e,i){if(i.length>0){const s=i.length>1?i:i[0];s&&(e.children=s)}}function productionCreate(e,i,s){return o;function o(a,d,h,g){const _=Array.isArray(h.children)?s:i;return g?_(d,h,g):_(d,h)}}function developmentCreate(e,i){return s;function s(o,a,d,h){const g=Array.isArray(d.children),b=pointStart(o);return i(a,d,h,g,{columnNumber:b?b.column-1:void 0,fileName:e,lineNumber:b?b.line:void 0},void 0)}}function createElementProps(e,i){const s={};let o,a;for(a in i.properties)if(a!=="children"&&own$3.call(i.properties,a)){const d=createProperty(e,a,i.properties[a]);if(d){const[h,g]=d;e.tableCellAlignToStyle&&h==="align"&&typeof g=="string"&&tableCellElement.has(i.tagName)?o=g:s[h]=g}}if(o){const d=s.style||(s.style={});d[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return s}function createJsxElementProps(e,i){const s={};for(const o of i.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&e.evaluater){const d=o.data.estree.body[0];d.type;const h=d.expression;h.type;const g=h.properties[0];g.type,Object.assign(s,e.evaluater.evaluateExpression(g.argument))}else crashEstree(e,i.position);else{const a=o.name;let d;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&e.evaluater){const g=o.value.data.estree.body[0];g.type,d=e.evaluater.evaluateExpression(g.expression)}else crashEstree(e,i.position);else d=o.value===null?!0:o.value;s[a]=d}return s}function createChildren(e,i){const s=[];let o=-1;const a=e.passKeys?new Map:emptyMap;for(;++o<i.children.length;){const d=i.children[o];let h;if(e.passKeys){const b=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(b){const _=a.get(b)||0;h=b+"-"+_,a.set(b,_+1)}}const g=one$1(e,d,h);g!==void 0&&s.push(g)}return s}function createProperty(e,i,s){const o=find(e.schema,i);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=o.commaSeparated?stringify$1(s):stringify(s)),o.property==="style"){let a=typeof s=="object"?s:parseStyle(e,String(s));return e.stylePropertyNameCase==="css"&&(a=transformStylesToCssCasing(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&o.space?hastToReact[o.property]||o.property:o.attribute,s]}}function parseStyle(e,i){try{return styleToJs(i,{reactCompat:!0})}catch(s){if(e.ignoreInvalidStyle)return{};const o=s,a=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=docs+"#cannot-parse-style-attribute",a}}function findComponentFromName(e,i,s){let o;if(!s)o={type:"Literal",value:i};else if(i.includes(".")){const a=i.split(".");let d=-1,h;for(;++d<a.length;){const g=name(a[d])?{type:"Identifier",name:a[d]}:{type:"Literal",value:a[d]};h=h?{type:"MemberExpression",object:h,property:g,computed:!!(d&&g.type==="Literal"),optional:!1}:g}o=h}else o=name(i)&&!/^[a-z]/.test(i)?{type:"Identifier",name:i}:{type:"Literal",value:i};if(o.type==="Literal"){const a=o.value;return own$3.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(o);crashEstree(e)}function crashEstree(e,i){const s=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:i,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",s}function transformStylesToCssCasing(e){const i={};let s;for(s in e)own$3.call(e,s)&&(i[transformStyleToCssCasing(s)]=e[s]);return i}function transformStyleToCssCasing(e){let i=e.replace(cap,toDash);return i.slice(0,3)==="ms-"&&(i="-"+i),i}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$1(e,i){const s=emptyOptions$4,o=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,a=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return one(e,o,a)}function one(e,i,s){if(node(e)){if("value"in e)return e.type==="html"&&!s?"":e.value;if(i&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all(e.children,i,s)}return Array.isArray(e)?all(e,i,s):""}function all(e,i,s){const o=[];let a=-1;for(;++a<e.length;)o[a]=one(e[a],i,s);return o.join("")}function node(e){return!!(e&&typeof e=="object")}const element$1=document.createElement("i");function decodeNamedCharacterReference(e){const i="&"+e+";";element$1.innerHTML=i;const s=element$1.textContent;return s.charCodeAt(s.length-1)===59&&e!=="semi"||s===i?!1:s}function splice(e,i,s,o){const a=e.length;let d=0,h;if(i<0?i=-i>a?0:a+i:i=i>a?a:i,s=s>0?s:0,o.length<1e4)h=Array.from(o),h.unshift(i,s),e.splice(...h);else for(s&&e.splice(i,s);d<o.length;)h=o.slice(d,d+1e4),h.unshift(i,0),e.splice(...h),d+=1e4,i+=1e4}function push(e,i){return e.length>0?(splice(e,e.length,0,i),e):i}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const i={};let s=-1;for(;++s<e.length;)syntaxExtension(i,e[s]);return i}function syntaxExtension(e,i){let s;for(s in i){const a=(hasOwnProperty.call(e,s)?e[s]:void 0)||(e[s]={}),d=i[s];let h;if(d)for(h in d){hasOwnProperty.call(a,h)||(a[h]=[]);const g=d[h];constructs(a[h],Array.isArray(g)?g:g?[g]:[])}}}function constructs(e,i){let s=-1;const o=[];for(;++s<i.length;)(i[s].add==="after"?e:o).push(i[s]);splice(e,0,0,o)}function decodeNumericCharacterReference(e,i){const s=Number.parseInt(e,i);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return i;function i(s){return s!==null&&s>-1&&e.test(String.fromCharCode(s))}}function normalizeUri(e){const i=[];let s=-1,o=0,a=0;for(;++s<e.length;){const d=e.charCodeAt(s);let h="";if(d===37&&asciiAlphanumeric(e.charCodeAt(s+1))&&asciiAlphanumeric(e.charCodeAt(s+2)))a=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(h=String.fromCharCode(d));else if(d>55295&&d<57344){const g=e.charCodeAt(s+1);d<56320&&g>56319&&g<57344?(h=String.fromCharCode(d,g),a=1):h=""}else h=String.fromCharCode(d);h&&(i.push(e.slice(o,s),encodeURIComponent(h)),o=s+a+1,h=""),a&&(s+=a,a=0)}return i.join("")+e.slice(o)}function factorySpace(e,i,s,o){const a=o?o-1:Number.POSITIVE_INFINITY;let d=0;return h;function h(b){return markdownSpace(b)?(e.enter(s),g(b)):i(b)}function g(b){return markdownSpace(b)&&d++<a?(e.consume(b),g):(e.exit(s),i(b))}}const content$1={tokenize:initializeContent};function initializeContent(e){const i=e.attempt(this.parser.constructs.contentInitial,o,a);let s;return i;function o(g){if(g===null){e.consume(g);return}return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),factorySpace(e,i,"linePrefix")}function a(g){return e.enter("paragraph"),d(g)}function d(g){const b=e.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=b),s=b,h(g)}function h(g){if(g===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(g);return}return markdownLineEnding(g)?(e.consume(g),e.exit("chunkText"),d):(e.consume(g),h)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const i=this,s=[];let o=0,a,d,h;return g;function g(ot){if(o<s.length){const ut=s[o];return i.containerState=ut[1],e.attempt(ut[0].continuation,b,_)(ot)}return _(ot)}function b(ot){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,a&&rt();const ut=i.events.length;let lt=ut,ct;for(;lt--;)if(i.events[lt][0]==="exit"&&i.events[lt][1].type==="chunkFlow"){ct=i.events[lt][1].end;break}tt(o);let dt=ut;for(;dt<i.events.length;)i.events[dt][1].end={...ct},dt++;return splice(i.events,lt+1,0,i.events.slice(ut)),i.events.length=dt,_(ot)}return g(ot)}function _(ot){if(o===s.length){if(!a)return _e(ot);if(a.currentConstruct&&a.currentConstruct.concrete)return nt(ot);i.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(containerConstruct,j,$)(ot)}function j(ot){return a&&rt(),tt(o),_e(ot)}function $(ot){return i.parser.lazy[i.now().line]=o!==s.length,h=i.now().offset,nt(ot)}function _e(ot){return i.containerState={},e.attempt(containerConstruct,et,nt)(ot)}function et(ot){return o++,s.push([i.currentConstruct,i.containerState]),_e(ot)}function nt(ot){if(ot===null){a&&rt(),tt(0),e.consume(ot);return}return a=a||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:d}),it(ot)}function it(ot){if(ot===null){st(e.exit("chunkFlow"),!0),tt(0),e.consume(ot);return}return markdownLineEnding(ot)?(e.consume(ot),st(e.exit("chunkFlow")),o=0,i.interrupt=void 0,g):(e.consume(ot),it)}function st(ot,ut){const lt=i.sliceStream(ot);if(ut&&lt.push(null),ot.previous=d,d&&(d.next=ot),d=ot,a.defineSkip(ot.start),a.write(lt),i.parser.lazy[ot.start.line]){let ct=a.events.length;for(;ct--;)if(a.events[ct][1].start.offset<h&&(!a.events[ct][1].end||a.events[ct][1].end.offset>h))return;const dt=i.events.length;let ht=dt,mt,xt;for(;ht--;)if(i.events[ht][0]==="exit"&&i.events[ht][1].type==="chunkFlow"){if(mt){xt=i.events[ht][1].end;break}mt=!0}for(tt(o),ct=dt;ct<i.events.length;)i.events[ct][1].end={...xt},ct++;splice(i.events,ht+1,0,i.events.slice(dt)),i.events.length=ct}}function tt(ot){let ut=s.length;for(;ut-- >ot;){const lt=s[ut];i.containerState=lt[1],lt[0].exit.call(i,e)}s.length=ot}function rt(){a.write([null]),d=void 0,a=void 0,i.containerState._closeFlow=void 0}}function tokenizeContainer(e,i,s){return factorySpace(e,e.attempt(this.parser.constructs.document,i,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll(e,i,s){const o=[];let a=-1;for(;++a<e.length;){const d=e[a].resolveAll;d&&!o.includes(d)&&(i=d(i,s),o.push(d))}return i}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,i){let s=-1,o,a,d,h,g,b,_,j;for(;++s<e.length;)if(e[s][0]==="enter"&&e[s][1].type==="attentionSequence"&&e[s][1]._close){for(o=s;o--;)if(e[o][0]==="exit"&&e[o][1].type==="attentionSequence"&&e[o][1]._open&&i.sliceSerialize(e[o][1]).charCodeAt(0)===i.sliceSerialize(e[s][1]).charCodeAt(0)){if((e[o][1]._close||e[s][1]._open)&&(e[s][1].end.offset-e[s][1].start.offset)%3&&!((e[o][1].end.offset-e[o][1].start.offset+e[s][1].end.offset-e[s][1].start.offset)%3))continue;b=e[o][1].end.offset-e[o][1].start.offset>1&&e[s][1].end.offset-e[s][1].start.offset>1?2:1;const $={...e[o][1].end},_e={...e[s][1].start};movePoint($,-b),movePoint(_e,b),h={type:b>1?"strongSequence":"emphasisSequence",start:$,end:{...e[o][1].end}},g={type:b>1?"strongSequence":"emphasisSequence",start:{...e[s][1].start},end:_e},d={type:b>1?"strongText":"emphasisText",start:{...e[o][1].end},end:{...e[s][1].start}},a={type:b>1?"strong":"emphasis",start:{...h.start},end:{...g.end}},e[o][1].end={...h.start},e[s][1].start={...g.end},_=[],e[o][1].end.offset-e[o][1].start.offset&&(_=push(_,[["enter",e[o][1],i],["exit",e[o][1],i]])),_=push(_,[["enter",a,i],["enter",h,i],["exit",h,i],["enter",d,i]]),_=push(_,resolveAll(i.parser.constructs.insideSpan.null,e.slice(o+1,s),i)),_=push(_,[["exit",d,i],["enter",g,i],["exit",g,i],["exit",a,i]]),e[s][1].end.offset-e[s][1].start.offset?(j=2,_=push(_,[["enter",e[s][1],i],["exit",e[s][1],i]])):j=0,splice(e,o-1,s-o+3,_),s=o+_.length-j-2;break}}for(s=-1;++s<e.length;)e[s][1].type==="attentionSequence"&&(e[s][1].type="data");return e}function tokenizeAttention(e,i){const s=this.parser.constructs.attentionMarkers.null,o=this.previous,a=classifyCharacter(o);let d;return h;function h(b){return d=b,e.enter("attentionSequence"),g(b)}function g(b){if(b===d)return e.consume(b),g;const _=e.exit("attentionSequence"),j=classifyCharacter(b),$=!j||j===2&&a||s.includes(b),_e=!a||a===2&&j||s.includes(o);return _._open=!!(d===42?$:$&&(a||!_e)),_._close=!!(d===42?_e:_e&&(j||!$)),i(b)}}function movePoint(e,i){e.column+=i,e.offset+=i,e._bufferIndex+=i}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,i,s){let o=0;return a;function a(et){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(et),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),d}function d(et){return asciiAlpha(et)?(e.consume(et),h):et===64?s(et):_(et)}function h(et){return et===43||et===45||et===46||asciiAlphanumeric(et)?(o=1,g(et)):_(et)}function g(et){return et===58?(e.consume(et),o=0,b):(et===43||et===45||et===46||asciiAlphanumeric(et))&&o++<32?(e.consume(et),g):(o=0,_(et))}function b(et){return et===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(et),e.exit("autolinkMarker"),e.exit("autolink"),i):et===null||et===32||et===60||asciiControl(et)?s(et):(e.consume(et),b)}function _(et){return et===64?(e.consume(et),j):asciiAtext(et)?(e.consume(et),_):s(et)}function j(et){return asciiAlphanumeric(et)?$(et):s(et)}function $(et){return et===46?(e.consume(et),o=0,j):et===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(et),e.exit("autolinkMarker"),e.exit("autolink"),i):_e(et)}function _e(et){if((et===45||asciiAlphanumeric(et))&&o++<63){const nt=et===45?_e:$;return e.consume(et),nt}return s(et)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(e,i,s){return o;function o(d){return markdownSpace(d)?factorySpace(e,a,"linePrefix")(d):a(d)}function a(d){return d===null||markdownLineEnding(d)?i(d):s(d)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,i,s){const o=this;return a;function a(h){if(h===62){const g=o.containerState;return g.open||(e.enter("blockQuote",{_container:!0}),g.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(h),e.exit("blockQuoteMarker"),d}return s(h)}function d(h){return markdownSpace(h)?(e.enter("blockQuotePrefixWhitespace"),e.consume(h),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),i):(e.exit("blockQuotePrefix"),i(h))}}function tokenizeBlockQuoteContinuation(e,i,s){const o=this;return a;function a(h){return markdownSpace(h)?factorySpace(e,d,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):d(h)}function d(h){return e.attempt(blockQuote,i,s)(h)}}function exit$1(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,i,s){return o;function o(d){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(d),e.exit("escapeMarker"),a}function a(d){return asciiPunctuation(d)?(e.enter("characterEscapeValue"),e.consume(d),e.exit("characterEscapeValue"),e.exit("characterEscape"),i):s(d)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,i,s){const o=this;let a=0,d,h;return g;function g($){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume($),e.exit("characterReferenceMarker"),b}function b($){return $===35?(e.enter("characterReferenceMarkerNumeric"),e.consume($),e.exit("characterReferenceMarkerNumeric"),_):(e.enter("characterReferenceValue"),d=31,h=asciiAlphanumeric,j($))}function _($){return $===88||$===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume($),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),d=6,h=asciiHexDigit,j):(e.enter("characterReferenceValue"),d=7,h=asciiDigit,j($))}function j($){if($===59&&a){const _e=e.exit("characterReferenceValue");return h===asciiAlphanumeric&&!decodeNamedCharacterReference(o.sliceSerialize(_e))?s($):(e.enter("characterReferenceMarker"),e.consume($),e.exit("characterReferenceMarker"),e.exit("characterReference"),i)}return h($)&&a++<d?(e.consume($),j):s($)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,i,s){const o=this,a={partial:!0,tokenize:lt};let d=0,h=0,g;return b;function b(ct){return _(ct)}function _(ct){const dt=o.events[o.events.length-1];return d=dt&&dt[1].type==="linePrefix"?dt[2].sliceSerialize(dt[1],!0).length:0,g=ct,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),j(ct)}function j(ct){return ct===g?(h++,e.consume(ct),j):h<3?s(ct):(e.exit("codeFencedFenceSequence"),markdownSpace(ct)?factorySpace(e,$,"whitespace")(ct):$(ct))}function $(ct){return ct===null||markdownLineEnding(ct)?(e.exit("codeFencedFence"),o.interrupt?i(ct):e.check(nonLazyContinuation,it,ut)(ct)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),_e(ct))}function _e(ct){return ct===null||markdownLineEnding(ct)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),$(ct)):markdownSpace(ct)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace(e,et,"whitespace")(ct)):ct===96&&ct===g?s(ct):(e.consume(ct),_e)}function et(ct){return ct===null||markdownLineEnding(ct)?$(ct):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),nt(ct))}function nt(ct){return ct===null||markdownLineEnding(ct)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),$(ct)):ct===96&&ct===g?s(ct):(e.consume(ct),nt)}function it(ct){return e.attempt(a,ut,st)(ct)}function st(ct){return e.enter("lineEnding"),e.consume(ct),e.exit("lineEnding"),tt}function tt(ct){return d>0&&markdownSpace(ct)?factorySpace(e,rt,"linePrefix",d+1)(ct):rt(ct)}function rt(ct){return ct===null||markdownLineEnding(ct)?e.check(nonLazyContinuation,it,ut)(ct):(e.enter("codeFlowValue"),ot(ct))}function ot(ct){return ct===null||markdownLineEnding(ct)?(e.exit("codeFlowValue"),rt(ct)):(e.consume(ct),ot)}function ut(ct){return e.exit("codeFenced"),i(ct)}function lt(ct,dt,ht){let mt=0;return xt;function xt(Tt){return ct.enter("lineEnding"),ct.consume(Tt),ct.exit("lineEnding"),ft}function ft(Tt){return ct.enter("codeFencedFence"),markdownSpace(Tt)?factorySpace(ct,bt,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Tt):bt(Tt)}function bt(Tt){return Tt===g?(ct.enter("codeFencedFenceSequence"),wt(Tt)):ht(Tt)}function wt(Tt){return Tt===g?(mt++,ct.consume(Tt),wt):mt>=h?(ct.exit("codeFencedFenceSequence"),markdownSpace(Tt)?factorySpace(ct,Ct,"whitespace")(Tt):Ct(Tt)):ht(Tt)}function Ct(Tt){return Tt===null||markdownLineEnding(Tt)?(ct.exit("codeFencedFence"),dt(Tt)):ht(Tt)}}}function tokenizeNonLazyContinuation(e,i,s){const o=this;return a;function a(h){return h===null?s(h):(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d)}function d(h){return o.parser.lazy[o.now().line]?s(h):i(h)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,i,s){const o=this;return a;function a(_){return e.enter("codeIndented"),factorySpace(e,d,"linePrefix",5)(_)}function d(_){const j=o.events[o.events.length-1];return j&&j[1].type==="linePrefix"&&j[2].sliceSerialize(j[1],!0).length>=4?h(_):s(_)}function h(_){return _===null?b(_):markdownLineEnding(_)?e.attempt(furtherStart,h,b)(_):(e.enter("codeFlowValue"),g(_))}function g(_){return _===null||markdownLineEnding(_)?(e.exit("codeFlowValue"),h(_)):(e.consume(_),g)}function b(_){return e.exit("codeIndented"),i(_)}}function tokenizeFurtherStart(e,i,s){const o=this;return a;function a(h){return o.parser.lazy[o.now().line]?s(h):markdownLineEnding(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a):factorySpace(e,d,"linePrefix",5)(h)}function d(h){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?i(h):markdownLineEnding(h)?a(h):s(h)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let i=e.length-4,s=3,o,a;if((e[s][1].type==="lineEnding"||e[s][1].type==="space")&&(e[i][1].type==="lineEnding"||e[i][1].type==="space")){for(o=s;++o<i;)if(e[o][1].type==="codeTextData"){e[s][1].type="codeTextPadding",e[i][1].type="codeTextPadding",s+=2,i-=2;break}}for(o=s-1,i++;++o<=i;)a===void 0?o!==i&&e[o][1].type!=="lineEnding"&&(a=o):(o===i||e[o][1].type==="lineEnding")&&(e[a][1].type="codeTextData",o!==a+2&&(e[a][1].end=e[o-1][1].end,e.splice(a+2,o-a-2),i-=o-a-2,o=a+2),a=void 0);return e}function previous$1(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,i,s){let o=0,a,d;return h;function h($){return e.enter("codeText"),e.enter("codeTextSequence"),g($)}function g($){return $===96?(e.consume($),o++,g):(e.exit("codeTextSequence"),b($))}function b($){return $===null?s($):$===32?(e.enter("space"),e.consume($),e.exit("space"),b):$===96?(d=e.enter("codeTextSequence"),a=0,j($)):markdownLineEnding($)?(e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),b):(e.enter("codeTextData"),_($))}function _($){return $===null||$===32||$===96||markdownLineEnding($)?(e.exit("codeTextData"),b($)):(e.consume($),_)}function j($){return $===96?(e.consume($),a++,j):a===o?(e.exit("codeTextSequence"),e.exit("codeText"),i($)):(d.type="codeTextData",_($))}}class SpliceBuffer{constructor(i){this.left=i?[...i]:[],this.right=[]}get(i){if(i<0||i>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+i+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return i<this.left.length?this.left[i]:this.right[this.right.length-i+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(i,s){const o=s??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(i,o):i>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-i+this.left.length).reverse():this.left.slice(i).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(i,s,o){const a=s||0;this.setCursor(Math.trunc(i));const d=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return o&&chunkedPush(this.left,o),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(i){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(i)}pushMany(i){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,i)}unshift(i){this.setCursor(0),this.right.push(i)}unshiftMany(i){this.setCursor(0),chunkedPush(this.right,i.reverse())}setCursor(i){if(!(i===this.left.length||i>this.left.length&&this.right.length===0||i<0&&this.left.length===0))if(i<this.left.length){const s=this.left.splice(i,Number.POSITIVE_INFINITY);chunkedPush(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-i,Number.POSITIVE_INFINITY);chunkedPush(this.left,s.reverse())}}}function chunkedPush(e,i){let s=0;if(i.length<1e4)e.push(...i);else for(;s<i.length;)e.push(...i.slice(s,s+1e4)),s+=1e4}function subtokenize(e){const i={};let s=-1,o,a,d,h,g,b,_;const j=new SpliceBuffer(e);for(;++s<j.length;){for(;s in i;)s=i[s];if(o=j.get(s),s&&o[1].type==="chunkFlow"&&j.get(s-1)[1].type==="listItemPrefix"&&(b=o[1]._tokenizer.events,d=0,d<b.length&&b[d][1].type==="lineEndingBlank"&&(d+=2),d<b.length&&b[d][1].type==="content"))for(;++d<b.length&&b[d][1].type!=="content";)b[d][1].type==="chunkText"&&(b[d][1]._isInFirstContentOfListItem=!0,d++);if(o[0]==="enter")o[1].contentType&&(Object.assign(i,subcontent(j,s)),s=i[s],_=!0);else if(o[1]._container){for(d=s,a=void 0;d--;)if(h=j.get(d),h[1].type==="lineEnding"||h[1].type==="lineEndingBlank")h[0]==="enter"&&(a&&(j.get(a)[1].type="lineEndingBlank"),h[1].type="lineEnding",a=d);else if(!(h[1].type==="linePrefix"||h[1].type==="listItemIndent"))break;a&&(o[1].end={...j.get(a)[1].start},g=j.slice(a,s),g.unshift(o),j.splice(a,s-a+1,g))}}return splice(e,0,Number.POSITIVE_INFINITY,j.slice(0)),!_}function subcontent(e,i){const s=e.get(i)[1],o=e.get(i)[2];let a=i-1;const d=[];let h=s._tokenizer;h||(h=o.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(h._contentTypeTextTrailing=!0));const g=h.events,b=[],_={};let j,$,_e=-1,et=s,nt=0,it=0;const st=[it];for(;et;){for(;e.get(++a)[1]!==et;);d.push(a),et._tokenizer||(j=o.sliceStream(et),et.next||j.push(null),$&&h.defineSkip(et.start),et._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(j),et._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),$=et,et=et.next}for(et=s;++_e<g.length;)g[_e][0]==="exit"&&g[_e-1][0]==="enter"&&g[_e][1].type===g[_e-1][1].type&&g[_e][1].start.line!==g[_e][1].end.line&&(it=_e+1,st.push(it),et._tokenizer=void 0,et.previous=void 0,et=et.next);for(h.events=[],et?(et._tokenizer=void 0,et.previous=void 0):st.pop(),_e=st.length;_e--;){const tt=g.slice(st[_e],st[_e+1]),rt=d.pop();b.push([rt,rt+tt.length-1]),e.splice(rt,2,tt)}for(b.reverse(),_e=-1;++_e<b.length;)_[nt+b[_e][0]]=nt+b[_e][1],nt+=b[_e][1]-b[_e][0]-1;return _}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,i){let s;return o;function o(g){return e.enter("content"),s=e.enter("chunkContent",{contentType:"content"}),a(g)}function a(g){return g===null?d(g):markdownLineEnding(g)?e.check(continuationConstruct,h,d)(g):(e.consume(g),a)}function d(g){return e.exit("chunkContent"),e.exit("content"),i(g)}function h(g){return e.consume(g),e.exit("chunkContent"),s.next=e.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,a}}function tokenizeContinuation(e,i,s){const o=this;return a;function a(h){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),factorySpace(e,d,"linePrefix")}function d(h){if(h===null||markdownLineEnding(h))return s(h);const g=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?i(h):e.interrupt(o.parser.constructs.flow,s,i)(h)}}function factoryDestination(e,i,s,o,a,d,h,g,b){const _=b||Number.POSITIVE_INFINITY;let j=0;return $;function $(tt){return tt===60?(e.enter(o),e.enter(a),e.enter(d),e.consume(tt),e.exit(d),_e):tt===null||tt===32||tt===41||asciiControl(tt)?s(tt):(e.enter(o),e.enter(h),e.enter(g),e.enter("chunkString",{contentType:"string"}),it(tt))}function _e(tt){return tt===62?(e.enter(d),e.consume(tt),e.exit(d),e.exit(a),e.exit(o),i):(e.enter(g),e.enter("chunkString",{contentType:"string"}),et(tt))}function et(tt){return tt===62?(e.exit("chunkString"),e.exit(g),_e(tt)):tt===null||tt===60||markdownLineEnding(tt)?s(tt):(e.consume(tt),tt===92?nt:et)}function nt(tt){return tt===60||tt===62||tt===92?(e.consume(tt),et):et(tt)}function it(tt){return!j&&(tt===null||tt===41||markdownLineEndingOrSpace(tt))?(e.exit("chunkString"),e.exit(g),e.exit(h),e.exit(o),i(tt)):j<_&&tt===40?(e.consume(tt),j++,it):tt===41?(e.consume(tt),j--,it):tt===null||tt===32||tt===40||asciiControl(tt)?s(tt):(e.consume(tt),tt===92?st:it)}function st(tt){return tt===40||tt===41||tt===92?(e.consume(tt),it):it(tt)}}function factoryLabel(e,i,s,o,a,d){const h=this;let g=0,b;return _;function _(et){return e.enter(o),e.enter(a),e.consume(et),e.exit(a),e.enter(d),j}function j(et){return g>999||et===null||et===91||et===93&&!b||et===94&&!g&&"_hiddenFootnoteSupport"in h.parser.constructs?s(et):et===93?(e.exit(d),e.enter(a),e.consume(et),e.exit(a),e.exit(o),i):markdownLineEnding(et)?(e.enter("lineEnding"),e.consume(et),e.exit("lineEnding"),j):(e.enter("chunkString",{contentType:"string"}),$(et))}function $(et){return et===null||et===91||et===93||markdownLineEnding(et)||g++>999?(e.exit("chunkString"),j(et)):(e.consume(et),b||(b=!markdownSpace(et)),et===92?_e:$)}function _e(et){return et===91||et===92||et===93?(e.consume(et),g++,$):$(et)}}function factoryTitle(e,i,s,o,a,d){let h;return g;function g(_e){return _e===34||_e===39||_e===40?(e.enter(o),e.enter(a),e.consume(_e),e.exit(a),h=_e===40?41:_e,b):s(_e)}function b(_e){return _e===h?(e.enter(a),e.consume(_e),e.exit(a),e.exit(o),i):(e.enter(d),_(_e))}function _(_e){return _e===h?(e.exit(d),b(h)):_e===null?s(_e):markdownLineEnding(_e)?(e.enter("lineEnding"),e.consume(_e),e.exit("lineEnding"),factorySpace(e,_,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),j(_e))}function j(_e){return _e===h||_e===null||markdownLineEnding(_e)?(e.exit("chunkString"),_(_e)):(e.consume(_e),_e===92?$:j)}function $(_e){return _e===h||_e===92?(e.consume(_e),j):j(_e)}}function factoryWhitespace(e,i){let s;return o;function o(a){return markdownLineEnding(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s=!0,o):markdownSpace(a)?factorySpace(e,o,s?"linePrefix":"lineSuffix")(a):i(a)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,i,s){const o=this;let a;return d;function d(et){return e.enter("definition"),h(et)}function h(et){return factoryLabel.call(o,e,g,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(et)}function g(et){return a=normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),et===58?(e.enter("definitionMarker"),e.consume(et),e.exit("definitionMarker"),b):s(et)}function b(et){return markdownLineEndingOrSpace(et)?factoryWhitespace(e,_)(et):_(et)}function _(et){return factoryDestination(e,j,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(et)}function j(et){return e.attempt(titleBefore,$,$)(et)}function $(et){return markdownSpace(et)?factorySpace(e,_e,"whitespace")(et):_e(et)}function _e(et){return et===null||markdownLineEnding(et)?(e.exit("definition"),o.parser.defined.push(a),i(et)):s(et)}}function tokenizeTitleBefore(e,i,s){return o;function o(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(e,a)(g):s(g)}function a(g){return factoryTitle(e,d,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function d(g){return markdownSpace(g)?factorySpace(e,h,"whitespace")(g):h(g)}function h(g){return g===null||markdownLineEnding(g)?i(g):s(g)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,i,s){return o;function o(d){return e.enter("hardBreakEscape"),e.consume(d),a}function a(d){return markdownLineEnding(d)?(e.exit("hardBreakEscape"),i(d)):s(d)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,i){let s=e.length-2,o=3,a,d;return e[o][1].type==="whitespace"&&(o+=2),s-2>o&&e[s][1].type==="whitespace"&&(s-=2),e[s][1].type==="atxHeadingSequence"&&(o===s-1||s-4>o&&e[s-2][1].type==="whitespace")&&(s-=o+1===s?2:4),s>o&&(a={type:"atxHeadingText",start:e[o][1].start,end:e[s][1].end},d={type:"chunkText",start:e[o][1].start,end:e[s][1].end,contentType:"text"},splice(e,o,s-o+1,[["enter",a,i],["enter",d,i],["exit",d,i],["exit",a,i]])),e}function tokenizeHeadingAtx(e,i,s){let o=0;return a;function a(j){return e.enter("atxHeading"),d(j)}function d(j){return e.enter("atxHeadingSequence"),h(j)}function h(j){return j===35&&o++<6?(e.consume(j),h):j===null||markdownLineEndingOrSpace(j)?(e.exit("atxHeadingSequence"),g(j)):s(j)}function g(j){return j===35?(e.enter("atxHeadingSequence"),b(j)):j===null||markdownLineEnding(j)?(e.exit("atxHeading"),i(j)):markdownSpace(j)?factorySpace(e,g,"whitespace")(j):(e.enter("atxHeadingText"),_(j))}function b(j){return j===35?(e.consume(j),b):(e.exit("atxHeadingSequence"),g(j))}function _(j){return j===null||j===35||markdownLineEndingOrSpace(j)?(e.exit("atxHeadingText"),g(j)):(e.consume(j),_)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let i=e.length;for(;i--&&!(e[i][0]==="enter"&&e[i][1].type==="htmlFlow"););return i>1&&e[i-2][1].type==="linePrefix"&&(e[i][1].start=e[i-2][1].start,e[i+1][1].start=e[i-2][1].start,e.splice(i-2,2)),e}function tokenizeHtmlFlow(e,i,s){const o=this;let a,d,h,g,b;return _;function _(at){return j(at)}function j(at){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(at),$}function $(at){return at===33?(e.consume(at),_e):at===47?(e.consume(at),d=!0,it):at===63?(e.consume(at),a=3,o.interrupt?i:gt):asciiAlpha(at)?(e.consume(at),h=String.fromCharCode(at),st):s(at)}function _e(at){return at===45?(e.consume(at),a=2,et):at===91?(e.consume(at),a=5,g=0,nt):asciiAlpha(at)?(e.consume(at),a=4,o.interrupt?i:gt):s(at)}function et(at){return at===45?(e.consume(at),o.interrupt?i:gt):s(at)}function nt(at){const yt="CDATA[";return at===yt.charCodeAt(g++)?(e.consume(at),g===yt.length?o.interrupt?i:bt:nt):s(at)}function it(at){return asciiAlpha(at)?(e.consume(at),h=String.fromCharCode(at),st):s(at)}function st(at){if(at===null||at===47||at===62||markdownLineEndingOrSpace(at)){const yt=at===47,kt=h.toLowerCase();return!yt&&!d&&htmlRawNames.includes(kt)?(a=1,o.interrupt?i(at):bt(at)):htmlBlockNames.includes(h.toLowerCase())?(a=6,yt?(e.consume(at),tt):o.interrupt?i(at):bt(at)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?s(at):d?rt(at):ot(at))}return at===45||asciiAlphanumeric(at)?(e.consume(at),h+=String.fromCharCode(at),st):s(at)}function tt(at){return at===62?(e.consume(at),o.interrupt?i:bt):s(at)}function rt(at){return markdownSpace(at)?(e.consume(at),rt):xt(at)}function ot(at){return at===47?(e.consume(at),xt):at===58||at===95||asciiAlpha(at)?(e.consume(at),ut):markdownSpace(at)?(e.consume(at),ot):xt(at)}function ut(at){return at===45||at===46||at===58||at===95||asciiAlphanumeric(at)?(e.consume(at),ut):lt(at)}function lt(at){return at===61?(e.consume(at),ct):markdownSpace(at)?(e.consume(at),lt):ot(at)}function ct(at){return at===null||at===60||at===61||at===62||at===96?s(at):at===34||at===39?(e.consume(at),b=at,dt):markdownSpace(at)?(e.consume(at),ct):ht(at)}function dt(at){return at===b?(e.consume(at),b=null,mt):at===null||markdownLineEnding(at)?s(at):(e.consume(at),dt)}function ht(at){return at===null||at===34||at===39||at===47||at===60||at===61||at===62||at===96||markdownLineEndingOrSpace(at)?lt(at):(e.consume(at),ht)}function mt(at){return at===47||at===62||markdownSpace(at)?ot(at):s(at)}function xt(at){return at===62?(e.consume(at),ft):s(at)}function ft(at){return at===null||markdownLineEnding(at)?bt(at):markdownSpace(at)?(e.consume(at),ft):s(at)}function bt(at){return at===45&&a===2?(e.consume(at),St):at===60&&a===1?(e.consume(at),At):at===62&&a===4?(e.consume(at),Mt):at===63&&a===3?(e.consume(at),gt):at===93&&a===5?(e.consume(at),Et):markdownLineEnding(at)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,_t,wt)(at)):at===null||markdownLineEnding(at)?(e.exit("htmlFlowData"),wt(at)):(e.consume(at),bt)}function wt(at){return e.check(nonLazyContinuationStart,Ct,_t)(at)}function Ct(at){return e.enter("lineEnding"),e.consume(at),e.exit("lineEnding"),Tt}function Tt(at){return at===null||markdownLineEnding(at)?wt(at):(e.enter("htmlFlowData"),bt(at))}function St(at){return at===45?(e.consume(at),gt):bt(at)}function At(at){return at===47?(e.consume(at),h="",Rt):bt(at)}function Rt(at){if(at===62){const yt=h.toLowerCase();return htmlRawNames.includes(yt)?(e.consume(at),Mt):bt(at)}return asciiAlpha(at)&&h.length<8?(e.consume(at),h+=String.fromCharCode(at),Rt):bt(at)}function Et(at){return at===93?(e.consume(at),gt):bt(at)}function gt(at){return at===62?(e.consume(at),Mt):at===45&&a===2?(e.consume(at),gt):bt(at)}function Mt(at){return at===null||markdownLineEnding(at)?(e.exit("htmlFlowData"),_t(at)):(e.consume(at),Mt)}function _t(at){return e.exit("htmlFlow"),i(at)}}function tokenizeNonLazyContinuationStart(e,i,s){const o=this;return a;function a(h){return markdownLineEnding(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):s(h)}function d(h){return o.parser.lazy[o.now().line]?s(h):i(h)}}function tokenizeBlankLineBefore(e,i,s){return o;function o(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(blankLine,i,s)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,i,s){const o=this;let a,d,h;return g;function g(gt){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(gt),b}function b(gt){return gt===33?(e.consume(gt),_):gt===47?(e.consume(gt),lt):gt===63?(e.consume(gt),ot):asciiAlpha(gt)?(e.consume(gt),ht):s(gt)}function _(gt){return gt===45?(e.consume(gt),j):gt===91?(e.consume(gt),d=0,nt):asciiAlpha(gt)?(e.consume(gt),rt):s(gt)}function j(gt){return gt===45?(e.consume(gt),et):s(gt)}function $(gt){return gt===null?s(gt):gt===45?(e.consume(gt),_e):markdownLineEnding(gt)?(h=$,At(gt)):(e.consume(gt),$)}function _e(gt){return gt===45?(e.consume(gt),et):$(gt)}function et(gt){return gt===62?St(gt):gt===45?_e(gt):$(gt)}function nt(gt){const Mt="CDATA[";return gt===Mt.charCodeAt(d++)?(e.consume(gt),d===Mt.length?it:nt):s(gt)}function it(gt){return gt===null?s(gt):gt===93?(e.consume(gt),st):markdownLineEnding(gt)?(h=it,At(gt)):(e.consume(gt),it)}function st(gt){return gt===93?(e.consume(gt),tt):it(gt)}function tt(gt){return gt===62?St(gt):gt===93?(e.consume(gt),tt):it(gt)}function rt(gt){return gt===null||gt===62?St(gt):markdownLineEnding(gt)?(h=rt,At(gt)):(e.consume(gt),rt)}function ot(gt){return gt===null?s(gt):gt===63?(e.consume(gt),ut):markdownLineEnding(gt)?(h=ot,At(gt)):(e.consume(gt),ot)}function ut(gt){return gt===62?St(gt):ot(gt)}function lt(gt){return asciiAlpha(gt)?(e.consume(gt),ct):s(gt)}function ct(gt){return gt===45||asciiAlphanumeric(gt)?(e.consume(gt),ct):dt(gt)}function dt(gt){return markdownLineEnding(gt)?(h=dt,At(gt)):markdownSpace(gt)?(e.consume(gt),dt):St(gt)}function ht(gt){return gt===45||asciiAlphanumeric(gt)?(e.consume(gt),ht):gt===47||gt===62||markdownLineEndingOrSpace(gt)?mt(gt):s(gt)}function mt(gt){return gt===47?(e.consume(gt),St):gt===58||gt===95||asciiAlpha(gt)?(e.consume(gt),xt):markdownLineEnding(gt)?(h=mt,At(gt)):markdownSpace(gt)?(e.consume(gt),mt):St(gt)}function xt(gt){return gt===45||gt===46||gt===58||gt===95||asciiAlphanumeric(gt)?(e.consume(gt),xt):ft(gt)}function ft(gt){return gt===61?(e.consume(gt),bt):markdownLineEnding(gt)?(h=ft,At(gt)):markdownSpace(gt)?(e.consume(gt),ft):mt(gt)}function bt(gt){return gt===null||gt===60||gt===61||gt===62||gt===96?s(gt):gt===34||gt===39?(e.consume(gt),a=gt,wt):markdownLineEnding(gt)?(h=bt,At(gt)):markdownSpace(gt)?(e.consume(gt),bt):(e.consume(gt),Ct)}function wt(gt){return gt===a?(e.consume(gt),a=void 0,Tt):gt===null?s(gt):markdownLineEnding(gt)?(h=wt,At(gt)):(e.consume(gt),wt)}function Ct(gt){return gt===null||gt===34||gt===39||gt===60||gt===61||gt===96?s(gt):gt===47||gt===62||markdownLineEndingOrSpace(gt)?mt(gt):(e.consume(gt),Ct)}function Tt(gt){return gt===47||gt===62||markdownLineEndingOrSpace(gt)?mt(gt):s(gt)}function St(gt){return gt===62?(e.consume(gt),e.exit("htmlTextData"),e.exit("htmlText"),i):s(gt)}function At(gt){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(gt),e.exit("lineEnding"),Rt}function Rt(gt){return markdownSpace(gt)?factorySpace(e,Et,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(gt):Et(gt)}function Et(gt){return e.enter("htmlTextData"),h(gt)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let i=-1;const s=[];for(;++i<e.length;){const o=e[i][1];if(s.push(e[i]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const a=o.type==="labelImage"?4:2;o.type="data",i+=a}}return e.length!==s.length&&splice(e,0,e.length,s),e}function resolveToLabelEnd(e,i){let s=e.length,o=0,a,d,h,g;for(;s--;)if(a=e[s][1],d){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[s][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(h){if(e[s][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(d=s,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(h=s);const b={type:e[d][1].type==="labelLink"?"link":"image",start:{...e[d][1].start},end:{...e[e.length-1][1].end}},_={type:"label",start:{...e[d][1].start},end:{...e[h][1].end}},j={type:"labelText",start:{...e[d+o+2][1].end},end:{...e[h-2][1].start}};return g=[["enter",b,i],["enter",_,i]],g=push(g,e.slice(d+1,d+o+3)),g=push(g,[["enter",j,i]]),g=push(g,resolveAll(i.parser.constructs.insideSpan.null,e.slice(d+o+4,h-3),i)),g=push(g,[["exit",j,i],e[h-2],e[h-1],["exit",_,i]]),g=push(g,e.slice(h+1)),g=push(g,[["exit",b,i]]),splice(e,d,e.length,g),e}function tokenizeLabelEnd(e,i,s){const o=this;let a=o.events.length,d,h;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){d=o.events[a][1];break}return g;function g(_e){return d?d._inactive?$(_e):(h=o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize({start:d.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(_e),e.exit("labelMarker"),e.exit("labelEnd"),b):s(_e)}function b(_e){return _e===40?e.attempt(resourceConstruct,j,h?j:$)(_e):_e===91?e.attempt(referenceFullConstruct,j,h?_:$)(_e):h?j(_e):$(_e)}function _(_e){return e.attempt(referenceCollapsedConstruct,j,$)(_e)}function j(_e){return i(_e)}function $(_e){return d._balanced=!0,s(_e)}}function tokenizeResource(e,i,s){return o;function o($){return e.enter("resource"),e.enter("resourceMarker"),e.consume($),e.exit("resourceMarker"),a}function a($){return markdownLineEndingOrSpace($)?factoryWhitespace(e,d)($):d($)}function d($){return $===41?j($):factoryDestination(e,h,g,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)($)}function h($){return markdownLineEndingOrSpace($)?factoryWhitespace(e,b)($):j($)}function g($){return s($)}function b($){return $===34||$===39||$===40?factoryTitle(e,_,s,"resourceTitle","resourceTitleMarker","resourceTitleString")($):j($)}function _($){return markdownLineEndingOrSpace($)?factoryWhitespace(e,j)($):j($)}function j($){return $===41?(e.enter("resourceMarker"),e.consume($),e.exit("resourceMarker"),e.exit("resource"),i):s($)}}function tokenizeReferenceFull(e,i,s){const o=this;return a;function a(g){return factoryLabel.call(o,e,d,h,"reference","referenceMarker","referenceString")(g)}function d(g){return o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?i(g):s(g)}function h(g){return s(g)}}function tokenizeReferenceCollapsed(e,i,s){return o;function o(d){return e.enter("reference"),e.enter("referenceMarker"),e.consume(d),e.exit("referenceMarker"),a}function a(d){return d===93?(e.enter("referenceMarker"),e.consume(d),e.exit("referenceMarker"),e.exit("reference"),i):s(d)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,i,s){const o=this;return a;function a(g){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(g),e.exit("labelImageMarker"),d}function d(g){return g===91?(e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelImage"),h):s(g)}function h(g){return g===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(g):i(g)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,i,s){const o=this;return a;function a(h){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelLink"),d}function d(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(h):i(h)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,i){return s;function s(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),factorySpace(e,i,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,i,s){let o=0,a;return d;function d(_){return e.enter("thematicBreak"),h(_)}function h(_){return a=_,g(_)}function g(_){return _===a?(e.enter("thematicBreakSequence"),b(_)):o>=3&&(_===null||markdownLineEnding(_))?(e.exit("thematicBreak"),i(_)):s(_)}function b(_){return _===a?(e.consume(_),o++,b):(e.exit("thematicBreakSequence"),markdownSpace(_)?factorySpace(e,g,"whitespace")(_):g(_))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(e,i,s){const o=this,a=o.events[o.events.length-1];let d=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,h=0;return g;function g(et){const nt=o.containerState.type||(et===42||et===43||et===45?"listUnordered":"listOrdered");if(nt==="listUnordered"?!o.containerState.marker||et===o.containerState.marker:asciiDigit(et)){if(o.containerState.type||(o.containerState.type=nt,e.enter(nt,{_container:!0})),nt==="listUnordered")return e.enter("listItemPrefix"),et===42||et===45?e.check(thematicBreak$2,s,_)(et):_(et);if(!o.interrupt||et===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),b(et)}return s(et)}function b(et){return asciiDigit(et)&&++h<10?(e.consume(et),b):(!o.interrupt||h<2)&&(o.containerState.marker?et===o.containerState.marker:et===41||et===46)?(e.exit("listItemValue"),_(et)):s(et)}function _(et){return e.enter("listItemMarker"),e.consume(et),e.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||et,e.check(blankLine,o.interrupt?s:j,e.attempt(listItemPrefixWhitespaceConstruct,_e,$))}function j(et){return o.containerState.initialBlankLine=!0,d++,_e(et)}function $(et){return markdownSpace(et)?(e.enter("listItemPrefixWhitespace"),e.consume(et),e.exit("listItemPrefixWhitespace"),_e):s(et)}function _e(et){return o.containerState.size=d+o.sliceSerialize(e.exit("listItemPrefix"),!0).length,i(et)}}function tokenizeListContinuation(e,i,s){const o=this;return o.containerState._closeFlow=void 0,e.check(blankLine,a,d);function a(g){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,factorySpace(e,i,"listItemIndent",o.containerState.size+1)(g)}function d(g){return o.containerState.furtherBlankLines||!markdownSpace(g)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,h(g)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,i,h)(g))}function h(g){return o.containerState._closeFlow=!0,o.interrupt=void 0,factorySpace(e,e.attempt(list$2,i,s),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}function tokenizeIndent$1(e,i,s){const o=this;return factorySpace(e,a,"listItemIndent",o.containerState.size+1);function a(d){const h=o.events[o.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===o.containerState.size?i(d):s(d)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,i,s){const o=this;return factorySpace(e,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(d){const h=o.events[o.events.length-1];return!markdownSpace(d)&&h&&h[1].type==="listItemPrefixWhitespace"?i(d):s(d)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,i){let s=e.length,o,a,d;for(;s--;)if(e[s][0]==="enter"){if(e[s][1].type==="content"){o=s;break}e[s][1].type==="paragraph"&&(a=s)}else e[s][1].type==="content"&&e.splice(s,1),!d&&e[s][1].type==="definition"&&(d=s);const h={type:"setextHeading",start:{...e[o][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",d?(e.splice(a,0,["enter",h,i]),e.splice(d+1,0,["exit",e[o][1],i]),e[o][1].end={...e[d][1].end}):e[o][1]=h,e.push(["exit",h,i]),e}function tokenizeSetextUnderline(e,i,s){const o=this;let a;return d;function d(_){let j=o.events.length,$;for(;j--;)if(o.events[j][1].type!=="lineEnding"&&o.events[j][1].type!=="linePrefix"&&o.events[j][1].type!=="content"){$=o.events[j][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||$)?(e.enter("setextHeadingLine"),a=_,h(_)):s(_)}function h(_){return e.enter("setextHeadingLineSequence"),g(_)}function g(_){return _===a?(e.consume(_),g):(e.exit("setextHeadingLineSequence"),markdownSpace(_)?factorySpace(e,b,"lineSuffix")(_):b(_))}function b(_){return _===null||markdownLineEnding(_)?(e.exit("setextHeadingLine"),i(_)):s(_)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const i=this,s=e.attempt(blankLine,o,e.attempt(this.parser.constructs.flowInitial,a,factorySpace(e,e.attempt(this.parser.constructs.flow,a,e.attempt(content,a)),"linePrefix")));return s;function o(d){if(d===null){e.consume(d);return}return e.enter("lineEndingBlank"),e.consume(d),e.exit("lineEndingBlank"),i.currentConstruct=void 0,s}function a(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),i.currentConstruct=void 0,s}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:i};function i(s){const o=this,a=this.parser.constructs[e],d=s.attempt(a,h,g);return h;function h(j){return _(j)?d(j):g(j)}function g(j){if(j===null){s.consume(j);return}return s.enter("data"),s.consume(j),b}function b(j){return _(j)?(s.exit("data"),d(j)):(s.consume(j),b)}function _(j){if(j===null)return!0;const $=a[j];let _e=-1;if($)for(;++_e<$.length;){const et=$[_e];if(!et.previous||et.previous.call(o,o.previous))return!0}return!1}}}function createResolver(e){return i;function i(s,o){let a=-1,d;for(;++a<=s.length;)d===void 0?s[a]&&s[a][1].type==="data"&&(d=a,a++):(!s[a]||s[a][1].type!=="data")&&(a!==d+2&&(s[d][1].end=s[a-1][1].end,s.splice(d+2,a-d-2),a=d+2),d=void 0);return e?e(s,o):s}}function resolveAllLineSuffixes(e,i){let s=0;for(;++s<=e.length;)if((s===e.length||e[s][1].type==="lineEnding")&&e[s-1][1].type==="data"){const o=e[s-1][1],a=i.sliceStream(o);let d=a.length,h=-1,g=0,b;for(;d--;){const _=a[d];if(typeof _=="string"){for(h=_.length;_.charCodeAt(h-1)===32;)g++,h--;if(h)break;h=-1}else if(_===-2)b=!0,g++;else if(_!==-1){d++;break}}if(i._contentTypeTextTrailing&&s===e.length&&(g=0),g){const _={type:s===e.length||b||g<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?h:o.start._bufferIndex+h,_index:o.start._index+d,line:o.end.line,column:o.end.column-g,offset:o.end.offset-g},end:{...o.end}};o.end={..._.start},o.start.offset===o.end.offset?Object.assign(o,_):(e.splice(s,0,["enter",_,i],["exit",_,i]),s+=2)}s++}return e}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,i,s){let o={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const a={},d=[];let h=[],g=[];const b={attempt:dt(lt),check:dt(ct),consume:rt,enter:ot,exit:ut,interrupt:dt(ct,{interrupt:!0})},_={code:null,containerState:{},defineSkip:it,events:[],now:nt,parser:e,previous:null,sliceSerialize:_e,sliceStream:et,write:$};let j=i.tokenize.call(_,b);return i.resolveAll&&d.push(i),_;function $(ft){return h=push(h,ft),st(),h[h.length-1]!==null?[]:(ht(i,0),_.events=resolveAll(d,_.events,_),_.events)}function _e(ft,bt){return serializeChunks(et(ft),bt)}function et(ft){return sliceChunks(h,ft)}function nt(){const{_bufferIndex:ft,_index:bt,line:wt,column:Ct,offset:Tt}=o;return{_bufferIndex:ft,_index:bt,line:wt,column:Ct,offset:Tt}}function it(ft){a[ft.line]=ft.column,xt()}function st(){let ft;for(;o._index<h.length;){const bt=h[o._index];if(typeof bt=="string")for(ft=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===ft&&o._bufferIndex<bt.length;)tt(bt.charCodeAt(o._bufferIndex));else tt(bt)}}function tt(ft){j=j(ft)}function rt(ft){markdownLineEnding(ft)?(o.line++,o.column=1,o.offset+=ft===-3?2:1,xt()):ft!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===h[o._index].length&&(o._bufferIndex=-1,o._index++)),_.previous=ft}function ot(ft,bt){const wt=bt||{};return wt.type=ft,wt.start=nt(),_.events.push(["enter",wt,_]),g.push(wt),wt}function ut(ft){const bt=g.pop();return bt.end=nt(),_.events.push(["exit",bt,_]),bt}function lt(ft,bt){ht(ft,bt.from)}function ct(ft,bt){bt.restore()}function dt(ft,bt){return wt;function wt(Ct,Tt,St){let At,Rt,Et,gt;return Array.isArray(Ct)?_t(Ct):"tokenize"in Ct?_t([Ct]):Mt(Ct);function Mt(Pt){return jt;function jt(Lt){const Ut=Lt!==null&&Pt[Lt],Xt=Lt!==null&&Pt.null,Qt=[...Array.isArray(Ut)?Ut:Ut?[Ut]:[],...Array.isArray(Xt)?Xt:Xt?[Xt]:[]];return _t(Qt)(Lt)}}function _t(Pt){return At=Pt,Rt=0,Pt.length===0?St:at(Pt[Rt])}function at(Pt){return jt;function jt(Lt){return gt=mt(),Et=Pt,Pt.partial||(_.currentConstruct=Pt),Pt.name&&_.parser.constructs.disable.null.includes(Pt.name)?kt():Pt.tokenize.call(bt?Object.assign(Object.create(_),bt):_,b,yt,kt)(Lt)}}function yt(Pt){return ft(Et,gt),Tt}function kt(Pt){return gt.restore(),++Rt<At.length?at(At[Rt]):St}}}function ht(ft,bt){ft.resolveAll&&!d.includes(ft)&&d.push(ft),ft.resolve&&splice(_.events,bt,_.events.length-bt,ft.resolve(_.events.slice(bt),_)),ft.resolveTo&&(_.events=ft.resolveTo(_.events,_))}function mt(){const ft=nt(),bt=_.previous,wt=_.currentConstruct,Ct=_.events.length,Tt=Array.from(g);return{from:Ct,restore:St};function St(){o=ft,_.previous=bt,_.currentConstruct=wt,_.events.length=Ct,g=Tt,xt()}}function xt(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function sliceChunks(e,i){const s=i.start._index,o=i.start._bufferIndex,a=i.end._index,d=i.end._bufferIndex;let h;if(s===a)h=[e[s].slice(o,d)];else{if(h=e.slice(s,a),o>-1){const g=h[0];typeof g=="string"?h[0]=g.slice(o):h.shift()}d>0&&h.push(e[a].slice(0,d))}return h}function serializeChunks(e,i){let s=-1;const o=[];let a;for(;++s<e.length;){const d=e[s];let h;if(typeof d=="string")h=d;else switch(d){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=i?" ":"	";break}case-1:{if(!i&&a)continue;h=" ";break}default:h=String.fromCharCode(d)}a=d===-2,o.push(h)}return o.join("")}function parse(e){const o={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:a(content$1),defined:[],document:a(document$2),flow:a(flow$1),lazy:{},string:a(string$1),text:a(text$4)};return o;function a(d){return h;function h(g){return createTokenizer(o,d,g)}}}function postprocess(e){for(;!subtokenize(e););return e}const search=/[\0\t\n\r]/g;function preprocess(){let e=1,i="",s=!0,o;return a;function a(d,h,g){const b=[];let _,j,$,_e,et;for(d=i+(typeof d=="string"?d.toString():new TextDecoder(h||void 0).decode(d)),$=0,i="",s&&(d.charCodeAt(0)===65279&&$++,s=void 0);$<d.length;){if(search.lastIndex=$,_=search.exec(d),_e=_&&_.index!==void 0?_.index:d.length,et=d.charCodeAt(_e),!_){i=d.slice($);break}if(et===10&&$===_e&&o)b.push(-3),o=void 0;else switch(o&&(b.push(-5),o=void 0),$<_e&&(b.push(d.slice($,_e)),e+=_e-$),et){case 0:{b.push(65533),e++;break}case 9:{for(j=Math.ceil(e/4)*4,b.push(-2);e++<j;)b.push(-1);break}case 10:{b.push(-4),e=1;break}default:o=!0,e=1}$=_e+1}return g&&(o&&b.push(-5),i&&b.push(i),b.push(null)),b}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,i,s){if(i)return i;if(s.charCodeAt(0)===35){const a=s.charCodeAt(1),d=a===120||a===88;return decodeNumericCharacterReference(s.slice(d?2:1),d?16:10)}return decodeNamedCharacterReference(s)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,i,s){return typeof i!="string"&&(s=i,i=void 0),compiler(s)(postprocess(parse(s).document().write(preprocess()(e,i,!0))))}function compiler(e){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(It),autolinkProtocol:mt,autolinkEmail:mt,atxHeading:d(qt),blockQuote:d(Xt),characterEscape:mt,characterReference:mt,codeFenced:d(Qt),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:d(Qt,h),codeText:d(rn,h),codeTextData:mt,data:mt,codeFlowValue:mt,definition:d(ln),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:d(an),hardBreakEscape:d(Ft),hardBreakTrailing:d(Ft),htmlFlow:d(Vt,h),htmlFlowData:mt,htmlText:d(Vt,h),htmlTextData:mt,image:d(vt),label:h,link:d(It),listItem:d(Wt),listItemValue:_e,listOrdered:d(zt,$),listUnordered:d(zt),paragraph:d(sn),reference:at,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:d(qt),strong:d(dn),thematicBreak:d(Kt)},exit:{atxHeading:b(),atxHeadingSequence:lt,autolink:b(),autolinkEmail:Ut,autolinkProtocol:Lt,blockQuote:b(),characterEscapeValue:xt,characterReferenceMarkerHexadecimal:kt,characterReferenceMarkerNumeric:kt,characterReferenceValue:Pt,characterReference:jt,codeFenced:b(st),codeFencedFence:it,codeFencedFenceInfo:et,codeFencedFenceMeta:nt,codeFlowValue:xt,codeIndented:b(tt),codeText:b(Tt),codeTextData:xt,data:xt,definition:b(),definitionDestinationString:ut,definitionLabelString:rt,definitionTitleString:ot,emphasis:b(),hardBreakEscape:b(bt),hardBreakTrailing:b(bt),htmlFlow:b(wt),htmlFlowData:xt,htmlText:b(Ct),htmlTextData:xt,image:b(At),label:Et,labelText:Rt,lineEnding:ft,link:b(St),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:yt,resourceDestinationString:gt,resourceTitleString:Mt,resource:_t,setextHeading:b(ht),setextHeadingLineSequence:dt,setextHeadingText:ct,strong:b(),thematicBreak:b()}};configure(i,(e||{}).mdastExtensions||[]);const s={};return o;function o(Dt){let $t={type:"root",children:[]};const hn={stack:[$t],tokenStack:[],config:i,enter:g,exit:_,buffer:h,resume:j,data:s},gn=[];let vn=-1;for(;++vn<Dt.length;)if(Dt[vn][1].type==="listOrdered"||Dt[vn][1].type==="listUnordered")if(Dt[vn][0]==="enter")gn.push(vn);else{const yn=gn.pop();vn=a(Dt,yn,vn)}for(vn=-1;++vn<Dt.length;){const yn=i[Dt[vn][0]];own$2.call(yn,Dt[vn][1].type)&&yn[Dt[vn][1].type].call(Object.assign({sliceSerialize:Dt[vn][2].sliceSerialize},hn),Dt[vn][1])}if(hn.tokenStack.length>0){const yn=hn.tokenStack[hn.tokenStack.length-1];(yn[1]||defaultOnError).call(hn,void 0,yn[0])}for($t.position={start:point(Dt.length>0?Dt[0][1].start:{line:1,column:1,offset:0}),end:point(Dt.length>0?Dt[Dt.length-2][1].end:{line:1,column:1,offset:0})},vn=-1;++vn<i.transforms.length;)$t=i.transforms[vn]($t)||$t;return $t}function a(Dt,$t,hn){let gn=$t-1,vn=-1,yn=!1,wn,Nn,In,fn;for(;++gn<=hn;){const Yt=Dt[gn];switch(Yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yt[0]==="enter"?vn++:vn--,fn=void 0;break}case"lineEndingBlank":{Yt[0]==="enter"&&(wn&&!fn&&!vn&&!In&&(In=gn),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!vn&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||vn===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(wn){let Zt=gn;for(Nn=void 0;Zt--;){const Sn=Dt[Zt];if(Sn[1].type==="lineEnding"||Sn[1].type==="lineEndingBlank"){if(Sn[0]==="exit")continue;Nn&&(Dt[Nn][1].type="lineEndingBlank",yn=!0),Sn[1].type="lineEnding",Nn=Zt}else if(!(Sn[1].type==="linePrefix"||Sn[1].type==="blockQuotePrefix"||Sn[1].type==="blockQuotePrefixWhitespace"||Sn[1].type==="blockQuoteMarker"||Sn[1].type==="listItemIndent"))break}In&&(!Nn||In<Nn)&&(wn._spread=!0),wn.end=Object.assign({},Nn?Dt[Nn][1].start:Yt[1].end),Dt.splice(Nn||gn,0,["exit",wn,Yt[2]]),gn++,hn++}if(Yt[1].type==="listItemPrefix"){const Zt={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0};wn=Zt,Dt.splice(gn,0,["enter",Zt,Yt[2]]),gn++,hn++,In=void 0,fn=!0}}}return Dt[$t][1]._spread=yn,hn}function d(Dt,$t){return hn;function hn(gn){g.call(this,Dt(gn),gn),$t&&$t.call(this,gn)}}function h(){this.stack.push({type:"fragment",children:[]})}function g(Dt,$t,hn){this.stack[this.stack.length-1].children.push(Dt),this.stack.push(Dt),this.tokenStack.push([$t,hn||void 0]),Dt.position={start:point($t.start),end:void 0}}function b(Dt){return $t;function $t(hn){Dt&&Dt.call(this,hn),_.call(this,hn)}}function _(Dt,$t){const hn=this.stack.pop(),gn=this.tokenStack.pop();if(gn)gn[0].type!==Dt.type&&($t?$t.call(this,Dt,gn[0]):(gn[1]||defaultOnError).call(this,Dt,gn[0]));else throw new Error("Cannot close `"+Dt.type+"` ("+stringifyPosition({start:Dt.start,end:Dt.end})+"): its not open");hn.position.end=point(Dt.end)}function j(){return toString$1(this.stack.pop())}function $(){this.data.expectingFirstListItemValue=!0}function _e(Dt){if(this.data.expectingFirstListItemValue){const $t=this.stack[this.stack.length-2];$t.start=Number.parseInt(this.sliceSerialize(Dt),10),this.data.expectingFirstListItemValue=void 0}}function et(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.lang=Dt}function nt(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.meta=Dt}function it(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function st(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.value=Dt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function tt(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.value=Dt.replace(/(\r?\n|\r)$/g,"")}function rt(Dt){const $t=this.resume(),hn=this.stack[this.stack.length-1];hn.label=$t,hn.identifier=normalizeIdentifier(this.sliceSerialize(Dt)).toLowerCase()}function ot(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.title=Dt}function ut(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.url=Dt}function lt(Dt){const $t=this.stack[this.stack.length-1];if(!$t.depth){const hn=this.sliceSerialize(Dt).length;$t.depth=hn}}function ct(){this.data.setextHeadingSlurpLineEnding=!0}function dt(Dt){const $t=this.stack[this.stack.length-1];$t.depth=this.sliceSerialize(Dt).codePointAt(0)===61?1:2}function ht(){this.data.setextHeadingSlurpLineEnding=void 0}function mt(Dt){const hn=this.stack[this.stack.length-1].children;let gn=hn[hn.length-1];(!gn||gn.type!=="text")&&(gn=pn(),gn.position={start:point(Dt.start),end:void 0},hn.push(gn)),this.stack.push(gn)}function xt(Dt){const $t=this.stack.pop();$t.value+=this.sliceSerialize(Dt),$t.position.end=point(Dt.end)}function ft(Dt){const $t=this.stack[this.stack.length-1];if(this.data.atHardBreak){const hn=$t.children[$t.children.length-1];hn.position.end=point(Dt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes($t.type)&&(mt.call(this,Dt),xt.call(this,Dt))}function bt(){this.data.atHardBreak=!0}function wt(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.value=Dt}function Ct(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.value=Dt}function Tt(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.value=Dt}function St(){const Dt=this.stack[this.stack.length-1];if(this.data.inReference){const $t=this.data.referenceType||"shortcut";Dt.type+="Reference",Dt.referenceType=$t,delete Dt.url,delete Dt.title}else delete Dt.identifier,delete Dt.label;this.data.referenceType=void 0}function At(){const Dt=this.stack[this.stack.length-1];if(this.data.inReference){const $t=this.data.referenceType||"shortcut";Dt.type+="Reference",Dt.referenceType=$t,delete Dt.url,delete Dt.title}else delete Dt.identifier,delete Dt.label;this.data.referenceType=void 0}function Rt(Dt){const $t=this.sliceSerialize(Dt),hn=this.stack[this.stack.length-2];hn.label=decodeString($t),hn.identifier=normalizeIdentifier($t).toLowerCase()}function Et(){const Dt=this.stack[this.stack.length-1],$t=this.resume(),hn=this.stack[this.stack.length-1];if(this.data.inReference=!0,hn.type==="link"){const gn=Dt.children;hn.children=gn}else hn.alt=$t}function gt(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.url=Dt}function Mt(){const Dt=this.resume(),$t=this.stack[this.stack.length-1];$t.title=Dt}function _t(){this.data.inReference=void 0}function at(){this.data.referenceType="collapsed"}function yt(Dt){const $t=this.resume(),hn=this.stack[this.stack.length-1];hn.label=$t,hn.identifier=normalizeIdentifier(this.sliceSerialize(Dt)).toLowerCase(),this.data.referenceType="full"}function kt(Dt){this.data.characterReferenceType=Dt.type}function Pt(Dt){const $t=this.sliceSerialize(Dt),hn=this.data.characterReferenceType;let gn;hn?(gn=decodeNumericCharacterReference($t,hn==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):gn=decodeNamedCharacterReference($t);const vn=this.stack[this.stack.length-1];vn.value+=gn}function jt(Dt){const $t=this.stack.pop();$t.position.end=point(Dt.end)}function Lt(Dt){xt.call(this,Dt);const $t=this.stack[this.stack.length-1];$t.url=this.sliceSerialize(Dt)}function Ut(Dt){xt.call(this,Dt);const $t=this.stack[this.stack.length-1];$t.url="mailto:"+this.sliceSerialize(Dt)}function Xt(){return{type:"blockquote",children:[]}}function Qt(){return{type:"code",lang:null,meta:null,value:""}}function rn(){return{type:"inlineCode",value:""}}function ln(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function an(){return{type:"emphasis",children:[]}}function qt(){return{type:"heading",depth:0,children:[]}}function Ft(){return{type:"break"}}function Vt(){return{type:"html",value:""}}function vt(){return{type:"image",title:null,url:"",alt:null}}function It(){return{type:"link",title:null,url:"",children:[]}}function zt(Dt){return{type:"list",ordered:Dt.type==="listOrdered",start:null,spread:Dt._spread,children:[]}}function Wt(Dt){return{type:"listItem",spread:Dt._spread,checked:null,children:[]}}function sn(){return{type:"paragraph",children:[]}}function dn(){return{type:"strong",children:[]}}function pn(){return{type:"text",value:""}}function Kt(){return{type:"thematicBreak"}}}function point(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,i){let s=-1;for(;++s<i.length;){const o=i[s];Array.isArray(o)?configure(e,o):extension(e,o)}}function extension(e,i){let s;for(s in i)if(own$2.call(i,s))switch(s){case"canContainEols":{const o=i[s];o&&e[s].push(...o);break}case"transforms":{const o=i[s];o&&e[s].push(...o);break}case"enter":case"exit":{const o=i[s];o&&Object.assign(e[s],o);break}}}function defaultOnError(e,i){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is still open")}function remarkParse(e){const i=this;i.parser=s;function s(o){return fromMarkdown(o,{...i.data("settings"),...e,extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]})}}function blockquote$1(e,i){const s={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(i),!0)};return e.patch(i,s),e.applyData(i,s)}function hardBreak$1(e,i){const s={type:"element",tagName:"br",properties:{},children:[]};return e.patch(i,s),[e.applyData(i,s),{type:"text",value:`
`}]}function code$2(e,i){const s=i.value?i.value+`
`:"",o={},a=i.lang?i.lang.split(/\s+/):[];a.length>0&&(o.className=["language-"+a[0]]);let d={type:"element",tagName:"code",properties:o,children:[{type:"text",value:s}]};return i.meta&&(d.data={meta:i.meta}),e.patch(i,d),d=e.applyData(i,d),d={type:"element",tagName:"pre",properties:{},children:[d]},e.patch(i,d),d}function strikethrough(e,i){const s={type:"element",tagName:"del",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function emphasis$1(e,i){const s={type:"element",tagName:"em",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function footnoteReference$1(e,i){const s=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",o=String(i.identifier).toUpperCase(),a=normalizeUri(o.toLowerCase()),d=e.footnoteOrder.indexOf(o);let h,g=e.footnoteCounts.get(o);g===void 0?(g=0,e.footnoteOrder.push(o),h=e.footnoteOrder.length):h=d+1,g+=1,e.footnoteCounts.set(o,g);const b={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+a,id:s+"fnref-"+a+(g>1?"-"+g:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(h)}]};e.patch(i,b);const _={type:"element",tagName:"sup",properties:{},children:[b]};return e.patch(i,_),e.applyData(i,_)}function heading$1(e,i){const s={type:"element",tagName:"h"+i.depth,properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function html$1(e,i){if(e.options.allowDangerousHtml){const s={type:"raw",value:i.value};return e.patch(i,s),e.applyData(i,s)}}function revert(e,i){const s=i.referenceType;let o="]";if(s==="collapsed"?o+="[]":s==="full"&&(o+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return[{type:"text",value:"!["+i.alt+o}];const a=e.all(i),d=a[0];d&&d.type==="text"?d.value="["+d.value:a.unshift({type:"text",value:"["});const h=a[a.length-1];return h&&h.type==="text"?h.value+=o:a.push({type:"text",value:o}),a}function imageReference$1(e,i){const s=String(i.identifier).toUpperCase(),o=e.definitionById.get(s);if(!o)return revert(e,i);const a={src:normalizeUri(o.url||""),alt:i.alt};o.title!==null&&o.title!==void 0&&(a.title=o.title);const d={type:"element",tagName:"img",properties:a,children:[]};return e.patch(i,d),e.applyData(i,d)}function image$1(e,i){const s={src:normalizeUri(i.url)};i.alt!==null&&i.alt!==void 0&&(s.alt=i.alt),i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(i,o),e.applyData(i,o)}function inlineCode$1(e,i){const s={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};e.patch(i,s);const o={type:"element",tagName:"code",properties:{},children:[s]};return e.patch(i,o),e.applyData(i,o)}function linkReference$1(e,i){const s=String(i.identifier).toUpperCase(),o=e.definitionById.get(s);if(!o)return revert(e,i);const a={href:normalizeUri(o.url||"")};o.title!==null&&o.title!==void 0&&(a.title=o.title);const d={type:"element",tagName:"a",properties:a,children:e.all(i)};return e.patch(i,d),e.applyData(i,d)}function link$1(e,i){const s={href:normalizeUri(i.url)};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(i)};return e.patch(i,o),e.applyData(i,o)}function listItem$1(e,i,s){const o=e.all(i),a=s?listLoose(s):listItemLoose(i),d={},h=[];if(typeof i.checked=="boolean"){const j=o[0];let $;j&&j.type==="element"&&j.tagName==="p"?$=j:($={type:"element",tagName:"p",properties:{},children:[]},o.unshift($)),$.children.length>0&&$.children.unshift({type:"text",value:" "}),$.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let g=-1;for(;++g<o.length;){const j=o[g];(a||g!==0||j.type!=="element"||j.tagName!=="p")&&h.push({type:"text",value:`
`}),j.type==="element"&&j.tagName==="p"&&!a?h.push(...j.children):h.push(j)}const b=o[o.length-1];b&&(a||b.type!=="element"||b.tagName!=="p")&&h.push({type:"text",value:`
`});const _={type:"element",tagName:"li",properties:d,children:h};return e.patch(i,_),e.applyData(i,_)}function listLoose(e){let i=!1;if(e.type==="list"){i=e.spread||!1;const s=e.children;let o=-1;for(;!i&&++o<s.length;)i=listItemLoose(s[o])}return i}function listItemLoose(e){const i=e.spread;return i??e.children.length>1}function list$1(e,i){const s={},o=e.all(i);let a=-1;for(typeof i.start=="number"&&i.start!==1&&(s.start=i.start);++a<o.length;){const h=o[a];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const d={type:"element",tagName:i.ordered?"ol":"ul",properties:s,children:e.wrap(o,!0)};return e.patch(i,d),e.applyData(i,d)}function paragraph$1(e,i){const s={type:"element",tagName:"p",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function root$1(e,i){const s={type:"root",children:e.wrap(e.all(i))};return e.patch(i,s),e.applyData(i,s)}function strong$1(e,i){const s={type:"element",tagName:"strong",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function table(e,i){const s=e.all(i),o=s.shift(),a=[];if(o){const h={type:"element",tagName:"thead",properties:{},children:e.wrap([o],!0)};e.patch(i.children[0],h),a.push(h)}if(s.length>0){const h={type:"element",tagName:"tbody",properties:{},children:e.wrap(s,!0)},g=pointStart(i.children[1]),b=pointEnd(i.children[i.children.length-1]);g&&b&&(h.position={start:g,end:b}),a.push(h)}const d={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(i,d),e.applyData(i,d)}function tableRow(e,i,s){const o=s?s.children:void 0,d=(o?o.indexOf(i):1)===0?"th":"td",h=s&&s.type==="table"?s.align:void 0,g=h?h.length:i.children.length;let b=-1;const _=[];for(;++b<g;){const $=i.children[b],_e={},et=h?h[b]:void 0;et&&(_e.align=et);let nt={type:"element",tagName:d,properties:_e,children:[]};$&&(nt.children=e.all($),e.patch($,nt),nt=e.applyData($,nt)),_.push(nt)}const j={type:"element",tagName:"tr",properties:{},children:e.wrap(_,!0)};return e.patch(i,j),e.applyData(i,j)}function tableCell(e,i){const s={type:"element",tagName:"td",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}const tab=9,space=32;function trimLines(e){const i=String(e),s=/\r?\n|\r/g;let o=s.exec(i),a=0;const d=[];for(;o;)d.push(trimLine(i.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=s.exec(i);return d.push(trimLine(i.slice(a),a>0,!1)),d.join("")}function trimLine(e,i,s){let o=0,a=e.length;if(i){let d=e.codePointAt(o);for(;d===tab||d===space;)o++,d=e.codePointAt(o)}if(s){let d=e.codePointAt(a-1);for(;d===tab||d===space;)a--,d=e.codePointAt(a-1)}return a>o?e.slice(o,a):""}function text$2(e,i){const s={type:"text",value:trimLines(String(i.value))};return e.patch(i,s),e.applyData(i,s)}function thematicBreak$1(e,i){const s={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(i,s),e.applyData(i,s)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$1,strong:strong$1,table,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,i)=>{const s=(a,d)=>(e.set(d,a),a),o=a=>{if(e.has(a))return e.get(a);const[d,h]=i[a];switch(d){case PRIMITIVE:case VOID:return s(h,a);case ARRAY:{const g=s([],a);for(const b of h)g.push(o(b));return g}case OBJECT:{const g=s({},a);for(const[b,_]of h)g[o(b)]=o(_);return g}case DATE:return s(new Date(h),a);case REGEXP:{const{source:g,flags:b}=h;return s(new RegExp(g,b),a)}case MAP:{const g=s(new Map,a);for(const[b,_]of h)g.set(o(b),o(_));return g}case SET:{const g=s(new Set,a);for(const b of h)g.add(o(b));return g}case ERROR:{const{name:g,message:b}=h;return s(new env[g](b),a)}case BIGINT:return s(BigInt(h),a);case"BigInt":return s(Object(BigInt(h)),a);case"ArrayBuffer":return s(new Uint8Array(h).buffer,h);case"DataView":{const{buffer:g}=new Uint8Array(h);return s(new DataView(g),h)}}return s(new env[d](h),a)};return o},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=e=>{const i=typeof e;if(i!=="object"||!e)return[PRIMITIVE,i];const s=toString.call(e).slice(8,-1);switch(s){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,s]}return s.includes("Array")?[ARRAY,s]:s.includes("Error")?[ERROR,s]:[OBJECT,s]},shouldSkip=([e,i])=>e===PRIMITIVE&&(i==="function"||i==="symbol"),serializer=(e,i,s,o)=>{const a=(h,g)=>{const b=o.push(h)-1;return s.set(g,b),b},d=h=>{if(s.has(h))return s.get(h);let[g,b]=typeOf(h);switch(g){case PRIMITIVE:{let j=h;switch(b){case"bigint":g=BIGINT,j=h.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+b);j=null;break;case"undefined":return a([VOID],h)}return a([g,j],h)}case ARRAY:{if(b){let _e=h;return b==="DataView"?_e=new Uint8Array(h.buffer):b==="ArrayBuffer"&&(_e=new Uint8Array(h)),a([b,[..._e]],h)}const j=[],$=a([g,j],h);for(const _e of h)j.push(d(_e));return $}case OBJECT:{if(b)switch(b){case"BigInt":return a([b,h.toString()],h);case"Boolean":case"Number":case"String":return a([b,h.valueOf()],h)}if(i&&"toJSON"in h)return d(h.toJSON());const j=[],$=a([g,j],h);for(const _e of keys(h))(e||!shouldSkip(typeOf(h[_e])))&&j.push([d(_e),d(h[_e])]);return $}case DATE:return a([g,h.toISOString()],h);case REGEXP:{const{source:j,flags:$}=h;return a([g,{source:j,flags:$}],h)}case MAP:{const j=[],$=a([g,j],h);for(const[_e,et]of h)(e||!(shouldSkip(typeOf(_e))||shouldSkip(typeOf(et))))&&j.push([d(_e),d(et)]);return $}case SET:{const j=[],$=a([g,j],h);for(const _e of h)(e||!shouldSkip(typeOf(_e)))&&j.push(d(_e));return $}}const{message:_}=h;return a([g,{name:b,message:_}],h)};return d},serialize$1=(e,{json:i,lossy:s}={})=>{const o=[];return serializer(!(i||s),!!i,new Map,o)(e),o},structuredClone$1=typeof structuredClone=="function"?(e,i)=>i&&("json"in i||"lossy"in i)?deserialize(serialize$1(e,i)):structuredClone(e):(e,i)=>deserialize(serialize$1(e,i));function defaultFootnoteBackContent(e,i){const s=[{type:"text",value:""}];return i>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(i)}]}),s}function defaultFootnoteBackLabel(e,i){return"Back to reference "+(e+1)+(i>1?"-"+i:"")}function footer(e){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=e.options.footnoteBackContent||defaultFootnoteBackContent,o=e.options.footnoteBackLabel||defaultFootnoteBackLabel,a=e.options.footnoteLabel||"Footnotes",d=e.options.footnoteLabelTagName||"h2",h=e.options.footnoteLabelProperties||{className:["sr-only"]},g=[];let b=-1;for(;++b<e.footnoteOrder.length;){const _=e.footnoteById.get(e.footnoteOrder[b]);if(!_)continue;const j=e.all(_),$=String(_.identifier).toUpperCase(),_e=normalizeUri($.toLowerCase());let et=0;const nt=[],it=e.footnoteCounts.get($);for(;it!==void 0&&++et<=it;){nt.length>0&&nt.push({type:"text",value:" "});let rt=typeof s=="string"?s:s(b,et);typeof rt=="string"&&(rt={type:"text",value:rt}),nt.push({type:"element",tagName:"a",properties:{href:"#"+i+"fnref-"+_e+(et>1?"-"+et:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(b,et),className:["data-footnote-backref"]},children:Array.isArray(rt)?rt:[rt]})}const st=j[j.length-1];if(st&&st.type==="element"&&st.tagName==="p"){const rt=st.children[st.children.length-1];rt&&rt.type==="text"?rt.value+=" ":st.children.push({type:"text",value:" "}),st.children.push(...nt)}else j.push(...nt);const tt={type:"element",tagName:"li",properties:{id:i+"fn-"+_e},children:e.wrap(j,!0)};e.patch(_,tt),g.push(tt)}if(g.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...structuredClone$1(h),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(g,!0)},{type:"text",value:`
`}]}}const convert=function(e){if(e==null)return ok;if(typeof e=="function")return castFactory$1(e);if(typeof e=="object")return Array.isArray(e)?anyFactory$1(e):propertiesFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory$1(e){const i=[];let s=-1;for(;++s<e.length;)i[s]=convert(e[s]);return castFactory$1(o);function o(...a){let d=-1;for(;++d<i.length;)if(i[d].apply(this,a))return!0;return!1}}function propertiesFactory(e){const i=e;return castFactory$1(s);function s(o){const a=o;let d;for(d in e)if(a[d]!==i[d])return!1;return!0}}function typeFactory(e){return castFactory$1(i);function i(s){return s&&s.type===e}}function castFactory$1(e){return i;function i(s,o,a){return!!(looksLikeANode(s)&&e.call(this,s,typeof o=="number"?o:void 0,a||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,i,s,o){let a;typeof i=="function"&&typeof s!="function"?(o=s,s=i):a=i;const d=convert(a),h=o?-1:1;g(e,void 0,[])();function g(b,_,j){const $=b&&typeof b=="object"?b:{};if(typeof $.type=="string"){const et=typeof $.tagName=="string"?$.tagName:typeof $.name=="string"?$.name:void 0;Object.defineProperty(_e,"name",{value:"node ("+(b.type+(et?"<"+et+">":""))+")"})}return _e;function _e(){let et=empty,nt,it,st;if((!i||d(b,_,j[j.length-1]||void 0))&&(et=toResult(s(b,j)),et[0]===EXIT))return et;if("children"in b&&b.children){const tt=b;if(tt.children&&et[0]!==SKIP)for(it=(o?tt.children.length:-1)+h,st=j.concat(tt);it>-1&&it<tt.children.length;){const rt=tt.children[it];if(nt=g(rt,it,st)(),nt[0]===EXIT)return nt;it=typeof nt[1]=="number"?nt[1]:it+h}}return et}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty:[e]}function visit(e,i,s,o){let a,d,h;typeof i=="function"&&typeof s!="function"?(d=void 0,h=i,a=s):(d=i,h=s,a=o),visitParents(e,d,g,a);function g(b,_){const j=_[_.length-1],$=j?j.children.indexOf(b):void 0;return h(b,$,j)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(e,i){const s=i||emptyOptions$3,o=new Map,a=new Map,d=new Map,h={...handlers,...s.handlers},g={all:_,applyData,definitionById:o,footnoteById:a,footnoteCounts:d,footnoteOrder:[],handlers:h,one:b,options:s,patch,wrap:wrap$1};return visit(e,function(j){if(j.type==="definition"||j.type==="footnoteDefinition"){const $=j.type==="definition"?o:a,_e=String(j.identifier).toUpperCase();$.has(_e)||$.set(_e,j)}}),g;function b(j,$){const _e=j.type,et=g.handlers[_e];if(own$1.call(g.handlers,_e)&&et)return et(g,j,$);if(g.options.passThrough&&g.options.passThrough.includes(_e)){if("children"in j){const{children:it,...st}=j,tt=structuredClone$1(st);return tt.children=g.all(j),tt}return structuredClone$1(j)}return(g.options.unknownHandler||defaultUnknownHandler)(g,j,$)}function _(j){const $=[];if("children"in j){const _e=j.children;let et=-1;for(;++et<_e.length;){const nt=g.one(_e[et],j);if(nt){if(et&&_e[et-1].type==="break"&&(!Array.isArray(nt)&&nt.type==="text"&&(nt.value=trimMarkdownSpaceStart(nt.value)),!Array.isArray(nt)&&nt.type==="element")){const it=nt.children[0];it&&it.type==="text"&&(it.value=trimMarkdownSpaceStart(it.value))}Array.isArray(nt)?$.push(...nt):$.push(nt)}}}return $}}function patch(e,i){e.position&&(i.position=position$1(e))}function applyData(e,i){let s=i;if(e&&e.data){const o=e.data.hName,a=e.data.hChildren,d=e.data.hProperties;if(typeof o=="string")if(s.type==="element")s.tagName=o;else{const h="children"in s?s.children:[s];s={type:"element",tagName:o,properties:{},children:h}}s.type==="element"&&d&&Object.assign(s.properties,structuredClone$1(d)),"children"in s&&s.children&&a!==null&&a!==void 0&&(s.children=a)}return s}function defaultUnknownHandler(e,i){const s=i.data||{},o="value"in i&&!(own$1.call(s,"hProperties")||own$1.call(s,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:e.all(i)};return e.patch(i,o),e.applyData(i,o)}function wrap$1(e,i){const s=[];let o=-1;for(i&&s.push({type:"text",value:`
`});++o<e.length;)o&&s.push({type:"text",value:`
`}),s.push(e[o]);return i&&e.length>0&&s.push({type:"text",value:`
`}),s}function trimMarkdownSpaceStart(e){let i=0,s=e.charCodeAt(i);for(;s===9||s===32;)i++,s=e.charCodeAt(i);return e.slice(i)}function toHast(e,i){const s=createState(e,i),o=s.one(e,void 0),a=footer(s),d=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return a&&d.children.push({type:"text",value:`
`},a),d}function remarkRehype(e,i){return e&&"run"in e?async function(s,o){const a=toHast(s,{file:o,...i});await e.run(a,o)}:function(s,o){return toHast(s,{file:o,...e||i})}}function bail(e){if(e)throw e}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function e(i){return typeof Array.isArray=="function"?Array.isArray(i):toStr.call(i)==="[object Array]"},isPlainObject$1=function e(i){if(!i||toStr.call(i)!=="[object Object]")return!1;var s=hasOwn.call(i,"constructor"),o=i.constructor&&i.constructor.prototype&&hasOwn.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!s&&!o)return!1;var a;for(a in i);return typeof a>"u"||hasOwn.call(i,a)},setProperty=function e(i,s){defineProperty&&s.name==="__proto__"?defineProperty(i,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):i[s.name]=s.newValue},getProperty=function e(i,s){if(s==="__proto__")if(hasOwn.call(i,s)){if(gOPD)return gOPD(i,s).value}else return;return i[s]},extend=function e(){var i,s,o,a,d,h,g=arguments[0],b=1,_=arguments.length,j=!1;for(typeof g=="boolean"&&(j=g,g=arguments[1]||{},b=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});b<_;++b)if(i=arguments[b],i!=null)for(s in i)o=getProperty(g,s),a=getProperty(i,s),g!==a&&(j&&a&&(isPlainObject$1(a)||(d=isArray(a)))?(d?(d=!1,h=o&&isArray(o)?o:[]):h=o&&isPlainObject$1(o)?o:{},setProperty(g,{name:s,newValue:e(j,h,a)})):typeof a<"u"&&setProperty(g,{name:s,newValue:a}));return g};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const i=Object.getPrototypeOf(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],i={run:s,use:o};return i;function s(...a){let d=-1;const h=a.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);g(null,...a);function g(b,..._){const j=e[++d];let $=-1;if(b){h(b);return}for(;++$<a.length;)(_[$]===null||_[$]===void 0)&&(_[$]=a[$]);a=_,j?wrap(j,g)(..._):h(null,..._)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),i}}function wrap(e,i){let s;return o;function o(...h){const g=e.length>h.length;let b;g&&h.push(a);try{b=e.apply(this,h)}catch(_){const j=_;if(g&&s)throw j;return a(j)}g||(b&&b.then&&typeof b.then=="function"?b.then(d,a):b instanceof Error?a(b):d(b))}function a(h,...g){s||(s=!0,i(h,...g))}function d(h){a(null,h)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let s=0,o=-1,a=e.length,d;if(i===void 0||i.length===0||i.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(d){s=a+1;break}}else o<0&&(d=!0,o=a+1);return o<0?"":e.slice(s,o)}if(i===e)return"";let h=-1,g=i.length-1;for(;a--;)if(e.codePointAt(a)===47){if(d){s=a+1;break}}else h<0&&(d=!0,h=a+1),g>-1&&(e.codePointAt(a)===i.codePointAt(g--)?g<0&&(o=a):(g=-1,o=h));return s===o?o=h:o<0&&(o=e.length),e.slice(s,o)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let i=-1,s=e.length,o;for(;--s;)if(e.codePointAt(s)===47){if(o){i=s;break}}else o||(o=!0);return i<0?e.codePointAt(0)===47?"/":".":i===1&&e.codePointAt(0)===47?"//":e.slice(0,i)}function extname(e){assertPath$1(e);let i=e.length,s=-1,o=0,a=-1,d=0,h;for(;i--;){const g=e.codePointAt(i);if(g===47){if(h){o=i+1;break}continue}s<0&&(h=!0,s=i+1),g===46?a<0?a=i:d!==1&&(d=1):a>-1&&(d=-1)}return a<0||s<0||d===0||d===1&&a===s-1&&a===o+1?"":e.slice(a,s)}function join(...e){let i=-1,s;for(;++i<e.length;)assertPath$1(e[i]),e[i]&&(s=s===void 0?e[i]:s+"/"+e[i]);return s===void 0?".":normalize(s)}function normalize(e){assertPath$1(e);const i=e.codePointAt(0)===47;let s=normalizeString(e,!i);return s.length===0&&!i&&(s="."),s.length>0&&e.codePointAt(e.length-1)===47&&(s+="/"),i?"/"+s:s}function normalizeString(e,i){let s="",o=0,a=-1,d=0,h=-1,g,b;for(;++h<=e.length;){if(h<e.length)g=e.codePointAt(h);else{if(g===47)break;g=47}if(g===47){if(!(a===h-1||d===1))if(a!==h-1&&d===2){if(s.length<2||o!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(b=s.lastIndexOf("/"),b!==s.length-1){b<0?(s="",o=0):(s=s.slice(0,b),o=s.length-1-s.lastIndexOf("/")),a=h,d=0;continue}}else if(s.length>0){s="",o=0,a=h,d=0;continue}}i&&(s=s.length>0?s+"/..":"..",o=2)}else s.length>0?s+="/"+e.slice(a+1,h):s=e.slice(a+1,h),o=h-a-1;a=h,d=0}else g===46&&d>-1?d++:d=-1}return s}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(e.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const i=e.pathname;let s=-1;for(;++s<i.length;)if(i.codePointAt(s)===37&&i.codePointAt(s+1)===50){const o=i.codePointAt(s+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(i)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(i){let s;i?isUrl(i)?s={path:i}:typeof i=="string"||isUint8Array$1(i)?s={value:i}:s=i:s={},this.cwd="cwd"in s?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<order.length;){const d=order[o];d in s&&s[d]!==void 0&&s[d]!==null&&(this[d]=d==="history"?[...s[d]]:s[d])}let a;for(a in s)order.includes(a)||(this[a]=s[a])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(i){assertNonEmpty(i,"basename"),assertPart(i,"basename"),this.path=minpath.join(this.dirname||"",i)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(i){assertPath(this.basename,"dirname"),this.path=minpath.join(i||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(i){if(assertPart(i,"extname"),assertPath(this.dirname,"extname"),i){if(i.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(i||""))}get path(){return this.history[this.history.length-1]}set path(i){isUrl(i)&&(i=urlToPath(i)),assertNonEmpty(i,"path"),this.path!==i&&this.history.push(i)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(i){assertNonEmpty(i,"stem"),assertPart(i,"stem"),this.path=minpath.join(this.dirname||"",i+(this.extname||""))}fail(i,s,o){const a=this.message(i,s,o);throw a.fatal=!0,a}info(i,s,o){const a=this.message(i,s,o);return a.fatal=void 0,a}message(i,s,o){const a=new VFileMessage(i,s,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(i){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(i||void 0).decode(this.value)}}function assertPart(e,i){if(e&&e.includes(minpath.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,i){if(!e)throw new Error("`"+i+"` cannot be empty")}function assertPath(e,i){if(!e)throw new Error("Setting `"+i+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=function(e){const o=this.constructor.prototype,a=o[e],d=function(){return a.apply(d,arguments)};return Object.setPrototypeOf(d,o),d},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const i=new Processor;let s=-1;for(;++s<this.attachers.length;){const o=this.attachers[s];i.use(...o)}return i.data(extend$1(!0,{},this.namespace)),i}data(i,s){return typeof i=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[i]=s,this):own.call(this.namespace,i)&&this.namespace[i]||void 0:i?(assertUnfrozen("data",this.frozen),this.namespace=i,this):this.namespace}freeze(){if(this.frozen)return this;const i=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const a=s.call(i,...o);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(i){this.freeze();const s=vfile(i),o=this.parser||this.Parser;return assertParser("parse",o),o(String(s),s)}process(i,s){const o=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),s?a(void 0,s):new Promise(a);function a(d,h){const g=vfile(i),b=o.parse(g);o.run(b,g,function(j,$,_e){if(j||!$||!_e)return _(j);const et=$,nt=o.stringify(et,_e);looksLikeAValue(nt)?_e.value=nt:_e.result=nt,_(j,_e)});function _(j,$){j||!$?h(j):d?d($):s(void 0,$)}}}processSync(i){let s=!1,o;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(i,a),assertDone("processSync","process",s),o;function a(d,h){s=!0,bail(d),o=h}}run(i,s,o){assertNode(i),this.freeze();const a=this.transformers;return!o&&typeof s=="function"&&(o=s,s=void 0),o?d(void 0,o):new Promise(d);function d(h,g){const b=vfile(s);a.run(i,b,_);function _(j,$,_e){const et=$||i;j?g(j):h?h(et):o(void 0,et,_e)}}}runSync(i,s){let o=!1,a;return this.run(i,s,d),assertDone("runSync","run",o),a;function d(h,g){bail(h),a=g,o=!0}}stringify(i,s){this.freeze();const o=vfile(s),a=this.compiler||this.Compiler;return assertCompiler("stringify",a),assertNode(i),a(i,o)}use(i,...s){const o=this.attachers,a=this.namespace;if(assertUnfrozen("use",this.frozen),i!=null)if(typeof i=="function")b(i,s);else if(typeof i=="object")Array.isArray(i)?g(i):h(i);else throw new TypeError("Expected usable value, not `"+i+"`");return this;function d(_){if(typeof _=="function")b(_,[]);else if(typeof _=="object")if(Array.isArray(_)){const[j,...$]=_;b(j,$)}else h(_);else throw new TypeError("Expected usable value, not `"+_+"`")}function h(_){if(!("plugins"in _)&&!("settings"in _))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");g(_.plugins),_.settings&&(a.settings=extend$1(!0,a.settings,_.settings))}function g(_){let j=-1;if(_!=null)if(Array.isArray(_))for(;++j<_.length;){const $=_[j];d($)}else throw new TypeError("Expected a list of plugins, not `"+_+"`")}function b(_,j){let $=-1,_e=-1;for(;++$<o.length;)if(o[$][0]===_){_e=$;break}if(_e===-1)o.push([_,...j]);else if(j.length>0){let[et,...nt]=j;const it=o[_e][1];isPlainObject(it)&&isPlainObject(et)&&(et=extend$1(!0,it,et)),o[_e]=[_,et,...nt]}}}}const unified=new Processor().freeze();function assertParser(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,i){if(i)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,i,s){if(!s)throw new Error("`"+e+"` finished async. Use `"+i+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const i=createProcessor(e),s=createFile(e);return post(i.runSync(i.parse(s),s),e)}function createProcessor(e){const i=e.rehypePlugins||emptyPlugins,s=e.remarkPlugins||emptyPlugins,o=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(s).use(remarkRehype,o).use(i)}function createFile(e){const i=e.children||"",s=new VFile;return typeof i=="string"&&(s.value=i),s}function post(e,i){const s=i.allowedElements,o=i.allowElement,a=i.components,d=i.disallowedElements,h=i.skipHtml,g=i.unwrapDisallowed,b=i.urlTransform||defaultUrlTransform;for(const j of deprecations)Object.hasOwn(i,j.from)&&(""+j.from+(j.to?"use `"+j.to+"` instead":"remove it")+changelog+j.id,void 0);return visit(e,_),toJsxRuntime(e,{Fragment:jsxRuntimeExports.Fragment,components:a,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function _(j,$,_e){if(j.type==="raw"&&_e&&typeof $=="number")return h?_e.children.splice($,1):_e.children[$]={type:"text",value:j.value},$;if(j.type==="element"){let et;for(et in urlAttributes)if(Object.hasOwn(urlAttributes,et)&&Object.hasOwn(j.properties,et)){const nt=j.properties[et],it=urlAttributes[et];(it===null||it.includes(j.tagName))&&(j.properties[et]=b(String(nt||""),et,j))}}if(j.type==="element"){let et=s?!s.includes(j.tagName):d?d.includes(j.tagName):!1;if(!et&&o&&typeof $=="number"&&(et=!o(j,$,_e)),et&&_e&&typeof $=="number")return g&&j.children?_e.children.splice($,1,...j.children):_e.children.splice($,1),$}}}function defaultUrlTransform(e){const i=e.indexOf(":"),s=e.indexOf("?"),o=e.indexOf("#"),a=e.indexOf("/");return i===-1||a!==-1&&i>a||s!==-1&&i>s||o!==-1&&i>o||safeProtocol.test(e.slice(0,i))?e:""}function ccount(e,i){const s=String(e);if(typeof i!="string")throw new TypeError("Expected character");let o=0,a=s.indexOf(i);for(;a!==-1;)o++,a=s.indexOf(i,a+i.length);return o}function escapeStringRegexp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(e,i,s){const a=convert((s||{}).ignore||[]),d=toPairs(i);let h=-1;for(;++h<d.length;)visitParents(e,"text",g);function g(_,j){let $=-1,_e;for(;++$<j.length;){const et=j[$],nt=_e?_e.children:void 0;if(a(et,nt?nt.indexOf(et):void 0,_e))return;_e=et}if(_e)return b(_,j)}function b(_,j){const $=j[j.length-1],_e=d[h][0],et=d[h][1];let nt=0;const st=$.children.indexOf(_);let tt=!1,rt=[];_e.lastIndex=0;let ot=_e.exec(_.value);for(;ot;){const ut=ot.index,lt={index:ot.index,input:ot.input,stack:[...j,_]};let ct=et(...ot,lt);if(typeof ct=="string"&&(ct=ct.length>0?{type:"text",value:ct}:void 0),ct===!1?_e.lastIndex=ut+1:(nt!==ut&&rt.push({type:"text",value:_.value.slice(nt,ut)}),Array.isArray(ct)?rt.push(...ct):ct&&rt.push(ct),nt=ut+ot[0].length,tt=!0),!_e.global)break;ot=_e.exec(_.value)}return tt?(nt<_.value.length&&rt.push({type:"text",value:_.value.slice(nt)}),$.children.splice(st,1,...rt)):rt=[_],st+rt.length}}function toPairs(e){const i=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const s=!e[0]||Array.isArray(e[0])?e:[e];let o=-1;for(;++o<s.length;){const a=s[o];i.push([toExpression(a[0]),toFunction(a[1])])}return i}function toExpression(e){return typeof e=="string"?new RegExp(escapeStringRegexp(e),"g"):e}function toFunction(e){return typeof e=="function"?e:function(){return e}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function enterLiteralAutolinkValue(e){this.config.enter.autolinkProtocol.call(this,e)}function exitLiteralAutolinkHttp(e){this.config.exit.autolinkProtocol.call(this,e)}function exitLiteralAutolinkWww(e){this.config.exit.data.call(this,e);const i=this.stack[this.stack.length-1];i.type,i.url="http://"+this.sliceSerialize(e)}function exitLiteralAutolinkEmail(e){this.config.exit.autolinkEmail.call(this,e)}function exitLiteralAutolink(e){this.exit(e)}function transformGfmAutolinkLiterals(e){findAndReplace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(e,i,s,o,a){let d="";if(!previous(a)||(/^w/i.test(i)&&(s=i+s,i="",d="http://"),!isCorrectDomain(s)))return!1;const h=splitUrl(s+o);if(!h[0])return!1;const g={type:"link",title:null,url:d+i+h[0],children:[{type:"text",value:i+h[0]}]};return h[1]?[g,{type:"text",value:h[1]}]:g}function findEmail(e,i,s,o){return!previous(o,!0)||/[-\d_]$/.test(s)?!1:{type:"link",title:null,url:"mailto:"+i+"@"+s,children:[{type:"text",value:i+"@"+s}]}}function isCorrectDomain(e){const i=e.split(".");return!(i.length<2||i[i.length-1]&&(/_/.test(i[i.length-1])||!/[a-zA-Z\d]/.test(i[i.length-1]))||i[i.length-2]&&(/_/.test(i[i.length-2])||!/[a-zA-Z\d]/.test(i[i.length-2])))}function splitUrl(e){const i=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!i)return[e,void 0];e=e.slice(0,i.index);let s=i[0],o=s.indexOf(")");const a=ccount(e,"(");let d=ccount(e,")");for(;o!==-1&&a>d;)e+=s.slice(0,o+1),s=s.slice(o+1),o=s.indexOf(")"),d++;return[e,s]}function previous(e,i){const s=e.input.charCodeAt(e.index-1);return(e.index===0||unicodeWhitespace(s)||unicodePunctuation(s))&&(!i||s!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function exitFootnoteCallString(e){const i=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),s.label=i}function exitFootnoteCall(e){this.exit(e)}function exitFootnoteDefinitionLabelString(e){const i=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),s.label=i}function exitFootnoteDefinition(e){this.exit(e)}function footnoteReferencePeek(){return"["}function footnoteReference(e,i,s,o){const a=s.createTracker(o);let d=a.move("[^");const h=s.enter("footnoteReference"),g=s.enter("reference");return d+=a.move(s.safe(s.associationId(e),{after:"]",before:d})),g(),h(),d+=a.move("]"),d}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(e){let i=!1;return e&&e.firstLineBlank&&(i=!0),{handlers:{footnoteDefinition:s,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function s(o,a,d,h){const g=d.createTracker(h);let b=g.move("[^");const _=d.enter("footnoteDefinition"),j=d.enter("label");return b+=g.move(d.safe(d.associationId(o),{before:b,after:"]"})),j(),b+=g.move("]:"),o.children&&o.children.length>0&&(g.shift(4),b+=g.move((i?`
`:" ")+d.indentLines(d.containerFlow(o,g.current()),i?mapAll:mapExceptFirst))),_(),b}}function mapExceptFirst(e,i,s){return i===0?e:mapAll(e,i,s)}function mapAll(e,i,s){return(s?"":"    ")+e}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(e){this.enter({type:"delete",children:[]},e)}function exitStrikethrough(e){this.exit(e)}function handleDelete(e,i,s,o){const a=s.createTracker(o),d=s.enter("strikethrough");let h=a.move("~~");return h+=s.containerPhrasing(e,{...a.current(),before:h,after:"~"}),h+=a.move("~~"),d(),h}function peekDelete(){return"~"}function defaultStringLength(e){return e.length}function markdownTable(e,i){const s=i||{},o=(s.align||[]).concat(),a=s.stringLength||defaultStringLength,d=[],h=[],g=[],b=[];let _=0,j=-1;for(;++j<e.length;){const it=[],st=[];let tt=-1;for(e[j].length>_&&(_=e[j].length);++tt<e[j].length;){const rt=serialize(e[j][tt]);if(s.alignDelimiters!==!1){const ot=a(rt);st[tt]=ot,(b[tt]===void 0||ot>b[tt])&&(b[tt]=ot)}it.push(rt)}h[j]=it,g[j]=st}let $=-1;if(typeof o=="object"&&"length"in o)for(;++$<_;)d[$]=toAlignment(o[$]);else{const it=toAlignment(o);for(;++$<_;)d[$]=it}$=-1;const _e=[],et=[];for(;++$<_;){const it=d[$];let st="",tt="";it===99?(st=":",tt=":"):it===108?st=":":it===114&&(tt=":");let rt=s.alignDelimiters===!1?1:Math.max(1,b[$]-st.length-tt.length);const ot=st+"-".repeat(rt)+tt;s.alignDelimiters!==!1&&(rt=st.length+rt+tt.length,rt>b[$]&&(b[$]=rt),et[$]=rt),_e[$]=ot}h.splice(1,0,_e),g.splice(1,0,et),j=-1;const nt=[];for(;++j<h.length;){const it=h[j],st=g[j];$=-1;const tt=[];for(;++$<_;){const rt=it[$]||"";let ot="",ut="";if(s.alignDelimiters!==!1){const lt=b[$]-(st[$]||0),ct=d[$];ct===114?ot=" ".repeat(lt):ct===99?lt%2?(ot=" ".repeat(lt/2+.5),ut=" ".repeat(lt/2-.5)):(ot=" ".repeat(lt/2),ut=ot):ut=" ".repeat(lt)}s.delimiterStart!==!1&&!$&&tt.push("|"),s.padding!==!1&&!(s.alignDelimiters===!1&&rt==="")&&(s.delimiterStart!==!1||$)&&tt.push(" "),s.alignDelimiters!==!1&&tt.push(ot),tt.push(rt),s.alignDelimiters!==!1&&tt.push(ut),s.padding!==!1&&tt.push(" "),(s.delimiterEnd!==!1||$!==_-1)&&tt.push("|")}nt.push(s.delimiterEnd===!1?tt.join("").replace(/ +$/,""):tt.join(""))}return nt.join(`
`)}function serialize(e){return e==null?"":String(e)}function toAlignment(e){const i=typeof e=="string"?e.codePointAt(0):0;return i===67||i===99?99:i===76||i===108?108:i===82||i===114?114:0}function blockquote(e,i,s,o){const a=s.enter("blockquote"),d=s.createTracker(o);d.move("> "),d.shift(2);const h=s.indentLines(s.containerFlow(e,d.current()),map$1);return a(),h}function map$1(e,i,s){return">"+(s?"":" ")+e}function patternInScope(e,i){return listInScope(e,i.inConstruct,!0)&&!listInScope(e,i.notInConstruct,!1)}function listInScope(e,i,s){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return s;let o=-1;for(;++o<i.length;)if(e.includes(i[o]))return!0;return!1}function hardBreak(e,i,s,o){let a=-1;for(;++a<s.unsafe.length;)if(s.unsafe[a].character===`
`&&patternInScope(s.stack,s.unsafe[a]))return/[ \t]/.test(o.before)?"":" ";return`\\
`}function longestStreak(e,i){const s=String(e);let o=s.indexOf(i),a=o,d=0,h=0;if(typeof i!="string")throw new TypeError("Expected substring");for(;o!==-1;)o===a?++d>h&&(h=d):d=1,a=o+i.length,o=s.indexOf(i,a);return h}function formatCodeAsIndented(e,i){return!!(i.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function checkFence(e){const i=e.options.fence||"`";if(i!=="`"&&i!=="~")throw new Error("Cannot serialize code with `"+i+"` for `options.fence`, expected `` ` `` or `~`");return i}function code$1(e,i,s,o){const a=checkFence(s),d=e.value||"",h=a==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(e,s)){const $=s.enter("codeIndented"),_e=s.indentLines(d,map);return $(),_e}const g=s.createTracker(o),b=a.repeat(Math.max(longestStreak(d,a)+1,3)),_=s.enter("codeFenced");let j=g.move(b);if(e.lang){const $=s.enter(`codeFencedLang${h}`);j+=g.move(s.safe(e.lang,{before:j,after:" ",encode:["`"],...g.current()})),$()}if(e.lang&&e.meta){const $=s.enter(`codeFencedMeta${h}`);j+=g.move(" "),j+=g.move(s.safe(e.meta,{before:j,after:`
`,encode:["`"],...g.current()})),$()}return j+=g.move(`
`),d&&(j+=g.move(d+`
`)),j+=g.move(b),_(),j}function map(e,i,s){return(s?"":"    ")+e}function checkQuote(e){const i=e.options.quote||'"';if(i!=='"'&&i!=="'")throw new Error("Cannot serialize title with `"+i+"` for `options.quote`, expected `\"`, or `'`");return i}function definition(e,i,s,o){const a=checkQuote(s),d=a==='"'?"Quote":"Apostrophe",h=s.enter("definition");let g=s.enter("label");const b=s.createTracker(o);let _=b.move("[");return _+=b.move(s.safe(s.associationId(e),{before:_,after:"]",...b.current()})),_+=b.move("]: "),g(),!e.url||/[\0- \u007F]/.test(e.url)?(g=s.enter("destinationLiteral"),_+=b.move("<"),_+=b.move(s.safe(e.url,{before:_,after:">",...b.current()})),_+=b.move(">")):(g=s.enter("destinationRaw"),_+=b.move(s.safe(e.url,{before:_,after:e.title?" ":`
`,...b.current()}))),g(),e.title&&(g=s.enter(`title${d}`),_+=b.move(" "+a),_+=b.move(s.safe(e.title,{before:_,after:a,...b.current()})),_+=b.move(a),g()),h(),_}function checkEmphasis(e){const i=e.options.emphasis||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize emphasis with `"+i+"` for `options.emphasis`, expected `*`, or `_`");return i}function encodeCharacterReference(e){return"&#x"+e.toString(16).toUpperCase()+";"}function encodeInfo(e,i,s){const o=classifyCharacter(e),a=classifyCharacter(i);return o===void 0?a===void 0?s==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:o===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(e,i,s,o){const a=checkEmphasis(s),d=s.enter("emphasis"),h=s.createTracker(o),g=h.move(a);let b=h.move(s.containerPhrasing(e,{after:a,before:g,...h.current()}));const _=b.charCodeAt(0),j=encodeInfo(o.before.charCodeAt(o.before.length-1),_,a);j.inside&&(b=encodeCharacterReference(_)+b.slice(1));const $=b.charCodeAt(b.length-1),_e=encodeInfo(o.after.charCodeAt(0),$,a);_e.inside&&(b=b.slice(0,-1)+encodeCharacterReference($));const et=h.move(a);return d(),s.attentionEncodeSurroundingInfo={after:_e.outside,before:j.outside},g+b+et}function emphasisPeek(e,i,s){return s.options.emphasis||"*"}function formatHeadingAsSetext(e,i){let s=!1;return visit(e,function(o){if("value"in o&&/\r?\n|\r/.test(o.value)||o.type==="break")return s=!0,EXIT}),!!((!e.depth||e.depth<3)&&toString$1(e)&&(i.options.setext||s))}function heading(e,i,s,o){const a=Math.max(Math.min(6,e.depth||1),1),d=s.createTracker(o);if(formatHeadingAsSetext(e,s)){const j=s.enter("headingSetext"),$=s.enter("phrasing"),_e=s.containerPhrasing(e,{...d.current(),before:`
`,after:`
`});return $(),j(),_e+`
`+(a===1?"=":"-").repeat(_e.length-(Math.max(_e.lastIndexOf("\r"),_e.lastIndexOf(`
`))+1))}const h="#".repeat(a),g=s.enter("headingAtx"),b=s.enter("phrasing");d.move(h+" ");let _=s.containerPhrasing(e,{before:"# ",after:`
`,...d.current()});return/^[\t ]/.test(_)&&(_=encodeCharacterReference(_.charCodeAt(0))+_.slice(1)),_=_?h+" "+_:h,s.options.closeAtx&&(_+=" "+h),b(),g(),_}html.peek=htmlPeek;function html(e){return e.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(e,i,s,o){const a=checkQuote(s),d=a==='"'?"Quote":"Apostrophe",h=s.enter("image");let g=s.enter("label");const b=s.createTracker(o);let _=b.move("![");return _+=b.move(s.safe(e.alt,{before:_,after:"]",...b.current()})),_+=b.move("]("),g(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(g=s.enter("destinationLiteral"),_+=b.move("<"),_+=b.move(s.safe(e.url,{before:_,after:">",...b.current()})),_+=b.move(">")):(g=s.enter("destinationRaw"),_+=b.move(s.safe(e.url,{before:_,after:e.title?" ":")",...b.current()}))),g(),e.title&&(g=s.enter(`title${d}`),_+=b.move(" "+a),_+=b.move(s.safe(e.title,{before:_,after:a,...b.current()})),_+=b.move(a),g()),_+=b.move(")"),h(),_}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(e,i,s,o){const a=e.referenceType,d=s.enter("imageReference");let h=s.enter("label");const g=s.createTracker(o);let b=g.move("![");const _=s.safe(e.alt,{before:b,after:"]",...g.current()});b+=g.move(_+"]["),h();const j=s.stack;s.stack=[],h=s.enter("reference");const $=s.safe(s.associationId(e),{before:b,after:"]",...g.current()});return h(),s.stack=j,d(),a==="full"||!_||_!==$?b+=g.move($+"]"):a==="shortcut"?b=b.slice(0,-1):b+=g.move("]"),b}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(e,i,s){let o=e.value||"",a="`",d=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(o);)a+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++d<s.unsafe.length;){const h=s.unsafe[d],g=s.compilePattern(h);let b;if(h.atBreak)for(;b=g.exec(o);){let _=b.index;o.charCodeAt(_)===10&&o.charCodeAt(_-1)===13&&_--,o=o.slice(0,_)+" "+o.slice(b.index+1)}}return a+o+a}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(e,i){const s=toString$1(e);return!!(!i.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(s===e.url||"mailto:"+s===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}link.peek=linkPeek;function link(e,i,s,o){const a=checkQuote(s),d=a==='"'?"Quote":"Apostrophe",h=s.createTracker(o);let g,b;if(formatLinkAsAutolink(e,s)){const j=s.stack;s.stack=[],g=s.enter("autolink");let $=h.move("<");return $+=h.move(s.containerPhrasing(e,{before:$,after:">",...h.current()})),$+=h.move(">"),g(),s.stack=j,$}g=s.enter("link"),b=s.enter("label");let _=h.move("[");return _+=h.move(s.containerPhrasing(e,{before:_,after:"](",...h.current()})),_+=h.move("]("),b(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(b=s.enter("destinationLiteral"),_+=h.move("<"),_+=h.move(s.safe(e.url,{before:_,after:">",...h.current()})),_+=h.move(">")):(b=s.enter("destinationRaw"),_+=h.move(s.safe(e.url,{before:_,after:e.title?" ":")",...h.current()}))),b(),e.title&&(b=s.enter(`title${d}`),_+=h.move(" "+a),_+=h.move(s.safe(e.title,{before:_,after:a,...h.current()})),_+=h.move(a),b()),_+=h.move(")"),g(),_}function linkPeek(e,i,s){return formatLinkAsAutolink(e,s)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(e,i,s,o){const a=e.referenceType,d=s.enter("linkReference");let h=s.enter("label");const g=s.createTracker(o);let b=g.move("[");const _=s.containerPhrasing(e,{before:b,after:"]",...g.current()});b+=g.move(_+"]["),h();const j=s.stack;s.stack=[],h=s.enter("reference");const $=s.safe(s.associationId(e),{before:b,after:"]",...g.current()});return h(),s.stack=j,d(),a==="full"||!_||_!==$?b+=g.move($+"]"):a==="shortcut"?b=b.slice(0,-1):b+=g.move("]"),b}function linkReferencePeek(){return"["}function checkBullet(e){const i=e.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function checkBulletOther(e){const i=checkBullet(e),s=e.options.bulletOther;if(!s)return i==="*"?"-":"*";if(s!=="*"&&s!=="+"&&s!=="-")throw new Error("Cannot serialize items with `"+s+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(s===i)throw new Error("Expected `bullet` (`"+i+"`) and `bulletOther` (`"+s+"`) to be different");return s}function checkBulletOrdered(e){const i=e.options.bulletOrdered||".";if(i!=="."&&i!==")")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOrdered`, expected `.` or `)`");return i}function checkRule(e){const i=e.options.rule||"*";if(i!=="*"&&i!=="-"&&i!=="_")throw new Error("Cannot serialize rules with `"+i+"` for `options.rule`, expected `*`, `-`, or `_`");return i}function list(e,i,s,o){const a=s.enter("list"),d=s.bulletCurrent;let h=e.ordered?checkBulletOrdered(s):checkBullet(s);const g=e.ordered?h==="."?")":".":checkBulletOther(s);let b=i&&s.bulletLastUsed?h===s.bulletLastUsed:!1;if(!e.ordered){const j=e.children?e.children[0]:void 0;if((h==="*"||h==="-")&&j&&(!j.children||!j.children[0])&&s.stack[s.stack.length-1]==="list"&&s.stack[s.stack.length-2]==="listItem"&&s.stack[s.stack.length-3]==="list"&&s.stack[s.stack.length-4]==="listItem"&&s.indexStack[s.indexStack.length-1]===0&&s.indexStack[s.indexStack.length-2]===0&&s.indexStack[s.indexStack.length-3]===0&&(b=!0),checkRule(s)===h&&j){let $=-1;for(;++$<e.children.length;){const _e=e.children[$];if(_e&&_e.type==="listItem"&&_e.children&&_e.children[0]&&_e.children[0].type==="thematicBreak"){b=!0;break}}}}b&&(h=g),s.bulletCurrent=h;const _=s.containerFlow(e,o);return s.bulletLastUsed=h,s.bulletCurrent=d,a(),_}function checkListItemIndent(e){const i=e.options.listItemIndent||"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function listItem(e,i,s,o){const a=checkListItemIndent(s);let d=s.bulletCurrent||checkBullet(s);i&&i.type==="list"&&i.ordered&&(d=(typeof i.start=="number"&&i.start>-1?i.start:1)+(s.options.incrementListMarker===!1?0:i.children.indexOf(e))+d);let h=d.length+1;(a==="tab"||a==="mixed"&&(i&&i.type==="list"&&i.spread||e.spread))&&(h=Math.ceil(h/4)*4);const g=s.createTracker(o);g.move(d+" ".repeat(h-d.length)),g.shift(h);const b=s.enter("listItem"),_=s.indentLines(s.containerFlow(e,g.current()),j);return b(),_;function j($,_e,et){return _e?(et?"":" ".repeat(h))+$:(et?d:d+" ".repeat(h-d.length))+$}}function paragraph(e,i,s,o){const a=s.enter("paragraph"),d=s.enter("phrasing"),h=s.containerPhrasing(e,o);return d(),a(),h}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(e,i,s,o){return(e.children.some(function(h){return phrasing(h)})?s.containerPhrasing:s.containerFlow).call(s,e,o)}function checkStrong(e){const i=e.options.strong||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize strong with `"+i+"` for `options.strong`, expected `*`, or `_`");return i}strong.peek=strongPeek;function strong(e,i,s,o){const a=checkStrong(s),d=s.enter("strong"),h=s.createTracker(o),g=h.move(a+a);let b=h.move(s.containerPhrasing(e,{after:a,before:g,...h.current()}));const _=b.charCodeAt(0),j=encodeInfo(o.before.charCodeAt(o.before.length-1),_,a);j.inside&&(b=encodeCharacterReference(_)+b.slice(1));const $=b.charCodeAt(b.length-1),_e=encodeInfo(o.after.charCodeAt(0),$,a);_e.inside&&(b=b.slice(0,-1)+encodeCharacterReference($));const et=h.move(a+a);return d(),s.attentionEncodeSurroundingInfo={after:_e.outside,before:j.outside},g+b+et}function strongPeek(e,i,s){return s.options.strong||"*"}function text$1(e,i,s,o){return s.safe(e.value,o)}function checkRuleRepetition(e){const i=e.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}function thematicBreak(e,i,s){const o=(checkRule(s)+(s.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(s));return s.options.ruleSpaces?o.slice(0,-1):o}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(e){const i=e._align;this.enter({type:"table",align:i.map(function(s){return s==="none"?null:s}),children:[]},e),this.data.inTable=!0}function exitTable(e){this.exit(e),this.data.inTable=void 0}function enterRow(e){this.enter({type:"tableRow",children:[]},e)}function exit(e){this.exit(e)}function enterCell(e){this.enter({type:"tableCell",children:[]},e)}function exitCodeText(e){let i=this.resume();this.data.inTable&&(i=i.replace(/\\([\\|])/g,replace));const s=this.stack[this.stack.length-1];s.type,s.value=i,this.exit(e)}function replace(e,i){return i==="|"?i:e}function gfmTableToMarkdown(e){const i=e||{},s=i.tableCellPadding,o=i.tablePipeAlign,a=i.stringLength,d=s?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:_e,table:h,tableCell:b,tableRow:g}};function h(et,nt,it,st){return _(j(et,it,st),et.align)}function g(et,nt,it,st){const tt=$(et,it,st),rt=_([tt]);return rt.slice(0,rt.indexOf(`
`))}function b(et,nt,it,st){const tt=it.enter("tableCell"),rt=it.enter("phrasing"),ot=it.containerPhrasing(et,{...st,before:d,after:d});return rt(),tt(),ot}function _(et,nt){return markdownTable(et,{align:nt,alignDelimiters:o,padding:s,stringLength:a})}function j(et,nt,it){const st=et.children;let tt=-1;const rt=[],ot=nt.enter("table");for(;++tt<st.length;)rt[tt]=$(st[tt],nt,it);return ot(),rt}function $(et,nt,it){const st=et.children;let tt=-1;const rt=[],ot=nt.enter("tableRow");for(;++tt<st.length;)rt[tt]=b(st[tt],et,nt,it);return ot(),rt}function _e(et,nt,it){let st=handle.inlineCode(et,nt,it);return it.stack.includes("tableCell")&&(st=st.replace(/\|/g,"\\$&")),st}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(e){const i=this.stack[this.stack.length-2];i.type,i.checked=e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(e){const i=this.stack[this.stack.length-2];if(i&&i.type==="listItem"&&typeof i.checked=="boolean"){const s=this.stack[this.stack.length-1];s.type;const o=s.children[0];if(o&&o.type==="text"){const a=i.children;let d=-1,h;for(;++d<a.length;){const g=a[d];if(g.type==="paragraph"){h=g;break}}h===s&&(o.value=o.value.slice(1),o.value.length===0?s.children.shift():s.position&&o.position&&typeof o.position.start.offset=="number"&&(o.position.start.column++,o.position.start.offset++,s.position.start=Object.assign({},o.position.start)))}}this.exit(e)}function listItemWithTaskListItem(e,i,s,o){const a=e.children[0],d=typeof e.checked=="boolean"&&a&&a.type==="paragraph",h="["+(e.checked?"x":" ")+"] ",g=s.createTracker(o);d&&g.move(h);let b=handle.listItem(e,i,s,{...o,...g.current()});return d&&(b=b.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,_)),b;function _(j){return j+h}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(e){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(e),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(e),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(e,i,s){const o=this;let a,d;return h;function h($){return!gfmAtext($)||!previousEmail.call(o,o.previous)||previousUnbalanced(o.events)?s($):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),g($))}function g($){return gfmAtext($)?(e.consume($),g):$===64?(e.consume($),b):s($)}function b($){return $===46?e.check(emailDomainDotTrail,j,_)($):$===45||$===95||asciiAlphanumeric($)?(d=!0,e.consume($),b):j($)}function _($){return e.consume($),a=!0,b}function j($){return d&&a&&asciiAlpha(o.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),i($)):s($)}}function tokenizeWwwAutolink(e,i,s){const o=this;return a;function a(h){return h!==87&&h!==119||!previousWww.call(o,o.previous)||previousUnbalanced(o.events)?s(h):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wwwPrefix,e.attempt(domain,e.attempt(path,d),s),s)(h))}function d(h){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),i(h)}}function tokenizeProtocolAutolink(e,i,s){const o=this;let a="",d=!1;return h;function h($){return($===72||$===104)&&previousProtocol.call(o,o.previous)&&!previousUnbalanced(o.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint($),e.consume($),g):s($)}function g($){if(asciiAlpha($)&&a.length<5)return a+=String.fromCodePoint($),e.consume($),g;if($===58){const _e=a.toLowerCase();if(_e==="http"||_e==="https")return e.consume($),b}return s($)}function b($){return $===47?(e.consume($),d?_:(d=!0,b)):s($)}function _($){return $===null||asciiControl($)||markdownLineEndingOrSpace($)||unicodeWhitespace($)||unicodePunctuation($)?s($):e.attempt(domain,e.attempt(path,j),s)($)}function j($){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),i($)}}function tokenizeWwwPrefix(e,i,s){let o=0;return a;function a(h){return(h===87||h===119)&&o<3?(o++,e.consume(h),a):h===46&&o===3?(e.consume(h),d):s(h)}function d(h){return h===null?s(h):i(h)}}function tokenizeDomain(e,i,s){let o,a,d;return h;function h(_){return _===46||_===95?e.check(trail,b,g)(_):_===null||markdownLineEndingOrSpace(_)||unicodeWhitespace(_)||_!==45&&unicodePunctuation(_)?b(_):(d=!0,e.consume(_),h)}function g(_){return _===95?o=!0:(a=o,o=void 0),e.consume(_),h}function b(_){return a||o||!d?s(_):i(_)}}function tokenizePath(e,i){let s=0,o=0;return a;function a(h){return h===40?(s++,e.consume(h),a):h===41&&o<s?d(h):h===33||h===34||h===38||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===60||h===63||h===93||h===95||h===126?e.check(trail,i,d)(h):h===null||markdownLineEndingOrSpace(h)||unicodeWhitespace(h)?i(h):(e.consume(h),a)}function d(h){return h===41&&o++,e.consume(h),a}}function tokenizeTrail(e,i,s){return o;function o(g){return g===33||g===34||g===39||g===41||g===42||g===44||g===46||g===58||g===59||g===63||g===95||g===126?(e.consume(g),o):g===38?(e.consume(g),d):g===93?(e.consume(g),a):g===60||g===null||markdownLineEndingOrSpace(g)||unicodeWhitespace(g)?i(g):s(g)}function a(g){return g===null||g===40||g===91||markdownLineEndingOrSpace(g)||unicodeWhitespace(g)?i(g):o(g)}function d(g){return asciiAlpha(g)?h(g):s(g)}function h(g){return g===59?(e.consume(g),o):asciiAlpha(g)?(e.consume(g),h):s(g)}}function tokenizeEmailDomainDotTrail(e,i,s){return o;function o(d){return e.consume(d),a}function a(d){return asciiAlphanumeric(d)?s(d):i(d)}}function previousWww(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||markdownLineEndingOrSpace(e)}function previousProtocol(e){return!asciiAlpha(e)}function previousEmail(e){return!(e===47||gfmAtext(e))}function gfmAtext(e){return e===43||e===45||e===46||e===95||asciiAlphanumeric(e)}function previousUnbalanced(e){let i=e.length,s=!1;for(;i--;){const o=e[i][1];if((o.type==="labelLink"||o.type==="labelImage")&&!o._balanced){s=!0;break}if(o._gfmAutolinkLiteralWalkedInto){s=!1;break}}return e.length>0&&!s&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),s}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(e,i,s){const o=this;let a=o.events.length;const d=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let h;for(;a--;){const b=o.events[a][1];if(b.type==="labelImage"){h=b;break}if(b.type==="gfmFootnoteCall"||b.type==="labelLink"||b.type==="label"||b.type==="image"||b.type==="link")break}return g;function g(b){if(!h||!h._balanced)return s(b);const _=normalizeIdentifier(o.sliceSerialize({start:h.end,end:o.now()}));return _.codePointAt(0)!==94||!d.includes(_.slice(1))?s(b):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(b),e.exit("gfmFootnoteCallLabelMarker"),i(b))}}function resolveToPotentialGfmFootnoteCall(e,i){let s=e.length;for(;s--;)if(e[s][1].type==="labelImage"&&e[s][0]==="enter"){e[s][1];break}e[s+1][1].type="data",e[s+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[s+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[s+3][1].end),end:Object.assign({},e[s+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const d={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},h={type:"chunkString",contentType:"string",start:Object.assign({},d.start),end:Object.assign({},d.end)},g=[e[s+1],e[s+2],["enter",o,i],e[s+3],e[s+4],["enter",a,i],["exit",a,i],["enter",d,i],["enter",h,i],["exit",h,i],["exit",d,i],e[e.length-2],e[e.length-1],["exit",o,i]];return e.splice(s,e.length-s+1,...g),e}function tokenizeGfmFootnoteCall(e,i,s){const o=this,a=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let d=0,h;return g;function g($){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume($),e.exit("gfmFootnoteCallLabelMarker"),b}function b($){return $!==94?s($):(e.enter("gfmFootnoteCallMarker"),e.consume($),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",_)}function _($){if(d>999||$===93&&!h||$===null||$===91||markdownLineEndingOrSpace($))return s($);if($===93){e.exit("chunkString");const _e=e.exit("gfmFootnoteCallString");return a.includes(normalizeIdentifier(o.sliceSerialize(_e)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume($),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),i):s($)}return markdownLineEndingOrSpace($)||(h=!0),d++,e.consume($),$===92?j:_}function j($){return $===91||$===92||$===93?(e.consume($),d++,_):_($)}}function tokenizeDefinitionStart(e,i,s){const o=this,a=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let d,h=0,g;return b;function b(nt){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(nt),e.exit("gfmFootnoteDefinitionLabelMarker"),_}function _(nt){return nt===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(nt),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",j):s(nt)}function j(nt){if(h>999||nt===93&&!g||nt===null||nt===91||markdownLineEndingOrSpace(nt))return s(nt);if(nt===93){e.exit("chunkString");const it=e.exit("gfmFootnoteDefinitionLabelString");return d=normalizeIdentifier(o.sliceSerialize(it)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(nt),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),_e}return markdownLineEndingOrSpace(nt)||(g=!0),h++,e.consume(nt),nt===92?$:j}function $(nt){return nt===91||nt===92||nt===93?(e.consume(nt),h++,j):j(nt)}function _e(nt){return nt===58?(e.enter("definitionMarker"),e.consume(nt),e.exit("definitionMarker"),a.includes(d)||a.push(d),factorySpace(e,et,"gfmFootnoteDefinitionWhitespace")):s(nt)}function et(nt){return i(nt)}}function tokenizeDefinitionContinuation(e,i,s){return e.check(blankLine,i,e.attempt(indent,i,s))}function gfmFootnoteDefinitionEnd(e){e.exit("gfmFootnoteDefinition")}function tokenizeIndent(e,i,s){const o=this;return factorySpace(e,a,"gfmFootnoteDefinitionIndent",5);function a(d){const h=o.events[o.events.length-1];return h&&h[1].type==="gfmFootnoteDefinitionIndent"&&h[2].sliceSerialize(h[1],!0).length===4?i(d):s(d)}}function gfmStrikethrough(e){let s=(e||{}).singleTilde;const o={name:"strikethrough",tokenize:d,resolveAll:a};return s==null&&(s=!0),{text:{126:o},insideSpan:{null:[o]},attentionMarkers:{null:[126]}};function a(h,g){let b=-1;for(;++b<h.length;)if(h[b][0]==="enter"&&h[b][1].type==="strikethroughSequenceTemporary"&&h[b][1]._close){let _=b;for(;_--;)if(h[_][0]==="exit"&&h[_][1].type==="strikethroughSequenceTemporary"&&h[_][1]._open&&h[b][1].end.offset-h[b][1].start.offset===h[_][1].end.offset-h[_][1].start.offset){h[b][1].type="strikethroughSequence",h[_][1].type="strikethroughSequence";const j={type:"strikethrough",start:Object.assign({},h[_][1].start),end:Object.assign({},h[b][1].end)},$={type:"strikethroughText",start:Object.assign({},h[_][1].end),end:Object.assign({},h[b][1].start)},_e=[["enter",j,g],["enter",h[_][1],g],["exit",h[_][1],g],["enter",$,g]],et=g.parser.constructs.insideSpan.null;et&&splice(_e,_e.length,0,resolveAll(et,h.slice(_+1,b),g)),splice(_e,_e.length,0,[["exit",$,g],["enter",h[b][1],g],["exit",h[b][1],g],["exit",j,g]]),splice(h,_-1,b-_+3,_e),b=_+_e.length-2;break}}for(b=-1;++b<h.length;)h[b][1].type==="strikethroughSequenceTemporary"&&(h[b][1].type="data");return h}function d(h,g,b){const _=this.previous,j=this.events;let $=0;return _e;function _e(nt){return _===126&&j[j.length-1][1].type!=="characterEscape"?b(nt):(h.enter("strikethroughSequenceTemporary"),et(nt))}function et(nt){const it=classifyCharacter(_);if(nt===126)return $>1?b(nt):(h.consume(nt),$++,et);if($<2&&!s)return b(nt);const st=h.exit("strikethroughSequenceTemporary"),tt=classifyCharacter(nt);return st._open=!tt||tt===2&&!!it,st._close=!it||it===2&&!!tt,g(nt)}}}class EditMap{constructor(){this.map=[]}add(i,s,o){addImplementation(this,i,s,o)}consume(i){if(this.map.sort(function(d,h){return d[0]-h[0]}),this.map.length===0)return;let s=this.map.length;const o=[];for(;s>0;)s-=1,o.push(i.slice(this.map[s][0]+this.map[s][1]),this.map[s][2]),i.length=this.map[s][0];o.push(i.slice()),i.length=0;let a=o.pop();for(;a;){for(const d of a)i.push(d);a=o.pop()}this.map.length=0}}function addImplementation(e,i,s,o){let a=0;if(!(s===0&&o.length===0)){for(;a<e.map.length;){if(e.map[a][0]===i){e.map[a][1]+=s,e.map[a][2].push(...o);return}a+=1}e.map.push([i,s,o])}}function gfmTableAlign(e,i){let s=!1;const o=[];for(;i<e.length;){const a=e[i];if(s){if(a[0]==="enter")a[1].type==="tableContent"&&o.push(e[i+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[i-1][1].type==="tableDelimiterMarker"){const d=o.length-1;o[d]=o[d]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(s=!0);i+=1}return o}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(e,i,s){const o=this;let a=0,d=0,h;return g;function g(xt){let ft=o.events.length-1;for(;ft>-1;){const Ct=o.events[ft][1].type;if(Ct==="lineEnding"||Ct==="linePrefix")ft--;else break}const bt=ft>-1?o.events[ft][1].type:null,wt=bt==="tableHead"||bt==="tableRow"?ct:b;return wt===ct&&o.parser.lazy[o.now().line]?s(xt):wt(xt)}function b(xt){return e.enter("tableHead"),e.enter("tableRow"),_(xt)}function _(xt){return xt===124||(h=!0,d+=1),j(xt)}function j(xt){return xt===null?s(xt):markdownLineEnding(xt)?d>1?(d=0,o.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(xt),e.exit("lineEnding"),et):s(xt):markdownSpace(xt)?factorySpace(e,j,"whitespace")(xt):(d+=1,h&&(h=!1,a+=1),xt===124?(e.enter("tableCellDivider"),e.consume(xt),e.exit("tableCellDivider"),h=!0,j):(e.enter("data"),$(xt)))}function $(xt){return xt===null||xt===124||markdownLineEndingOrSpace(xt)?(e.exit("data"),j(xt)):(e.consume(xt),xt===92?_e:$)}function _e(xt){return xt===92||xt===124?(e.consume(xt),$):$(xt)}function et(xt){return o.interrupt=!1,o.parser.lazy[o.now().line]?s(xt):(e.enter("tableDelimiterRow"),h=!1,markdownSpace(xt)?factorySpace(e,nt,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(xt):nt(xt))}function nt(xt){return xt===45||xt===58?st(xt):xt===124?(h=!0,e.enter("tableCellDivider"),e.consume(xt),e.exit("tableCellDivider"),it):lt(xt)}function it(xt){return markdownSpace(xt)?factorySpace(e,st,"whitespace")(xt):st(xt)}function st(xt){return xt===58?(d+=1,h=!0,e.enter("tableDelimiterMarker"),e.consume(xt),e.exit("tableDelimiterMarker"),tt):xt===45?(d+=1,tt(xt)):xt===null||markdownLineEnding(xt)?ut(xt):lt(xt)}function tt(xt){return xt===45?(e.enter("tableDelimiterFiller"),rt(xt)):lt(xt)}function rt(xt){return xt===45?(e.consume(xt),rt):xt===58?(h=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(xt),e.exit("tableDelimiterMarker"),ot):(e.exit("tableDelimiterFiller"),ot(xt))}function ot(xt){return markdownSpace(xt)?factorySpace(e,ut,"whitespace")(xt):ut(xt)}function ut(xt){return xt===124?nt(xt):xt===null||markdownLineEnding(xt)?!h||a!==d?lt(xt):(e.exit("tableDelimiterRow"),e.exit("tableHead"),i(xt)):lt(xt)}function lt(xt){return s(xt)}function ct(xt){return e.enter("tableRow"),dt(xt)}function dt(xt){return xt===124?(e.enter("tableCellDivider"),e.consume(xt),e.exit("tableCellDivider"),dt):xt===null||markdownLineEnding(xt)?(e.exit("tableRow"),i(xt)):markdownSpace(xt)?factorySpace(e,dt,"whitespace")(xt):(e.enter("data"),ht(xt))}function ht(xt){return xt===null||xt===124||markdownLineEndingOrSpace(xt)?(e.exit("data"),dt(xt)):(e.consume(xt),xt===92?mt:ht)}function mt(xt){return xt===92||xt===124?(e.consume(xt),ht):ht(xt)}}function resolveTable(e,i){let s=-1,o=!0,a=0,d=[0,0,0,0],h=[0,0,0,0],g=!1,b=0,_,j,$;const _e=new EditMap;for(;++s<e.length;){const et=e[s],nt=et[1];et[0]==="enter"?nt.type==="tableHead"?(g=!1,b!==0&&(flushTableEnd(_e,i,b,_,j),j=void 0,b=0),_={type:"table",start:Object.assign({},nt.start),end:Object.assign({},nt.end)},_e.add(s,0,[["enter",_,i]])):nt.type==="tableRow"||nt.type==="tableDelimiterRow"?(o=!0,$=void 0,d=[0,0,0,0],h=[0,s+1,0,0],g&&(g=!1,j={type:"tableBody",start:Object.assign({},nt.start),end:Object.assign({},nt.end)},_e.add(s,0,[["enter",j,i]])),a=nt.type==="tableDelimiterRow"?2:j?3:1):a&&(nt.type==="data"||nt.type==="tableDelimiterMarker"||nt.type==="tableDelimiterFiller")?(o=!1,h[2]===0&&(d[1]!==0&&(h[0]=h[1],$=flushCell(_e,i,d,a,void 0,$),d=[0,0,0,0]),h[2]=s)):nt.type==="tableCellDivider"&&(o?o=!1:(d[1]!==0&&(h[0]=h[1],$=flushCell(_e,i,d,a,void 0,$)),d=h,h=[d[1],s,0,0])):nt.type==="tableHead"?(g=!0,b=s):nt.type==="tableRow"||nt.type==="tableDelimiterRow"?(b=s,d[1]!==0?(h[0]=h[1],$=flushCell(_e,i,d,a,s,$)):h[1]!==0&&($=flushCell(_e,i,h,a,s,$)),a=0):a&&(nt.type==="data"||nt.type==="tableDelimiterMarker"||nt.type==="tableDelimiterFiller")&&(h[3]=s)}for(b!==0&&flushTableEnd(_e,i,b,_,j),_e.consume(i.events),s=-1;++s<i.events.length;){const et=i.events[s];et[0]==="enter"&&et[1].type==="table"&&(et[1]._align=gfmTableAlign(i.events,s))}return e}function flushCell(e,i,s,o,a,d){const h=o===1?"tableHeader":o===2?"tableDelimiter":"tableData",g="tableContent";s[0]!==0&&(d.end=Object.assign({},getPoint(i.events,s[0])),e.add(s[0],0,[["exit",d,i]]));const b=getPoint(i.events,s[1]);if(d={type:h,start:Object.assign({},b),end:Object.assign({},b)},e.add(s[1],0,[["enter",d,i]]),s[2]!==0){const _=getPoint(i.events,s[2]),j=getPoint(i.events,s[3]),$={type:g,start:Object.assign({},_),end:Object.assign({},j)};if(e.add(s[2],0,[["enter",$,i]]),o!==2){const _e=i.events[s[2]],et=i.events[s[3]];if(_e[1].end=Object.assign({},et[1].end),_e[1].type="chunkText",_e[1].contentType="text",s[3]>s[2]+1){const nt=s[2]+1,it=s[3]-s[2]-1;e.add(nt,it,[])}}e.add(s[3]+1,0,[["exit",$,i]])}return a!==void 0&&(d.end=Object.assign({},getPoint(i.events,a)),e.add(a,0,[["exit",d,i]]),d=void 0),d}function flushTableEnd(e,i,s,o,a){const d=[],h=getPoint(i.events,s);a&&(a.end=Object.assign({},h),d.push(["exit",a,i])),o.end=Object.assign({},h),d.push(["exit",o,i]),e.add(s+1,0,d)}function getPoint(e,i){const s=e[i],o=s[0]==="enter"?"start":"end";return s[1][o]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(e,i,s){const o=this;return a;function a(b){return o.previous!==null||!o._gfmTasklistFirstContentOfListItem?s(b):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(b),e.exit("taskListCheckMarker"),d)}function d(b){return markdownLineEndingOrSpace(b)?(e.enter("taskListCheckValueUnchecked"),e.consume(b),e.exit("taskListCheckValueUnchecked"),h):b===88||b===120?(e.enter("taskListCheckValueChecked"),e.consume(b),e.exit("taskListCheckValueChecked"),h):s(b)}function h(b){return b===93?(e.enter("taskListCheckMarker"),e.consume(b),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),g):s(b)}function g(b){return markdownLineEnding(b)?i(b):markdownSpace(b)?e.check({tokenize:spaceThenNonSpace},i,s)(b):s(b)}}function spaceThenNonSpace(e,i,s){return factorySpace(e,o,"whitespace");function o(a){return a===null?s(a):i(a)}}function gfm(e){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(e),gfmTable(),gfmTaskListItem()])}const emptyOptions$2={};function remarkGfm(e){const i=this,s=e||emptyOptions$2,o=i.data(),a=o.micromarkExtensions||(o.micromarkExtensions=[]),d=o.fromMarkdownExtensions||(o.fromMarkdownExtensions=[]),h=o.toMarkdownExtensions||(o.toMarkdownExtensions=[]);a.push(gfm(s)),d.push(gfmFromMarkdown()),h.push(gfmToMarkdown(s))}const findAfter=function(e,i,s){const o=convert(s);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof i=="number"){if(i<0||i===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(i=e.children.indexOf(i),i<0)throw new Error("Expected child node or index");for(;++i<e.children.length;)if(o(e.children[i],i,e))return e.children[i]},convertElement=function(e){if(e==null)return element;if(typeof e=="string")return tagNameFactory(e);if(typeof e=="object")return anyFactory(e);if(typeof e=="function")return castFactory(e);throw new Error("Expected function, string, or array as `test`")};function anyFactory(e){const i=[];let s=-1;for(;++s<e.length;)i[s]=convertElement(e[s]);return castFactory(o);function o(...a){let d=-1;for(;++d<i.length;)if(i[d].apply(this,a))return!0;return!1}}function tagNameFactory(e){return castFactory(i);function i(s){return s.tagName===e}}function castFactory(e){return i;function i(s,o,a){return!!(looksLikeAnElement(s)&&e.call(this,s,typeof o=="number"?o:void 0,a||void 0))}}function element(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function looksLikeAnElement(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(e,i){const s=i||{},o="children"in e?e.children:[],a=blockOrCaption(e),d=inferWhitespace(e,{whitespace:s.whitespace||"normal"}),h=[];(e.type==="text"||e.type==="comment")&&h.push(...collectText(e,{breakBefore:!0,breakAfter:!0}));let g=-1;for(;++g<o.length;)h.push(...renderedTextCollection(o[g],e,{whitespace:d,breakBefore:g?void 0:a,breakAfter:g<o.length-1?br(o[g+1]):a}));const b=[];let _;for(g=-1;++g<h.length;){const j=h[g];typeof j=="number"?_!==void 0&&j>_&&(_=j):j&&(_!==void 0&&_>-1&&b.push(`
`.repeat(_)||" "),_=-1,b.push(j))}return b.join("")}function renderedTextCollection(e,i,s){return e.type==="element"?collectElement(e,i,s):e.type==="text"?s.whitespace==="normal"?collectText(e,s):collectPreText(e):[]}function collectElement(e,i,s){const o=inferWhitespace(e,s),a=e.children||[];let d=-1,h=[];if(notRendered(e))return h;let g,b;for(br(e)||row(e)&&findAfter(i,e,row)?b=`
`:p(e)?(g=2,b=2):blockOrCaption(e)&&(g=1,b=1);++d<a.length;)h=h.concat(renderedTextCollection(a[d],e,{whitespace:o,breakBefore:d?void 0:g,breakAfter:d<a.length-1?br(a[d+1]):b}));return cell(e)&&findAfter(i,e,cell)&&h.push("	"),g&&h.unshift(g),b&&h.push(b),h}function collectText(e,i){const s=String(e.value),o=[],a=[];let d=0;for(;d<=s.length;){searchLineFeeds.lastIndex=d;const b=searchLineFeeds.exec(s),_=b&&"index"in b?b.index:s.length;o.push(trimAndCollapseSpacesAndTabs(s.slice(d,_).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),d===0?i.breakBefore:!0,_===s.length?i.breakAfter:!0)),d=_+1}let h=-1,g;for(;++h<o.length;)o[h].charCodeAt(o[h].length-1)===8203||h<o.length-1&&o[h+1].charCodeAt(0)===8203?(a.push(o[h]),g=void 0):o[h]?(typeof g=="number"&&a.push(g),a.push(o[h]),g=0):(h===0||h===o.length-1)&&a.push(0);return a}function collectPreText(e){return[String(e.value)]}function trimAndCollapseSpacesAndTabs(e,i,s){const o=[];let a=0,d;for(;a<e.length;){searchTabOrSpaces.lastIndex=a;const h=searchTabOrSpaces.exec(e);d=h?h.index:e.length,!a&&!d&&h&&!i&&o.push(""),a!==d&&o.push(e.slice(a,d)),a=h?d+h[0].length:d}return a!==d&&!s&&o.push(""),o.join(" ")}function inferWhitespace(e,i){if(e.type==="element"){const s=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return s.wrap?"pre-wrap":"pre";case"td":case"th":return s.noWrap?"nowrap":i.whitespace;case"textarea":return"pre-wrap"}}return i.whitespace}function hidden(e){return!!(e.properties||{}).hidden}function isCell(e){return e.tagName==="td"||e.tagName==="th"}function closedDialog(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function cPlusPlus(e){const i=e.regex,s=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),o="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",h="(?!struct)("+o+"|"+i.optional(a)+"[a-zA-Z_]\\w*"+i.optional("<[^<>]+>")+")",g={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},_={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},j={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},$={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(_,{className:"string"}),{className:"string",begin:/<.*?>/},s,e.C_BLOCK_COMMENT_MODE]},_e={className:"title",begin:i.optional(a)+e.IDENT_RE,relevance:0},et=i.optional(a)+e.IDENT_RE+"\\s*\\(",nt=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],it=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],st=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],tt=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],ut={type:it,keyword:nt,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:st},lt={className:"function.dispatch",relevance:0,keywords:{_hint:tt},begin:i.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,i.lookahead(/(<[^<>]+>|)\s*\(/))},ct=[lt,$,g,s,e.C_BLOCK_COMMENT_MODE,j,_],dt={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:ut,contains:ct.concat([{begin:/\(/,end:/\)/,keywords:ut,contains:ct.concat(["self"]),relevance:0}]),relevance:0},ht={className:"function",begin:"("+h+"[\\*&\\s]+)+"+et,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:ut,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:o,keywords:ut,relevance:0},{begin:et,returnBegin:!0,contains:[_e],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[_,j]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:ut,relevance:0,contains:[s,e.C_BLOCK_COMMENT_MODE,_,j,g,{begin:/\(/,end:/\)/,keywords:ut,relevance:0,contains:["self",s,e.C_BLOCK_COMMENT_MODE,_,j,g]}]},g,s,e.C_BLOCK_COMMENT_MODE,$]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:ut,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(dt,ht,lt,ct,[$,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:ut,contains:["self",g]},{begin:e.IDENT_RE+"::",keywords:ut},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function arduino(e){const i={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},s=cPlusPlus(e),o=s.keywords;return o.type=[...o.type,...i.type],o.literal=[...o.literal,...i.literal],o.built_in=[...o.built_in,...i.built_in],o._hints=i._hints,s.name="Arduino",s.aliases=["ino"],s.supersetOf="cpp",s}function bash(e){const i=e.regex,s={},o={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[s]}]};Object.assign(s,{className:"variable",variants:[{begin:i.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},o]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},d=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),h={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},g={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,a]};a.contains.push(g);const b={match:/\\"/},_={className:"string",begin:/'/,end:/'/},j={match:/\\'/},$={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,s]},_e=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],et=e.SHEBANG({binary:`(${_e.join("|")})`,relevance:10}),nt={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},it=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],st=["true","false"],tt={match:/(\/[a-z._-]+)+/},rt=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],ot=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],ut=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],lt=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:it,literal:st,built_in:[...rt,...ot,"set","shopt",...ut,...lt]},contains:[et,e.SHEBANG(),nt,$,d,h,tt,g,b,_,j,s]}}function c(e){const i=e.regex,s=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),o="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",h="("+o+"|"+i.optional(a)+"[a-zA-Z_]\\w*"+i.optional("<[^<>]+>")+")",g={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},_={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},j={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},$={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(_,{className:"string"}),{className:"string",begin:/<.*?>/},s,e.C_BLOCK_COMMENT_MODE]},_e={className:"title",begin:i.optional(a)+e.IDENT_RE,relevance:0},et=i.optional(a)+e.IDENT_RE+"\\s*\\(",st={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},tt=[$,g,s,e.C_BLOCK_COMMENT_MODE,j,_],rt={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:st,contains:tt.concat([{begin:/\(/,end:/\)/,keywords:st,contains:tt.concat(["self"]),relevance:0}]),relevance:0},ot={begin:"("+h+"[\\*&\\s]+)+"+et,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:st,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:o,keywords:st,relevance:0},{begin:et,returnBegin:!0,contains:[e.inherit(_e,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:st,relevance:0,contains:[s,e.C_BLOCK_COMMENT_MODE,_,j,g,{begin:/\(/,end:/\)/,keywords:st,relevance:0,contains:["self",s,e.C_BLOCK_COMMENT_MODE,_,j,g]}]},g,s,e.C_BLOCK_COMMENT_MODE,$]};return{name:"C",aliases:["h"],keywords:st,disableAutodetect:!0,illegal:"</",contains:[].concat(rt,ot,tt,[$,{begin:e.IDENT_RE+"::",keywords:st},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:$,strings:_,keywords:st}}}function cpp(e){const i=e.regex,s=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),o="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",h="(?!struct)("+o+"|"+i.optional(a)+"[a-zA-Z_]\\w*"+i.optional("<[^<>]+>")+")",g={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},_={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},j={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},$={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(_,{className:"string"}),{className:"string",begin:/<.*?>/},s,e.C_BLOCK_COMMENT_MODE]},_e={className:"title",begin:i.optional(a)+e.IDENT_RE,relevance:0},et=i.optional(a)+e.IDENT_RE+"\\s*\\(",nt=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],it=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],st=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],tt=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],ut={type:it,keyword:nt,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:st},lt={className:"function.dispatch",relevance:0,keywords:{_hint:tt},begin:i.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,i.lookahead(/(<[^<>]+>|)\s*\(/))},ct=[lt,$,g,s,e.C_BLOCK_COMMENT_MODE,j,_],dt={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:ut,contains:ct.concat([{begin:/\(/,end:/\)/,keywords:ut,contains:ct.concat(["self"]),relevance:0}]),relevance:0},ht={className:"function",begin:"("+h+"[\\*&\\s]+)+"+et,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:ut,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:o,keywords:ut,relevance:0},{begin:et,returnBegin:!0,contains:[_e],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[_,j]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:ut,relevance:0,contains:[s,e.C_BLOCK_COMMENT_MODE,_,j,g,{begin:/\(/,end:/\)/,keywords:ut,relevance:0,contains:["self",s,e.C_BLOCK_COMMENT_MODE,_,j,g]}]},g,s,e.C_BLOCK_COMMENT_MODE,$]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:ut,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(dt,ht,lt,ct,[$,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:ut,contains:["self",g]},{begin:e.IDENT_RE+"::",keywords:ut},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function csharp(e){const i=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],s=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],o=["default","false","null","true"],a=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],d=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],h={keyword:a.concat(d),built_in:i,literal:o},g=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),b={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},_={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},j={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},$=e.inherit(j,{illegal:/\n/}),_e={className:"subst",begin:/\{/,end:/\}/,keywords:h},et=e.inherit(_e,{illegal:/\n/}),nt={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,et]},it={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},_e]},st=e.inherit(it,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},et]});_e.contains=[it,nt,j,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,e.C_BLOCK_COMMENT_MODE],et.contains=[st,nt,$,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const tt={variants:[_,it,nt,j,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},rt={begin:"<",end:">",contains:[{beginKeywords:"in out"},g]},ot=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",ut={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:h,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},tt,b,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},g,rt,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[g,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[g,rt,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+ot+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:h,contains:[{beginKeywords:s.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,rt],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,relevance:0,contains:[tt,b,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},ut]}}const MODES$3=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HTML_TAGS$2=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SVG_TAGS$2=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],TAGS$2=[...HTML_TAGS$2,...SVG_TAGS$2],MEDIA_FEATURES$2=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),PSEUDO_CLASSES$2=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PSEUDO_ELEMENTS$2=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ATTRIBUTES$2=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function css(e){const i=e.regex,s=MODES$3(e),o={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",d=/@-?\w[\w]*(-\w+)*/,h="[a-zA-Z-][a-zA-Z0-9_-]*",g=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[s.BLOCK_COMMENT,o,s.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+h,relevance:0},s.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+PSEUDO_CLASSES$2.join("|")+")"},{begin:":(:)?("+PSEUDO_ELEMENTS$2.join("|")+")"}]},s.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ATTRIBUTES$2.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[s.BLOCK_COMMENT,s.HEXCOLOR,s.IMPORTANT,s.CSS_NUMBER_MODE,...g,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...g,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},s.FUNCTION_DISPATCH]},{begin:i.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:d},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:MEDIA_FEATURES$2.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...g,s.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+TAGS$2.join("|")+")\\b"}]}}function diff(e){const i=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:i.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:i.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function go(e){const d={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:d,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:d,illegal:/["']/}]}]}}function graphql(e){const i=e.regex,s=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:i.concat(s,i.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function ini(e){const i=e.regex,s={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},o=e.COMMENT();o.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const a={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},d={className:"literal",begin:/\bon|off|true|false|yes|no\b/},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},g={begin:/\[/,end:/\]/,contains:[o,d,a,h,s,"self"],relevance:0},b=/[A-Za-z0-9_-]+/,_=/"(\\"|[^"])*"/,j=/'[^']*'/,$=i.either(b,_,j),_e=i.concat($,"(\\s*\\.\\s*",$,")*",i.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[o,{className:"section",begin:/\[+/,end:/\]+/},{begin:_e,className:"attr",starts:{end:/$/,contains:[o,g,d,a,h,s]}}]}}var decimalDigits$1="[0-9](_*[0-9])*",frac$1=`\\.(${decimalDigits$1})`,hexDigits$1="[0-9a-fA-F](_*[0-9a-fA-F])*",NUMERIC$1={className:"number",variants:[{begin:`(\\b(${decimalDigits$1})((${frac$1})|\\.)?|(${frac$1}))[eE][+-]?(${decimalDigits$1})[fFdD]?\\b`},{begin:`\\b(${decimalDigits$1})((${frac$1})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${frac$1})[fFdD]?\\b`},{begin:`\\b(${decimalDigits$1})[fFdD]\\b`},{begin:`\\b0[xX]((${hexDigits$1})\\.?|(${hexDigits$1})?\\.(${hexDigits$1}))[pP][+-]?(${decimalDigits$1})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${hexDigits$1})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function recurRegex(e,i,s){return s===-1?"":e.replace(i,o=>recurRegex(e,i,s-1))}function java(e){const i=e.regex,s="[-a-zA-Z_$][-a-zA-Z_$0-9]*",o=s+recurRegex("(?:<"+s+"~~~(?:\\s*,\\s*"+s+"~~~)*>)?",/~~~/g,2),b={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},_={className:"meta",begin:"@"+s,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},j={className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:b,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[i.concat(/(?!else)/,s),/\s+/,s,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,s],className:{1:"keyword",3:"title.class"},contains:[j,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+o+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:b,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[_,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,NUMERIC$1,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},NUMERIC$1,_]}}const IDENT_RE$2="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS$1=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],LITERALS$1=["true","false","null","undefined","NaN","Infinity"],TYPES$1=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ERROR_TYPES$1=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS$1=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES$1=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],BUILT_INS$1=[].concat(BUILT_IN_GLOBALS$1,TYPES$1,ERROR_TYPES$1);function javascript$1(e){const i=e.regex,s=(Rt,{after:Et})=>{const gt="</"+Rt[0].slice(1);return Rt.input.indexOf(gt,Et)!==-1},o=IDENT_RE$2,a={begin:"<>",end:"</>"},d=/<[A-Za-z0-9\\._:-]+\s*\/>/,h={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Rt,Et)=>{const gt=Rt[0].length+Rt.index,Mt=Rt.input[gt];if(Mt==="<"||Mt===","){Et.ignoreMatch();return}Mt===">"&&(s(Rt,{after:gt})||Et.ignoreMatch());let _t;const at=Rt.input.substring(gt);if(_t=at.match(/^\s*=/)){Et.ignoreMatch();return}if((_t=at.match(/^\s+extends\s+/))&&_t.index===0){Et.ignoreMatch();return}}},g={$pattern:IDENT_RE$2,keyword:KEYWORDS$1,literal:LITERALS$1,built_in:BUILT_INS$1,"variable.language":BUILT_IN_VARIABLES$1},b="[0-9](_?[0-9])*",_=`\\.(${b})`,j="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",$={className:"number",variants:[{begin:`(\\b(${j})((${_})|\\.)?|(${_}))[eE][+-]?(${b})\\b`},{begin:`\\b(${j})\\b((${_})\\b|\\.)?|(${_})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_e={className:"subst",begin:"\\$\\{",end:"\\}",keywords:g,contains:[]},et={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_e],subLanguage:"xml"}},nt={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_e],subLanguage:"css"}},it={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_e],subLanguage:"graphql"}},st={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,_e]},rt={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:o+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},ot=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,et,nt,it,st,{match:/\$\d+/},$];_e.contains=ot.concat({begin:/\{/,end:/\}/,keywords:g,contains:["self"].concat(ot)});const ut=[].concat(rt,_e.contains),lt=ut.concat([{begin:/(\s*)\(/,end:/\)/,keywords:g,contains:["self"].concat(ut)}]),ct={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:g,contains:lt},dt={variants:[{match:[/class/,/\s+/,o,/\s+/,/extends/,/\s+/,i.concat(o,"(",i.concat(/\./,o),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,o],scope:{1:"keyword",3:"title.class"}}]},ht={relevance:0,match:i.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...TYPES$1,...ERROR_TYPES$1]}},mt={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},xt={variants:[{match:[/function/,/\s+/,o,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[ct],illegal:/%/},ft={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function bt(Rt){return i.concat("(?!",Rt.join("|"),")")}const wt={match:i.concat(/\b/,bt([...BUILT_IN_GLOBALS$1,"super","import"].map(Rt=>`${Rt}\\s*\\(`)),o,i.lookahead(/\s*\(/)),className:"title.function",relevance:0},Ct={begin:i.concat(/\./,i.lookahead(i.concat(o,/(?![0-9A-Za-z$_(])/))),end:o,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Tt={match:[/get|set/,/\s+/,o,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},ct]},St="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",At={match:[/const|var|let/,/\s+/,o,/\s*/,/=\s*/,/(async\s*)?/,i.lookahead(St)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[ct]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:g,exports:{PARAMS_CONTAINS:lt,CLASS_REFERENCE:ht},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),mt,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,et,nt,it,st,rt,{match:/\$\d+/},$,ht,{scope:"attr",match:o+i.lookahead(":"),relevance:0},At,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[rt,e.REGEXP_MODE,{className:"function",begin:St,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:g,contains:lt}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:d},{begin:h.begin,"on:begin":h.isTrulyOpeningTag,end:h.end}],subLanguage:"xml",contains:[{begin:h.begin,end:h.end,skip:!0,contains:["self"]}]}]},xt,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[ct,e.inherit(e.TITLE_MODE,{begin:o,className:"title.function"})]},{match:/\.\.\./,relevance:0},Ct,{match:"\\$"+o,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[ct]},wt,ft,dt,Tt,{match:/\$[(.]/}]}}function json(e){const i={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},s={match:/[{}[\],:]/,className:"punctuation",relevance:0},o=["true","false","null"],a={scope:"literal",beginKeywords:o.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:o},contains:[i,s,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var decimalDigits="[0-9](_*[0-9])*",frac=`\\.(${decimalDigits})`,hexDigits="[0-9a-fA-F](_*[0-9a-fA-F])*",NUMERIC={className:"number",variants:[{begin:`(\\b(${decimalDigits})((${frac})|\\.)?|(${frac}))[eE][+-]?(${decimalDigits})[fFdD]?\\b`},{begin:`\\b(${decimalDigits})((${frac})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${frac})[fFdD]?\\b`},{begin:`\\b(${decimalDigits})[fFdD]\\b`},{begin:`\\b0[xX]((${hexDigits})\\.?|(${hexDigits})?\\.(${hexDigits}))[pP][+-]?(${decimalDigits})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${hexDigits})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function kotlin(e){const i={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},s={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},o={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},a={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},d={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},h={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[d,a]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,d,a]}]};a.contains.push(h);const g={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},b={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(h,{className:"string"}),"self"]}]},_=NUMERIC,j=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),$={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},_e=$;return _e.variants[1].contains=[$],$.variants[1].contains=[_e],{name:"Kotlin",aliases:["kt","kts"],keywords:i,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,j,s,o,g,b,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:i,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[$,e.C_LINE_COMMENT_MODE,j],relevance:0},e.C_LINE_COMMENT_MODE,j,g,b,h,e.C_NUMBER_MODE]},j]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},g,b]},h,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},_]}}const MODES$2=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HTML_TAGS$1=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SVG_TAGS$1=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],TAGS$1=[...HTML_TAGS$1,...SVG_TAGS$1],MEDIA_FEATURES$1=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),PSEUDO_CLASSES$1=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PSEUDO_ELEMENTS$1=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ATTRIBUTES$1=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),PSEUDO_SELECTORS=PSEUDO_CLASSES$1.concat(PSEUDO_ELEMENTS$1).sort().reverse();function less(e){const i=MODES$2(e),s=PSEUDO_SELECTORS,o="and or not only",a="[\\w-]+",d="("+a+"|@\\{"+a+"\\})",h=[],g=[],b=function(ot){return{className:"string",begin:"~?"+ot+".*?"+ot}},_=function(ot,ut,lt){return{className:ot,begin:ut,relevance:lt}},j={$pattern:/[a-z-]+/,keyword:o,attribute:MEDIA_FEATURES$1.join(" ")},$={begin:"\\(",end:"\\)",contains:g,keywords:j,relevance:0};g.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,b("'"),b('"'),i.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},i.HEXCOLOR,$,_("variable","@@?"+a,10),_("variable","@\\{"+a+"\\}"),_("built_in","~?`[^`]*?`"),{className:"attribute",begin:a+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},i.IMPORTANT,{beginKeywords:"and not"},i.FUNCTION_DISPATCH);const _e=g.concat({begin:/\{/,end:/\}/,contains:h}),et={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(g)},nt={begin:d+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},i.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ATTRIBUTES$1.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:g}}]},it={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:j,returnEnd:!0,contains:g,relevance:0}},st={className:"variable",variants:[{begin:"@"+a+"\\s*:",relevance:15},{begin:"@"+a}],starts:{end:"[;}]",returnEnd:!0,contains:_e}},tt={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:d,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,et,_("keyword","all\\b"),_("variable","@\\{"+a+"\\}"),{begin:"\\b("+TAGS$1.join("|")+")\\b",className:"selector-tag"},i.CSS_NUMBER_MODE,_("selector-tag",d,0),_("selector-id","#"+d),_("selector-class","\\."+d,0),_("selector-tag","&",0),i.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+PSEUDO_CLASSES$1.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+PSEUDO_ELEMENTS$1.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:_e},{begin:"!important"},i.FUNCTION_DISPATCH]},rt={begin:a+`:(:)?(${s.join("|")})`,returnBegin:!0,contains:[tt]};return h.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,it,st,rt,nt,tt,et,i.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:h}}function lua(e){const i="\\[=*\\[",s="\\]=*\\]",o={begin:i,end:s,contains:["self"]},a=[e.COMMENT("--(?!"+i+")","$"),e.COMMENT("--"+i,s,{contains:[o],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:i,end:s,contains:[o],relevance:5}])}}function makefile(e){const i={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,i]},o={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[i,s]},a={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},d={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},h={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[i]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,i,s,o,a,d,h]}}function markdown(e){const i=e.regex,s={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},o={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},d={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},h={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},g=/[A-Za-z][A-Za-z0-9+.-]*/,b={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:i.concat(/\[.+?\]\(/,g,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},_={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},j={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},$=e.inherit(_,{contains:[]}),_e=e.inherit(j,{contains:[]});_.contains.push(_e),j.contains.push($);let et=[s,b];return[_,j,$,_e].forEach(tt=>{tt.contains=tt.contains.concat(et)}),et=et.concat(_,j),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:et},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:et}]}]},s,d,_,j,{className:"quote",begin:"^>\\s+",contains:et,end:"$"},a,o,b,h,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function objectivec(e){const i={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},s=/[a-zA-Z@][a-zA-Z0-9_]*/,g={"variable.language":["this","super"],$pattern:s,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},b={$pattern:s,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:g,illegal:"</",contains:[i,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+b.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:b,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function perl(e){const i=e.regex,s=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],o=/[dualxmsipngr]{0,12}/,a={$pattern:/[\w.]+/,keyword:s.join(" ")},d={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:a},h={begin:/->\{/,end:/\}/},g={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},b={scope:"variable",variants:[{begin:/\$\d/},{begin:i.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[g]},_={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},j=[e.BACKSLASH_ESCAPE,d,b],$=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],_e=(it,st,tt="\\1")=>{const rt=tt==="\\1"?tt:i.concat(tt,st);return i.concat(i.concat("(?:",it,")"),st,/(?:\\.|[^\\\/])*?/,rt,/(?:\\.|[^\\\/])*?/,tt,o)},et=(it,st,tt)=>i.concat(i.concat("(?:",it,")"),st,/(?:\\.|[^\\\/])*?/,tt,o),nt=[b,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),h,{className:"string",contains:j,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},_,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:_e("s|tr|y",i.either(...$,{capture:!0}))},{begin:_e("s|tr|y","\\(","\\)")},{begin:_e("s|tr|y","\\[","\\]")},{begin:_e("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:et("(?:m|qr)?",/\//,/\//)},{begin:et("m|qr",i.either(...$,{capture:!0}),/\1/)},{begin:et("m|qr",/\(/,/\)/)},{begin:et("m|qr",/\[/,/\]/)},{begin:et("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,g]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,g,_]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return d.contains=nt,h.contains=nt,{name:"Perl",aliases:["pl","pm"],keywords:a,contains:nt}}function php(e){const i=e.regex,s=/(?![A-Za-z0-9])(?![$])/,o=i.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,s),a=i.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,s),d=i.concat(/[A-Z]+/,s),h={scope:"variable",match:"\\$+"+o},g={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},b={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},_=e.inherit(e.APOS_STRING_MODE,{illegal:null}),j=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(b)}),$={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(b),"on:begin":(Ct,Tt)=>{Tt.data._beginMatch=Ct[1]||Ct[2]},"on:end":(Ct,Tt)=>{Tt.data._beginMatch!==Ct[1]&&Tt.ignoreMatch()}},_e=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),et=`[ 	
]`,nt={scope:"string",variants:[j,_,$,_e]},it={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},st=["false","null","true"],tt=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],rt=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],ut={keyword:tt,literal:(Ct=>{const Tt=[];return Ct.forEach(St=>{Tt.push(St),St.toLowerCase()===St?Tt.push(St.toUpperCase()):Tt.push(St.toLowerCase())}),Tt})(st),built_in:rt},lt=Ct=>Ct.map(Tt=>Tt.replace(/\|\d+$/,"")),ct={variants:[{match:[/new/,i.concat(et,"+"),i.concat("(?!",lt(rt).join("\\b|"),"\\b)"),a],scope:{1:"keyword",4:"title.class"}}]},dt=i.concat(o,"\\b(?!\\()"),ht={variants:[{match:[i.concat(/::/,i.lookahead(/(?!class\b)/)),dt],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[a,i.concat(/::/,i.lookahead(/(?!class\b)/)),dt],scope:{1:"title.class",3:"variable.constant"}},{match:[a,i.concat("::",i.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[a,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},mt={scope:"attr",match:i.concat(o,i.lookahead(":"),i.lookahead(/(?!::)/))},xt={relevance:0,begin:/\(/,end:/\)/,keywords:ut,contains:[mt,h,ht,e.C_BLOCK_COMMENT_MODE,nt,it,ct]},ft={relevance:0,match:[/\b/,i.concat("(?!fn\\b|function\\b|",lt(tt).join("\\b|"),"|",lt(rt).join("\\b|"),"\\b)"),o,i.concat(et,"*"),i.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[xt]};xt.contains.push(ft);const bt=[mt,ht,e.C_BLOCK_COMMENT_MODE,nt,it,ct],wt={begin:i.concat(/#\[\s*\\?/,i.either(a,d)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:st,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:st,keyword:["new","array"]},contains:["self",...bt]},...bt,{scope:"meta",variants:[{match:a},{match:d}]}]};return{case_insensitive:!1,keywords:ut,contains:[wt,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},g,{scope:"variable.language",match:/\$this\b/},h,ft,ht,{match:[/const/,/\s/,o],scope:{1:"keyword",3:"variable.constant"}},ct,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:ut,contains:["self",wt,h,ht,e.C_BLOCK_COMMENT_MODE,nt,it]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},nt,it]}}function phpTemplate(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function plaintext(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function python(e){const i=e.regex,s=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),o=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],g={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:o,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},b={className:"meta",begin:/^(>>>|\.\.\.) /},_={className:"subst",begin:/\{/,end:/\}/,keywords:g,illegal:/#/},j={begin:/\{\{/,relevance:0},$={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,b],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,b],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,b,j,_]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,b,j,_]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,j,_]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,j,_]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},_e="[0-9](_?[0-9])*",et=`(\\b(${_e}))?\\.(${_e})|\\b(${_e})\\.`,nt=`\\b|${o.join("|")}`,it={className:"number",relevance:0,variants:[{begin:`(\\b(${_e})|(${et}))[eE][+-]?(${_e})[jJ]?(?=${nt})`},{begin:`(${et})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${nt})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${nt})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${nt})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${nt})`},{begin:`\\b(${_e})[jJ](?=${nt})`}]},st={className:"comment",begin:i.lookahead(/# type:/),end:/$/,keywords:g,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},tt={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:g,contains:["self",b,it,$,e.HASH_COMMENT_MODE]}]};return _.contains=[$,it,b],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:g,illegal:/(<\/|\?)|=>/,contains:[b,it,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},$,st,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,s],scope:{1:"keyword",3:"title.function"},contains:[tt]},{variants:[{match:[/\bclass/,/\s+/,s,/\s*/,/\(\s*/,s,/\s*\)/]},{match:[/\bclass/,/\s+/,s]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[it,tt,$]}]}}function pythonRepl(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function r(e){const i=e.regex,s=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,o=i.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),a=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,d=i.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:s,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:i.lookahead(i.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:s},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[a,o]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,o]},{scope:{1:"punctuation",2:"number"},match:[d,o]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,o]}]},{scope:{3:"operator"},match:[s,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:a},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:d},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function ruby(e){const i=e.regex,s="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",o=i.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),a=i.concat(o,/(::\w+)*/),h={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},g={className:"doctag",begin:"@[A-Za-z]+"},b={begin:"#<",end:">"},_=[e.COMMENT("#","$",{contains:[g]}),e.COMMENT("^=begin","^=end",{contains:[g],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],j={className:"subst",begin:/#\{/,end:/\}/,keywords:h},$={className:"string",contains:[e.BACKSLASH_ESCAPE,j],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:i.concat(/<<[-~]?'?/,i.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,j]})]}]},_e="[1-9](_?[0-9])*|0",et="[0-9](_?[0-9])*",nt={className:"number",relevance:0,variants:[{begin:`\\b(${_e})(\\.(${et}))?([eE][+-]?(${et})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},it={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:h}]},ct=[$,{variants:[{match:[/class\s+/,a,/\s+<\s+/,a]},{match:[/\b(class|module)\s+/,a]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:h},{match:[/(include|extend)\s+/,a],scope:{2:"title.class"},keywords:h},{relevance:0,match:[a,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:o,scope:"title.class"},{match:[/def/,/\s+/,s],scope:{1:"keyword",3:"title.function"},contains:[it]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[$,{begin:s}],relevance:0},nt,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:h},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,j],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(b,_),relevance:0}].concat(b,_);j.contains=ct,it.contains=ct;const xt=[{begin:/^\s*=>/,starts:{end:"$",contains:ct}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:h,contains:ct}}];return _.unshift(b),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:h,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(xt).concat(_).concat(ct)}}function rust(e){const i=e.regex,s=/(r#)?/,o=i.concat(s,e.UNDERSCORE_IDENT_RE),a=i.concat(s,e.IDENT_RE),d={className:"title.function.invoke",relevance:0,begin:i.concat(/\b/,/(?!let|for|while|if|else|match\b)/,a,i.lookahead(/\s*\(/))},h="([ui](8|16|32|64|128|size)|f(32|64))?",g=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],b=["true","false","Some","None","Ok","Err"],_=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],j=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:j,keyword:g,literal:b,built_in:_},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+h},{begin:"\\b0o([0-7_]+)"+h},{begin:"\\b0x([A-Fa-f0-9_]+)"+h},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+h}],relevance:0},{begin:[/fn/,/\s+/,o],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,o],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,o,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,o],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,o],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:_,type:j}},{className:"punctuation",begin:"->"},d]}}const MODES$1=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HTML_TAGS=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SVG_TAGS=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],TAGS=[...HTML_TAGS,...SVG_TAGS],MEDIA_FEATURES=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),PSEUDO_CLASSES=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PSEUDO_ELEMENTS=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ATTRIBUTES=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function scss(e){const i=MODES$1(e),s=PSEUDO_ELEMENTS,o=PSEUDO_CLASSES,a="@[a-z-]+",d="and or not only",g={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,i.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},i.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+TAGS.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+o.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+s.join("|")+")"},g,{begin:/\(/,end:/\)/,contains:[i.CSS_NUMBER_MODE]},i.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ATTRIBUTES.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[i.BLOCK_COMMENT,g,i.HEXCOLOR,i.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,i.IMPORTANT,i.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:a,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:d,attribute:MEDIA_FEATURES.join(" ")},contains:[{begin:a,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},g,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,i.HEXCOLOR,i.CSS_NUMBER_MODE]},i.FUNCTION_DISPATCH]}}function shell(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function sql(e){const i=e.regex,s=e.COMMENT("--","$"),o={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},d=["true","false","unknown"],h=["double precision","large object","with timezone","without timezone"],g=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],b=["add","asc","collation","desc","final","first","last","view"],_=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],j=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],$=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],_e=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],et=j,nt=[..._,...b].filter(lt=>!j.includes(lt)),it={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},st={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},tt={match:i.concat(/\b/,i.either(...et),/\s*\(/),relevance:0,keywords:{built_in:et}};function rt(lt){return i.concat(/\b/,i.either(...lt.map(ct=>ct.replace(/\s+/,"\\s+"))),/\b/)}const ot={scope:"keyword",match:rt(_e),relevance:0};function ut(lt,{exceptions:ct,when:dt}={}){const ht=dt;return ct=ct||[],lt.map(mt=>mt.match(/\|\d+$/)||ct.includes(mt)?mt:ht(mt)?`${mt}|0`:mt)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:ut(nt,{when:lt=>lt.length<3}),literal:d,type:g,built_in:$},contains:[{scope:"type",match:rt(h)},ot,tt,it,o,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,s,st]}}function source$1(e){return e?typeof e=="string"?e:e.source:null}function lookahead$1(e){return concat$1("(?=",e,")")}function concat$1(...e){return e.map(s=>source$1(s)).join("")}function stripOptionsFromArgs$1(e){const i=e[e.length-1];return typeof i=="object"&&i.constructor===Object?(e.splice(e.length-1,1),i):{}}function either$1(...e){return"("+(stripOptionsFromArgs$1(e).capture?"":"?:")+e.map(o=>source$1(o)).join("|")+")"}const keywordWrapper=e=>concat$1(/\b/,e,/\w$/.test(e)?/\b/:/\B/),dotKeywords=["Protocol","Type"].map(keywordWrapper),optionalDotKeywords=["init","self"].map(keywordWrapper),keywordTypes=["Any","Self"],keywords=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],literals=["false","nil","true"],precedencegroupKeywords=["assignment","associativity","higherThan","left","lowerThan","none","right"],numberSignKeywords=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],builtIns=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],operatorHead=either$1(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),operatorCharacter=either$1(operatorHead,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),operator=concat$1(operatorHead,operatorCharacter,"*"),identifierHead=either$1(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),identifierCharacter=either$1(identifierHead,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),identifier=concat$1(identifierHead,identifierCharacter,"*"),typeIdentifier=concat$1(/[A-Z]/,identifierCharacter,"*"),keywordAttributes=["attached","autoclosure",concat$1(/convention\(/,either$1("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",concat$1(/objc\(/,identifier,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],availabilityKeywords=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function swift(e){const i={match:/\s+/,relevance:0},s=e.COMMENT("/\\*","\\*/",{contains:["self"]}),o=[e.C_LINE_COMMENT_MODE,s],a={match:[/\./,either$1(...dotKeywords,...optionalDotKeywords)],className:{2:"keyword"}},d={match:concat$1(/\./,either$1(...keywords)),relevance:0},h=keywords.filter(Ft=>typeof Ft=="string").concat(["_|0"]),g=keywords.filter(Ft=>typeof Ft!="string").concat(keywordTypes).map(keywordWrapper),b={variants:[{className:"keyword",match:either$1(...g,...optionalDotKeywords)}]},_={$pattern:either$1(/\b\w+/,/#\w+/),keyword:h.concat(numberSignKeywords),literal:literals},j=[a,d,b],$={match:concat$1(/\./,either$1(...builtIns)),relevance:0},_e={className:"built_in",match:concat$1(/\b/,either$1(...builtIns),/(?=\()/)},et=[$,_e],nt={match:/->/,relevance:0},it={className:"operator",relevance:0,variants:[{match:operator},{match:`\\.(\\.|${operatorCharacter})+`}]},st=[nt,it],tt="([0-9]_*)+",rt="([0-9a-fA-F]_*)+",ot={className:"number",relevance:0,variants:[{match:`\\b(${tt})(\\.(${tt}))?([eE][+-]?(${tt}))?\\b`},{match:`\\b0x(${rt})(\\.(${rt}))?([pP][+-]?(${tt}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},ut=(Ft="")=>({className:"subst",variants:[{match:concat$1(/\\/,Ft,/[0\\tnr"']/)},{match:concat$1(/\\/,Ft,/u\{[0-9a-fA-F]{1,8}\}/)}]}),lt=(Ft="")=>({className:"subst",match:concat$1(/\\/,Ft,/[\t ]*(?:[\r\n]|\r\n)/)}),ct=(Ft="")=>({className:"subst",label:"interpol",begin:concat$1(/\\/,Ft,/\(/),end:/\)/}),dt=(Ft="")=>({begin:concat$1(Ft,/"""/),end:concat$1(/"""/,Ft),contains:[ut(Ft),lt(Ft),ct(Ft)]}),ht=(Ft="")=>({begin:concat$1(Ft,/"/),end:concat$1(/"/,Ft),contains:[ut(Ft),ct(Ft)]}),mt={className:"string",variants:[dt(),dt("#"),dt("##"),dt("###"),ht(),ht("#"),ht("##"),ht("###")]},xt=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],ft={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:xt},bt=Ft=>{const Vt=concat$1(Ft,/\//),vt=concat$1(/\//,Ft);return{begin:Vt,end:vt,contains:[...xt,{scope:"comment",begin:`#(?!.*${vt})`,end:/$/}]}},wt={scope:"regexp",variants:[bt("###"),bt("##"),bt("#"),ft]},Ct={match:concat$1(/`/,identifier,/`/)},Tt={className:"variable",match:/\$\d+/},St={className:"variable",match:`\\$${identifierCharacter}+`},At=[Ct,Tt,St],Rt={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:availabilityKeywords,contains:[...st,ot,mt]}]}},Et={scope:"keyword",match:concat$1(/@/,either$1(...keywordAttributes),lookahead$1(either$1(/\(/,/\s+/)))},gt={scope:"meta",match:concat$1(/@/,identifier)},Mt=[Rt,Et,gt],_t={match:lookahead$1(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:concat$1(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,identifierCharacter,"+")},{className:"type",match:typeIdentifier,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:concat$1(/\s+&\s+/,lookahead$1(typeIdentifier)),relevance:0}]},at={begin:/</,end:/>/,keywords:_,contains:[...o,...j,...Mt,nt,_t]};_t.contains.push(at);const yt={match:concat$1(identifier,/\s*:/),keywords:"_|0",relevance:0},kt={begin:/\(/,end:/\)/,relevance:0,keywords:_,contains:["self",yt,...o,wt,...j,...et,...st,ot,mt,...At,...Mt,_t]},Pt={begin:/</,end:/>/,keywords:"repeat each",contains:[...o,_t]},jt={begin:either$1(lookahead$1(concat$1(identifier,/\s*:/)),lookahead$1(concat$1(identifier,/\s+/,identifier,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:identifier}]},Lt={begin:/\(/,end:/\)/,keywords:_,contains:[jt,...o,...j,...st,ot,mt,...Mt,_t,kt],endsParent:!0,illegal:/["']/},Ut={match:[/(func|macro)/,/\s+/,either$1(Ct.match,identifier,operator)],className:{1:"keyword",3:"title.function"},contains:[Pt,Lt,i],illegal:[/\[/,/%/]},Xt={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Pt,Lt,i],illegal:/\[|%/},Qt={match:[/operator/,/\s+/,operator],className:{1:"keyword",3:"title"}},rn={begin:[/precedencegroup/,/\s+/,typeIdentifier],className:{1:"keyword",3:"title"},contains:[_t],keywords:[...precedencegroupKeywords,...literals],end:/}/},ln={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},an={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},qt={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,identifier,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:_,contains:[Pt,...j,{begin:/:/,end:/\{/,keywords:_,contains:[{scope:"title.class.inherited",match:typeIdentifier},...j],relevance:0}]};for(const Ft of mt.variants){const Vt=Ft.contains.find(It=>It.label==="interpol");Vt.keywords=_;const vt=[...j,...et,...st,ot,mt,...At];Vt.contains=[...vt,{begin:/\(/,end:/\)/,contains:["self",...vt]}]}return{name:"Swift",keywords:_,contains:[...o,Ut,Xt,ln,an,qt,Qt,rn,{beginKeywords:"import",end:/$/,contains:[...o],relevance:0},wt,...j,...et,...st,ot,mt,...At,...Mt,_t,kt]}}const IDENT_RE$1="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],LITERALS=["true","false","null","undefined","NaN","Infinity"],TYPES=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ERROR_TYPES=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],BUILT_INS=[].concat(BUILT_IN_GLOBALS,TYPES,ERROR_TYPES);function javascript(e){const i=e.regex,s=(Rt,{after:Et})=>{const gt="</"+Rt[0].slice(1);return Rt.input.indexOf(gt,Et)!==-1},o=IDENT_RE$1,a={begin:"<>",end:"</>"},d=/<[A-Za-z0-9\\._:-]+\s*\/>/,h={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Rt,Et)=>{const gt=Rt[0].length+Rt.index,Mt=Rt.input[gt];if(Mt==="<"||Mt===","){Et.ignoreMatch();return}Mt===">"&&(s(Rt,{after:gt})||Et.ignoreMatch());let _t;const at=Rt.input.substring(gt);if(_t=at.match(/^\s*=/)){Et.ignoreMatch();return}if((_t=at.match(/^\s+extends\s+/))&&_t.index===0){Et.ignoreMatch();return}}},g={$pattern:IDENT_RE$1,keyword:KEYWORDS,literal:LITERALS,built_in:BUILT_INS,"variable.language":BUILT_IN_VARIABLES},b="[0-9](_?[0-9])*",_=`\\.(${b})`,j="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",$={className:"number",variants:[{begin:`(\\b(${j})((${_})|\\.)?|(${_}))[eE][+-]?(${b})\\b`},{begin:`\\b(${j})\\b((${_})\\b|\\.)?|(${_})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_e={className:"subst",begin:"\\$\\{",end:"\\}",keywords:g,contains:[]},et={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_e],subLanguage:"xml"}},nt={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_e],subLanguage:"css"}},it={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_e],subLanguage:"graphql"}},st={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,_e]},rt={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:o+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},ot=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,et,nt,it,st,{match:/\$\d+/},$];_e.contains=ot.concat({begin:/\{/,end:/\}/,keywords:g,contains:["self"].concat(ot)});const ut=[].concat(rt,_e.contains),lt=ut.concat([{begin:/(\s*)\(/,end:/\)/,keywords:g,contains:["self"].concat(ut)}]),ct={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:g,contains:lt},dt={variants:[{match:[/class/,/\s+/,o,/\s+/,/extends/,/\s+/,i.concat(o,"(",i.concat(/\./,o),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,o],scope:{1:"keyword",3:"title.class"}}]},ht={relevance:0,match:i.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...TYPES,...ERROR_TYPES]}},mt={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},xt={variants:[{match:[/function/,/\s+/,o,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[ct],illegal:/%/},ft={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function bt(Rt){return i.concat("(?!",Rt.join("|"),")")}const wt={match:i.concat(/\b/,bt([...BUILT_IN_GLOBALS,"super","import"].map(Rt=>`${Rt}\\s*\\(`)),o,i.lookahead(/\s*\(/)),className:"title.function",relevance:0},Ct={begin:i.concat(/\./,i.lookahead(i.concat(o,/(?![0-9A-Za-z$_(])/))),end:o,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Tt={match:[/get|set/,/\s+/,o,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},ct]},St="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",At={match:[/const|var|let/,/\s+/,o,/\s*/,/=\s*/,/(async\s*)?/,i.lookahead(St)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[ct]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:g,exports:{PARAMS_CONTAINS:lt,CLASS_REFERENCE:ht},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),mt,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,et,nt,it,st,rt,{match:/\$\d+/},$,ht,{scope:"attr",match:o+i.lookahead(":"),relevance:0},At,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[rt,e.REGEXP_MODE,{className:"function",begin:St,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:g,contains:lt}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:d},{begin:h.begin,"on:begin":h.isTrulyOpeningTag,end:h.end}],subLanguage:"xml",contains:[{begin:h.begin,end:h.end,skip:!0,contains:["self"]}]}]},xt,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[ct,e.inherit(e.TITLE_MODE,{begin:o,className:"title.function"})]},{match:/\.\.\./,relevance:0},Ct,{match:"\\$"+o,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[ct]},wt,ft,dt,Tt,{match:/\$[(.]/}]}}function typescript(e){const i=e.regex,s=javascript(e),o=IDENT_RE$1,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],d={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},h={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[s.exports.CLASS_REFERENCE]},g={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},b=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],_={$pattern:IDENT_RE$1,keyword:KEYWORDS.concat(b),literal:LITERALS,built_in:BUILT_INS.concat(a),"variable.language":BUILT_IN_VARIABLES},j={className:"meta",begin:"@"+o},$=(it,st,tt)=>{const rt=it.contains.findIndex(ot=>ot.label===st);if(rt===-1)throw new Error("can not find mode to replace");it.contains.splice(rt,1,tt)};Object.assign(s.keywords,_),s.exports.PARAMS_CONTAINS.push(j);const _e=s.contains.find(it=>it.scope==="attr"),et=Object.assign({},_e,{match:i.concat(o,i.lookahead(/\s*\?:/))});s.exports.PARAMS_CONTAINS.push([s.exports.CLASS_REFERENCE,_e,et]),s.contains=s.contains.concat([j,d,h,et]),$(s,"shebang",e.SHEBANG()),$(s,"use_strict",g);const nt=s.contains.find(it=>it.label==="func.def");return nt.relevance=0,Object.assign(s,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),s}function vbnet(e){const i=e.regex,s={className:"string",begin:/"(""|[^/n])"C\b/},o={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},a=/\d{1,2}\/\d{1,2}\/\d{4}/,d=/\d{4}-\d{1,2}-\d{1,2}/,h=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,g=/\d{1,2}(:\d{1,2}){1,2}/,b={className:"literal",variants:[{begin:i.concat(/# */,i.either(d,a),/ *#/)},{begin:i.concat(/# */,g,/ *#/)},{begin:i.concat(/# */,h,/ *#/)},{begin:i.concat(/# */,i.either(d,a),/ +/,i.either(h,g),/ *#/)}]},_={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},j={className:"label",begin:/^\w+:/},$=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),_e=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[s,o,b,_,j,$,_e,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[_e]}]}}function wasm(e){e.regex;const i=e.COMMENT(/\(;/,/;\)/);i.contains.push("self");const s=e.COMMENT(/;;/,/$/),o=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],a={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},d={className:"variable",begin:/\$[\w_]+/},h={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},g={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},b={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},_={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:o},contains:[s,i,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},d,h,a,e.QUOTE_STRING_MODE,b,_,g]}}function xml(e){const i=e.regex,s=i.concat(/[\p{L}_]/u,i.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),o=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},d={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},h=e.inherit(d,{begin:/\(/,end:/\)/}),g=e.inherit(e.APOS_STRING_MODE,{className:"string"}),b=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),_={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:o,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[d,b,g,h,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[d,h,b,g]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[b]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[_],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[_],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:i.concat(/</,i.lookahead(i.concat(s,i.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:s,relevance:0,starts:_}]},{className:"tag",begin:i.concat(/<\//,i.lookahead(i.concat(s,/>/))),contains:[{className:"name",begin:s,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function yaml(e){const i="true false yes no null",s="[\\w#;/?:@&=+$,.~*'()[\\]]+",o={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},d={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},h={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},g=e.inherit(h,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),_e={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},et={end:",",endsWithParent:!0,excludeEnd:!0,keywords:i,relevance:0},nt={begin:/\{/,end:/\}/,contains:[et],illegal:"\\n",relevance:0},it={begin:"\\[",end:"\\]",contains:[et],illegal:"\\n",relevance:0},st=[o,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+s},{className:"type",begin:"!<"+s+">"},{className:"type",begin:"!"+s},{className:"type",begin:"!!"+s},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:i,keywords:{literal:i}},_e,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},nt,it,d,h],tt=[...st];return tt.pop(),tt.push(g),et.contains=tt,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:st}}const grammars={arduino,bash,c,cpp,csharp,css,diff,go,graphql,ini,java,javascript:javascript$1,json,kotlin,less,lua,makefile,markdown,objectivec,perl,php,"php-template":phpTemplate,plaintext,python,"python-repl":pythonRepl,r,ruby,rust,scss,shell,sql,swift,typescript,vbnet,wasm,xml,yaml};function deepFreeze(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i],o=typeof s;(o==="object"||o==="function")&&!Object.isFrozen(s)&&deepFreeze(s)}),e}class Response{constructor(i){i.data===void 0&&(i.data={}),this.data=i.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function escapeHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function inherit$1(e,...i){const s=Object.create(null);for(const o in e)s[o]=e[o];return i.forEach(function(o){for(const a in o)s[a]=o[a]}),s}const SPAN_CLOSE="</span>",emitsWrappingTags=e=>!!e.scope,scopeToCSSClass=(e,{prefix:i})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const s=e.split(".");return[`${i}${s.shift()}`,...s.map((o,a)=>`${o}${"_".repeat(a+1)}`)].join(" ")}return`${i}${e}`};class HTMLRenderer{constructor(i,s){this.buffer="",this.classPrefix=s.classPrefix,i.walk(this)}addText(i){this.buffer+=escapeHTML(i)}openNode(i){if(!emitsWrappingTags(i))return;const s=scopeToCSSClass(i.scope,{prefix:this.classPrefix});this.span(s)}closeNode(i){emitsWrappingTags(i)&&(this.buffer+=SPAN_CLOSE)}value(){return this.buffer}span(i){this.buffer+=`<span class="${i}">`}}const newNode=(e={})=>{const i={children:[]};return Object.assign(i,e),i};class TokenTree{constructor(){this.rootNode=newNode(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(i){this.top.children.push(i)}openNode(i){const s=newNode({scope:i});this.add(s),this.stack.push(s)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(i){return this.constructor._walk(i,this.rootNode)}static _walk(i,s){return typeof s=="string"?i.addText(s):s.children&&(i.openNode(s),s.children.forEach(o=>this._walk(i,o)),i.closeNode(s)),i}static _collapse(i){typeof i!="string"&&i.children&&(i.children.every(s=>typeof s=="string")?i.children=[i.children.join("")]:i.children.forEach(s=>{TokenTree._collapse(s)}))}}class TokenTreeEmitter extends TokenTree{constructor(i){super(),this.options=i}addText(i){i!==""&&this.add(i)}startScope(i){this.openNode(i)}endScope(){this.closeNode()}__addSublanguage(i,s){const o=i.root;s&&(o.scope=`language:${s}`),this.add(o)}toHTML(){return new HTMLRenderer(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function source(e){return e?typeof e=="string"?e:e.source:null}function lookahead(e){return concat("(?=",e,")")}function anyNumberOfTimes(e){return concat("(?:",e,")*")}function optional(e){return concat("(?:",e,")?")}function concat(...e){return e.map(s=>source(s)).join("")}function stripOptionsFromArgs(e){const i=e[e.length-1];return typeof i=="object"&&i.constructor===Object?(e.splice(e.length-1,1),i):{}}function either(...e){return"("+(stripOptionsFromArgs(e).capture?"":"?:")+e.map(o=>source(o)).join("|")+")"}function countMatchGroups(e){return new RegExp(e.toString()+"|").exec("").length-1}function startsWith(e,i){const s=e&&e.exec(i);return s&&s.index===0}const BACKREF_RE=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _rewriteBackreferences(e,{joinWith:i}){let s=0;return e.map(o=>{s+=1;const a=s;let d=source(o),h="";for(;d.length>0;){const g=BACKREF_RE.exec(d);if(!g){h+=d;break}h+=d.substring(0,g.index),d=d.substring(g.index+g[0].length),g[0][0]==="\\"&&g[1]?h+="\\"+String(Number(g[1])+a):(h+=g[0],g[0]==="("&&s++)}return h}).map(o=>`(${o})`).join(i)}const MATCH_NOTHING_RE=/\b\B/,IDENT_RE="[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",NUMBER_RE="\\b\\d+(\\.\\d+)?",C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",BINARY_NUMBER_RE="\\b(0b[01]+)",RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG=(e={})=>{const i=/^#![ ]*\//;return e.binary&&(e.begin=concat(i,/.*\b/,e.binary,/\b.*/)),inherit$1({scope:"meta",begin:i,end:/$/,relevance:0,"on:begin":(s,o)=>{s.index!==0&&o.ignoreMatch()}},e)},BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},APOS_STRING_MODE={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[BACKSLASH_ESCAPE]},QUOTE_STRING_MODE={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[BACKSLASH_ESCAPE]},PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT=function(e,i,s={}){const o=inherit$1({scope:"comment",begin:e,end:i,contains:[]},s);o.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const a=either("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return o.contains.push({begin:concat(/[ ]+/,"(",a,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),o},C_LINE_COMMENT_MODE=COMMENT("//","$"),C_BLOCK_COMMENT_MODE=COMMENT("/\\*","\\*/"),HASH_COMMENT_MODE=COMMENT("#","$"),NUMBER_MODE={scope:"number",begin:NUMBER_RE,relevance:0},C_NUMBER_MODE={scope:"number",begin:C_NUMBER_RE,relevance:0},BINARY_NUMBER_MODE={scope:"number",begin:BINARY_NUMBER_RE,relevance:0},REGEXP_MODE={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[BACKSLASH_ESCAPE]}]},TITLE_MODE={scope:"title",begin:IDENT_RE,relevance:0},UNDERSCORE_TITLE_MODE={scope:"title",begin:UNDERSCORE_IDENT_RE,relevance:0},METHOD_GUARD={begin:"\\.\\s*"+UNDERSCORE_IDENT_RE,relevance:0},END_SAME_AS_BEGIN=function(e){return Object.assign(e,{"on:begin":(i,s)=>{s.data._beginMatch=i[1]},"on:end":(i,s)=>{s.data._beginMatch!==i[1]&&s.ignoreMatch()}})};var MODES=Object.freeze({__proto__:null,APOS_STRING_MODE,BACKSLASH_ESCAPE,BINARY_NUMBER_MODE,BINARY_NUMBER_RE,COMMENT,C_BLOCK_COMMENT_MODE,C_LINE_COMMENT_MODE,C_NUMBER_MODE,C_NUMBER_RE,END_SAME_AS_BEGIN,HASH_COMMENT_MODE,IDENT_RE,MATCH_NOTHING_RE,METHOD_GUARD,NUMBER_MODE,NUMBER_RE,PHRASAL_WORDS_MODE,QUOTE_STRING_MODE,REGEXP_MODE,RE_STARTERS_RE,SHEBANG,TITLE_MODE,UNDERSCORE_IDENT_RE,UNDERSCORE_TITLE_MODE});function skipIfHasPrecedingDot(e,i){e.input[e.index-1]==="."&&i.ignoreMatch()}function scopeClassName(e,i){e.className!==void 0&&(e.scope=e.className,delete e.className)}function beginKeywords(e,i){i&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=skipIfHasPrecedingDot,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function compileIllegal(e,i){Array.isArray(e.illegal)&&(e.illegal=either(...e.illegal))}function compileMatch(e,i){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function compileRelevance(e,i){e.relevance===void 0&&(e.relevance=1)}const beforeMatchExt=(e,i)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const s=Object.assign({},e);Object.keys(e).forEach(o=>{delete e[o]}),e.keywords=s.keywords,e.begin=concat(s.beforeMatch,lookahead(s.begin)),e.starts={relevance:0,contains:[Object.assign(s,{endsParent:!0})]},e.relevance=0,delete s.beforeMatch},COMMON_KEYWORDS=["of","and","for","in","not","or","if","then","parent","list","value"],DEFAULT_KEYWORD_SCOPE="keyword";function compileKeywords(e,i,s=DEFAULT_KEYWORD_SCOPE){const o=Object.create(null);return typeof e=="string"?a(s,e.split(" ")):Array.isArray(e)?a(s,e):Object.keys(e).forEach(function(d){Object.assign(o,compileKeywords(e[d],i,d))}),o;function a(d,h){i&&(h=h.map(g=>g.toLowerCase())),h.forEach(function(g){const b=g.split("|");o[b[0]]=[d,scoreForKeyword(b[0],b[1])]})}}function scoreForKeyword(e,i){return i?Number(i):commonKeyword(e)?0:1}function commonKeyword(e){return COMMON_KEYWORDS.includes(e.toLowerCase())}const seenDeprecations={},error=e=>{console.error(e)},warn=(e,...i)=>{console.log(`WARN: ${e}`,...i)},deprecated=(e,i)=>{seenDeprecations[`${e}/${i}`]||(console.log(`Deprecated as of ${e}. ${i}`),seenDeprecations[`${e}/${i}`]=!0)},MultiClassError=new Error;function remapScopeNames(e,i,{key:s}){let o=0;const a=e[s],d={},h={};for(let g=1;g<=i.length;g++)h[g+o]=a[g],d[g+o]=!0,o+=countMatchGroups(i[g-1]);e[s]=h,e[s]._emit=d,e[s]._multi=!0}function beginMultiClass(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw error("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),MultiClassError;if(typeof e.beginScope!="object"||e.beginScope===null)throw error("beginScope must be object"),MultiClassError;remapScopeNames(e,e.begin,{key:"beginScope"}),e.begin=_rewriteBackreferences(e.begin,{joinWith:""})}}function endMultiClass(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw error("skip, excludeEnd, returnEnd not compatible with endScope: {}"),MultiClassError;if(typeof e.endScope!="object"||e.endScope===null)throw error("endScope must be object"),MultiClassError;remapScopeNames(e,e.end,{key:"endScope"}),e.end=_rewriteBackreferences(e.end,{joinWith:""})}}function scopeSugar(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function MultiClass(e){scopeSugar(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),beginMultiClass(e),endMultiClass(e)}function compileLanguage(e){function i(h,g){return new RegExp(source(h),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(g?"g":""))}class s{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(g,b){b.position=this.position++,this.matchIndexes[this.matchAt]=b,this.regexes.push([b,g]),this.matchAt+=countMatchGroups(g)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const g=this.regexes.map(b=>b[1]);this.matcherRe=i(_rewriteBackreferences(g,{joinWith:"|"}),!0),this.lastIndex=0}exec(g){this.matcherRe.lastIndex=this.lastIndex;const b=this.matcherRe.exec(g);if(!b)return null;const _=b.findIndex(($,_e)=>_e>0&&$!==void 0),j=this.matchIndexes[_];return b.splice(0,_),Object.assign(b,j)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(g){if(this.multiRegexes[g])return this.multiRegexes[g];const b=new s;return this.rules.slice(g).forEach(([_,j])=>b.addRule(_,j)),b.compile(),this.multiRegexes[g]=b,b}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(g,b){this.rules.push([g,b]),b.type==="begin"&&this.count++}exec(g){const b=this.getMatcher(this.regexIndex);b.lastIndex=this.lastIndex;let _=b.exec(g);if(this.resumingScanAtSamePosition()&&!(_&&_.index===this.lastIndex)){const j=this.getMatcher(0);j.lastIndex=this.lastIndex+1,_=j.exec(g)}return _&&(this.regexIndex+=_.position+1,this.regexIndex===this.count&&this.considerAll()),_}}function a(h){const g=new o;return h.contains.forEach(b=>g.addRule(b.begin,{rule:b,type:"begin"})),h.terminatorEnd&&g.addRule(h.terminatorEnd,{type:"end"}),h.illegal&&g.addRule(h.illegal,{type:"illegal"}),g}function d(h,g){const b=h;if(h.isCompiled)return b;[scopeClassName,compileMatch,MultiClass,beforeMatchExt].forEach(j=>j(h,g)),e.compilerExtensions.forEach(j=>j(h,g)),h.__beforeBegin=null,[beginKeywords,compileIllegal,compileRelevance].forEach(j=>j(h,g)),h.isCompiled=!0;let _=null;return typeof h.keywords=="object"&&h.keywords.$pattern&&(h.keywords=Object.assign({},h.keywords),_=h.keywords.$pattern,delete h.keywords.$pattern),_=_||/\w+/,h.keywords&&(h.keywords=compileKeywords(h.keywords,e.case_insensitive)),b.keywordPatternRe=i(_,!0),g&&(h.begin||(h.begin=/\B|\b/),b.beginRe=i(b.begin),!h.end&&!h.endsWithParent&&(h.end=/\B|\b/),h.end&&(b.endRe=i(b.end)),b.terminatorEnd=source(b.end)||"",h.endsWithParent&&g.terminatorEnd&&(b.terminatorEnd+=(h.end?"|":"")+g.terminatorEnd)),h.illegal&&(b.illegalRe=i(h.illegal)),h.contains||(h.contains=[]),h.contains=[].concat(...h.contains.map(function(j){return expandOrCloneMode(j==="self"?h:j)})),h.contains.forEach(function(j){d(j,b)}),h.starts&&d(h.starts,g),b.matcher=a(b),b}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=inherit$1(e.classNameAliases||{}),d(e)}function dependencyOnParent(e){return e?e.endsWithParent||dependencyOnParent(e.starts):!1}function expandOrCloneMode(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(i){return inherit$1(e,{variants:null},i)})),e.cachedVariants?e.cachedVariants:dependencyOnParent(e)?inherit$1(e,{starts:e.starts?inherit$1(e.starts):null}):Object.isFrozen(e)?inherit$1(e):e}var version="11.11.1";class HTMLInjectionError extends Error{constructor(i,s){super(i),this.name="HTMLInjectionError",this.html=s}}const escape$1=escapeHTML,inherit=inherit$1,NO_MATCH=Symbol("nomatch"),MAX_KEYWORD_HITS=7,HLJS=function(e){const i=Object.create(null),s=Object.create(null),o=[];let a=!0;const d="Could not find the language '{}', did you forget to load/include a language module?",h={disableAutodetect:!0,name:"Plain text",contains:[]};let g={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:TokenTreeEmitter};function b(St){return g.noHighlightRe.test(St)}function _(St){let At=St.className+" ";At+=St.parentNode?St.parentNode.className:"";const Rt=g.languageDetectRe.exec(At);if(Rt){const Et=ht(Rt[1]);return Et||(warn(d.replace("{}",Rt[1])),warn("Falling back to no-highlight mode for this block.",St)),Et?Rt[1]:"no-highlight"}return At.split(/\s+/).find(Et=>b(Et)||ht(Et))}function j(St,At,Rt){let Et="",gt="";typeof At=="object"?(Et=St,Rt=At.ignoreIllegals,gt=At.language):(deprecated("10.7.0","highlight(lang, code, ...args) has been deprecated."),deprecated("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),gt=St,Et=At),Rt===void 0&&(Rt=!0);const Mt={code:Et,language:gt};Ct("before:highlight",Mt);const _t=Mt.result?Mt.result:$(Mt.language,Mt.code,Rt);return _t.code=Mt.code,Ct("after:highlight",_t),_t}function $(St,At,Rt,Et){const gt=Object.create(null);function Mt(Dt,$t){return Dt.keywords[$t]}function _t(){if(!vt.keywords){zt.addText(Wt);return}let Dt=0;vt.keywordPatternRe.lastIndex=0;let $t=vt.keywordPatternRe.exec(Wt),hn="";for(;$t;){hn+=Wt.substring(Dt,$t.index);const gn=qt.case_insensitive?$t[0].toLowerCase():$t[0],vn=Mt(vt,gn);if(vn){const[yn,wn]=vn;if(zt.addText(hn),hn="",gt[gn]=(gt[gn]||0)+1,gt[gn]<=MAX_KEYWORD_HITS&&(sn+=wn),yn.startsWith("_"))hn+=$t[0];else{const Nn=qt.classNameAliases[yn]||yn;kt($t[0],Nn)}}else hn+=$t[0];Dt=vt.keywordPatternRe.lastIndex,$t=vt.keywordPatternRe.exec(Wt)}hn+=Wt.substring(Dt),zt.addText(hn)}function at(){if(Wt==="")return;let Dt=null;if(typeof vt.subLanguage=="string"){if(!i[vt.subLanguage]){zt.addText(Wt);return}Dt=$(vt.subLanguage,Wt,!0,It[vt.subLanguage]),It[vt.subLanguage]=Dt._top}else Dt=et(Wt,vt.subLanguage.length?vt.subLanguage:null);vt.relevance>0&&(sn+=Dt.relevance),zt.__addSublanguage(Dt._emitter,Dt.language)}function yt(){vt.subLanguage!=null?at():_t(),Wt=""}function kt(Dt,$t){Dt!==""&&(zt.startScope($t),zt.addText(Dt),zt.endScope())}function Pt(Dt,$t){let hn=1;const gn=$t.length-1;for(;hn<=gn;){if(!Dt._emit[hn]){hn++;continue}const vn=qt.classNameAliases[Dt[hn]]||Dt[hn],yn=$t[hn];vn?kt(yn,vn):(Wt=yn,_t(),Wt=""),hn++}}function jt(Dt,$t){return Dt.scope&&typeof Dt.scope=="string"&&zt.openNode(qt.classNameAliases[Dt.scope]||Dt.scope),Dt.beginScope&&(Dt.beginScope._wrap?(kt(Wt,qt.classNameAliases[Dt.beginScope._wrap]||Dt.beginScope._wrap),Wt=""):Dt.beginScope._multi&&(Pt(Dt.beginScope,$t),Wt="")),vt=Object.create(Dt,{parent:{value:vt}}),vt}function Lt(Dt,$t,hn){let gn=startsWith(Dt.endRe,hn);if(gn){if(Dt["on:end"]){const vn=new Response(Dt);Dt["on:end"]($t,vn),vn.isMatchIgnored&&(gn=!1)}if(gn){for(;Dt.endsParent&&Dt.parent;)Dt=Dt.parent;return Dt}}if(Dt.endsWithParent)return Lt(Dt.parent,$t,hn)}function Ut(Dt){return vt.matcher.regexIndex===0?(Wt+=Dt[0],1):(Kt=!0,0)}function Xt(Dt){const $t=Dt[0],hn=Dt.rule,gn=new Response(hn),vn=[hn.__beforeBegin,hn["on:begin"]];for(const yn of vn)if(yn&&(yn(Dt,gn),gn.isMatchIgnored))return Ut($t);return hn.skip?Wt+=$t:(hn.excludeBegin&&(Wt+=$t),yt(),!hn.returnBegin&&!hn.excludeBegin&&(Wt=$t)),jt(hn,Dt),hn.returnBegin?0:$t.length}function Qt(Dt){const $t=Dt[0],hn=At.substring(Dt.index),gn=Lt(vt,Dt,hn);if(!gn)return NO_MATCH;const vn=vt;vt.endScope&&vt.endScope._wrap?(yt(),kt($t,vt.endScope._wrap)):vt.endScope&&vt.endScope._multi?(yt(),Pt(vt.endScope,Dt)):vn.skip?Wt+=$t:(vn.returnEnd||vn.excludeEnd||(Wt+=$t),yt(),vn.excludeEnd&&(Wt=$t));do vt.scope&&zt.closeNode(),!vt.skip&&!vt.subLanguage&&(sn+=vt.relevance),vt=vt.parent;while(vt!==gn.parent);return gn.starts&&jt(gn.starts,Dt),vn.returnEnd?0:$t.length}function rn(){const Dt=[];for(let $t=vt;$t!==qt;$t=$t.parent)$t.scope&&Dt.unshift($t.scope);Dt.forEach($t=>zt.openNode($t))}let ln={};function an(Dt,$t){const hn=$t&&$t[0];if(Wt+=Dt,hn==null)return yt(),0;if(ln.type==="begin"&&$t.type==="end"&&ln.index===$t.index&&hn===""){if(Wt+=At.slice($t.index,$t.index+1),!a){const gn=new Error(`0 width match regex (${St})`);throw gn.languageName=St,gn.badRule=ln.rule,gn}return 1}if(ln=$t,$t.type==="begin")return Xt($t);if($t.type==="illegal"&&!Rt){const gn=new Error('Illegal lexeme "'+hn+'" for mode "'+(vt.scope||"<unnamed>")+'"');throw gn.mode=vt,gn}else if($t.type==="end"){const gn=Qt($t);if(gn!==NO_MATCH)return gn}if($t.type==="illegal"&&hn==="")return Wt+=`
`,1;if(pn>1e5&&pn>$t.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Wt+=hn,hn.length}const qt=ht(St);if(!qt)throw error(d.replace("{}",St)),new Error('Unknown language: "'+St+'"');const Ft=compileLanguage(qt);let Vt="",vt=Et||Ft;const It={},zt=new g.__emitter(g);rn();let Wt="",sn=0,dn=0,pn=0,Kt=!1;try{if(qt.__emitTokens)qt.__emitTokens(At,zt);else{for(vt.matcher.considerAll();;){pn++,Kt?Kt=!1:vt.matcher.considerAll(),vt.matcher.lastIndex=dn;const Dt=vt.matcher.exec(At);if(!Dt)break;const $t=At.substring(dn,Dt.index),hn=an($t,Dt);dn=Dt.index+hn}an(At.substring(dn))}return zt.finalize(),Vt=zt.toHTML(),{language:St,value:Vt,relevance:sn,illegal:!1,_emitter:zt,_top:vt}}catch(Dt){if(Dt.message&&Dt.message.includes("Illegal"))return{language:St,value:escape$1(At),illegal:!0,relevance:0,_illegalBy:{message:Dt.message,index:dn,context:At.slice(dn-100,dn+100),mode:Dt.mode,resultSoFar:Vt},_emitter:zt};if(a)return{language:St,value:escape$1(At),illegal:!1,relevance:0,errorRaised:Dt,_emitter:zt,_top:vt};throw Dt}}function _e(St){const At={value:escape$1(St),illegal:!1,relevance:0,_top:h,_emitter:new g.__emitter(g)};return At._emitter.addText(St),At}function et(St,At){At=At||g.languages||Object.keys(i);const Rt=_e(St),Et=At.filter(ht).filter(xt).map(yt=>$(yt,St,!1));Et.unshift(Rt);const gt=Et.sort((yt,kt)=>{if(yt.relevance!==kt.relevance)return kt.relevance-yt.relevance;if(yt.language&&kt.language){if(ht(yt.language).supersetOf===kt.language)return 1;if(ht(kt.language).supersetOf===yt.language)return-1}return 0}),[Mt,_t]=gt,at=Mt;return at.secondBest=_t,at}function nt(St,At,Rt){const Et=At&&s[At]||Rt;St.classList.add("hljs"),St.classList.add(`language-${Et}`)}function it(St){let At=null;const Rt=_(St);if(b(Rt))return;if(Ct("before:highlightElement",{el:St,language:Rt}),St.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",St);return}if(St.children.length>0&&(g.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(St)),g.throwUnescapedHTML))throw new HTMLInjectionError("One of your code blocks includes unescaped HTML.",St.innerHTML);At=St;const Et=At.textContent,gt=Rt?j(Et,{language:Rt,ignoreIllegals:!0}):et(Et);St.innerHTML=gt.value,St.dataset.highlighted="yes",nt(St,Rt,gt.language),St.result={language:gt.language,re:gt.relevance,relevance:gt.relevance},gt.secondBest&&(St.secondBest={language:gt.secondBest.language,relevance:gt.secondBest.relevance}),Ct("after:highlightElement",{el:St,result:gt,text:Et})}function st(St){g=inherit(g,St)}const tt=()=>{ut(),deprecated("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function rt(){ut(),deprecated("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let ot=!1;function ut(){function St(){ut()}if(document.readyState==="loading"){ot||window.addEventListener("DOMContentLoaded",St,!1),ot=!0;return}document.querySelectorAll(g.cssSelector).forEach(it)}function lt(St,At){let Rt=null;try{Rt=At(e)}catch(Et){if(error("Language definition for '{}' could not be registered.".replace("{}",St)),a)error(Et);else throw Et;Rt=h}Rt.name||(Rt.name=St),i[St]=Rt,Rt.rawDefinition=At.bind(null,e),Rt.aliases&&mt(Rt.aliases,{languageName:St})}function ct(St){delete i[St];for(const At of Object.keys(s))s[At]===St&&delete s[At]}function dt(){return Object.keys(i)}function ht(St){return St=(St||"").toLowerCase(),i[St]||i[s[St]]}function mt(St,{languageName:At}){typeof St=="string"&&(St=[St]),St.forEach(Rt=>{s[Rt.toLowerCase()]=At})}function xt(St){const At=ht(St);return At&&!At.disableAutodetect}function ft(St){St["before:highlightBlock"]&&!St["before:highlightElement"]&&(St["before:highlightElement"]=At=>{St["before:highlightBlock"](Object.assign({block:At.el},At))}),St["after:highlightBlock"]&&!St["after:highlightElement"]&&(St["after:highlightElement"]=At=>{St["after:highlightBlock"](Object.assign({block:At.el},At))})}function bt(St){ft(St),o.push(St)}function wt(St){const At=o.indexOf(St);At!==-1&&o.splice(At,1)}function Ct(St,At){const Rt=St;o.forEach(function(Et){Et[Rt]&&Et[Rt](At)})}function Tt(St){return deprecated("10.7.0","highlightBlock will be removed entirely in v12.0"),deprecated("10.7.0","Please use highlightElement now."),it(St)}Object.assign(e,{highlight:j,highlightAuto:et,highlightAll:ut,highlightElement:it,highlightBlock:Tt,configure:st,initHighlighting:tt,initHighlightingOnLoad:rt,registerLanguage:lt,unregisterLanguage:ct,listLanguages:dt,getLanguage:ht,registerAliases:mt,autoDetection:xt,inherit,addPlugin:bt,removePlugin:wt}),e.debugMode=function(){a=!1},e.safeMode=function(){a=!0},e.versionString=version,e.regex={concat,lookahead,either,optional,anyNumberOfTimes};for(const St in MODES)typeof MODES[St]=="object"&&deepFreeze(MODES[St]);return Object.assign(e,MODES),e},highlight=HLJS({});highlight.newInstance=()=>HLJS({});var core=highlight;highlight.HighlightJS=highlight;highlight.default=highlight;const HighlightJS=getDefaultExportFromCjs(core),emptyOptions$1={},defaultPrefix="hljs-";function createLowlight(e){const i=HighlightJS.newInstance();return e&&d(e),{highlight:s,highlightAuto:o,listLanguages:a,register:d,registerAlias:h,registered:g};function s(b,_,j){const $=j||emptyOptions$1,_e=typeof $.prefix=="string"?$.prefix:defaultPrefix;if(!i.getLanguage(b))throw new Error("Unknown language: `"+b+"` is not registered");i.configure({__emitter:HastEmitter,classPrefix:_e});const et=i.highlight(_,{ignoreIllegals:!0,language:b});if(et.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:et.errorRaised});const nt=et._emitter.root,it=nt.data;return it.language=et.language,it.relevance=et.relevance,nt}function o(b,_){const $=(_||emptyOptions$1).subset||a();let _e=-1,et=0,nt;for(;++_e<$.length;){const it=$[_e];if(!i.getLanguage(it))continue;const st=s(it,b,_);st.data&&st.data.relevance!==void 0&&st.data.relevance>et&&(et=st.data.relevance,nt=st)}return nt||{type:"root",children:[],data:{language:void 0,relevance:et}}}function a(){return i.listLanguages()}function d(b,_){if(typeof b=="string")i.registerLanguage(b,_);else{let j;for(j in b)Object.hasOwn(b,j)&&i.registerLanguage(j,b[j])}}function h(b,_){if(typeof b=="string")i.registerAliases(typeof _=="string"?_:[..._],{languageName:b});else{let j;for(j in b)if(Object.hasOwn(b,j)){const $=b[j];i.registerAliases(typeof $=="string"?$:[...$],{languageName:j})}}}function g(b){return!!i.getLanguage(b)}}class HastEmitter{constructor(i){this.options=i,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(i){if(i==="")return;const s=this.stack[this.stack.length-1],o=s.children[s.children.length-1];o&&o.type==="text"?o.value+=i:s.children.push({type:"text",value:i})}startScope(i){this.openNode(String(i))}endScope(){this.closeNode()}__addSublanguage(i,s){const o=this.stack[this.stack.length-1],a=i.root.children;s?o.children.push({type:"element",tagName:"span",properties:{className:[s]},children:a}):o.children.push(...a)}openNode(i){const s=this,o=i.split(".").map(function(h,g){return g?h+"_".repeat(g):s.options.classPrefix+h}),a=this.stack[this.stack.length-1],d={type:"element",tagName:"span",properties:{className:o},children:[]};a.children.push(d),this.stack.push(d)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const emptyOptions={};function rehypeHighlight(e){const i=e||emptyOptions,s=i.aliases,o=i.detect||!1,a=i.languages||grammars,d=i.plainText,h=i.prefix,g=i.subset;let b="hljs";const _=createLowlight(a);if(s&&_.registerAlias(s),h){const j=h.indexOf("-");b=j===-1?h:h.slice(0,j)}return function(j,$){visit(j,"element",function(_e,et,nt){if(_e.tagName!=="code"||!nt||nt.type!=="element"||nt.tagName!=="pre")return;const it=language(_e);if(it===!1||!it&&!o||it&&d&&d.includes(it))return;Array.isArray(_e.properties.className)||(_e.properties.className=[]),_e.properties.className.includes(b)||_e.properties.className.unshift(b);const st=toText(_e,{whitespace:"pre"});let tt;try{tt=it?_.highlight(it,st,{prefix:h}):_.highlightAuto(st,{prefix:h,subset:g})}catch(rt){const ot=rt;if(it&&/Unknown language/.test(ot.message)){$.message("Cannot highlight as `"+it+"`, its not registered",{ancestors:[nt,_e],cause:ot,place:_e.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw ot}!it&&tt.data&&tt.data.language&&_e.properties.className.push("language-"+tt.data.language),tt.children.length>0&&(_e.children=tt.children)})}}function language(e){const i=e.properties.className;let s=-1;if(!Array.isArray(i))return;let o;for(;++s<i.length;){const a=String(i[s]);if(a==="no-highlight"||a==="nohighlight")return!1;!o&&a.slice(0,5)==="lang-"&&(o=a.slice(5)),!o&&a.slice(0,9)==="language-"&&(o=a.slice(9))}return o}function MarkdownRenderer({content:e,className:i}){return jsxRuntimeExports.jsx("div",{className:cn("prose prose-sm max-w-none dark:prose-invert",i),children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],rehypePlugins:[rehypeHighlight],components:{h1:({children:s})=>jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold text-text-primary mb-3 mt-4 first:mt-0",children:s}),h2:({children:s})=>jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-text-primary mb-2 mt-3 first:mt-0",children:s}),h3:({children:s})=>jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-text-primary mb-2 mt-2",children:s}),p:({children:s})=>jsxRuntimeExports.jsx("p",{className:"mb-3 last:mb-0 text-text-secondary leading-relaxed",children:s}),ul:({children:s})=>jsxRuntimeExports.jsx("ul",{className:"list-disc pl-5 mb-3 space-y-1 text-text-secondary",children:s}),ol:({children:s})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal pl-5 mb-3 space-y-1 text-text-secondary",children:s}),li:({children:s})=>jsxRuntimeExports.jsx("li",{className:"text-text-secondary",children:s}),code:({className:s,children:o,...a})=>s?jsxRuntimeExports.jsx("code",{className:cn("block font-mono text-sm",s),...a,children:o}):jsxRuntimeExports.jsx("code",{className:"bg-bg-tertiary text-text-primary px-1.5 py-0.5 rounded text-sm font-mono",...a,children:o}),pre:({children:s})=>jsxRuntimeExports.jsx("pre",{className:"bg-bg-tertiary border border-border rounded-lg p-4 overflow-x-auto mb-3 text-sm",children:s}),a:({href:s,children:o})=>jsxRuntimeExports.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-accent-hover underline underline-offset-2",children:o}),blockquote:({children:s})=>jsxRuntimeExports.jsx("blockquote",{className:"border-l-4 border-accent pl-4 py-1 my-3 bg-bg-tertiary/50 rounded-r text-text-secondary italic",children:s}),strong:({children:s})=>jsxRuntimeExports.jsx("strong",{className:"font-semibold text-text-primary",children:s}),em:({children:s})=>jsxRuntimeExports.jsx("em",{className:"italic",children:s}),hr:()=>jsxRuntimeExports.jsx("hr",{className:"border-border my-4"}),table:({children:s})=>jsxRuntimeExports.jsx("div",{className:"overflow-x-auto mb-3",children:jsxRuntimeExports.jsx("table",{className:"min-w-full border border-border rounded-lg",children:s})}),thead:({children:s})=>jsxRuntimeExports.jsx("thead",{className:"bg-bg-tertiary",children:s}),th:({children:s})=>jsxRuntimeExports.jsx("th",{className:"border border-border px-3 py-2 text-left text-sm font-semibold text-text-primary",children:s}),td:({children:s})=>jsxRuntimeExports.jsx("td",{className:"border border-border px-3 py-2 text-sm text-text-secondary",children:s})},children:e})})}function PDFViewerPage(){const{id:e}=useParams(),{token:i}=useAuthStore(),[s,o]=reactExports.useState(null),[a,d]=reactExports.useState(!0),[h,g]=reactExports.useState(null),[b,_]=reactExports.useState(""),[j,$]=reactExports.useState(1),[_e,et]=reactExports.useState(0),[nt,it]=reactExports.useState(""),[st,tt]=reactExports.useState([]),[rt,ot]=reactExports.useState(!1),[ut,lt]=reactExports.useState([]),[ct,dt]=reactExports.useState(""),[ht,mt]=reactExports.useState(!1),[xt,ft]=reactExports.useState(!1),[bt,wt]=reactExports.useState(""),[Ct,Tt]=reactExports.useState(!1),[St,At]=reactExports.useState(!1),[Rt,Et]=reactExports.useState([]),[gt,Mt]=reactExports.useState(!1),[_t,at]=reactExports.useState({}),[yt,kt]=reactExports.useState({}),{toast:Pt}=useToast();reactExports.useEffect(()=>{(async()=>{if(!e||!i){d(!1);return}try{const Ft=await fetch(apiEndpoint(`api/documents/${e}`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(Ft.ok){const Vt=await Ft.json();if(o(Vt.document),Vt.document.fileUrl)try{const vt=await fetch(Vt.document.fileUrl);if(vt.ok){const It=await vt.blob();g(It)}else console.error("Failed to fetch PDF from Blob:",vt.status)}catch(vt){console.error("Error fetching PDF from Blob:",vt)}else if(Vt.document.filePath)try{const vt=await fetch(apiEndpoint(`api/documents/${e}/file`),{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(vt.ok){const It=await vt.blob();g(It)}else console.error("Failed to fetch PDF file:",vt.status)}catch(vt){console.error("Error fetching PDF file:",vt)}}}catch(Ft){console.error("Error fetching document:",Ft)}finally{d(!1)}})()},[e,i]);const jt=reactExports.useCallback(qt=>{_(qt)},[]),Lt=reactExports.useCallback((qt,Ft)=>{it(qt),$(Ft)},[]),Ut=reactExports.useCallback((qt,Ft)=>{$(qt),et(Ft)},[]),Xt=()=>(localStorage.getItem("i18nextLng")||"en")==="pt-PT"?"Portuguese":"English",Qt=async()=>{if(!ct.trim()||ht)return;const qt=ct.trim();dt(""),lt(Ft=>[...Ft,{role:"user",content:qt}]),mt(!0);try{const Ft=await fetch(apiEndpoint(`api/ai/documents/${e}/chat`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include",body:JSON.stringify({message:qt,selectedText:b,pageContent:nt,pageNumber:j,selectedPages:st,language:Xt()})}),Vt=await Ft.json();if(Ft.ok)lt(vt=>[...vt,{role:"assistant",content:Vt.response}]),_("");else throw new Error(Vt.error||"Failed to get response")}catch(Ft){Pt({variant:"destructive",title:"Error",description:Ft instanceof Error?Ft.message:"Failed to send message"})}finally{mt(!1)}},rn=async()=>{if(!(s!=null&&s.content)){Pt({variant:"destructive",title:"No Content",description:"This document has no text content to summarize."});return}ft(!0),Tt(!0),wt("");try{const qt=await fetch(apiEndpoint(`api/ai/documents/${e}/summarize`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include",body:JSON.stringify({content:s.content,language:Xt()})}),Ft=await qt.json();if(qt.ok)wt(Ft.summary);else throw new Error(Ft.error||`Failed to generate summary (${qt.status})`)}catch(qt){console.error("Summarize error:",qt),Pt({variant:"destructive",title:"Summarize Error",description:qt instanceof Error?qt.message:"Failed to generate summary"}),ft(!1)}finally{Tt(!1)}},ln=async()=>{if(!(s!=null&&s.content)){Pt({variant:"destructive",title:"No Content",description:"This document has no text content to generate exercises from."});return}At(!0),Mt(!0),Et([]),at({}),kt({});try{const qt=await fetch(apiEndpoint(`api/ai/documents/${e}/exercises`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include",body:JSON.stringify({content:s.content,language:Xt()})}),Ft=await qt.json();if(qt.ok)Et(Ft.exercises||[]);else throw new Error(Ft.error||`Failed to generate exercises (${qt.status})`)}catch(qt){console.error("Exercises error:",qt),Pt({variant:"destructive",title:"Exercises Error",description:qt instanceof Error?qt.message:"Failed to generate exercises"}),At(!1)}finally{Mt(!1)}},an=qt=>{kt(Ft=>({...Ft,[qt]:!0}))};return a?jsxRuntimeExports.jsx("div",{className:"h-screen flex items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):s?jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col bg-bg-primary",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-border bg-bg-secondary px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:`/documents/${e}`,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),jsxRuntimeExports.jsx("div",{className:"h-4 w-px bg-border"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"font-medium text-text-primary truncate max-w-md",children:s.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-muted",children:s.filename})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"text-text-secondary hover:text-text-primary",onClick:()=>ot(!rt),children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4 mr-2"}),"Chat"]}),jsxRuntimeExports.jsx(Link,{to:`/learn/${e}`,children:jsxRuntimeExports.jsxs(Button,{size:"sm",className:"bg-accent hover:bg-accent-hover text-white",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Learning Mode"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:h?jsxRuntimeExports.jsx(PDFViewer,{file:h,onTextSelect:jt,onPageContent:Lt,onPageChange:Ut,selectedPages:st,onSelectedPagesChange:tt,className:"h-full"}):jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-bg-tertiary",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-text-muted mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No PDF File"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-center max-w-md mb-4",children:"This document doesn't have an associated PDF file. The content may have been pasted as text."}),s.content&&jsxRuntimeExports.jsxs("div",{className:"w-full max-w-2xl bg-bg-secondary border border-border rounded-xl p-6 max-h-96 overflow-auto",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-text-muted mb-3",children:"Document Content:"}),jsxRuntimeExports.jsxs("div",{className:"prose prose-sm max-w-none text-text-secondary whitespace-pre-wrap",children:[s.content.slice(0,2e3),s.content.length>2e3&&"..."]})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:rt&&jsxRuntimeExports.jsxs(ResizablePanel,{defaultWidth:420,minWidth:350,maxWidth:600,side:"right",className:"border-l border-border bg-bg-secondary",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:"AI Tools"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-text-muted hover:text-text-primary",onClick:()=>ot(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"justify-start border-border hover:bg-bg-tertiary text-text-secondary hover:text-text-primary",onClick:rn,disabled:Ct||!(s!=null&&s.content),children:[Ct?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 mr-2"}),"Summarize"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"justify-start border-border hover:bg-bg-tertiary text-text-secondary hover:text-text-primary",onClick:ln,disabled:gt||!(s!=null&&s.content),children:[gt?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 mr-2"}),"Exercises"]})]}),!(s!=null&&s.content)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-warning-light rounded-lg text-warning text-xs",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:"No text content available for AI features"})]})]}),xt&&jsxRuntimeExports.jsxs("div",{className:"border-b border-border p-4 max-h-72 overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-accent"}),"Summary"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-text-muted hover:text-text-primary",onClick:()=>ft(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),Ct?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-4",children:jsxRuntimeExports.jsx(Loader2,{className:"w-5 h-5 animate-spin text-text-muted"})}):jsxRuntimeExports.jsx(MarkdownRenderer,{content:bt,className:"text-sm"})]}),St&&jsxRuntimeExports.jsxs("div",{className:"border-b border-border p-4 max-h-96 overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-accent"}),"Exercises"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-text-muted hover:text-text-primary",onClick:()=>At(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),gt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-4",children:jsxRuntimeExports.jsx(Loader2,{className:"w-5 h-5 animate-spin text-text-muted"})}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Rt.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-text-muted text-center py-4",children:"No exercises generated"}):Rt.map((qt,Ft)=>{var Vt;return jsxRuntimeExports.jsxs("div",{className:"p-3 border border-border rounded-lg bg-bg-tertiary space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-text-primary",children:[Ft+1,". ",qt.question]}),qt.type==="multiple_choice"&&qt.options&&jsxRuntimeExports.jsx("div",{className:"space-y-1",children:qt.options.map((vt,It)=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-secondary cursor-pointer hover:text-text-primary",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:`exercise-${Ft}`,value:vt,onChange:()=>at(zt=>({...zt,[Ft]:vt})),className:"w-4 h-4 text-accent"}),vt]},It))}),qt.type==="fill_blank"&&jsxRuntimeExports.jsx(Input,{placeholder:"Fill in the blank...",value:_t[Ft]||"",onChange:vt=>at(It=>({...It,[Ft]:vt.target.value})),className:"text-sm border-border bg-bg-secondary"}),qt.type==="short_answer"&&jsxRuntimeExports.jsx(Input,{placeholder:"Your answer...",value:_t[Ft]||"",onChange:vt=>at(It=>({...It,[Ft]:vt.target.value})),className:"text-sm border-border bg-bg-secondary"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"border-border text-text-secondary hover:text-text-primary",onClick:()=>an(Ft),disabled:!_t[Ft],children:"Check"}),yt[Ft]&&jsxRuntimeExports.jsx("div",{className:"text-sm",children:((Vt=_t[Ft])==null?void 0:Vt.toLowerCase().trim())===qt.correctAnswer.toLowerCase().trim()?jsxRuntimeExports.jsx("span",{className:"text-success",children:" Correct!"}):jsxRuntimeExports.jsxs("span",{className:"text-error",children:[" Answer: ",qt.correctAnswer]})})]})]},Ft)})})]}),b&&jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border bg-accent-light/30",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-medium text-text-muted uppercase tracking-wider mb-2",children:"Selected Text"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary line-clamp-3",children:b}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"mt-2 text-xs text-accent",onClick:()=>{dt(qt=>qt+(qt?" ":"")+`Regarding "${b.slice(0,50)}...", `)},children:"Ask about this"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[ut.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-12 h-12 mx-auto text-text-muted mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm",children:"Ask questions about this document"})]}),ut.map((qt,Ft)=>jsxRuntimeExports.jsx("div",{className:`flex ${qt.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 ${qt.role==="user"?"bg-accent text-white":"bg-bg-tertiary text-text-primary"}`,children:qt.role==="user"?jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:qt.content}):jsxRuntimeExports.jsx(MarkdownRenderer,{content:qt.content,className:"text-sm"})})},Ft)),ht&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-bg-tertiary rounded-lg px-3 py-2",children:jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin text-text-muted"})})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border",children:[h&&_e>0&&jsxRuntimeExports.jsx("div",{className:"mb-3 relative",children:jsxRuntimeExports.jsx(ChatPageSelector,{totalPages:_e,selectedPages:st,onSelectionChange:tt,file:h})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Ask a question...",value:ct,onChange:qt=>dt(qt.target.value),onKeyDown:qt=>qt.key==="Enter"&&!qt.shiftKey&&Qt(),className:"border-border bg-bg-tertiary"}),jsxRuntimeExports.jsx(Button,{onClick:Qt,disabled:!ct.trim()||ht,className:"bg-accent hover:bg-accent-hover text-white",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})]})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"h-screen bg-bg-primary p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mb-6 text-text-secondary hover:text-text-primary",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-24 bg-bg-secondary border border-border rounded-xl",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto text-text-muted mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Document not found"})]})]})})}function ChatPage(){const[e,i]=reactExports.useState([]),[s,o]=reactExports.useState(""),[a,d]=reactExports.useState(!1),h=reactExports.useRef(null),{token:g}=useAuthStore(),{toast:b}=useToast();reactExports.useEffect(()=>{var $;($=h.current)==null||$.scrollIntoView({behavior:"smooth"})},[e]),reactExports.useEffect(()=>{const $=localStorage.getItem("chat-history");if($)try{const _e=JSON.parse($);i(_e.map(et=>({...et,timestamp:new Date(et.timestamp)})))}catch(_e){console.error("Failed to load chat history:",_e)}},[]),reactExports.useEffect(()=>{e.length>0&&localStorage.setItem("chat-history",JSON.stringify(e))},[e]);const _=async()=>{if(!s.trim()||a)return;const $={id:Date.now().toString(),role:"user",content:s.trim(),timestamp:new Date};i(_e=>[..._e,$]),o(""),d(!0);try{const _e=await fetch(apiEndpoint("api/ai/chat"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},credentials:"include",body:JSON.stringify({message:$.content,history:e.slice(-10).map(nt=>({role:nt.role,content:nt.content}))})}),et=await _e.json();if(_e.ok){const nt={id:(Date.now()+1).toString(),role:"assistant",content:et.response,timestamp:new Date};i(it=>[...it,nt])}else throw new Error(et.error||"Failed to get response")}catch(_e){b({variant:"destructive",title:"Error",description:_e instanceof Error?_e.message:"Failed to send message"}),i(et=>et.filter(nt=>nt.id!==$.id))}finally{d(!1)}},j=()=>{i([]),localStorage.removeItem("chat-history"),b({title:"Chat cleared",description:"Your chat history has been cleared."})};return jsxRuntimeExports.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent to-purple-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-text-primary",children:"AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Ask questions about your documents"})]})]}),e.length>0&&jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:j,className:"text-text-muted hover:text-error",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-2"}),"Clear"]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto bg-bg-secondary border border-border rounded-xl p-4 scrollbar-thin",children:e.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-16 h-16 text-text-muted mb-4 opacity-50"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"Start a conversation"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary max-w-md",children:"Ask me anything about your documents, request summaries, generate quizzes, or get help with your studies."}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:["Explain machine learning","Create a study plan","Help me understand this concept"].map($=>jsxRuntimeExports.jsx("button",{onClick:()=>o($),className:"px-3 py-1.5 bg-bg-tertiary hover:bg-bg-hover rounded-lg text-sm text-text-secondary hover:text-text-primary transition-colors",children:$},$))})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:e.map($=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${$.role==="user"?"bg-accent text-white rounded-br-md":"bg-bg-tertiary text-text-primary rounded-bl-md"}`,children:[jsxRuntimeExports.jsx("p",{className:"whitespace-pre-wrap",children:$.content}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1 ${$.role==="user"?"text-white/60":"text-text-muted"}`,children:$.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},$.id))}),a&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-bg-tertiary rounded-2xl rounded-bl-md px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin text-accent"}),jsxRuntimeExports.jsx("span",{className:"text-text-muted",children:"Thinking..."})]})})}),jsxRuntimeExports.jsx("div",{ref:h})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:s,onChange:$=>o($.target.value),onKeyDown:$=>$.key==="Enter"&&!$.shiftKey&&_(),placeholder:"Type your message...",className:"flex-1 bg-bg-secondary border-border",disabled:a}),jsxRuntimeExports.jsx(Button,{onClick:_,disabled:!s.trim()||a,className:"bg-accent hover:bg-accent-hover text-white px-6",children:a?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})]})}function ProtectedRoute({children:e}){const{user:i,isLoading:s}=useAuthStore();return s?jsxRuntimeExports.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):i?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function PublicRoute({children:e}){const{user:i,isLoading:s}=useAuthStore();return s?jsxRuntimeExports.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):i?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e})}function App(){const e=useAuthStore(i=>i.initialize);return reactExports.useEffect(()=>{e()},[e]),jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(LoginPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(RegisterPage,{})})}),jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(AppShell,{})}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(DashboardPage,{})}),jsxRuntimeExports.jsx(Route,{path:"documents",element:jsxRuntimeExports.jsx(DocumentsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"documents/:id",element:jsxRuntimeExports.jsx(DocumentDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn",element:jsxRuntimeExports.jsx(LearningIndexPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId",element:jsxRuntimeExports.jsx(LearningExperiencePage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/quiz",element:jsxRuntimeExports.jsx(QuizPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/glossary",element:jsxRuntimeExports.jsx(GlossaryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/summary",element:jsxRuntimeExports.jsx(SummaryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/exercises",element:jsxRuntimeExports.jsx(ExercisesPage,{})}),jsxRuntimeExports.jsx(Route,{path:"learn/:experienceId/flashcards",element:jsxRuntimeExports.jsx(FlashcardsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings",element:jsxRuntimeExports.jsx(SettingsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings/api-keys",element:jsxRuntimeExports.jsx(ApiKeysPage,{})}),jsxRuntimeExports.jsx(Route,{path:"chat",element:jsxRuntimeExports.jsx(ChatPage,{})})]}),jsxRuntimeExports.jsx(Route,{path:"documents/:id/view",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(PDFViewerPage,{})})})]}),jsxRuntimeExports.jsx(Toaster,{})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
